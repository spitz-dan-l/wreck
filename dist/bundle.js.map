{"version":3,"sources":["../../node_modules/browser-pack/_prelude.js","../../node_modules/immutable/dist/immutable.js","box_geometry.ts","commands.ts","datatypes.ts","items.ts","jquery.terminal.d.ts","main.ts","text_tools.ts","world.ts","world_update_effects.ts"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n *  Copyright (c) 2014-2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.Immutable = global.Immutable || {})));\n}(this, (function (exports) { 'use strict';\n\n// Used for setting prototype methods that IE8 chokes on.\nvar DELETE = 'delete';\n\n// Constants describing the size of trie nodes.\nvar SHIFT = 5; // Resulted in best performance after ______?\nvar SIZE = 1 << SHIFT;\nvar MASK = SIZE - 1;\n\n// A consistent shared value representing \"not set\" which equals nothing other\n// than itself, and nothing that could be provided externally.\nvar NOT_SET = {};\n\n// Boolean references, Rough equivalent of `bool &`.\nvar CHANGE_LENGTH = { value: false };\nvar DID_ALTER = { value: false };\n\nfunction MakeRef(ref) {\n  ref.value = false;\n  return ref;\n}\n\nfunction SetRef(ref) {\n  ref && (ref.value = true);\n}\n\n// A function which returns a value representing an \"owner\" for transient writes\n// to tries. The return value will only ever equal itself, and will not equal\n// the return of any subsequent call of this function.\nfunction OwnerID() {}\n\n// http://jsperf.com/copy-array-inline\nfunction arrCopy(arr, offset) {\n  offset = offset || 0;\n  var len = Math.max(0, arr.length - offset);\n  var newArr = new Array(len);\n  for (var ii = 0; ii < len; ii++) {\n    newArr[ii] = arr[ii + offset];\n  }\n  return newArr;\n}\n\nfunction ensureSize(iter) {\n  if (iter.size === undefined) {\n    iter.size = iter.__iterate(returnTrue);\n  }\n  return iter.size;\n}\n\nfunction wrapIndex(iter, index) {\n  // This implements \"is array index\" which the ECMAString spec defines as:\n  //\n  //     A String property name P is an array index if and only if\n  //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n  //     to 2^321.\n  //\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n  if (typeof index !== 'number') {\n    var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n    if ('' + uint32Index !== index || uint32Index === 4294967295) {\n      return NaN;\n    }\n    index = uint32Index;\n  }\n  return index < 0 ? ensureSize(iter) + index : index;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction wholeSlice(begin, end, size) {\n  return (begin === 0 || (size !== undefined && begin <= -size)) &&\n    (end === undefined || (size !== undefined && end >= size));\n}\n\nfunction resolveBegin(begin, size) {\n  return resolveIndex(begin, size, 0);\n}\n\nfunction resolveEnd(end, size) {\n  return resolveIndex(end, size, size);\n}\n\nfunction resolveIndex(index, size, defaultIndex) {\n  // Sanitize indices using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  return index === undefined\n    ? defaultIndex\n    : index < 0\n        ? size === Infinity ? size : Math.max(0, size + index) | 0\n        : size === undefined || size === index\n            ? index\n            : Math.min(size, index) | 0;\n}\n\nfunction isImmutable(maybeImmutable) {\n  return (isCollection(maybeImmutable) || isRecord(maybeImmutable)) &&\n    !maybeImmutable.__ownerID;\n}\n\nfunction isCollection(maybeCollection) {\n  return !!(maybeCollection && maybeCollection[IS_ITERABLE_SENTINEL]);\n}\n\nfunction isKeyed(maybeKeyed) {\n  return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n}\n\nfunction isIndexed(maybeIndexed) {\n  return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n}\n\nfunction isAssociative(maybeAssociative) {\n  return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n}\n\nfunction isOrdered(maybeOrdered) {\n  return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n}\n\nfunction isRecord(maybeRecord) {\n  return !!(maybeRecord && maybeRecord[IS_RECORD_SENTINEL]);\n}\n\nfunction isValueObject(maybeValue) {\n  return !!(maybeValue &&\n    typeof maybeValue.equals === 'function' &&\n    typeof maybeValue.hashCode === 'function');\n}\n\nvar IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\nvar IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\nvar IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\nvar IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\nvar IS_RECORD_SENTINEL = '@@__IMMUTABLE_RECORD__@@';\n\nvar Collection = function Collection(value) {\n  return isCollection(value) ? value : Seq(value);\n};\n\nvar KeyedCollection = (function (Collection) {\n  function KeyedCollection(value) {\n    return isKeyed(value) ? value : KeyedSeq(value);\n  }\n\n  if ( Collection ) KeyedCollection.__proto__ = Collection;\n  KeyedCollection.prototype = Object.create( Collection && Collection.prototype );\n  KeyedCollection.prototype.constructor = KeyedCollection;\n\n  return KeyedCollection;\n}(Collection));\n\nvar IndexedCollection = (function (Collection) {\n  function IndexedCollection(value) {\n    return isIndexed(value) ? value : IndexedSeq(value);\n  }\n\n  if ( Collection ) IndexedCollection.__proto__ = Collection;\n  IndexedCollection.prototype = Object.create( Collection && Collection.prototype );\n  IndexedCollection.prototype.constructor = IndexedCollection;\n\n  return IndexedCollection;\n}(Collection));\n\nvar SetCollection = (function (Collection) {\n  function SetCollection(value) {\n    return isCollection(value) && !isAssociative(value) ? value : SetSeq(value);\n  }\n\n  if ( Collection ) SetCollection.__proto__ = Collection;\n  SetCollection.prototype = Object.create( Collection && Collection.prototype );\n  SetCollection.prototype.constructor = SetCollection;\n\n  return SetCollection;\n}(Collection));\n\nCollection.Keyed = KeyedCollection;\nCollection.Indexed = IndexedCollection;\nCollection.Set = SetCollection;\n\nvar ITERATE_KEYS = 0;\nvar ITERATE_VALUES = 1;\nvar ITERATE_ENTRIES = 2;\n\nvar REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nvar ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\nvar Iterator = function Iterator(next) {\n  this.next = next;\n};\n\nIterator.prototype.toString = function toString () {\n  return '[Iterator]';\n};\n\nIterator.KEYS = ITERATE_KEYS;\nIterator.VALUES = ITERATE_VALUES;\nIterator.ENTRIES = ITERATE_ENTRIES;\n\nIterator.prototype.inspect = (Iterator.prototype.toSource = function() {\n  return this.toString();\n});\nIterator.prototype[ITERATOR_SYMBOL] = function() {\n  return this;\n};\n\nfunction iteratorValue(type, k, v, iteratorResult) {\n  var value = type === 0 ? k : type === 1 ? v : [k, v];\n  iteratorResult\n    ? (iteratorResult.value = value)\n    : (iteratorResult = {\n        value: value,\n        done: false\n      });\n  return iteratorResult;\n}\n\nfunction iteratorDone() {\n  return { value: undefined, done: true };\n}\n\nfunction hasIterator(maybeIterable) {\n  return !!getIteratorFn(maybeIterable);\n}\n\nfunction isIterator(maybeIterator) {\n  return maybeIterator && typeof maybeIterator.next === 'function';\n}\n\nfunction getIterator(iterable) {\n  var iteratorFn = getIteratorFn(iterable);\n  return iteratorFn && iteratorFn.call(iterable);\n}\n\nfunction getIteratorFn(iterable) {\n  var iteratorFn = iterable &&\n    ((REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nfunction isArrayLike(value) {\n  return value && typeof value.length === 'number';\n}\n\nvar Seq = (function (Collection$$1) {\n  function Seq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isCollection(value) || isRecord(value)\n          ? value.toSeq()\n          : seqFromValue(value);\n  }\n\n  if ( Collection$$1 ) Seq.__proto__ = Collection$$1;\n  Seq.prototype = Object.create( Collection$$1 && Collection$$1.prototype );\n  Seq.prototype.constructor = Seq;\n\n  Seq.of = function of (/*...values*/) {\n    return Seq(arguments);\n  };\n\n  Seq.prototype.toSeq = function toSeq () {\n    return this;\n  };\n\n  Seq.prototype.toString = function toString () {\n    return this.__toString('Seq {', '}');\n  };\n\n  Seq.prototype.cacheResult = function cacheResult () {\n    if (!this._cache && this.__iterateUncached) {\n      this._cache = this.entrySeq().toArray();\n      this.size = this._cache.length;\n    }\n    return this;\n  };\n\n  // abstract __iterateUncached(fn, reverse)\n\n  Seq.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      while (i !== size) {\n        var entry = cache[reverse ? size - ++i : i++];\n        if (fn(entry[1], entry[0], this$1) === false) {\n          break;\n        }\n      }\n      return i;\n    }\n    return this.__iterateUncached(fn, reverse);\n  };\n\n  // abstract __iteratorUncached(type, reverse)\n\n  Seq.prototype.__iterator = function __iterator (type, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      return new Iterator(function () {\n        if (i === size) {\n          return iteratorDone();\n        }\n        var entry = cache[reverse ? size - ++i : i++];\n        return iteratorValue(type, entry[0], entry[1]);\n      });\n    }\n    return this.__iteratorUncached(type, reverse);\n  };\n\n  return Seq;\n}(Collection));\n\nvar KeyedSeq = (function (Seq) {\n  function KeyedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence().toKeyedSeq()\n      : isCollection(value)\n          ? isKeyed(value) ? value.toSeq() : value.fromEntrySeq()\n          : isRecord(value) ? value.toSeq() : keyedSeqFromValue(value);\n  }\n\n  if ( Seq ) KeyedSeq.__proto__ = Seq;\n  KeyedSeq.prototype = Object.create( Seq && Seq.prototype );\n  KeyedSeq.prototype.constructor = KeyedSeq;\n\n  KeyedSeq.prototype.toKeyedSeq = function toKeyedSeq () {\n    return this;\n  };\n\n  return KeyedSeq;\n}(Seq));\n\nvar IndexedSeq = (function (Seq) {\n  function IndexedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isCollection(value)\n          ? isKeyed(value) ? value.entrySeq() : value.toIndexedSeq()\n          : isRecord(value)\n              ? value.toSeq().entrySeq()\n              : indexedSeqFromValue(value);\n  }\n\n  if ( Seq ) IndexedSeq.__proto__ = Seq;\n  IndexedSeq.prototype = Object.create( Seq && Seq.prototype );\n  IndexedSeq.prototype.constructor = IndexedSeq;\n\n  IndexedSeq.of = function of (/*...values*/) {\n    return IndexedSeq(arguments);\n  };\n\n  IndexedSeq.prototype.toIndexedSeq = function toIndexedSeq () {\n    return this;\n  };\n\n  IndexedSeq.prototype.toString = function toString () {\n    return this.__toString('Seq [', ']');\n  };\n\n  return IndexedSeq;\n}(Seq));\n\nvar SetSeq = (function (Seq) {\n  function SetSeq(value) {\n    return (isCollection(value) && !isAssociative(value)\n      ? value\n      : IndexedSeq(value)).toSetSeq();\n  }\n\n  if ( Seq ) SetSeq.__proto__ = Seq;\n  SetSeq.prototype = Object.create( Seq && Seq.prototype );\n  SetSeq.prototype.constructor = SetSeq;\n\n  SetSeq.of = function of (/*...values*/) {\n    return SetSeq(arguments);\n  };\n\n  SetSeq.prototype.toSetSeq = function toSetSeq () {\n    return this;\n  };\n\n  return SetSeq;\n}(Seq));\n\nSeq.isSeq = isSeq;\nSeq.Keyed = KeyedSeq;\nSeq.Set = SetSeq;\nSeq.Indexed = IndexedSeq;\n\nvar IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\nSeq.prototype[IS_SEQ_SENTINEL] = true;\n\n// #pragma Root Sequences\n\nvar ArraySeq = (function (IndexedSeq) {\n  function ArraySeq(array) {\n    this._array = array;\n    this.size = array.length;\n  }\n\n  if ( IndexedSeq ) ArraySeq.__proto__ = IndexedSeq;\n  ArraySeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  ArraySeq.prototype.constructor = ArraySeq;\n\n  ArraySeq.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n  };\n\n  ArraySeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    while (i !== size) {\n      var ii = reverse ? size - ++i : i++;\n      if (fn(array[ii], ii, this$1) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ArraySeq.prototype.__iterator = function __iterator (type, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var ii = reverse ? size - ++i : i++;\n      return iteratorValue(type, ii, array[ii]);\n    });\n  };\n\n  return ArraySeq;\n}(IndexedSeq));\n\nvar ObjectSeq = (function (KeyedSeq) {\n  function ObjectSeq(object) {\n    var keys = Object.keys(object);\n    this._object = object;\n    this._keys = keys;\n    this.size = keys.length;\n  }\n\n  if ( KeyedSeq ) ObjectSeq.__proto__ = KeyedSeq;\n  ObjectSeq.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  ObjectSeq.prototype.constructor = ObjectSeq;\n\n  ObjectSeq.prototype.get = function get (key, notSetValue) {\n    if (notSetValue !== undefined && !this.has(key)) {\n      return notSetValue;\n    }\n    return this._object[key];\n  };\n\n  ObjectSeq.prototype.has = function has (key) {\n    return this._object.hasOwnProperty(key);\n  };\n\n  ObjectSeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    while (i !== size) {\n      var key = keys[reverse ? size - ++i : i++];\n      if (fn(object[key], key, this$1) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ObjectSeq.prototype.__iterator = function __iterator (type, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var key = keys[reverse ? size - ++i : i++];\n      return iteratorValue(type, key, object[key]);\n    });\n  };\n\n  return ObjectSeq;\n}(KeyedSeq));\nObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\nvar CollectionSeq = (function (IndexedSeq) {\n  function CollectionSeq(collection) {\n    this._collection = collection;\n    this.size = collection.length || collection.size;\n  }\n\n  if ( IndexedSeq ) CollectionSeq.__proto__ = IndexedSeq;\n  CollectionSeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  CollectionSeq.prototype.constructor = CollectionSeq;\n\n  CollectionSeq.prototype.__iterateUncached = function __iterateUncached (fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    var iterations = 0;\n    if (isIterator(iterator)) {\n      var step;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this$1) === false) {\n          break;\n        }\n      }\n    }\n    return iterations;\n  };\n\n  CollectionSeq.prototype.__iteratorUncached = function __iteratorUncached (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    if (!isIterator(iterator)) {\n      return new Iterator(iteratorDone);\n    }\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value);\n    });\n  };\n\n  return CollectionSeq;\n}(IndexedSeq));\n\nvar IteratorSeq = (function (IndexedSeq) {\n  function IteratorSeq(iterator) {\n    this._iterator = iterator;\n    this._iteratorCache = [];\n  }\n\n  if ( IndexedSeq ) IteratorSeq.__proto__ = IndexedSeq;\n  IteratorSeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  IteratorSeq.prototype.constructor = IteratorSeq;\n\n  IteratorSeq.prototype.__iterateUncached = function __iterateUncached (fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterator = this._iterator;\n    var cache = this._iteratorCache;\n    var iterations = 0;\n    while (iterations < cache.length) {\n      if (fn(cache[iterations], iterations++, this$1) === false) {\n        return iterations;\n      }\n    }\n    var step;\n    while (!(step = iterator.next()).done) {\n      var val = step.value;\n      cache[iterations] = val;\n      if (fn(val, iterations++, this$1) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n\n  IteratorSeq.prototype.__iteratorUncached = function __iteratorUncached (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = this._iterator;\n    var cache = this._iteratorCache;\n    var iterations = 0;\n    return new Iterator(function () {\n      if (iterations >= cache.length) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        cache[iterations] = step.value;\n      }\n      return iteratorValue(type, iterations, cache[iterations++]);\n    });\n  };\n\n  return IteratorSeq;\n}(IndexedSeq));\n\n// # pragma Helper functions\n\nfunction isSeq(maybeSeq) {\n  return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n}\n\nvar EMPTY_SEQ;\n\nfunction emptySequence() {\n  return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n}\n\nfunction keyedSeqFromValue(value) {\n  var seq = Array.isArray(value)\n    ? new ArraySeq(value)\n    : isIterator(value)\n        ? new IteratorSeq(value)\n        : hasIterator(value) ? new CollectionSeq(value) : undefined;\n  if (seq) {\n    return seq.fromEntrySeq();\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of [k, v] entries, or keyed object: ' +\n      value\n  );\n}\n\nfunction indexedSeqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values: ' + value\n  );\n}\n\nfunction seqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values, or keyed object: ' + value\n  );\n}\n\nfunction maybeIndexedSeqFromValue(value) {\n  return isArrayLike(value)\n    ? new ArraySeq(value)\n    : isIterator(value)\n        ? new IteratorSeq(value)\n        : hasIterator(value) ? new CollectionSeq(value) : undefined;\n}\n\n/**\n * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n *\n * NaN is considered the same as NaN, however -0 and 0 are considered the same\n * value, which is different from the algorithm described by\n * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n *\n * This is extended further to allow Objects to describe the values they\n * represent, by way of `valueOf` or `equals` (and `hashCode`).\n *\n * Note: because of this extension, the key equality of Immutable.Map and the\n * value equality of Immutable.Set will differ from ES6 Map and Set.\n *\n * ### Defining custom values\n *\n * The easiest way to describe the value an object represents is by implementing\n * `valueOf`. For example, `Date` represents a value by returning a unix\n * timestamp for `valueOf`:\n *\n *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n *     var date2 = new Date(1234567890000);\n *     date1.valueOf(); // 1234567890000\n *     assert( date1 !== date2 );\n *     assert( Immutable.is( date1, date2 ) );\n *\n * Note: overriding `valueOf` may have other implications if you use this object\n * where JavaScript expects a primitive, such as implicit string coercion.\n *\n * For more complex types, especially collections, implementing `valueOf` may\n * not be performant. An alternative is to implement `equals` and `hashCode`.\n *\n * `equals` takes another object, presumably of similar type, and returns true\n * if it is equal. Equality is symmetrical, so the same result should be\n * returned if this and the argument are flipped.\n *\n *     assert( a.equals(b) === b.equals(a) );\n *\n * `hashCode` returns a 32bit integer number representing the object which will\n * be used to determine how to store the value object in a Map or Set. You must\n * provide both or neither methods, one must not exist without the other.\n *\n * Also, an important relationship between these methods must be upheld: if two\n * values are equal, they *must* return the same hashCode. If the values are not\n * equal, they might have the same hashCode; this is called a hash collision,\n * and while undesirable for performance reasons, it is acceptable.\n *\n *     if (a.equals(b)) {\n *       assert( a.hashCode() === b.hashCode() );\n *     }\n *\n * All Immutable collections are Value Objects: they implement `equals()`\n * and `hashCode()`.\n */\nfunction is(valueA, valueB) {\n  if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n    return true;\n  }\n  if (!valueA || !valueB) {\n    return false;\n  }\n  if (\n    typeof valueA.valueOf === 'function' && typeof valueB.valueOf === 'function'\n  ) {\n    valueA = valueA.valueOf();\n    valueB = valueB.valueOf();\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n  }\n  return !!(isValueObject(valueA) &&\n    isValueObject(valueB) &&\n    valueA.equals(valueB));\n}\n\nfunction fromJS(value, converter) {\n  return fromJSWith(\n    [],\n    converter || defaultConverter,\n    value,\n    '',\n    converter && converter.length > 2 ? [] : undefined,\n    { '': value }\n  );\n}\n\nfunction fromJSWith(stack, converter, value, key, keyPath, parentValue) {\n  var toSeq = Array.isArray(value)\n    ? IndexedSeq\n    : isPlainObj(value) ? KeyedSeq : null;\n  if (toSeq) {\n    if (~stack.indexOf(value)) {\n      throw new TypeError('Cannot convert circular structure to Immutable');\n    }\n    stack.push(value);\n    keyPath && key !== '' && keyPath.push(key);\n    var converted = converter.call(\n      parentValue,\n      key,\n      toSeq(value).map(function (v, k) { return fromJSWith(stack, converter, v, k, keyPath, value); }),\n      keyPath && keyPath.slice()\n    );\n    stack.pop();\n    keyPath && keyPath.pop();\n    return converted;\n  }\n  return value;\n}\n\nfunction defaultConverter(k, v) {\n  return isKeyed(v) ? v.toMap() : v.toList();\n}\n\nfunction isPlainObj(value) {\n  return value &&\n    (value.constructor === Object || value.constructor === undefined);\n}\n\nvar imul = typeof Math.imul === 'function' &&\n  Math.imul(0xffffffff, 2) === -2\n  ? Math.imul\n  : function imul(a, b) {\n      a |= 0; // int\n      b |= 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return c * d + ((a >>> 16) * d + c * (b >>> 16) << 16 >>> 0) | 0; // int\n    };\n\n// v8 has an optimization for storing 31-bit signed numbers.\n// Values which have either 00 or 11 as the high order bits qualify.\n// This function drops the highest order bit in a signed number, maintaining\n// the sign bit.\nfunction smi(i32) {\n  return i32 >>> 1 & 0x40000000 | i32 & 0xbfffffff;\n}\n\nfunction hash(o) {\n  if (o === false || o === null || o === undefined) {\n    return 0;\n  }\n  if (typeof o.valueOf === 'function') {\n    o = o.valueOf();\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n  }\n  if (o === true) {\n    return 1;\n  }\n  var type = typeof o;\n  if (type === 'number') {\n    if (o !== o || o === Infinity) {\n      return 0;\n    }\n    var h = o | 0;\n    if (h !== o) {\n      h ^= o * 0xffffffff;\n    }\n    while (o > 0xffffffff) {\n      o /= 0xffffffff;\n      h ^= o;\n    }\n    return smi(h);\n  }\n  if (type === 'string') {\n    return o.length > STRING_HASH_CACHE_MIN_STRLEN\n      ? cachedHashString(o)\n      : hashString(o);\n  }\n  if (typeof o.hashCode === 'function') {\n    return o.hashCode();\n  }\n  if (type === 'object') {\n    return hashJSObj(o);\n  }\n  if (typeof o.toString === 'function') {\n    return hashString(o.toString());\n  }\n  throw new Error('Value type ' + type + ' cannot be hashed.');\n}\n\nfunction cachedHashString(string) {\n  var hash = stringHashCache[string];\n  if (hash === undefined) {\n    hash = hashString(string);\n    if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n      STRING_HASH_CACHE_SIZE = 0;\n      stringHashCache = {};\n    }\n    STRING_HASH_CACHE_SIZE++;\n    stringHashCache[string] = hash;\n  }\n  return hash;\n}\n\n// http://jsperf.com/hashing-strings\nfunction hashString(string) {\n  // This is the hash from JVM\n  // The hash code for a string is computed as\n  // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n  // where s[i] is the ith character of the string and n is the length of\n  // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n  // (exclusive) by dropping high bits.\n  var hash = 0;\n  for (var ii = 0; ii < string.length; ii++) {\n    hash = 31 * hash + string.charCodeAt(ii) | 0;\n  }\n  return smi(hash);\n}\n\nfunction hashJSObj(obj) {\n  var hash;\n  if (usingWeakMap) {\n    hash = weakMap.get(obj);\n    if (hash !== undefined) {\n      return hash;\n    }\n  }\n\n  hash = obj[UID_HASH_KEY];\n  if (hash !== undefined) {\n    return hash;\n  }\n\n  if (!canDefineProperty) {\n    hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    hash = getIENodeHash(obj);\n    if (hash !== undefined) {\n      return hash;\n    }\n  }\n\n  hash = ++objHashUID;\n  if (objHashUID & 0x40000000) {\n    objHashUID = 0;\n  }\n\n  if (usingWeakMap) {\n    weakMap.set(obj, hash);\n  } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n    throw new Error('Non-extensible objects are not allowed as keys.');\n  } else if (canDefineProperty) {\n    Object.defineProperty(obj, UID_HASH_KEY, {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: hash\n    });\n  } else if (\n    obj.propertyIsEnumerable !== undefined &&\n    obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable\n  ) {\n    // Since we can't define a non-enumerable property on the object\n    // we'll hijack one of the less-used non-enumerable properties to\n    // save our hash on it. Since this is a function it will not show up in\n    // `JSON.stringify` which is what we want.\n    obj.propertyIsEnumerable = function() {\n      return this.constructor.prototype.propertyIsEnumerable.apply(\n        this,\n        arguments\n      );\n    };\n    obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n  } else if (obj.nodeType !== undefined) {\n    // At this point we couldn't get the IE `uniqueID` to use as a hash\n    // and we couldn't use a non-enumerable property to exploit the\n    // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n    // itself.\n    obj[UID_HASH_KEY] = hash;\n  } else {\n    throw new Error('Unable to set a non-enumerable property on object.');\n  }\n\n  return hash;\n}\n\n// Get references to ES5 object methods.\nvar isExtensible = Object.isExtensible;\n\n// True if Object.defineProperty works as expected. IE8 fails this test.\nvar canDefineProperty = (function() {\n  try {\n    Object.defineProperty({}, '@', {});\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\n// IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n// and avoid memory leaks from the IE cloneNode bug.\nfunction getIENodeHash(node) {\n  if (node && node.nodeType > 0) {\n    switch (node.nodeType) {\n      case 1: // Element\n        return node.uniqueID;\n      case 9: // Document\n        return node.documentElement && node.documentElement.uniqueID;\n    }\n  }\n}\n\n// If possible, use a WeakMap.\nvar usingWeakMap = typeof WeakMap === 'function';\nvar weakMap;\nif (usingWeakMap) {\n  weakMap = new WeakMap();\n}\n\nvar objHashUID = 0;\n\nvar UID_HASH_KEY = '__immutablehash__';\nif (typeof Symbol === 'function') {\n  UID_HASH_KEY = Symbol(UID_HASH_KEY);\n}\n\nvar STRING_HASH_CACHE_MIN_STRLEN = 16;\nvar STRING_HASH_CACHE_MAX_SIZE = 255;\nvar STRING_HASH_CACHE_SIZE = 0;\nvar stringHashCache = {};\n\nvar ToKeyedSequence = (function (KeyedSeq$$1) {\n  function ToKeyedSequence(indexed, useKeys) {\n    this._iter = indexed;\n    this._useKeys = useKeys;\n    this.size = indexed.size;\n  }\n\n  if ( KeyedSeq$$1 ) ToKeyedSequence.__proto__ = KeyedSeq$$1;\n  ToKeyedSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  ToKeyedSequence.prototype.constructor = ToKeyedSequence;\n\n  ToKeyedSequence.prototype.get = function get (key, notSetValue) {\n    return this._iter.get(key, notSetValue);\n  };\n\n  ToKeyedSequence.prototype.has = function has (key) {\n    return this._iter.has(key);\n  };\n\n  ToKeyedSequence.prototype.valueSeq = function valueSeq () {\n    return this._iter.valueSeq();\n  };\n\n  ToKeyedSequence.prototype.reverse = function reverse () {\n    var this$1 = this;\n\n    var reversedSequence = reverseFactory(this, true);\n    if (!this._useKeys) {\n      reversedSequence.valueSeq = function () { return this$1._iter.toSeq().reverse(); };\n    }\n    return reversedSequence;\n  };\n\n  ToKeyedSequence.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    var mappedSequence = mapFactory(this, mapper, context);\n    if (!this._useKeys) {\n      mappedSequence.valueSeq = function () { return this$1._iter.toSeq().map(mapper, context); };\n    }\n    return mappedSequence;\n  };\n\n  ToKeyedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v, k) { return fn(v, k, this$1); }, reverse);\n  };\n\n  ToKeyedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    return this._iter.__iterator(type, reverse);\n  };\n\n  return ToKeyedSequence;\n}(KeyedSeq));\nToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\nvar ToIndexedSequence = (function (IndexedSeq$$1) {\n  function ToIndexedSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( IndexedSeq$$1 ) ToIndexedSequence.__proto__ = IndexedSeq$$1;\n  ToIndexedSequence.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  ToIndexedSequence.prototype.constructor = ToIndexedSequence;\n\n  ToIndexedSequence.prototype.includes = function includes (value) {\n    return this._iter.includes(value);\n  };\n\n  ToIndexedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(this);\n    return this._iter.__iterate(\n      function (v) { return fn(v, reverse ? this$1.size - ++i : i++, this$1); },\n      reverse\n    );\n  };\n\n  ToIndexedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var i = 0;\n    reverse && ensureSize(this);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(\n            type,\n            reverse ? this$1.size - ++i : i++,\n            step.value,\n            step\n          );\n    });\n  };\n\n  return ToIndexedSequence;\n}(IndexedSeq));\n\nvar ToSetSequence = (function (SetSeq$$1) {\n  function ToSetSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( SetSeq$$1 ) ToSetSequence.__proto__ = SetSeq$$1;\n  ToSetSequence.prototype = Object.create( SetSeq$$1 && SetSeq$$1.prototype );\n  ToSetSequence.prototype.constructor = ToSetSequence;\n\n  ToSetSequence.prototype.has = function has (key) {\n    return this._iter.includes(key);\n  };\n\n  ToSetSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v) { return fn(v, v, this$1); }, reverse);\n  };\n\n  ToSetSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(type, step.value, step.value, step);\n    });\n  };\n\n  return ToSetSequence;\n}(SetSeq));\n\nvar FromEntriesSequence = (function (KeyedSeq$$1) {\n  function FromEntriesSequence(entries) {\n    this._iter = entries;\n    this.size = entries.size;\n  }\n\n  if ( KeyedSeq$$1 ) FromEntriesSequence.__proto__ = KeyedSeq$$1;\n  FromEntriesSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  FromEntriesSequence.prototype.constructor = FromEntriesSequence;\n\n  FromEntriesSequence.prototype.entrySeq = function entrySeq () {\n    return this._iter.toSeq();\n  };\n\n  FromEntriesSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(\n      function (entry) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedCollection = isCollection(entry);\n          return fn(\n            indexedCollection ? entry.get(1) : entry[1],\n            indexedCollection ? entry.get(0) : entry[0],\n            this$1\n          );\n        }\n      },\n      reverse\n    );\n  };\n\n  FromEntriesSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedCollection = isCollection(entry);\n          return iteratorValue(\n            type,\n            indexedCollection ? entry.get(0) : entry[0],\n            indexedCollection ? entry.get(1) : entry[1],\n            step\n          );\n        }\n      }\n    });\n  };\n\n  return FromEntriesSequence;\n}(KeyedSeq));\n\nToIndexedSequence.prototype.cacheResult = (ToKeyedSequence.prototype.cacheResult = (ToSetSequence.prototype.cacheResult = (FromEntriesSequence.prototype.cacheResult = cacheResultThrough)));\n\nfunction flipFactory(collection) {\n  var flipSequence = makeSequence(collection);\n  flipSequence._iter = collection;\n  flipSequence.size = collection.size;\n  flipSequence.flip = function () { return collection; };\n  flipSequence.reverse = function() {\n    var reversedSequence = collection.reverse.apply(this); // super.reverse()\n    reversedSequence.flip = function () { return collection.reverse(); };\n    return reversedSequence;\n  };\n  flipSequence.has = function (key) { return collection.includes(key); };\n  flipSequence.includes = function (key) { return collection.has(key); };\n  flipSequence.cacheResult = cacheResultThrough;\n  flipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(function (v, k) { return fn(k, v, this$1) !== false; }, reverse);\n  };\n  flipSequence.__iteratorUncached = function(type, reverse) {\n    if (type === ITERATE_ENTRIES) {\n      var iterator = collection.__iterator(type, reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        if (!step.done) {\n          var k = step.value[0];\n          step.value[0] = step.value[1];\n          step.value[1] = k;\n        }\n        return step;\n      });\n    }\n    return collection.__iterator(\n      type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n      reverse\n    );\n  };\n  return flipSequence;\n}\n\nfunction mapFactory(collection, mapper, context) {\n  var mappedSequence = makeSequence(collection);\n  mappedSequence.size = collection.size;\n  mappedSequence.has = function (key) { return collection.has(key); };\n  mappedSequence.get = function (key, notSetValue) {\n    var v = collection.get(key, NOT_SET);\n    return v === NOT_SET\n      ? notSetValue\n      : mapper.call(context, v, key, collection);\n  };\n  mappedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(\n      function (v, k, c) { return fn(mapper.call(context, v, k, c), k, this$1) !== false; },\n      reverse\n    );\n  };\n  mappedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var key = entry[0];\n      return iteratorValue(\n        type,\n        key,\n        mapper.call(context, entry[1], key, collection),\n        step\n      );\n    });\n  };\n  return mappedSequence;\n}\n\nfunction reverseFactory(collection, useKeys) {\n  var this$1 = this;\n\n  var reversedSequence = makeSequence(collection);\n  reversedSequence._iter = collection;\n  reversedSequence.size = collection.size;\n  reversedSequence.reverse = function () { return collection; };\n  if (collection.flip) {\n    reversedSequence.flip = function() {\n      var flipSequence = flipFactory(collection);\n      flipSequence.reverse = function () { return collection.flip(); };\n      return flipSequence;\n    };\n  }\n  reversedSequence.get = function (key, notSetValue) { return collection.get(useKeys ? key : -1 - key, notSetValue); };\n  reversedSequence.has = function (key) { return collection.has(useKeys ? key : -1 - key); };\n  reversedSequence.includes = function (value) { return collection.includes(value); };\n  reversedSequence.cacheResult = cacheResultThrough;\n  reversedSequence.__iterate = function(fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(collection);\n    return collection.__iterate(\n      function (v, k) { return fn(v, useKeys ? k : reverse ? this$1.size - ++i : i++, this$1); },\n      !reverse\n    );\n  };\n  reversedSequence.__iterator = function (type, reverse) {\n    var i = 0;\n    reverse && ensureSize(collection);\n    var iterator = collection.__iterator(ITERATE_ENTRIES, !reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      return iteratorValue(\n        type,\n        useKeys ? entry[0] : reverse ? this$1.size - ++i : i++,\n        entry[1],\n        step\n      );\n    });\n  };\n  return reversedSequence;\n}\n\nfunction filterFactory(collection, predicate, context, useKeys) {\n  var filterSequence = makeSequence(collection);\n  if (useKeys) {\n    filterSequence.has = function (key) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && !!predicate.call(context, v, key, collection);\n    };\n    filterSequence.get = function (key, notSetValue) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && predicate.call(context, v, key, collection)\n        ? v\n        : notSetValue;\n    };\n  }\n  filterSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(\n      function (v, k, c) {\n        if (predicate.call(context, v, k, c)) {\n          return fn(v, useKeys ? k : iterations++, this$1);\n        }\n      },\n      reverse\n    );\n    return iterations;\n  };\n  filterSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterations = 0;\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        var value = entry[1];\n        if (predicate.call(context, value, key, collection)) {\n          return iteratorValue(type, useKeys ? key : iterations++, value, step);\n        }\n      }\n    });\n  };\n  return filterSequence;\n}\n\nfunction countByFactory(collection, grouper, context) {\n  var groups = Map().asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(grouper.call(context, v, k, collection), 0, function (a) { return a + 1; });\n  });\n  return groups.asImmutable();\n}\n\nfunction groupByFactory(collection, grouper, context) {\n  var isKeyedIter = isKeyed(collection);\n  var groups = (isOrdered(collection) ? OrderedMap() : Map()).asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(\n      grouper.call(context, v, k, collection),\n      function (a) { return ((a = a || []), a.push(isKeyedIter ? [k, v] : v), a); }\n    );\n  });\n  var coerce = collectionClass(collection);\n  return groups.map(function (arr) { return reify(collection, coerce(arr)); });\n}\n\nfunction sliceFactory(collection, begin, end, useKeys) {\n  var originalSize = collection.size;\n\n  if (wholeSlice(begin, end, originalSize)) {\n    return collection;\n  }\n\n  var resolvedBegin = resolveBegin(begin, originalSize);\n  var resolvedEnd = resolveEnd(end, originalSize);\n\n  // begin or end will be NaN if they were provided as negative numbers and\n  // this collection's size is unknown. In that case, cache first so there is\n  // a known size and these do not resolve to NaN.\n  if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n    return sliceFactory(collection.toSeq().cacheResult(), begin, end, useKeys);\n  }\n\n  // Note: resolvedEnd is undefined when the original sequence's length is\n  // unknown and this slice did not supply an end and should contain all\n  // elements after resolvedBegin.\n  // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n  var resolvedSize = resolvedEnd - resolvedBegin;\n  var sliceSize;\n  if (resolvedSize === resolvedSize) {\n    sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n  }\n\n  var sliceSeq = makeSequence(collection);\n\n  // If collection.size is undefined, the size of the realized sliceSeq is\n  // unknown at this point unless the number of items to slice is 0\n  sliceSeq.size = sliceSize === 0\n    ? sliceSize\n    : (collection.size && sliceSize) || undefined;\n\n  if (!useKeys && isSeq(collection) && sliceSize >= 0) {\n    sliceSeq.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return index >= 0 && index < sliceSize\n        ? collection.get(index + resolvedBegin, notSetValue)\n        : notSetValue;\n    };\n  }\n\n  sliceSeq.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (sliceSize === 0) {\n      return 0;\n    }\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var skipped = 0;\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k) {\n      if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1) !== false &&\n          iterations !== sliceSize;\n      }\n    });\n    return iterations;\n  };\n\n  sliceSeq.__iteratorUncached = function(type, reverse) {\n    if (sliceSize !== 0 && reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    // Don't bother instantiating parent iterator if taking 0.\n    var iterator = sliceSize !== 0 && collection.__iterator(type, reverse);\n    var skipped = 0;\n    var iterations = 0;\n    return new Iterator(function () {\n      while (skipped++ < resolvedBegin) {\n        iterator.next();\n      }\n      if (++iterations > sliceSize) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (useKeys || type === ITERATE_VALUES) {\n        return step;\n      }\n      if (type === ITERATE_KEYS) {\n        return iteratorValue(type, iterations - 1, undefined, step);\n      }\n      return iteratorValue(type, iterations - 1, step.value[1], step);\n    });\n  };\n\n  return sliceSeq;\n}\n\nfunction takeWhileFactory(collection, predicate, context) {\n  var takeSequence = makeSequence(collection);\n  takeSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    collection.__iterate(\n      function (v, k, c) { return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$1); }\n    );\n    return iterations;\n  };\n  takeSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterating = true;\n    return new Iterator(function () {\n      if (!iterating) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var k = entry[0];\n      var v = entry[1];\n      if (!predicate.call(context, v, k, this$1)) {\n        iterating = false;\n        return iteratorDone();\n      }\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return takeSequence;\n}\n\nfunction skipWhileFactory(collection, predicate, context, useKeys) {\n  var skipSequence = makeSequence(collection);\n  skipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1);\n      }\n    });\n    return iterations;\n  };\n  skipSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var skipping = true;\n    var iterations = 0;\n    return new Iterator(function () {\n      var step;\n      var k;\n      var v;\n      do {\n        step = iterator.next();\n        if (step.done) {\n          if (useKeys || type === ITERATE_VALUES) {\n            return step;\n          }\n          if (type === ITERATE_KEYS) {\n            return iteratorValue(type, iterations++, undefined, step);\n          }\n          return iteratorValue(type, iterations++, step.value[1], step);\n        }\n        var entry = step.value;\n        k = entry[0];\n        v = entry[1];\n        skipping && (skipping = predicate.call(context, v, k, this$1));\n      } while (skipping);\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return skipSequence;\n}\n\nfunction concatFactory(collection, values) {\n  var isKeyedCollection = isKeyed(collection);\n  var iters = [collection]\n    .concat(values)\n    .map(function (v) {\n      if (!isCollection(v)) {\n        v = isKeyedCollection\n          ? keyedSeqFromValue(v)\n          : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedCollection) {\n        v = KeyedCollection(v);\n      }\n      return v;\n    })\n    .filter(function (v) { return v.size !== 0; });\n\n  if (iters.length === 0) {\n    return collection;\n  }\n\n  if (iters.length === 1) {\n    var singleton = iters[0];\n    if (\n      singleton === collection ||\n      (isKeyedCollection && isKeyed(singleton)) ||\n      (isIndexed(collection) && isIndexed(singleton))\n    ) {\n      return singleton;\n    }\n  }\n\n  var concatSeq = new ArraySeq(iters);\n  if (isKeyedCollection) {\n    concatSeq = concatSeq.toKeyedSeq();\n  } else if (!isIndexed(collection)) {\n    concatSeq = concatSeq.toSetSeq();\n  }\n  concatSeq = concatSeq.flatten(true);\n  concatSeq.size = iters.reduce(\n    function (sum, seq) {\n      if (sum !== undefined) {\n        var size = seq.size;\n        if (size !== undefined) {\n          return sum + size;\n        }\n      }\n    },\n    0\n  );\n  return concatSeq;\n}\n\nfunction flattenFactory(collection, depth, useKeys) {\n  var flatSequence = makeSequence(collection);\n  flatSequence.__iterateUncached = function(fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    var stopped = false;\n    function flatDeep(iter, currentDepth) {\n      iter.__iterate(\n        function (v, k) {\n          if ((!depth || currentDepth < depth) && isCollection(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (\n            fn(v, useKeys ? k : iterations++, flatSequence) === false\n          ) {\n            stopped = true;\n          }\n          return !stopped;\n        },\n        reverse\n      );\n    }\n    flatDeep(collection, 0);\n    return iterations;\n  };\n  flatSequence.__iteratorUncached = function(type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var stack = [];\n    var iterations = 0;\n    return new Iterator(function () {\n      while (iterator) {\n        var step = iterator.next();\n        if (step.done !== false) {\n          iterator = stack.pop();\n          continue;\n        }\n        var v = step.value;\n        if (type === ITERATE_ENTRIES) {\n          v = v[1];\n        }\n        if ((!depth || stack.length < depth) && isCollection(v)) {\n          stack.push(iterator);\n          iterator = v.__iterator(type, reverse);\n        } else {\n          return useKeys ? step : iteratorValue(type, iterations++, v, step);\n        }\n      }\n      return iteratorDone();\n    });\n  };\n  return flatSequence;\n}\n\nfunction flatMapFactory(collection, mapper, context) {\n  var coerce = collectionClass(collection);\n  return collection\n    .toSeq()\n    .map(function (v, k) { return coerce(mapper.call(context, v, k, collection)); })\n    .flatten(true);\n}\n\nfunction interposeFactory(collection, separator) {\n  var interposedSequence = makeSequence(collection);\n  interposedSequence.size = collection.size && collection.size * 2 - 1;\n  interposedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(\n      function (v) { return (!iterations || fn(separator, iterations++, this$1) !== false) &&\n        fn(v, iterations++, this$1) !== false; },\n      reverse\n    );\n    return iterations;\n  };\n  interposedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_VALUES, reverse);\n    var iterations = 0;\n    var step;\n    return new Iterator(function () {\n      if (!step || iterations % 2) {\n        step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n      }\n      return iterations % 2\n        ? iteratorValue(type, iterations++, separator)\n        : iteratorValue(type, iterations++, step.value, step);\n    });\n  };\n  return interposedSequence;\n}\n\nfunction sortFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  var isKeyedCollection = isKeyed(collection);\n  var index = 0;\n  var entries = collection\n    .toSeq()\n    .map(function (v, k) { return [k, v, index++, mapper ? mapper(v, k, collection) : v]; })\n    .toArray();\n  entries.sort(function (a, b) { return comparator(a[3], b[3]) || a[2] - b[2]; }).forEach(\n    isKeyedCollection\n      ? function (v, i) {\n          entries[i].length = 2;\n        }\n      : function (v, i) {\n          entries[i] = v[1];\n        }\n  );\n  return isKeyedCollection\n    ? KeyedSeq(entries)\n    : isIndexed(collection) ? IndexedSeq(entries) : SetSeq(entries);\n}\n\nfunction maxFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  if (mapper) {\n    var entry = collection\n      .toSeq()\n      .map(function (v, k) { return [v, mapper(v, k, collection)]; })\n      .reduce(function (a, b) { return maxCompare(comparator, a[1], b[1]) ? b : a; });\n    return entry && entry[0];\n  }\n  return collection.reduce(function (a, b) { return maxCompare(comparator, a, b) ? b : a; });\n}\n\nfunction maxCompare(comparator, a, b) {\n  var comp = comparator(b, a);\n  // b is considered the new max if the comparator declares them equal, but\n  // they are not equal and b is in fact a nullish value.\n  return (comp === 0 &&\n    b !== a &&\n    (b === undefined || b === null || b !== b)) ||\n    comp > 0;\n}\n\nfunction zipWithFactory(keyIter, zipper, iters) {\n  var zipSequence = makeSequence(keyIter);\n  zipSequence.size = new ArraySeq(iters).map(function (i) { return i.size; }).min();\n  // Note: this a generic base implementation of __iterate in terms of\n  // __iterator which may be more generically useful in the future.\n  zipSequence.__iterate = function(fn, reverse) {\n    var this$1 = this;\n\n    /* generic:\n    var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      iterations++;\n      if (fn(step.value[1], step.value[0], this) === false) {\n        break;\n      }\n    }\n    return iterations;\n    */\n    // indexed:\n    var iterator = this.__iterator(ITERATE_VALUES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      if (fn(step.value, iterations++, this$1) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n  zipSequence.__iteratorUncached = function(type, reverse) {\n    var iterators = iters.map(\n      function (i) { return ((i = Collection(i)), getIterator(reverse ? i.reverse() : i)); }\n    );\n    var iterations = 0;\n    var isDone = false;\n    return new Iterator(function () {\n      var steps;\n      if (!isDone) {\n        steps = iterators.map(function (i) { return i.next(); });\n        isDone = steps.some(function (s) { return s.done; });\n      }\n      if (isDone) {\n        return iteratorDone();\n      }\n      return iteratorValue(\n        type,\n        iterations++,\n        zipper.apply(null, steps.map(function (s) { return s.value; }))\n      );\n    });\n  };\n  return zipSequence;\n}\n\n// #pragma Helper Functions\n\nfunction reify(iter, seq) {\n  return iter === seq ? iter : isSeq(iter) ? seq : iter.constructor(seq);\n}\n\nfunction validateEntry(entry) {\n  if (entry !== Object(entry)) {\n    throw new TypeError('Expected [K, V] tuple: ' + entry);\n  }\n}\n\nfunction collectionClass(collection) {\n  return isKeyed(collection)\n    ? KeyedCollection\n    : isIndexed(collection) ? IndexedCollection : SetCollection;\n}\n\nfunction makeSequence(collection) {\n  return Object.create(\n    (isKeyed(collection)\n      ? KeyedSeq\n      : isIndexed(collection) ? IndexedSeq : SetSeq).prototype\n  );\n}\n\nfunction cacheResultThrough() {\n  if (this._iter.cacheResult) {\n    this._iter.cacheResult();\n    this.size = this._iter.size;\n    return this;\n  }\n  return Seq.prototype.cacheResult.call(this);\n}\n\nfunction defaultComparator(a, b) {\n  if (a === undefined && b === undefined) {\n    return 0;\n  }\n\n  if (a === undefined) {\n    return 1;\n  }\n\n  if (b === undefined) {\n    return -1;\n  }\n\n  return a > b ? 1 : a < b ? -1 : 0;\n}\n\nfunction coerceKeyPath(keyPath) {\n  if (isArrayLike(keyPath) && typeof keyPath !== 'string') {\n    return keyPath;\n  }\n  if (isOrdered(keyPath)) {\n    return keyPath.toArray();\n  }\n  throw new TypeError(\n    'Invalid keyPath: expected Ordered Collection or Array: ' + keyPath\n  );\n}\n\nfunction invariant(condition, error) {\n  if (!condition) { throw new Error(error); }\n}\n\nfunction assertNotInfinite(size) {\n  invariant(\n    size !== Infinity,\n    'Cannot perform this action with an infinite size.'\n  );\n}\n\n/**\n * Converts a value to a string, adding quotes if a string was provided.\n */\nfunction quoteString(value) {\n  return typeof value === 'string' ? JSON.stringify(value) : String(value);\n}\n\nvar Map = (function (KeyedCollection$$1) {\n  function Map(value) {\n    return value === null || value === undefined\n      ? emptyMap()\n      : isMap(value) && !isOrdered(value)\n          ? value\n          : emptyMap().withMutations(function (map) {\n              var iter = KeyedCollection$$1(value);\n              assertNotInfinite(iter.size);\n              iter.forEach(function (v, k) { return map.set(k, v); });\n            });\n  }\n\n  if ( KeyedCollection$$1 ) Map.__proto__ = KeyedCollection$$1;\n  Map.prototype = Object.create( KeyedCollection$$1 && KeyedCollection$$1.prototype );\n  Map.prototype.constructor = Map;\n\n  Map.of = function of () {\n    var keyValues = [], len = arguments.length;\n    while ( len-- ) keyValues[ len ] = arguments[ len ];\n\n    return emptyMap().withMutations(function (map) {\n      for (var i = 0; i < keyValues.length; i += 2) {\n        if (i + 1 >= keyValues.length) {\n          throw new Error('Missing value for key: ' + keyValues[i]);\n        }\n        map.set(keyValues[i], keyValues[i + 1]);\n      }\n    });\n  };\n\n  Map.prototype.toString = function toString () {\n    return this.__toString('Map {', '}');\n  };\n\n  // @pragma Access\n\n  Map.prototype.get = function get (k, notSetValue) {\n    return this._root\n      ? this._root.get(0, undefined, k, notSetValue)\n      : notSetValue;\n  };\n\n  // @pragma Modification\n\n  Map.prototype.set = function set (k, v) {\n    return updateMap(this, k, v);\n  };\n\n  Map.prototype.setIn = function setIn (keyPath, v) {\n    return this.updateIn(keyPath, NOT_SET, function () { return v; });\n  };\n\n  Map.prototype.remove = function remove (k) {\n    return updateMap(this, k, NOT_SET);\n  };\n\n  Map.prototype.deleteIn = function deleteIn (keyPath) {\n    keyPath = [].concat( coerceKeyPath(keyPath) );\n    if (keyPath.length) {\n      var lastKey = keyPath.pop();\n      return this.updateIn(keyPath, function (c) { return c && c.remove(lastKey); });\n    }\n  };\n\n  Map.prototype.deleteAll = function deleteAll (keys) {\n    var collection = Collection(keys);\n\n    if (collection.size === 0) {\n      return this;\n    }\n\n    return this.withMutations(function (map) {\n      collection.forEach(function (key) { return map.remove(key); });\n    });\n  };\n\n  Map.prototype.update = function update (k, notSetValue, updater) {\n    return arguments.length === 1\n      ? k(this)\n      : this.updateIn([k], notSetValue, updater);\n  };\n\n  Map.prototype.updateIn = function updateIn (keyPath, notSetValue, updater) {\n    if (!updater) {\n      updater = notSetValue;\n      notSetValue = undefined;\n    }\n    var updatedValue = updateInDeepMap(\n      this,\n      coerceKeyPath(keyPath),\n      0,\n      notSetValue,\n      updater\n    );\n    return updatedValue === NOT_SET ? notSetValue : updatedValue;\n  };\n\n  Map.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._root = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyMap();\n  };\n\n  // @pragma Composition\n\n  Map.prototype.merge = function merge (/*...iters*/) {\n    return mergeIntoMapWith(this, undefined, arguments);\n  };\n\n  Map.prototype.mergeWith = function mergeWith (merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return mergeIntoMapWith(this, merger, iters);\n  };\n\n  Map.prototype.mergeIn = function mergeIn (keyPath) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return this.updateIn(\n      keyPath,\n      emptyMap(),\n      function (m) { return typeof m.merge === 'function'\n          ? m.merge.apply(m, iters)\n          : iters[iters.length - 1]; }\n    );\n  };\n\n  Map.prototype.mergeDeep = function mergeDeep (/*...iters*/) {\n    return mergeIntoMapWith(this, deepMerger, arguments);\n  };\n\n  Map.prototype.mergeDeepWith = function mergeDeepWith (merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n  };\n\n  Map.prototype.mergeDeepIn = function mergeDeepIn (keyPath) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return this.updateIn(\n      keyPath,\n      emptyMap(),\n      function (m) { return typeof m.mergeDeep === 'function'\n          ? m.mergeDeep.apply(m, iters)\n          : iters[iters.length - 1]; }\n    );\n  };\n\n  Map.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator));\n  };\n\n  Map.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator, mapper));\n  };\n\n  // @pragma Mutability\n\n  Map.prototype.withMutations = function withMutations (fn) {\n    var mutable = this.asMutable();\n    fn(mutable);\n    return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n  };\n\n  Map.prototype.asMutable = function asMutable () {\n    return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n  };\n\n  Map.prototype.asImmutable = function asImmutable () {\n    return this.__ensureOwner();\n  };\n\n  Map.prototype.wasAltered = function wasAltered () {\n    return this.__altered;\n  };\n\n  Map.prototype.__iterator = function __iterator (type, reverse) {\n    return new MapIterator(this, type, reverse);\n  };\n\n  Map.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    this._root &&\n      this._root.iterate(\n        function (entry) {\n          iterations++;\n          return fn(entry[1], entry[0], this$1);\n        },\n        reverse\n      );\n    return iterations;\n  };\n\n  Map.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyMap();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeMap(this.size, this._root, ownerID, this.__hash);\n  };\n\n  return Map;\n}(KeyedCollection));\n\nfunction isMap(maybeMap) {\n  return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n}\n\nMap.isMap = isMap;\n\nvar IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\nvar MapPrototype = Map.prototype;\nMapPrototype[IS_MAP_SENTINEL] = true;\nMapPrototype[DELETE] = MapPrototype.remove;\nMapPrototype.removeIn = MapPrototype.deleteIn;\nMapPrototype.removeAll = MapPrototype.deleteAll;\n\n// #pragma Trie Nodes\n\nvar ArrayMapNode = function ArrayMapNode(ownerID, entries) {\n  this.ownerID = ownerID;\n  this.entries = entries;\n};\n\nArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && entries.length === 1) {\n    return; // undefined\n  }\n\n  if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n    return createNodes(ownerID, entries, key, value);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new ArrayMapNode(ownerID, newEntries);\n};\n\nvar BitmapIndexedNode = function BitmapIndexedNode(ownerID, bitmap, nodes) {\n  this.ownerID = ownerID;\n  this.bitmap = bitmap;\n  this.nodes = nodes;\n};\n\nBitmapIndexedNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);\n  var bitmap = this.bitmap;\n  return (bitmap & bit) === 0\n    ? notSetValue\n    : this.nodes[popCount(bitmap & bit - 1)].get(\n        shift + SHIFT,\n        keyHash,\n        key,\n        notSetValue\n      );\n};\n\nBitmapIndexedNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var bit = 1 << keyHashFrag;\n  var bitmap = this.bitmap;\n  var exists = (bitmap & bit) !== 0;\n\n  if (!exists && value === NOT_SET) {\n    return this;\n  }\n\n  var idx = popCount(bitmap & bit - 1);\n  var nodes = this.nodes;\n  var node = exists ? nodes[idx] : undefined;\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n\n  if (newNode === node) {\n    return this;\n  }\n\n  if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n    return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n  }\n\n  if (\n    exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])\n  ) {\n    return nodes[idx ^ 1];\n  }\n\n  if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n    return newNode;\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n  var newNodes = exists\n    ? newNode\n        ? setIn(nodes, idx, newNode, isEditable)\n        : spliceOut(nodes, idx, isEditable)\n    : spliceIn(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.bitmap = newBitmap;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n};\n\nvar HashArrayMapNode = function HashArrayMapNode(ownerID, count, nodes) {\n  this.ownerID = ownerID;\n  this.count = count;\n  this.nodes = nodes;\n};\n\nHashArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var node = this.nodes[idx];\n  return node\n    ? node.get(shift + SHIFT, keyHash, key, notSetValue)\n    : notSetValue;\n};\n\nHashArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var removed = value === NOT_SET;\n  var nodes = this.nodes;\n  var node = nodes[idx];\n\n  if (removed && !node) {\n    return this;\n  }\n\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n  if (newNode === node) {\n    return this;\n  }\n\n  var newCount = this.count;\n  if (!node) {\n    newCount++;\n  } else if (!newNode) {\n    newCount--;\n    if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n      return packNodes(ownerID, nodes, newCount, idx);\n    }\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.count = newCount;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new HashArrayMapNode(ownerID, newCount, newNodes);\n};\n\nvar HashCollisionNode = function HashCollisionNode(ownerID, keyHash, entries) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entries = entries;\n};\n\nHashCollisionNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nHashCollisionNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n\n  var removed = value === NOT_SET;\n\n  if (keyHash !== this.keyHash) {\n    if (removed) {\n      return this;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n  }\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && len === 2) {\n    return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n};\n\nvar ValueNode = function ValueNode(ownerID, keyHash, entry) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entry = entry;\n};\n\nValueNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n};\n\nValueNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n  var keyMatch = is(key, this.entry[0]);\n  if (keyMatch ? value === this.entry[1] : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n\n  if (removed) {\n    SetRef(didChangeSize);\n    return; // undefined\n  }\n\n  if (keyMatch) {\n    if (ownerID && ownerID === this.ownerID) {\n      this.entry[1] = value;\n      return this;\n    }\n    return new ValueNode(ownerID, this.keyHash, [key, value]);\n  }\n\n  SetRef(didChangeSize);\n  return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n};\n\n// #pragma Iterators\n\nArrayMapNode.prototype.iterate = (HashCollisionNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var entries = this.entries;\n  for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n    if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n      return false;\n    }\n  }\n});\n\nBitmapIndexedNode.prototype.iterate = (HashArrayMapNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var nodes = this.nodes;\n  for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n    var node = nodes[reverse ? maxIndex - ii : ii];\n    if (node && node.iterate(fn, reverse) === false) {\n      return false;\n    }\n  }\n});\n\n// eslint-disable-next-line no-unused-vars\nValueNode.prototype.iterate = function(fn, reverse) {\n  return fn(this.entry);\n};\n\nvar MapIterator = (function (Iterator$$1) {\n  function MapIterator(map, type, reverse) {\n    this._type = type;\n    this._reverse = reverse;\n    this._stack = map._root && mapIteratorFrame(map._root);\n  }\n\n  if ( Iterator$$1 ) MapIterator.__proto__ = Iterator$$1;\n  MapIterator.prototype = Object.create( Iterator$$1 && Iterator$$1.prototype );\n  MapIterator.prototype.constructor = MapIterator;\n\n  MapIterator.prototype.next = function next () {\n    var this$1 = this;\n\n    var type = this._type;\n    var stack = this._stack;\n    while (stack) {\n      var node = stack.node;\n      var index = stack.index++;\n      var maxIndex = (void 0);\n      if (node.entry) {\n        if (index === 0) {\n          return mapIteratorValue(type, node.entry);\n        }\n      } else if (node.entries) {\n        maxIndex = node.entries.length - 1;\n        if (index <= maxIndex) {\n          return mapIteratorValue(\n            type,\n            node.entries[this$1._reverse ? maxIndex - index : index]\n          );\n        }\n      } else {\n        maxIndex = node.nodes.length - 1;\n        if (index <= maxIndex) {\n          var subNode = node.nodes[this$1._reverse ? maxIndex - index : index];\n          if (subNode) {\n            if (subNode.entry) {\n              return mapIteratorValue(type, subNode.entry);\n            }\n            stack = (this$1._stack = mapIteratorFrame(subNode, stack));\n          }\n          continue;\n        }\n      }\n      stack = (this$1._stack = this$1._stack.__prev);\n    }\n    return iteratorDone();\n  };\n\n  return MapIterator;\n}(Iterator));\n\nfunction mapIteratorValue(type, entry) {\n  return iteratorValue(type, entry[0], entry[1]);\n}\n\nfunction mapIteratorFrame(node, prev) {\n  return {\n    node: node,\n    index: 0,\n    __prev: prev\n  };\n}\n\nfunction makeMap(size, root, ownerID, hash$$1) {\n  var map = Object.create(MapPrototype);\n  map.size = size;\n  map._root = root;\n  map.__ownerID = ownerID;\n  map.__hash = hash$$1;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_MAP;\nfunction emptyMap() {\n  return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n}\n\nfunction updateMap(map, k, v) {\n  var newRoot;\n  var newSize;\n  if (!map._root) {\n    if (v === NOT_SET) {\n      return map;\n    }\n    newSize = 1;\n    newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n  } else {\n    var didChangeSize = MakeRef(CHANGE_LENGTH);\n    var didAlter = MakeRef(DID_ALTER);\n    newRoot = updateNode(\n      map._root,\n      map.__ownerID,\n      0,\n      undefined,\n      k,\n      v,\n      didChangeSize,\n      didAlter\n    );\n    if (!didAlter.value) {\n      return map;\n    }\n    newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n  }\n  if (map.__ownerID) {\n    map.size = newSize;\n    map._root = newRoot;\n    map.__hash = undefined;\n    map.__altered = true;\n    return map;\n  }\n  return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n}\n\nfunction updateNode(\n  node,\n  ownerID,\n  shift,\n  keyHash,\n  key,\n  value,\n  didChangeSize,\n  didAlter\n) {\n  if (!node) {\n    if (value === NOT_SET) {\n      return node;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return new ValueNode(ownerID, keyHash, [key, value]);\n  }\n  return node.update(\n    ownerID,\n    shift,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n}\n\nfunction isLeafNode(node) {\n  return node.constructor === ValueNode ||\n    node.constructor === HashCollisionNode;\n}\n\nfunction mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n  if (node.keyHash === keyHash) {\n    return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n  }\n\n  var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n  var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n  var newNode;\n  var nodes = idx1 === idx2\n    ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)]\n    : ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2\n        ? [node, newNode]\n        : [newNode, node]);\n\n  return new BitmapIndexedNode(ownerID, 1 << idx1 | 1 << idx2, nodes);\n}\n\nfunction createNodes(ownerID, entries, key, value) {\n  if (!ownerID) {\n    ownerID = new OwnerID();\n  }\n  var node = new ValueNode(ownerID, hash(key), [key, value]);\n  for (var ii = 0; ii < entries.length; ii++) {\n    var entry = entries[ii];\n    node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n  }\n  return node;\n}\n\nfunction packNodes(ownerID, nodes, count, excluding) {\n  var bitmap = 0;\n  var packedII = 0;\n  var packedNodes = new Array(count);\n  for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, (bit <<= 1)) {\n    var node = nodes[ii];\n    if (node !== undefined && ii !== excluding) {\n      bitmap |= bit;\n      packedNodes[packedII++] = node;\n    }\n  }\n  return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n}\n\nfunction expandNodes(ownerID, nodes, bitmap, including, node) {\n  var count = 0;\n  var expandedNodes = new Array(SIZE);\n  for (var ii = 0; bitmap !== 0; ii++, (bitmap >>>= 1)) {\n    expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n  }\n  expandedNodes[including] = node;\n  return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n}\n\nfunction mergeIntoMapWith(map, merger, collections) {\n  var iters = [];\n  for (var ii = 0; ii < collections.length; ii++) {\n    var value = collections[ii];\n    var iter = KeyedCollection(value);\n    if (!isCollection(value)) {\n      iter = iter.map(function (v) { return fromJS(v); });\n    }\n    iters.push(iter);\n  }\n  return mergeIntoCollectionWith(map, merger, iters);\n}\n\nfunction deepMerger(oldVal, newVal) {\n  return oldVal && oldVal.mergeDeep && isCollection(newVal)\n    ? oldVal.mergeDeep(newVal)\n    : is(oldVal, newVal) ? oldVal : newVal;\n}\n\nfunction deepMergerWith(merger) {\n  return function (oldVal, newVal, key) {\n    if (oldVal && oldVal.mergeDeepWith && isCollection(newVal)) {\n      return oldVal.mergeDeepWith(merger, newVal);\n    }\n    var nextValue = merger(oldVal, newVal, key);\n    return is(oldVal, nextValue) ? oldVal : nextValue;\n  };\n}\n\nfunction mergeIntoCollectionWith(collection, merger, iters) {\n  iters = iters.filter(function (x) { return x.size !== 0; });\n  if (iters.length === 0) {\n    return collection;\n  }\n  if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n    return collection.constructor(iters[0]);\n  }\n  return collection.withMutations(function (collection) {\n    var mergeIntoMap = merger\n      ? function (value, key) {\n          collection.update(\n            key,\n            NOT_SET,\n            function (oldVal) { return oldVal === NOT_SET ? value : merger(oldVal, value, key); }\n          );\n        }\n      : function (value, key) {\n          collection.set(key, value);\n        };\n    for (var ii = 0; ii < iters.length; ii++) {\n      iters[ii].forEach(mergeIntoMap);\n    }\n  });\n}\n\nfunction updateInDeepMap(existing, keyPath, i, notSetValue, updater) {\n  var isNotSet = existing === NOT_SET;\n  if (i === keyPath.length) {\n    var existingValue = isNotSet ? notSetValue : existing;\n    var newValue = updater(existingValue);\n    return newValue === existingValue ? existing : newValue;\n  }\n  if (!(isNotSet || (existing && existing.set))) {\n    throw new TypeError(\n      'Invalid keyPath: Value at [' +\n        keyPath.slice(0, i).map(quoteString) +\n        '] does not have a .set() method and cannot be updated: ' +\n        existing\n    );\n  }\n  var key = keyPath[i];\n  var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n  var nextUpdated = updateInDeepMap(\n    nextExisting,\n    keyPath,\n    i + 1,\n    notSetValue,\n    updater\n  );\n  return nextUpdated === nextExisting\n    ? existing\n    : nextUpdated === NOT_SET\n        ? existing.remove(key)\n        : (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n}\n\nfunction popCount(x) {\n  x -= x >> 1 & 0x55555555;\n  x = (x & 0x33333333) + (x >> 2 & 0x33333333);\n  x = x + (x >> 4) & 0x0f0f0f0f;\n  x += x >> 8;\n  x += x >> 16;\n  return x & 0x7f;\n}\n\nfunction setIn(array, idx, val, canEdit) {\n  var newArray = canEdit ? array : arrCopy(array);\n  newArray[idx] = val;\n  return newArray;\n}\n\nfunction spliceIn(array, idx, val, canEdit) {\n  var newLen = array.length + 1;\n  if (canEdit && idx + 1 === newLen) {\n    array[idx] = val;\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      newArray[ii] = val;\n      after = -1;\n    } else {\n      newArray[ii] = array[ii + after];\n    }\n  }\n  return newArray;\n}\n\nfunction spliceOut(array, idx, canEdit) {\n  var newLen = array.length - 1;\n  if (canEdit && idx === newLen) {\n    array.pop();\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      after = 1;\n    }\n    newArray[ii] = array[ii + after];\n  }\n  return newArray;\n}\n\nvar MAX_ARRAY_MAP_SIZE = SIZE / 4;\nvar MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\nvar MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\nvar List = (function (IndexedCollection$$1) {\n  function List(value) {\n    var empty = emptyList();\n    if (value === null || value === undefined) {\n      return empty;\n    }\n    if (isList(value)) {\n      return value;\n    }\n    var iter = IndexedCollection$$1(value);\n    var size = iter.size;\n    if (size === 0) {\n      return empty;\n    }\n    assertNotInfinite(size);\n    if (size > 0 && size < SIZE) {\n      return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n    }\n    return empty.withMutations(function (list) {\n      list.setSize(size);\n      iter.forEach(function (v, i) { return list.set(i, v); });\n    });\n  }\n\n  if ( IndexedCollection$$1 ) List.__proto__ = IndexedCollection$$1;\n  List.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  List.prototype.constructor = List;\n\n  List.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  List.prototype.toString = function toString () {\n    return this.__toString('List [', ']');\n  };\n\n  // @pragma Access\n\n  List.prototype.get = function get (index, notSetValue) {\n    index = wrapIndex(this, index);\n    if (index >= 0 && index < this.size) {\n      index += this._origin;\n      var node = listNodeFor(this, index);\n      return node && node.array[index & MASK];\n    }\n    return notSetValue;\n  };\n\n  // @pragma Modification\n\n  List.prototype.set = function set (index, value) {\n    return updateList(this, index, value);\n  };\n\n  List.prototype.remove = function remove (index) {\n    return !this.has(index)\n      ? this\n      : index === 0\n          ? this.shift()\n          : index === this.size - 1 ? this.pop() : this.splice(index, 1);\n  };\n\n  List.prototype.insert = function insert (index, value) {\n    return this.splice(index, 0, value);\n  };\n\n  List.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = (this._origin = (this._capacity = 0));\n      this._level = SHIFT;\n      this._root = (this._tail = null);\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyList();\n  };\n\n  List.prototype.push = function push (/*...values*/) {\n    var values = arguments;\n    var oldSize = this.size;\n    return this.withMutations(function (list) {\n      setListBounds(list, 0, oldSize + values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(oldSize + ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.pop = function pop () {\n    return setListBounds(this, 0, -1);\n  };\n\n  List.prototype.unshift = function unshift (/*...values*/) {\n    var values = arguments;\n    return this.withMutations(function (list) {\n      setListBounds(list, -values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.shift = function shift () {\n    return setListBounds(this, 1);\n  };\n\n  // @pragma Composition\n\n  List.prototype.merge = function merge (/*...iters*/) {\n    return mergeIntoListWith(this, undefined, arguments);\n  };\n\n  List.prototype.mergeWith = function mergeWith (merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return mergeIntoListWith(this, merger, iters);\n  };\n\n  List.prototype.mergeDeep = function mergeDeep (/*...iters*/) {\n    return mergeIntoListWith(this, deepMerger, arguments);\n  };\n\n  List.prototype.mergeDeepWith = function mergeDeepWith (merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return mergeIntoListWith(this, deepMergerWith(merger), iters);\n  };\n\n  List.prototype.setSize = function setSize (size) {\n    return setListBounds(this, 0, size);\n  };\n\n  // @pragma Iteration\n\n  List.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    if (wholeSlice(begin, end, size)) {\n      return this;\n    }\n    return setListBounds(\n      this,\n      resolveBegin(begin, size),\n      resolveEnd(end, size)\n    );\n  };\n\n  List.prototype.__iterator = function __iterator (type, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    return new Iterator(function () {\n      var value = values();\n      return value === DONE\n        ? iteratorDone()\n        : iteratorValue(type, reverse ? --index : index++, value);\n    });\n  };\n\n  List.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    var value;\n    while ((value = values()) !== DONE) {\n      if (fn(value, reverse ? --index : index++, this$1) === false) {\n        break;\n      }\n    }\n    return index;\n  };\n\n  List.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyList();\n      }\n      this.__ownerID = ownerID;\n      return this;\n    }\n    return makeList(\n      this._origin,\n      this._capacity,\n      this._level,\n      this._root,\n      this._tail,\n      ownerID,\n      this.__hash\n    );\n  };\n\n  return List;\n}(IndexedCollection));\n\nfunction isList(maybeList) {\n  return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n}\n\nList.isList = isList;\n\nvar IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\nvar ListPrototype = List.prototype;\nListPrototype[IS_LIST_SENTINEL] = true;\nListPrototype[DELETE] = ListPrototype.remove;\nListPrototype.setIn = MapPrototype.setIn;\nListPrototype.deleteIn = (ListPrototype.removeIn = MapPrototype.removeIn);\nListPrototype.update = MapPrototype.update;\nListPrototype.updateIn = MapPrototype.updateIn;\nListPrototype.mergeIn = MapPrototype.mergeIn;\nListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\nListPrototype.withMutations = MapPrototype.withMutations;\nListPrototype.asMutable = MapPrototype.asMutable;\nListPrototype.asImmutable = MapPrototype.asImmutable;\nListPrototype.wasAltered = MapPrototype.wasAltered;\n\nvar VNode = function VNode(array, ownerID) {\n  this.array = array;\n  this.ownerID = ownerID;\n};\n\n// TODO: seems like these methods are very similar\n\nVNode.prototype.removeBefore = function removeBefore (ownerID, level, index) {\n  if (index === level ? 1 << level : 0 || this.array.length === 0) {\n    return this;\n  }\n  var originIndex = index >>> level & MASK;\n  if (originIndex >= this.array.length) {\n    return new VNode([], ownerID);\n  }\n  var removingFirst = originIndex === 0;\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[originIndex];\n    newChild = oldChild &&\n      oldChild.removeBefore(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && removingFirst) {\n      return this;\n    }\n  }\n  if (removingFirst && !newChild) {\n    return this;\n  }\n  var editable = editableVNode(this, ownerID);\n  if (!removingFirst) {\n    for (var ii = 0; ii < originIndex; ii++) {\n      editable.array[ii] = undefined;\n    }\n  }\n  if (newChild) {\n    editable.array[originIndex] = newChild;\n  }\n  return editable;\n};\n\nVNode.prototype.removeAfter = function removeAfter (ownerID, level, index) {\n  if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n    return this;\n  }\n  var sizeIndex = index - 1 >>> level & MASK;\n  if (sizeIndex >= this.array.length) {\n    return this;\n  }\n\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[sizeIndex];\n    newChild = oldChild &&\n      oldChild.removeAfter(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n      return this;\n    }\n  }\n\n  var editable = editableVNode(this, ownerID);\n  editable.array.splice(sizeIndex + 1);\n  if (newChild) {\n    editable.array[sizeIndex] = newChild;\n  }\n  return editable;\n};\n\nvar DONE = {};\n\nfunction iterateList(list, reverse) {\n  var left = list._origin;\n  var right = list._capacity;\n  var tailPos = getTailOffset(right);\n  var tail = list._tail;\n\n  return iterateNodeOrLeaf(list._root, list._level, 0);\n\n  function iterateNodeOrLeaf(node, level, offset) {\n    return level === 0\n      ? iterateLeaf(node, offset)\n      : iterateNode(node, level, offset);\n  }\n\n  function iterateLeaf(node, offset) {\n    var array = offset === tailPos ? tail && tail.array : node && node.array;\n    var from = offset > left ? 0 : left - offset;\n    var to = right - offset;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      if (from === to) {\n        return DONE;\n      }\n      var idx = reverse ? --to : from++;\n      return array && array[idx];\n    };\n  }\n\n  function iterateNode(node, level, offset) {\n    var values;\n    var array = node && node.array;\n    var from = offset > left ? 0 : left - offset >> level;\n    var to = (right - offset >> level) + 1;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      while (true) {\n        if (values) {\n          var value = values();\n          if (value !== DONE) {\n            return value;\n          }\n          values = null;\n        }\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        values = iterateNodeOrLeaf(\n          array && array[idx],\n          level - SHIFT,\n          offset + (idx << level)\n        );\n      }\n    };\n  }\n}\n\nfunction makeList(origin, capacity, level, root, tail, ownerID, hash) {\n  var list = Object.create(ListPrototype);\n  list.size = capacity - origin;\n  list._origin = origin;\n  list._capacity = capacity;\n  list._level = level;\n  list._root = root;\n  list._tail = tail;\n  list.__ownerID = ownerID;\n  list.__hash = hash;\n  list.__altered = false;\n  return list;\n}\n\nvar EMPTY_LIST;\nfunction emptyList() {\n  return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n}\n\nfunction updateList(list, index, value) {\n  index = wrapIndex(list, index);\n\n  if (index !== index) {\n    return list;\n  }\n\n  if (index >= list.size || index < 0) {\n    return list.withMutations(function (list) {\n      index < 0\n        ? setListBounds(list, index).set(0, value)\n        : setListBounds(list, 0, index + 1).set(index, value);\n    });\n  }\n\n  index += list._origin;\n\n  var newTail = list._tail;\n  var newRoot = list._root;\n  var didAlter = MakeRef(DID_ALTER);\n  if (index >= getTailOffset(list._capacity)) {\n    newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n  } else {\n    newRoot = updateVNode(\n      newRoot,\n      list.__ownerID,\n      list._level,\n      index,\n      value,\n      didAlter\n    );\n  }\n\n  if (!didAlter.value) {\n    return list;\n  }\n\n  if (list.__ownerID) {\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n}\n\nfunction updateVNode(node, ownerID, level, index, value, didAlter) {\n  var idx = index >>> level & MASK;\n  var nodeHas = node && idx < node.array.length;\n  if (!nodeHas && value === undefined) {\n    return node;\n  }\n\n  var newNode;\n\n  if (level > 0) {\n    var lowerNode = node && node.array[idx];\n    var newLowerNode = updateVNode(\n      lowerNode,\n      ownerID,\n      level - SHIFT,\n      index,\n      value,\n      didAlter\n    );\n    if (newLowerNode === lowerNode) {\n      return node;\n    }\n    newNode = editableVNode(node, ownerID);\n    newNode.array[idx] = newLowerNode;\n    return newNode;\n  }\n\n  if (nodeHas && node.array[idx] === value) {\n    return node;\n  }\n\n  SetRef(didAlter);\n\n  newNode = editableVNode(node, ownerID);\n  if (value === undefined && idx === newNode.array.length - 1) {\n    newNode.array.pop();\n  } else {\n    newNode.array[idx] = value;\n  }\n  return newNode;\n}\n\nfunction editableVNode(node, ownerID) {\n  if (ownerID && node && ownerID === node.ownerID) {\n    return node;\n  }\n  return new VNode(node ? node.array.slice() : [], ownerID);\n}\n\nfunction listNodeFor(list, rawIndex) {\n  if (rawIndex >= getTailOffset(list._capacity)) {\n    return list._tail;\n  }\n  if (rawIndex < 1 << list._level + SHIFT) {\n    var node = list._root;\n    var level = list._level;\n    while (node && level > 0) {\n      node = node.array[rawIndex >>> level & MASK];\n      level -= SHIFT;\n    }\n    return node;\n  }\n}\n\nfunction setListBounds(list, begin, end) {\n  // Sanitize begin & end using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  if (begin !== undefined) {\n    begin |= 0;\n  }\n  if (end !== undefined) {\n    end |= 0;\n  }\n  var owner = list.__ownerID || new OwnerID();\n  var oldOrigin = list._origin;\n  var oldCapacity = list._capacity;\n  var newOrigin = oldOrigin + begin;\n  var newCapacity = end === undefined\n    ? oldCapacity\n    : end < 0 ? oldCapacity + end : oldOrigin + end;\n  if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n    return list;\n  }\n\n  // If it's going to end after it starts, it's empty.\n  if (newOrigin >= newCapacity) {\n    return list.clear();\n  }\n\n  var newLevel = list._level;\n  var newRoot = list._root;\n\n  // New origin might need creating a higher root.\n  var offsetShift = 0;\n  while (newOrigin + offsetShift < 0) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [undefined, newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n    offsetShift += 1 << newLevel;\n  }\n  if (offsetShift) {\n    newOrigin += offsetShift;\n    oldOrigin += offsetShift;\n    newCapacity += offsetShift;\n    oldCapacity += offsetShift;\n  }\n\n  var oldTailOffset = getTailOffset(oldCapacity);\n  var newTailOffset = getTailOffset(newCapacity);\n\n  // New size might need creating a higher root.\n  while (newTailOffset >= 1 << newLevel + SHIFT) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n  }\n\n  // Locate or create the new tail.\n  var oldTail = list._tail;\n  var newTail = newTailOffset < oldTailOffset\n    ? listNodeFor(list, newCapacity - 1)\n    : newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n  // Merge Tail into tree.\n  if (\n    oldTail &&\n    newTailOffset > oldTailOffset &&\n    newOrigin < oldCapacity &&\n    oldTail.array.length\n  ) {\n    newRoot = editableVNode(newRoot, owner);\n    var node = newRoot;\n    for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n      var idx = oldTailOffset >>> level & MASK;\n      node = (node.array[idx] = editableVNode(node.array[idx], owner));\n    }\n    node.array[oldTailOffset >>> SHIFT & MASK] = oldTail;\n  }\n\n  // If the size has been reduced, there's a chance the tail needs to be trimmed.\n  if (newCapacity < oldCapacity) {\n    newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n  }\n\n  // If the new origin is within the tail, then we do not need a root.\n  if (newOrigin >= newTailOffset) {\n    newOrigin -= newTailOffset;\n    newCapacity -= newTailOffset;\n    newLevel = SHIFT;\n    newRoot = null;\n    newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n  } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n    offsetShift = 0;\n\n    // Identify the new top root node of the subtree of the old root.\n    while (newRoot) {\n      var beginIndex = newOrigin >>> newLevel & MASK;\n      if (beginIndex !== newTailOffset >>> newLevel & MASK) {\n        break;\n      }\n      if (beginIndex) {\n        offsetShift += (1 << newLevel) * beginIndex;\n      }\n      newLevel -= SHIFT;\n      newRoot = newRoot.array[beginIndex];\n    }\n\n    // Trim the new sides of the new root.\n    if (newRoot && newOrigin > oldOrigin) {\n      newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n    }\n    if (newRoot && newTailOffset < oldTailOffset) {\n      newRoot = newRoot.removeAfter(\n        owner,\n        newLevel,\n        newTailOffset - offsetShift\n      );\n    }\n    if (offsetShift) {\n      newOrigin -= offsetShift;\n      newCapacity -= offsetShift;\n    }\n  }\n\n  if (list.__ownerID) {\n    list.size = newCapacity - newOrigin;\n    list._origin = newOrigin;\n    list._capacity = newCapacity;\n    list._level = newLevel;\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n}\n\nfunction mergeIntoListWith(list, merger, collections) {\n  var iters = [];\n  var maxSize = 0;\n  for (var ii = 0; ii < collections.length; ii++) {\n    var value = collections[ii];\n    var iter = IndexedCollection(value);\n    if (iter.size > maxSize) {\n      maxSize = iter.size;\n    }\n    if (!isCollection(value)) {\n      iter = iter.map(function (v) { return fromJS(v); });\n    }\n    iters.push(iter);\n  }\n  if (maxSize > list.size) {\n    list = list.setSize(maxSize);\n  }\n  return mergeIntoCollectionWith(list, merger, iters);\n}\n\nfunction getTailOffset(size) {\n  return size < SIZE ? 0 : size - 1 >>> SHIFT << SHIFT;\n}\n\nvar OrderedMap = (function (Map$$1) {\n  function OrderedMap(value) {\n    return value === null || value === undefined\n      ? emptyOrderedMap()\n      : isOrderedMap(value)\n          ? value\n          : emptyOrderedMap().withMutations(function (map) {\n              var iter = KeyedCollection(value);\n              assertNotInfinite(iter.size);\n              iter.forEach(function (v, k) { return map.set(k, v); });\n            });\n  }\n\n  if ( Map$$1 ) OrderedMap.__proto__ = Map$$1;\n  OrderedMap.prototype = Object.create( Map$$1 && Map$$1.prototype );\n  OrderedMap.prototype.constructor = OrderedMap;\n\n  OrderedMap.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedMap.prototype.toString = function toString () {\n    return this.__toString('OrderedMap {', '}');\n  };\n\n  // @pragma Access\n\n  OrderedMap.prototype.get = function get (k, notSetValue) {\n    var index = this._map.get(k);\n    return index !== undefined ? this._list.get(index)[1] : notSetValue;\n  };\n\n  // @pragma Modification\n\n  OrderedMap.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._map.clear();\n      this._list.clear();\n      return this;\n    }\n    return emptyOrderedMap();\n  };\n\n  OrderedMap.prototype.set = function set (k, v) {\n    return updateOrderedMap(this, k, v);\n  };\n\n  OrderedMap.prototype.remove = function remove (k) {\n    return updateOrderedMap(this, k, NOT_SET);\n  };\n\n  OrderedMap.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered() || this._list.wasAltered();\n  };\n\n  OrderedMap.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._list.__iterate(\n      function (entry) { return entry && fn(entry[1], entry[0], this$1); },\n      reverse\n    );\n  };\n\n  OrderedMap.prototype.__iterator = function __iterator (type, reverse) {\n    return this._list.fromEntrySeq().__iterator(type, reverse);\n  };\n\n  OrderedMap.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    var newList = this._list.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyOrderedMap();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      this._list = newList;\n      return this;\n    }\n    return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n  };\n\n  return OrderedMap;\n}(Map));\n\nfunction isOrderedMap(maybeOrderedMap) {\n  return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n}\n\nOrderedMap.isOrderedMap = isOrderedMap;\n\nOrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\nOrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\nfunction makeOrderedMap(map, list, ownerID, hash) {\n  var omap = Object.create(OrderedMap.prototype);\n  omap.size = map ? map.size : 0;\n  omap._map = map;\n  omap._list = list;\n  omap.__ownerID = ownerID;\n  omap.__hash = hash;\n  return omap;\n}\n\nvar EMPTY_ORDERED_MAP;\nfunction emptyOrderedMap() {\n  return EMPTY_ORDERED_MAP ||\n    (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n}\n\nfunction updateOrderedMap(omap, k, v) {\n  var map = omap._map;\n  var list = omap._list;\n  var i = map.get(k);\n  var has = i !== undefined;\n  var newMap;\n  var newList;\n  if (v === NOT_SET) {\n    // removed\n    if (!has) {\n      return omap;\n    }\n    if (list.size >= SIZE && list.size >= map.size * 2) {\n      newList = list.filter(function (entry, idx) { return entry !== undefined && i !== idx; });\n      newMap = newList.toKeyedSeq().map(function (entry) { return entry[0]; }).flip().toMap();\n      if (omap.__ownerID) {\n        newMap.__ownerID = (newList.__ownerID = omap.__ownerID);\n      }\n    } else {\n      newMap = map.remove(k);\n      newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n    }\n  } else if (has) {\n    if (v === list.get(i)[1]) {\n      return omap;\n    }\n    newMap = map;\n    newList = list.set(i, [k, v]);\n  } else {\n    newMap = map.set(k, list.size);\n    newList = list.set(list.size, [k, v]);\n  }\n  if (omap.__ownerID) {\n    omap.size = newMap.size;\n    omap._map = newMap;\n    omap._list = newList;\n    omap.__hash = undefined;\n    return omap;\n  }\n  return makeOrderedMap(newMap, newList);\n}\n\nvar Stack = (function (IndexedCollection$$1) {\n  function Stack(value) {\n    return value === null || value === undefined\n      ? emptyStack()\n      : isStack(value) ? value : emptyStack().pushAll(value);\n  }\n\n  if ( IndexedCollection$$1 ) Stack.__proto__ = IndexedCollection$$1;\n  Stack.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  Stack.prototype.constructor = Stack;\n\n  Stack.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Stack.prototype.toString = function toString () {\n    return this.__toString('Stack [', ']');\n  };\n\n  // @pragma Access\n\n  Stack.prototype.get = function get (index, notSetValue) {\n    var head = this._head;\n    index = wrapIndex(this, index);\n    while (head && index--) {\n      head = head.next;\n    }\n    return head ? head.value : notSetValue;\n  };\n\n  Stack.prototype.peek = function peek () {\n    return this._head && this._head.value;\n  };\n\n  // @pragma Modification\n\n  Stack.prototype.push = function push (/*...values*/) {\n    var arguments$1 = arguments;\n\n    if (arguments.length === 0) {\n      return this;\n    }\n    var newSize = this.size + arguments.length;\n    var head = this._head;\n    for (var ii = arguments.length - 1; ii >= 0; ii--) {\n      head = {\n        value: arguments$1[ii],\n        next: head\n      };\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pushAll = function pushAll (iter) {\n    iter = IndexedCollection$$1(iter);\n    if (iter.size === 0) {\n      return this;\n    }\n    if (this.size === 0 && isStack(iter)) {\n      return iter;\n    }\n    assertNotInfinite(iter.size);\n    var newSize = this.size;\n    var head = this._head;\n    iter.__iterate(\n      function (value) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      },\n      /* reverse */ true\n    );\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pop = function pop () {\n    return this.slice(1);\n  };\n\n  Stack.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._head = undefined;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyStack();\n  };\n\n  Stack.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n    if (resolvedEnd !== this.size) {\n      // super.slice(begin, end);\n      return IndexedCollection$$1.prototype.slice.call(this, begin, end);\n    }\n    var newSize = this.size - resolvedBegin;\n    var head = this._head;\n    while (resolvedBegin--) {\n      head = head.next;\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  // @pragma Mutability\n\n  Stack.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyStack();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeStack(this.size, this._head, ownerID, this.__hash);\n  };\n\n  // @pragma Iteration\n\n  Stack.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterate(\n        function (v, k) { return fn(v, k, this$1); },\n        reverse\n      );\n    }\n    var iterations = 0;\n    var node = this._head;\n    while (node) {\n      if (fn(node.value, iterations++, this$1) === false) {\n        break;\n      }\n      node = node.next;\n    }\n    return iterations;\n  };\n\n  Stack.prototype.__iterator = function __iterator (type, reverse) {\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterator(type, reverse);\n    }\n    var iterations = 0;\n    var node = this._head;\n    return new Iterator(function () {\n      if (node) {\n        var value = node.value;\n        node = node.next;\n        return iteratorValue(type, iterations++, value);\n      }\n      return iteratorDone();\n    });\n  };\n\n  return Stack;\n}(IndexedCollection));\n\nfunction isStack(maybeStack) {\n  return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n}\n\nStack.isStack = isStack;\n\nvar IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\nvar StackPrototype = Stack.prototype;\nStackPrototype[IS_STACK_SENTINEL] = true;\nStackPrototype.withMutations = MapPrototype.withMutations;\nStackPrototype.asMutable = MapPrototype.asMutable;\nStackPrototype.asImmutable = MapPrototype.asImmutable;\nStackPrototype.wasAltered = MapPrototype.wasAltered;\nStackPrototype.shift = StackPrototype.pop;\nStackPrototype.unshift = StackPrototype.push;\nStackPrototype.unshiftAll = StackPrototype.pushAll;\n\nfunction makeStack(size, head, ownerID, hash) {\n  var map = Object.create(StackPrototype);\n  map.size = size;\n  map._head = head;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_STACK;\nfunction emptyStack() {\n  return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n}\n\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (\n    !isCollection(b) ||\n    (a.size !== undefined && b.size !== undefined && a.size !== b.size) ||\n    (a.__hash !== undefined &&\n      b.__hash !== undefined &&\n      a.__hash !== b.__hash) ||\n    isKeyed(a) !== isKeyed(b) ||\n    isIndexed(a) !== isIndexed(b) ||\n    isOrdered(a) !== isOrdered(b)\n  ) {\n    return false;\n  }\n\n  if (a.size === 0 && b.size === 0) {\n    return true;\n  }\n\n  var notAssociative = !isAssociative(a);\n\n  if (isOrdered(a)) {\n    var entries = a.entries();\n    return b.every(function (v, k) {\n      var entry = entries.next().value;\n      return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n    }) && entries.next().done;\n  }\n\n  var flipped = false;\n\n  if (a.size === undefined) {\n    if (b.size === undefined) {\n      if (typeof a.cacheResult === 'function') {\n        a.cacheResult();\n      }\n    } else {\n      flipped = true;\n      var _ = a;\n      a = b;\n      b = _;\n    }\n  }\n\n  var allEqual = true;\n  var bSize = b.__iterate(function (v, k) {\n    if (\n      notAssociative\n        ? !a.has(v)\n        : flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)\n    ) {\n      allEqual = false;\n      return false;\n    }\n  });\n\n  return allEqual && a.size === bSize;\n}\n\n/**\n * Contributes additional methods to a constructor\n */\nfunction mixin(ctor, methods) {\n  var keyCopier = function (key) {\n    ctor.prototype[key] = methods[key];\n  };\n  Object.keys(methods).forEach(keyCopier);\n  Object.getOwnPropertySymbols &&\n    Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n  return ctor;\n}\n\nvar Set = (function (SetCollection$$1) {\n  function Set(value) {\n    return value === null || value === undefined\n      ? emptySet()\n      : isSet(value) && !isOrdered(value)\n          ? value\n          : emptySet().withMutations(function (set) {\n              var iter = SetCollection$$1(value);\n              assertNotInfinite(iter.size);\n              iter.forEach(function (v) { return set.add(v); });\n            });\n  }\n\n  if ( SetCollection$$1 ) Set.__proto__ = SetCollection$$1;\n  Set.prototype = Object.create( SetCollection$$1 && SetCollection$$1.prototype );\n  Set.prototype.constructor = Set;\n\n  Set.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Set.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  Set.intersect = function intersect (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.intersect.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.union = function union (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.union.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.prototype.toString = function toString () {\n    return this.__toString('Set {', '}');\n  };\n\n  // @pragma Access\n\n  Set.prototype.has = function has (value) {\n    return this._map.has(value);\n  };\n\n  // @pragma Modification\n\n  Set.prototype.add = function add (value) {\n    return updateSet(this, this._map.set(value, true));\n  };\n\n  Set.prototype.remove = function remove (value) {\n    return updateSet(this, this._map.remove(value));\n  };\n\n  Set.prototype.clear = function clear () {\n    return updateSet(this, this._map.clear());\n  };\n\n  // @pragma Composition\n\n  Set.prototype.union = function union () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    iters = iters.filter(function (x) { return x.size !== 0; });\n    if (iters.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n      return this.constructor(iters[0]);\n    }\n    return this.withMutations(function (set) {\n      for (var ii = 0; ii < iters.length; ii++) {\n        SetCollection$$1(iters[ii]).forEach(function (value) { return set.add(value); });\n      }\n    });\n  };\n\n  Set.prototype.intersect = function intersect () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection$$1(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (!iters.every(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.subtract = function subtract () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (iters.some(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.merge = function merge () {\n    return this.union.apply(this, arguments);\n  };\n\n  Set.prototype.mergeWith = function mergeWith (merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return this.union.apply(this, iters);\n  };\n\n  Set.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator));\n  };\n\n  Set.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator, mapper));\n  };\n\n  Set.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered();\n  };\n\n  Set.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._map.__iterate(function (_, k) { return fn(k, k, this$1); }, reverse);\n  };\n\n  Set.prototype.__iterator = function __iterator (type, reverse) {\n    return this._map.map(function (_, k) { return k; }).__iterator(type, reverse);\n  };\n\n  Set.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptySet();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return this.__make(newMap, ownerID);\n  };\n\n  return Set;\n}(SetCollection));\n\nfunction isSet(maybeSet) {\n  return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n}\n\nSet.isSet = isSet;\n\nvar IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\nvar SetPrototype = Set.prototype;\nSetPrototype[IS_SET_SENTINEL] = true;\nSetPrototype[DELETE] = SetPrototype.remove;\nSetPrototype.mergeDeep = SetPrototype.merge;\nSetPrototype.mergeDeepWith = SetPrototype.mergeWith;\nSetPrototype.withMutations = MapPrototype.withMutations;\nSetPrototype.asMutable = MapPrototype.asMutable;\nSetPrototype.asImmutable = MapPrototype.asImmutable;\n\nSetPrototype.__empty = emptySet;\nSetPrototype.__make = makeSet;\n\nfunction updateSet(set, newMap) {\n  if (set.__ownerID) {\n    set.size = newMap.size;\n    set._map = newMap;\n    return set;\n  }\n  return newMap === set._map\n    ? set\n    : newMap.size === 0 ? set.__empty() : set.__make(newMap);\n}\n\nfunction makeSet(map, ownerID) {\n  var set = Object.create(SetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_SET;\nfunction emptySet() {\n  return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n}\n\n/**\n * Returns a lazy seq of nums from start (inclusive) to end\n * (exclusive), by step, where start defaults to 0, step to 1, and end to\n * infinity. When start is equal to end, returns empty list.\n */\nvar Range = (function (IndexedSeq$$1) {\n  function Range(start, end, step) {\n    if (!(this instanceof Range)) {\n      return new Range(start, end, step);\n    }\n    invariant(step !== 0, 'Cannot step a Range by 0');\n    start = start || 0;\n    if (end === undefined) {\n      end = Infinity;\n    }\n    step = step === undefined ? 1 : Math.abs(step);\n    if (end < start) {\n      step = -step;\n    }\n    this._start = start;\n    this._end = end;\n    this._step = step;\n    this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n    if (this.size === 0) {\n      if (EMPTY_RANGE) {\n        return EMPTY_RANGE;\n      }\n      EMPTY_RANGE = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Range.__proto__ = IndexedSeq$$1;\n  Range.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Range.prototype.constructor = Range;\n\n  Range.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Range []';\n    }\n    return 'Range [ ' +\n      this._start +\n      '...' +\n      this._end +\n      (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]';\n  };\n\n  Range.prototype.get = function get (index, notSetValue) {\n    return this.has(index)\n      ? this._start + wrapIndex(this, index) * this._step\n      : notSetValue;\n  };\n\n  Range.prototype.includes = function includes (searchValue) {\n    var possibleIndex = (searchValue - this._start) / this._step;\n    return possibleIndex >= 0 &&\n      possibleIndex < this.size &&\n      possibleIndex === Math.floor(possibleIndex);\n  };\n\n  Range.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    begin = resolveBegin(begin, this.size);\n    end = resolveEnd(end, this.size);\n    if (end <= begin) {\n      return new Range(0, 0);\n    }\n    return new Range(\n      this.get(begin, this._end),\n      this.get(end, this._end),\n      this._step\n    );\n  };\n\n  Range.prototype.indexOf = function indexOf (searchValue) {\n    var offsetValue = searchValue - this._start;\n    if (offsetValue % this._step === 0) {\n      var index = offsetValue / this._step;\n      if (index >= 0 && index < this.size) {\n        return index;\n      }\n    }\n    return -1;\n  };\n\n  Range.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    return this.indexOf(searchValue);\n  };\n\n  Range.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    while (i !== size) {\n      if (fn(value, reverse ? size - ++i : i++, this$1) === false) {\n        break;\n      }\n      value += reverse ? -step : step;\n    }\n    return i;\n  };\n\n  Range.prototype.__iterator = function __iterator (type, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var v = value;\n      value += reverse ? -step : step;\n      return iteratorValue(type, reverse ? size - ++i : i++, v);\n    });\n  };\n\n  Range.prototype.equals = function equals (other) {\n    return other instanceof Range\n      ? this._start === other._start &&\n          this._end === other._end &&\n          this._step === other._step\n      : deepEqual(this, other);\n  };\n\n  return Range;\n}(IndexedSeq));\n\nvar EMPTY_RANGE;\n\n// Note: all of these methods are deprecated.\nCollection.isIterable = isCollection;\nCollection.isKeyed = isKeyed;\nCollection.isIndexed = isIndexed;\nCollection.isAssociative = isAssociative;\nCollection.isOrdered = isOrdered;\n\nCollection.Iterator = Iterator;\n\nmixin(Collection, {\n  // ### Conversion to other types\n\n  toArray: function toArray() {\n    assertNotInfinite(this.size);\n    var array = new Array(this.size || 0);\n    this.valueSeq().__iterate(function (v, i) {\n      array[i] = v;\n    });\n    return array;\n  },\n\n  toIndexedSeq: function toIndexedSeq() {\n    return new ToIndexedSequence(this);\n  },\n\n  toJS: function toJS$1() {\n    return this.toSeq().map(toJS).toJSON();\n  },\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, true);\n  },\n\n  toMap: function toMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return Map(this.toKeyedSeq());\n  },\n\n  toObject: function toObject() {\n    assertNotInfinite(this.size);\n    var object = {};\n    this.__iterate(function (v, k) {\n      object[k] = v;\n    });\n    return object;\n  },\n\n  toOrderedMap: function toOrderedMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedMap(this.toKeyedSeq());\n  },\n\n  toOrderedSet: function toOrderedSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSet: function toSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return Set(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSetSeq: function toSetSeq() {\n    return new ToSetSequence(this);\n  },\n\n  toSeq: function toSeq() {\n    return isIndexed(this)\n      ? this.toIndexedSeq()\n      : isKeyed(this) ? this.toKeyedSeq() : this.toSetSeq();\n  },\n\n  toStack: function toStack() {\n    // Use Late Binding here to solve the circular dependency.\n    return Stack(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toList: function toList() {\n    // Use Late Binding here to solve the circular dependency.\n    return List(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  // ### Common JavaScript methods and properties\n\n  toString: function toString() {\n    return '[Collection]';\n  },\n\n  __toString: function __toString(head, tail) {\n    if (this.size === 0) {\n      return head + tail;\n    }\n    return head +\n      ' ' +\n      this.toSeq().map(this.__toStringMapper).join(', ') +\n      ' ' +\n      tail;\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  concat: function concat() {\n    var values = [], len = arguments.length;\n    while ( len-- ) values[ len ] = arguments[ len ];\n\n    return reify(this, concatFactory(this, values));\n  },\n\n  includes: function includes(searchValue) {\n    return this.some(function (value) { return is(value, searchValue); });\n  },\n\n  entries: function entries() {\n    return this.__iterator(ITERATE_ENTRIES);\n  },\n\n  every: function every(predicate, context) {\n    assertNotInfinite(this.size);\n    var returnValue = true;\n    this.__iterate(function (v, k, c) {\n      if (!predicate.call(context, v, k, c)) {\n        returnValue = false;\n        return false;\n      }\n    });\n    return returnValue;\n  },\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, true));\n  },\n\n  find: function find(predicate, context, notSetValue) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[1] : notSetValue;\n  },\n\n  forEach: function forEach(sideEffect, context) {\n    assertNotInfinite(this.size);\n    return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n  },\n\n  join: function join(separator) {\n    assertNotInfinite(this.size);\n    separator = separator !== undefined ? '' + separator : ',';\n    var joined = '';\n    var isFirst = true;\n    this.__iterate(function (v) {\n      isFirst ? (isFirst = false) : (joined += separator);\n      joined += v !== null && v !== undefined ? v.toString() : '';\n    });\n    return joined;\n  },\n\n  keys: function keys() {\n    return this.__iterator(ITERATE_KEYS);\n  },\n\n  map: function map(mapper, context) {\n    return reify(this, mapFactory(this, mapper, context));\n  },\n\n  reduce: function reduce$1(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      false\n    );\n  },\n\n  reduceRight: function reduceRight(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      true\n    );\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, true));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, true));\n  },\n\n  some: function some(predicate, context) {\n    return !this.every(not(predicate), context);\n  },\n\n  sort: function sort(comparator) {\n    return reify(this, sortFactory(this, comparator));\n  },\n\n  values: function values() {\n    return this.__iterator(ITERATE_VALUES);\n  },\n\n  // ### More sequential methods\n\n  butLast: function butLast() {\n    return this.slice(0, -1);\n  },\n\n  isEmpty: function isEmpty() {\n    return this.size !== undefined ? this.size === 0 : !this.some(function () { return true; });\n  },\n\n  count: function count(predicate, context) {\n    return ensureSize(\n      predicate ? this.toSeq().filter(predicate, context) : this\n    );\n  },\n\n  countBy: function countBy(grouper, context) {\n    return countByFactory(this, grouper, context);\n  },\n\n  equals: function equals(other) {\n    return deepEqual(this, other);\n  },\n\n  entrySeq: function entrySeq() {\n    var collection = this;\n    if (collection._cache) {\n      // We cache as an entries array, so we can just return the cache!\n      return new ArraySeq(collection._cache);\n    }\n    var entriesSequence = collection.toSeq().map(entryMapper).toIndexedSeq();\n    entriesSequence.fromEntrySeq = function () { return collection.toSeq(); };\n\n    // Entries are plain Array, which do not define toJS, so it must\n    // manually converts keys and values before conversion.\n    entriesSequence.toJS = function() {\n      return this.map(function (entry) { return [toJS(entry[0]), toJS(entry[1])]; }).toJSON();\n    };\n\n    return entriesSequence;\n  },\n\n  filterNot: function filterNot(predicate, context) {\n    return this.filter(not(predicate), context);\n  },\n\n  findEntry: function findEntry(predicate, context, notSetValue) {\n    var found = notSetValue;\n    this.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        found = [k, v];\n        return false;\n      }\n    });\n    return found;\n  },\n\n  findKey: function findKey(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry && entry[0];\n  },\n\n  findLast: function findLast(predicate, context, notSetValue) {\n    return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n  },\n\n  findLastEntry: function findLastEntry(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findEntry(predicate, context, notSetValue);\n  },\n\n  findLastKey: function findLastKey(predicate, context) {\n    return this.toKeyedSeq().reverse().findKey(predicate, context);\n  },\n\n  first: function first() {\n    return this.find(returnTrue);\n  },\n\n  flatMap: function flatMap(mapper, context) {\n    return reify(this, flatMapFactory(this, mapper, context));\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, true));\n  },\n\n  fromEntrySeq: function fromEntrySeq() {\n    return new FromEntriesSequence(this);\n  },\n\n  get: function get(searchKey, notSetValue) {\n    return this.find(function (_, key) { return is(key, searchKey); }, undefined, notSetValue);\n  },\n\n  getIn: function getIn(searchKeyPath, notSetValue) {\n    var nested = this;\n    var keyPath = coerceKeyPath(searchKeyPath);\n    var i = 0;\n    while (i !== keyPath.length) {\n      if (!nested || !nested.get) {\n        throw new TypeError(\n          'Invalid keyPath: Value at [' +\n            keyPath.slice(0, i).map(quoteString) +\n            '] does not have a .get() method: ' +\n            nested\n        );\n      }\n      nested = nested.get(keyPath[i++], NOT_SET);\n      if (nested === NOT_SET) {\n        return notSetValue;\n      }\n    }\n    return nested;\n    // var step;\n    // while (!(step = iter.next()).done) {\n    //   var key = step.value;\n    //   nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n    //   if (nested === NOT_SET) {\n    //     return notSetValue;\n    //   }\n    // }\n    // return nested;\n  },\n\n  groupBy: function groupBy(grouper, context) {\n    return groupByFactory(this, grouper, context);\n  },\n\n  has: function has(searchKey) {\n    return this.get(searchKey, NOT_SET) !== NOT_SET;\n  },\n\n  hasIn: function hasIn(searchKeyPath) {\n    return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n  },\n\n  isSubset: function isSubset(iter) {\n    iter = typeof iter.includes === 'function' ? iter : Collection(iter);\n    return this.every(function (value) { return iter.includes(value); });\n  },\n\n  isSuperset: function isSuperset(iter) {\n    iter = typeof iter.isSubset === 'function' ? iter : Collection(iter);\n    return iter.isSubset(this);\n  },\n\n  keyOf: function keyOf(searchValue) {\n    return this.findKey(function (value) { return is(value, searchValue); });\n  },\n\n  keySeq: function keySeq() {\n    return this.toSeq().map(keyMapper).toIndexedSeq();\n  },\n\n  last: function last() {\n    return this.toSeq().reverse().first();\n  },\n\n  lastKeyOf: function lastKeyOf(searchValue) {\n    return this.toKeyedSeq().reverse().keyOf(searchValue);\n  },\n\n  max: function max(comparator) {\n    return maxFactory(this, comparator);\n  },\n\n  maxBy: function maxBy(mapper, comparator) {\n    return maxFactory(this, comparator, mapper);\n  },\n\n  min: function min(comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator\n    );\n  },\n\n  minBy: function minBy(mapper, comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator,\n      mapper\n    );\n  },\n\n  rest: function rest() {\n    return this.slice(1);\n  },\n\n  skip: function skip(amount) {\n    return amount === 0 ? this : this.slice(Math.max(0, amount));\n  },\n\n  skipLast: function skipLast(amount) {\n    return amount === 0 ? this : this.slice(0, -Math.max(0, amount));\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, true));\n  },\n\n  skipUntil: function skipUntil(predicate, context) {\n    return this.skipWhile(not(predicate), context);\n  },\n\n  sortBy: function sortBy(mapper, comparator) {\n    return reify(this, sortFactory(this, comparator, mapper));\n  },\n\n  take: function take(amount) {\n    return this.slice(0, Math.max(0, amount));\n  },\n\n  takeLast: function takeLast(amount) {\n    return this.slice(-Math.max(0, amount));\n  },\n\n  takeWhile: function takeWhile(predicate, context) {\n    return reify(this, takeWhileFactory(this, predicate, context));\n  },\n\n  takeUntil: function takeUntil(predicate, context) {\n    return this.takeWhile(not(predicate), context);\n  },\n\n  update: function update(fn) {\n    return fn(this);\n  },\n\n  valueSeq: function valueSeq() {\n    return this.toIndexedSeq();\n  },\n\n  // ### Hashable Object\n\n  hashCode: function hashCode() {\n    return this.__hash || (this.__hash = hashCollection(this));\n  }\n\n  // ### Internal\n\n  // abstract __iterate(fn, reverse)\n\n  // abstract __iterator(type, reverse)\n});\n\nvar CollectionPrototype = Collection.prototype;\nCollectionPrototype[IS_ITERABLE_SENTINEL] = true;\nCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.values;\nCollectionPrototype.toJSON = CollectionPrototype.toArray;\nCollectionPrototype.__toStringMapper = quoteString;\nCollectionPrototype.inspect = (CollectionPrototype.toSource = function() {\n  return this.toString();\n});\nCollectionPrototype.chain = CollectionPrototype.flatMap;\nCollectionPrototype.contains = CollectionPrototype.includes;\n\nmixin(KeyedCollection, {\n  // ### More sequential methods\n\n  flip: function flip() {\n    return reify(this, flipFactory(this));\n  },\n\n  mapEntries: function mapEntries(mapper, context) {\n    var this$1 = this;\n\n    var iterations = 0;\n    return reify(\n      this,\n      this.toSeq()\n        .map(function (v, k) { return mapper.call(context, [k, v], iterations++, this$1); })\n        .fromEntrySeq()\n    );\n  },\n\n  mapKeys: function mapKeys(mapper, context) {\n    var this$1 = this;\n\n    return reify(\n      this,\n      this.toSeq().flip().map(function (k, v) { return mapper.call(context, k, v, this$1); }).flip()\n    );\n  }\n});\n\nvar KeyedCollectionPrototype = KeyedCollection.prototype;\nKeyedCollectionPrototype[IS_KEYED_SENTINEL] = true;\nKeyedCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.entries;\nKeyedCollectionPrototype.toJSON = CollectionPrototype.toObject;\nKeyedCollectionPrototype.__toStringMapper = function (v, k) { return quoteString(k) + ': ' + quoteString(v); };\n\nmixin(IndexedCollection, {\n  // ### Conversion to other types\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, false);\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, false));\n  },\n\n  findIndex: function findIndex(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  indexOf: function indexOf(searchValue) {\n    var key = this.keyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  lastIndexOf: function lastIndexOf(searchValue) {\n    var key = this.lastKeyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, false));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, false));\n  },\n\n  splice: function splice(index, removeNum /*, ...values*/) {\n    var numArgs = arguments.length;\n    removeNum = Math.max(removeNum || 0, 0);\n    if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n      return this;\n    }\n    // If index is negative, it should resolve relative to the size of the\n    // collection. However size may be expensive to compute if not cached, so\n    // only call count() if the number is in fact negative.\n    index = resolveBegin(index, index < 0 ? this.count() : this.size);\n    var spliced = this.slice(0, index);\n    return reify(\n      this,\n      numArgs === 1\n        ? spliced\n        : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n    );\n  },\n\n  // ### More collection methods\n\n  findLastIndex: function findLastIndex(predicate, context) {\n    var entry = this.findLastEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  first: function first() {\n    return this.get(0);\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, false));\n  },\n\n  get: function get(index, notSetValue) {\n    index = wrapIndex(this, index);\n    return index < 0 ||\n      (this.size === Infinity || (this.size !== undefined && index > this.size))\n      ? notSetValue\n      : this.find(function (_, key) { return key === index; }, undefined, notSetValue);\n  },\n\n  has: function has(index) {\n    index = wrapIndex(this, index);\n    return index >= 0 &&\n      (this.size !== undefined\n        ? this.size === Infinity || index < this.size\n        : this.indexOf(index) !== -1);\n  },\n\n  interpose: function interpose(separator) {\n    return reify(this, interposeFactory(this, separator));\n  },\n\n  interleave: function interleave(/*...collections*/) {\n    var collections = [this].concat(arrCopy(arguments));\n    var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, collections);\n    var interleaved = zipped.flatten(true);\n    if (zipped.size) {\n      interleaved.size = zipped.size * collections.length;\n    }\n    return reify(this, interleaved);\n  },\n\n  keySeq: function keySeq() {\n    return Range(0, this.size);\n  },\n\n  last: function last() {\n    return this.get(-1);\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, false));\n  },\n\n  zip: function zip(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections));\n  },\n\n  zipWith: function zipWith(zipper /*, ...collections */) {\n    var collections = arrCopy(arguments);\n    collections[0] = this;\n    return reify(this, zipWithFactory(this, zipper, collections));\n  }\n});\n\nvar IndexedCollectionPrototype = IndexedCollection.prototype;\nIndexedCollectionPrototype[IS_INDEXED_SENTINEL] = true;\nIndexedCollectionPrototype[IS_ORDERED_SENTINEL] = true;\n\nmixin(SetCollection, {\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  get: function get(value, notSetValue) {\n    return this.has(value) ? value : notSetValue;\n  },\n\n  includes: function includes(value) {\n    return this.has(value);\n  },\n\n  // ### More sequential methods\n\n  keySeq: function keySeq() {\n    return this.valueSeq();\n  }\n});\n\nSetCollection.prototype.has = CollectionPrototype.includes;\nSetCollection.prototype.contains = SetCollection.prototype.includes;\n\n// Mixin subclasses\n\nmixin(KeyedSeq, KeyedCollection.prototype);\nmixin(IndexedSeq, IndexedCollection.prototype);\nmixin(SetSeq, SetCollection.prototype);\n\n// #pragma Helper functions\n\nfunction reduce(collection, reducer, reduction, context, useFirst, reverse) {\n  assertNotInfinite(collection.size);\n  collection.__iterate(\n    function (v, k, c) {\n      if (useFirst) {\n        useFirst = false;\n        reduction = v;\n      } else {\n        reduction = reducer.call(context, reduction, v, k, c);\n      }\n    },\n    reverse\n  );\n  return reduction;\n}\n\nfunction keyMapper(v, k) {\n  return k;\n}\n\nfunction entryMapper(v, k) {\n  return [k, v];\n}\n\nfunction toJS(value) {\n  return value && typeof value.toJS === 'function' ? value.toJS() : value;\n}\n\nfunction not(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n\nfunction neg(predicate) {\n  return function() {\n    return -predicate.apply(this, arguments);\n  };\n}\n\nfunction defaultZipper() {\n  return arrCopy(arguments);\n}\n\nfunction defaultNegComparator(a, b) {\n  return a < b ? 1 : a > b ? -1 : 0;\n}\n\nfunction hashCollection(collection) {\n  if (collection.size === Infinity) {\n    return 0;\n  }\n  var ordered = isOrdered(collection);\n  var keyed = isKeyed(collection);\n  var h = ordered ? 1 : 0;\n  var size = collection.__iterate(\n    keyed\n      ? ordered\n          ? function (v, k) {\n              h = 31 * h + hashMerge(hash(v), hash(k)) | 0;\n            }\n          : function (v, k) {\n              h = h + hashMerge(hash(v), hash(k)) | 0;\n            }\n      : ordered\n          ? function (v) {\n              h = 31 * h + hash(v) | 0;\n            }\n          : function (v) {\n              h = h + hash(v) | 0;\n            }\n  );\n  return murmurHashOfSize(size, h);\n}\n\nfunction murmurHashOfSize(size, h) {\n  h = imul(h, 0xcc9e2d51);\n  h = imul(h << 15 | h >>> -15, 0x1b873593);\n  h = imul(h << 13 | h >>> -13, 5);\n  h = (h + 0xe6546b64 | 0) ^ size;\n  h = imul(h ^ h >>> 16, 0x85ebca6b);\n  h = imul(h ^ h >>> 13, 0xc2b2ae35);\n  h = smi(h ^ h >>> 16);\n  return h;\n}\n\nfunction hashMerge(a, b) {\n  return a ^ b + 0x9e3779b9 + (a << 6) + (a >> 2) | 0; // int\n}\n\nvar OrderedSet = (function (Set$$1) {\n  function OrderedSet(value) {\n    return value === null || value === undefined\n      ? emptyOrderedSet()\n      : isOrderedSet(value)\n          ? value\n          : emptyOrderedSet().withMutations(function (set) {\n              var iter = SetCollection(value);\n              assertNotInfinite(iter.size);\n              iter.forEach(function (v) { return set.add(v); });\n            });\n  }\n\n  if ( Set$$1 ) OrderedSet.__proto__ = Set$$1;\n  OrderedSet.prototype = Object.create( Set$$1 && Set$$1.prototype );\n  OrderedSet.prototype.constructor = OrderedSet;\n\n  OrderedSet.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedSet.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  OrderedSet.prototype.toString = function toString () {\n    return this.__toString('OrderedSet {', '}');\n  };\n\n  return OrderedSet;\n}(Set));\n\nfunction isOrderedSet(maybeOrderedSet) {\n  return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n}\n\nOrderedSet.isOrderedSet = isOrderedSet;\n\nvar OrderedSetPrototype = OrderedSet.prototype;\nOrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\nOrderedSetPrototype.zip = IndexedCollectionPrototype.zip;\nOrderedSetPrototype.zipWith = IndexedCollectionPrototype.zipWith;\n\nOrderedSetPrototype.__empty = emptyOrderedSet;\nOrderedSetPrototype.__make = makeOrderedSet;\n\nfunction makeOrderedSet(map, ownerID) {\n  var set = Object.create(OrderedSetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_ORDERED_SET;\nfunction emptyOrderedSet() {\n  return EMPTY_ORDERED_SET ||\n    (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n}\n\nvar Record = function Record(defaultValues, name) {\n  var hasInitialized;\n\n  var RecordType = function Record(values) {\n    var this$1 = this;\n\n    if (values instanceof RecordType) {\n      return values;\n    }\n    if (!(this instanceof RecordType)) {\n      return new RecordType(values);\n    }\n    if (!hasInitialized) {\n      hasInitialized = true;\n      var keys = Object.keys(defaultValues);\n      var indices = (RecordTypePrototype._indices = {});\n      RecordTypePrototype._name = name;\n      RecordTypePrototype._keys = keys;\n      RecordTypePrototype._defaultValues = defaultValues;\n      for (var i = 0; i < keys.length; i++) {\n        var propName = keys[i];\n        indices[propName] = i;\n        if (RecordTypePrototype[propName]) {\n          /* eslint-disable no-console */\n          typeof console === 'object' &&\n            console.warn &&\n            console.warn(\n              'Cannot define ' +\n                recordName(this$1) +\n                ' with property \"' +\n                propName +\n                '\" since that property name is part of the Record API.'\n            );\n          /* eslint-enable no-console */\n        } else {\n          setProp(RecordTypePrototype, propName);\n        }\n      }\n    }\n    this.__ownerID = undefined;\n    this._values = List().withMutations(function (l) {\n      l.setSize(this$1._keys.length);\n      KeyedCollection(values).forEach(function (v, k) {\n        l.set(this$1._indices[k], v === this$1._defaultValues[k] ? undefined : v);\n      });\n    });\n  };\n\n  var RecordTypePrototype = (RecordType.prototype = Object.create(\n    RecordPrototype\n  ));\n  RecordTypePrototype.constructor = RecordType;\n\n  return RecordType;\n};\n\nRecord.prototype.toString = function toString () {\n    var this$1 = this;\n\n  var str = recordName(this) + ' { ';\n  var keys = this._keys;\n  var k;\n  for (var i = 0, l = keys.length; i !== l; i++) {\n    k = keys[i];\n    str += (i ? ', ' : '') + k + ': ' + quoteString(this$1.get(k));\n  }\n  return str + ' }';\n};\n\nRecord.prototype.equals = function equals (other) {\n  return this === other ||\n    (this._keys === other._keys && recordSeq(this).equals(recordSeq(other)));\n};\n\nRecord.prototype.hashCode = function hashCode () {\n  return recordSeq(this).hashCode();\n};\n\n// @pragma Access\n\nRecord.prototype.has = function has (k) {\n  return this._indices.hasOwnProperty(k);\n};\n\nRecord.prototype.get = function get (k, notSetValue) {\n  if (!this.has(k)) {\n    return notSetValue;\n  }\n  var index = this._indices[k];\n  var value = this._values.get(index);\n  return value === undefined ? this._defaultValues[k] : value;\n};\n\n// @pragma Modification\n\nRecord.prototype.set = function set (k, v) {\n  if (this.has(k)) {\n    var newValues = this._values.set(\n      this._indices[k],\n      v === this._defaultValues[k] ? undefined : v\n    );\n    if (newValues !== this._values && !this.__ownerID) {\n      return makeRecord(this, newValues);\n    }\n  }\n  return this;\n};\n\nRecord.prototype.remove = function remove (k) {\n  return this.set(k);\n};\n\nRecord.prototype.clear = function clear () {\n  var newValues = this._values.clear().setSize(this._keys.length);\n  return this.__ownerID ? this : makeRecord(this, newValues);\n};\n\nRecord.prototype.wasAltered = function wasAltered () {\n  return this._values.wasAltered();\n};\n\nRecord.prototype.toSeq = function toSeq () {\n  return recordSeq(this);\n};\n\nRecord.prototype.toJS = function toJS () {\n  return recordSeq(this).toJS();\n};\n\nRecord.prototype.__iterator = function __iterator (type, reverse) {\n  return recordSeq(this).__iterator(type, reverse);\n};\n\nRecord.prototype.__iterate = function __iterate (fn, reverse) {\n  return recordSeq(this).__iterate(fn, reverse);\n};\n\nRecord.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n  if (ownerID === this.__ownerID) {\n    return this;\n  }\n  var newValues = this._values.__ensureOwner(ownerID);\n  if (!ownerID) {\n    this.__ownerID = ownerID;\n    this._values = newValues;\n    return this;\n  }\n  return makeRecord(this, newValues, ownerID);\n};\n\nRecord.isRecord = isRecord;\nRecord.getDescriptiveName = recordName;\nvar RecordPrototype = Record.prototype;\nRecordPrototype[IS_RECORD_SENTINEL] = true;\nRecordPrototype[DELETE] = RecordPrototype.remove;\nRecordPrototype.getIn = CollectionPrototype.getIn;\nRecordPrototype.hasIn = CollectionPrototype.hasIn;\nRecordPrototype.merge = MapPrototype.merge;\nRecordPrototype.mergeWith = MapPrototype.mergeWith;\nRecordPrototype.mergeIn = MapPrototype.mergeIn;\nRecordPrototype.mergeDeep = MapPrototype.mergeDeep;\nRecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\nRecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\nRecordPrototype.setIn = MapPrototype.setIn;\nRecordPrototype.update = MapPrototype.update;\nRecordPrototype.updateIn = MapPrototype.updateIn;\nRecordPrototype.withMutations = MapPrototype.withMutations;\nRecordPrototype.asMutable = MapPrototype.asMutable;\nRecordPrototype.asImmutable = MapPrototype.asImmutable;\nRecordPrototype[ITERATOR_SYMBOL] = CollectionPrototype.entries;\nRecordPrototype.toJSON = (RecordPrototype.toObject = CollectionPrototype.toObject);\nRecordPrototype.inspect = (RecordPrototype.toSource = CollectionPrototype.toSource);\n\nfunction makeRecord(likeRecord, values, ownerID) {\n  var record = Object.create(Object.getPrototypeOf(likeRecord));\n  record._values = values;\n  record.__ownerID = ownerID;\n  return record;\n}\n\nfunction recordName(record) {\n  return record._name || record.constructor.name || 'Record';\n}\n\nfunction recordSeq(record) {\n  return keyedSeqFromValue(record._keys.map(function (k) { return [k, record.get(k)]; }));\n}\n\nfunction setProp(prototype, name) {\n  try {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  } catch (error) {\n    // Object.defineProperty failed. Probably IE8.\n  }\n}\n\n/**\n * Returns a lazy Seq of `value` repeated `times` times. When `times` is\n * undefined, returns an infinite sequence of `value`.\n */\nvar Repeat = (function (IndexedSeq$$1) {\n  function Repeat(value, times) {\n    if (!(this instanceof Repeat)) {\n      return new Repeat(value, times);\n    }\n    this._value = value;\n    this.size = times === undefined ? Infinity : Math.max(0, times);\n    if (this.size === 0) {\n      if (EMPTY_REPEAT) {\n        return EMPTY_REPEAT;\n      }\n      EMPTY_REPEAT = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Repeat.__proto__ = IndexedSeq$$1;\n  Repeat.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Repeat.prototype.constructor = Repeat;\n\n  Repeat.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Repeat []';\n    }\n    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n  };\n\n  Repeat.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._value : notSetValue;\n  };\n\n  Repeat.prototype.includes = function includes (searchValue) {\n    return is(this._value, searchValue);\n  };\n\n  Repeat.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    return wholeSlice(begin, end, size)\n      ? this\n      : new Repeat(\n          this._value,\n          resolveEnd(end, size) - resolveBegin(begin, size)\n        );\n  };\n\n  Repeat.prototype.reverse = function reverse () {\n    return this;\n  };\n\n  Repeat.prototype.indexOf = function indexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return 0;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return this.size;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var size = this.size;\n    var i = 0;\n    while (i !== size) {\n      if (fn(this$1._value, reverse ? size - ++i : i++, this$1) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  Repeat.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var size = this.size;\n    var i = 0;\n    return new Iterator(\n      function () { return i === size\n          ? iteratorDone()\n          : iteratorValue(type, reverse ? size - ++i : i++, this$1._value); }\n    );\n  };\n\n  Repeat.prototype.equals = function equals (other) {\n    return other instanceof Repeat\n      ? is(this._value, other._value)\n      : deepEqual(other);\n  };\n\n  return Repeat;\n}(IndexedSeq));\n\nvar EMPTY_REPEAT;\n\nvar Immutable = {\n  Collection: Collection,\n  // Note: Iterable is deprecated\n  Iterable: Collection,\n\n  Seq: Seq,\n  Map: Map,\n  OrderedMap: OrderedMap,\n  List: List,\n  Stack: Stack,\n  Set: Set,\n  OrderedSet: OrderedSet,\n\n  Record: Record,\n  Range: Range,\n  Repeat: Repeat,\n\n  is: is,\n  fromJS: fromJS,\n  hash: hash,\n\n  isImmutable: isImmutable,\n  isCollection: isCollection,\n  isKeyed: isKeyed,\n  isIndexed: isIndexed,\n  isAssociative: isAssociative,\n  isOrdered: isOrdered,\n  isValueObject: isValueObject\n};\n\n// Note: Iterable is deprecated\nvar Iterable = Collection;\n\nexports['default'] = Immutable;\nexports.Collection = Collection;\nexports.Iterable = Iterable;\nexports.Seq = Seq;\nexports.Map = Map;\nexports.OrderedMap = OrderedMap;\nexports.List = List;\nexports.Stack = Stack;\nexports.Set = Set;\nexports.OrderedSet = OrderedSet;\nexports.Record = Record;\nexports.Range = Range;\nexports.Repeat = Repeat;\nexports.is = is;\nexports.fromJS = fromJS;\nexports.hash = hash;\nexports.isImmutable = isImmutable;\nexports.isCollection = isCollection;\nexports.isKeyed = isKeyed;\nexports.isIndexed = isIndexed;\nexports.isAssociative = isAssociative;\nexports.isOrdered = isOrdered;\nexports.isValueObject = isValueObject;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","import {\n    Dangle,\n    Direction,\n    Edge,\n    EdgeOperation,\n    Face,\n    faces,\n    Matrix2,\n    make_matrix2,\n    Partition,\n    Point2,\n } from './datatypes';\n\nimport {is, List, Map, Set} from 'immutable';\n\nlet face_vertices = Map<Face, Matrix2>([\n    [Face.t, make_matrix2([\n        [0,  1,  2 ],\n        [9,  25, 15],\n        [16, 24, 22]])],\n    [Face.b, make_matrix2([\n        [20, 19, 18],\n        [13, 12, 11],\n        [8,  7,  6 ]])],\n    [Face.n, make_matrix2([\n        [2,  1,  0 ],\n        [5,  4,  3 ],\n        [8,  7,  6 ]])],\n    [Face.e, make_matrix2([\n        [22, 15, 2 ],\n        [21, 14, 5 ],\n        [20, 13, 8 ]])],\n    [Face.s, make_matrix2([\n        [16, 24, 22],\n        [17, 23, 21],\n        [18, 19, 20]])],\n    [Face.w, make_matrix2([\n        [0,  9,  16],\n        [3,  10, 17],\n        [6,  11, 18]])]\n]);\n\nlet face_quadrants = Map<Face, Matrix2>([\n    [Face.t, make_matrix2([\n        [0,  1 ],\n        [2,  3 ]])],\n    [Face.b, make_matrix2([\n        [4,  5 ],\n        [6,  7 ]])],\n    [Face.n, make_matrix2([\n        [8,  9 ],\n        [10, 11]])],\n    [Face.e, make_matrix2([\n        [12, 13],\n        [14, 15]])],\n    [Face.s, make_matrix2([\n        [16, 17],\n        [18, 19]])],\n    [Face.w, make_matrix2([\n        [20, 21],\n        [22, 23]])],\n]);\n\nfunction build_edge_quadrant_mappings(): [Map<number, List<Edge>>, Map<Edge, List<number>>] {\n    let quadrant_2_edges = Map<number, List<Edge>>();\n    let edge_2_quadrants = Map<Edge, List<number>>();\n\n    for (let f of faces){\n        let vs = face_vertices.get(f);\n        let qs = face_quadrants.get(f);\n        for (let [x, y] of [[0,0], [1,0], [0,1], [1,1]]){\n            let q_edges = get_quadrant_edges(vs, x, y);\n            quadrant_2_edges = quadrant_2_edges.set(qs.get(x, y), q_edges);\n            q_edges.forEach(function (qe) {\n                let q = qs.get(x, y);\n                if (edge_2_quadrants.has(qe)) {\n                    edge_2_quadrants = edge_2_quadrants.update(qe, (xs) => xs.push(q));\n                } else {\n                    edge_2_quadrants = edge_2_quadrants.set(qe, List<number>([q]));\n                }\n            });\n        }\n    }\n\n    return [quadrant_2_edges, edge_2_quadrants];\n}\n\nfunction get_quadrant_edges(m: Matrix2, x: number, y: number): List<Edge> {\n    let offsets = [\n        [0,0,0,1],\n        [0,0,1,0],\n        [1,1,0,1],\n        [1,1,1,0]\n    ];\n    let edges = List<Edge>();\n    for (let [x1, y1, x2, y2] of offsets){\n        let e1 = m.get(x+x1, y+y1);\n        let e2 = m.get(x+x2, y+y2);\n        if (e2 < e1){\n            edges = edges.push(new Edge(e2, e1));\n        } else {\n            edges = edges.push(new Edge(e1, e2));\n        }\n    }\n    return edges;\n}\n\nexport let [quadrant_2_edges, edge_2_quadrants] = build_edge_quadrant_mappings();\n\nfunction get_quadrant_partition(quadrant: number, cut_edges: List<Edge>) {\n    let current_partition = Set<number>([quadrant]).asMutable();\n    let horizon = List<Edge>(quadrant_2_edges.get(quadrant)).asMutable();\n\n    while (horizon.size > 0){\n        let e = horizon.first(); horizon = horizon.shift();\n        if (cut_edges.contains(e)){\n            continue;\n        }\n        let next_qs = Set<number>(edge_2_quadrants.get(e));\n        let new_qs = next_qs.subtract(current_partition);\n        if (new_qs.size > 0) {\n            new_qs.forEach(function (q){\n                horizon.push(...quadrant_2_edges.get(q).toArray());\n                current_partition.add(q);\n            });\n        }\n    }\n    return current_partition.asImmutable();\n}\n\nfunction range(x: number){\n    let arr: number[] = [];\n    for (let i = 0; i < x; i++){\n         arr.push(i);\n    } \n    return arr;\n}\n\nfunction get_partitions(cut_edges: List<Edge>){\n    let partitions = List<Partition>().asMutable();\n    let quadrants = Set<number>(range(24)).asMutable();\n    while (quadrants.size > 0){\n        let q = quadrants.first(); quadrants.remove(q);\n        let partition = get_quadrant_partition(q, cut_edges);\n        partitions.push(partition);\n        quadrants.subtract(partition);\n    }\n    return partitions.asImmutable();\n}\n\nexport class FaceMesh {\n    readonly vertices: Matrix2;\n    readonly quadrants: Matrix2;\n\n    constructor(vertices: Matrix2, quadrants: Matrix2){\n        this.vertices = vertices;\n        this.quadrants = quadrants;\n    }\n\n    rotate(degrees: number) {\n        return new FaceMesh(this.vertices.rotate(degrees), this.quadrants.rotate(degrees));\n    }\n}\n\ninterface BoxMeshParams {\n    dimensions?: [number, number, number],\n    face_meshes?: Map<Face, FaceMesh>,\n    cut_edges?: List<Edge>\n}\n\nexport class BoxMesh{\n    readonly dimensions: [number, number, number];\n    readonly face_meshes: Map<Face, FaceMesh>;\n    readonly cut_edges: List<Edge>;\n\n    constructor({dimensions, face_meshes, cut_edges}: BoxMeshParams){\n        this.dimensions = dimensions;\n        \n        if (face_meshes === undefined) {\n            face_meshes = Map<Face, FaceMesh>();\n            for (let f of faces){\n                face_meshes = face_meshes.set(f,\n                    new FaceMesh(face_vertices.get(f), face_quadrants.get(f)));\n            }\n        }\n        this.face_meshes = face_meshes;\n\n        if (cut_edges === undefined){\n            cut_edges = List<Edge>();\n        }\n        this.cut_edges = cut_edges;\n    }\n\n    update({dimensions, face_meshes, cut_edges}: BoxMeshParams){\n        if (dimensions === undefined){\n            dimensions = this.dimensions;\n        }\n\n        if (face_meshes === undefined){\n            face_meshes = this.face_meshes;\n        }\n\n        if (cut_edges === undefined){\n            cut_edges = this.cut_edges;\n        }\n        return new BoxMesh({dimensions, face_meshes, cut_edges});\n    }\n\n    cut(face: Face, start: Point2, end: Point2){\n        return this.cut_or_tape(EdgeOperation.cut, face, start, end);\n    }\n\n    tape(face: Face, start: Point2, end: Point2){\n        return this.cut_or_tape(EdgeOperation.tape, face, start, end);\n    }\n\n    cut_or_tape(operation: EdgeOperation, face: Face, start: Point2, end: Point2): BoxMesh {\n        let [x1, y1] = start;\n        let [x2, y2] = end;\n\n        if (Math.abs(x2 - x1) + Math.abs(y2 - y1) != 1){\n            throw `start and end points of cut/tape are not adjacent: ${start} and ${end}`;\n        }\n\n        let f = this.face_meshes.get(face).vertices;\n        let fs = f.get(x1, y1);\n        let fe = f.get(x2, y2);\n\n        let new_edge = new Edge(fs, fe);\n\n        let new_cut_edges = this.cut_edges;\n        if (operation == EdgeOperation.cut && !new_cut_edges.contains(new_edge)) {\n            new_cut_edges = new_cut_edges.push(new_edge);\n        }\n\n        if (operation == EdgeOperation.tape && new_cut_edges.contains(new_edge)) {\n            new_cut_edges = new_cut_edges.remove(new_cut_edges.indexOf(new_edge));\n        }\n\n        return this.update({cut_edges: new_cut_edges});\n    }\n\n    get_rends() {\n        return get_partitions(this.cut_edges);\n    }\n\n    get_free_rends() {\n        return this.get_rends().filter(x => !this.is_partition_fixed(x));\n    }\n\n    is_partition_fixed(partition: Set<number>) {\n        let face_membership = this.get_partition_face_membership(partition);\n        return face_membership.get(Face.b) > 0;\n    }\n\n    get_partition_face_membership(partition: Partition) {\n        let face_membership = Map<Face, number>().asMutable();\n        for (let f of faces) {\n            let total = 0;\n            let quadrants = this.face_meshes.get(f).quadrants;\n            partition.forEach(function (q) {\n                if (quadrants.contains(q)){\n                    total += 1;\n                }\n            });\n            face_membership.set(f, total);\n        }\n        return face_membership.asImmutable();\n    }\n\n    get_quadrant_face(quadrant: number){\n        for (let f of faces){\n            if (this.face_meshes.get(f).quadrants.contains(quadrant)) {\n                return f;\n            }\n        }\n    }\n\n    get_dangles() {\n        let rends = this.get_rends();\n        let fixed_rends = rends.filter(x => this.is_partition_fixed(x));\n\n        let dangles = List<Dangle>().asMutable();\n        let inner_this = this;\n\n        this.get_box_edges().forEach(function ([e1, e2]) {\n            let e_2_q_2_f = Map<Edge, Map<number, Face>>().asMutable();\n            for (let e of [e1, e2]){ //initialize e_2_q_2_f\n                let inner_map = Map<number, Face>().asMutable();\n                edge_2_quadrants.get(e).forEach(function (q) {\n                    inner_map.set(q, inner_this.get_quadrant_face(q));\n                });\n                 inner_map = inner_map.asImmutable()\n                e_2_q_2_f.set(e, inner_map);\n            }\n            e_2_q_2_f = e_2_q_2_f.asImmutable();\n\n            let edge_dangles = List<Dangle>().asMutable();\n\n            for (let es of [[e1, e2], [e1], [e2]]) {\n                let new_cut_edges = inner_this.cut_edges.push(...es);\n                let new_partitions = get_partitions(new_cut_edges);\n\n                if (new_partitions.size != rends.size) {\n\n                    new_partitions.forEach(function (np) {\n                        if (rends.contains(np)){\n                            return;\n                        }\n\n                        if (inner_this.is_partition_fixed(np)) {\n                            return;\n                        }\n\n                        let any_intersections = false;\n                        fixed_rends.forEach(function (fixed_rend) {\n                            if (np.intersect(fixed_rend).size > 0){\n                                any_intersections = true;\n                            }\n                        });\n                        if (!any_intersections) {\n                            return;\n                        }\n\n                        let any_dangle_matches = false;\n                        edge_dangles.forEach(function (ed) {\n                            if (is(np, ed.partition)){\n                                any_dangle_matches = true;\n                                return;\n                            }\n                        });\n                        if (any_dangle_matches){\n                            return;\n                        }\n\n                        let q_2_fs = List<Map<number, Face>>().asMutable();\n                        for (let e of es) {\n                            q_2_fs.push(e_2_q_2_f.get(e));\n                        }\n                        q_2_fs = q_2_fs.asImmutable();\n\n                        let fixed_fs = List<Face>().asMutable();\n                        let dangle_fs = List<Face>().asMutable();\n\n                        q_2_fs.forEach(function (q_2_f) {\n                            q_2_f.entrySeq().forEach(function ([q, f]) {\n                                if (np.contains(q)) {\n                                    dangle_fs = dangle_fs.push(f);\n                                } else {\n                                    fixed_fs = fixed_fs.push(f);\n                                }\n                            });\n                        });\n                        fixed_fs = fixed_fs.asImmutable();\n                        dangle_fs = dangle_fs.asImmutable();\n\n                        if (fixed_fs.toSet().size != 1 || dangle_fs.toSet().size != 1) {\n                            return;\n                        }\n\n                        edge_dangles.push(new Dangle(\n                            np, List<Edge>(es), fixed_fs.get(0), dangle_fs.get(0)));\n                    });\n                }\n            }\n            edge_dangles = edge_dangles.asImmutable();\n            dangles.push(...edge_dangles.toArray());\n        });\n        dangles = List<Dangle>(dangles.sortBy(x => x.partition.size));\n\n        let final_dangles = List<Dangle>().asMutable();\n\n        for (let i = 0; i < dangles.size; i++) {\n            let p = dangles.get(i).partition;\n\n            let any_supersets = false;\n            dangles.skip(i+1).forEach(function (d) {\n                if (p.isSubset(d.partition)) {\n                    any_supersets = true;\n                }\n            })\n            if (!any_supersets) {\n                final_dangles.push(dangles.get(i));\n            }\n        }\n        final_dangles = final_dangles.asImmutable();\n\n        return final_dangles;\n    }\n\n    get_box_edges() {\n        let edges = List<[Edge, Edge]>();\n\n        let t_b_edge_coords: [number, number][][] = [\n            [[0,0], [0,1], [0,2]],\n            [[0,0], [1,0], [2,0]],\n            [[2,0], [2,1], [2,2]],\n            [[0,2], [1,2], [2,2]]\n        ];\n\n        for (let f of [Face.t, Face.b]) {\n            let m = this.face_meshes.get(f).vertices;\n\n            for (let [[p1x, p1y], [p2x, p2y], [p3x, p3y]] of t_b_edge_coords) {\n                let v1 = m.get(p1x, p1y);\n                let v2 = m.get(p2x, p2y);\n                let v3 = m.get(p3x, p3y);\n\n                let e1 = new Edge(v1, v2);\n\n                let e2 = new Edge(v2, v3);\n\n                edges = edges.push([e1, e2]);\n            }\n        }\n\n        for (let f of [Face.n, Face.e, Face.s, Face.w]) {\n            let m = this.face_meshes.get(f).vertices;\n\n            let v1 = m.get(0,0);\n            let v2 = m.get(0,1);\n            let v3 = m.get(0,2);\n\n            let e1 = new Edge(v1, v2);\n\n            let e2 = new Edge(v2, v3);\n\n            edges = edges.push([e1, e2]);\n\n        }\n        return edges;\n    }    \n\n    rotate_y(degrees: number) {\n        //validate degrees somehow\n\n        if (degrees == 0 || degrees == 360) {\n            return this;\n        }\n\n        let new_faces = rotate_y_faces(this.face_meshes, degrees);\n    \n        if (degrees = 180) {\n            return this.update({face_meshes: new_faces});\n        } else {\n            let [x, y, z] = this.dimensions;\n            return this.update({dimensions: [z, y, x], face_meshes: new_faces});\n        }\n    }\n\n    roll(direction: Direction){\n        let [x, y, z] = this.dimensions;\n        let new_x, new_y, new_z;\n        if (direction == Direction.n || direction == Direction.s) {\n            [new_x, new_y, new_z] = [x, y, z];\n        } else {\n            [new_x, new_y, new_z] = [y, x, z];\n        }\n\n        let new_faces = roll_faces(this.face_meshes, direction);\n\n        return this.update({dimensions: [new_x, new_y, new_z], face_meshes: new_faces});\n    }\n\n    description(){\n        let face_descr = Map<Face, string>([\n            [Face.t, 'top'],\n            [Face.b, 'bottom'],\n            [Face.n, 'back'],\n            [Face.e, 'right'],\n            [Face.s, 'front'],\n            [Face.w, 'left']\n        ]);\n\n        let [x, y, z] = this.dimensions;\n\n        let result = `The box's dimensions measure ${x} by ${y} by ${z}`;\n\n        let rends = this.get_free_rends();\n        let inner_this = this;\n\n        rends.forEach(function (fr) {\n            let face_membership = inner_this.get_partition_face_membership(fr);\n            let faces_present: Face[] =[];\n            for (let f of faces){\n                if (face_membership.get(f) > 0) {\n                    faces_present.push(f);\n                }\n            }\n\n            let faces_text: string;\n            if (faces_present.length == 1) {\n                faces_text = face_descr.get(faces_present[0]) + ' face';\n            } else {\n                faces_text = faces_present.slice(0, -1).map(f => face_descr.get(f)).join(', ');\n                faces_text += ` and ${face_descr.get(faces_present[faces_present.length-1])} faces`;\n            }\n\n            result += `\\nA portion of the box's ${faces_text} has been rended free; it lies on the floor off to the side.`;\n        });\n\n        let dangles = this.get_dangles();\n\n        dangles.forEach(function (d) {\n            let face_membership = inner_this.get_partition_face_membership(d.partition);\n            let faces_present: Face[] = [];\n            for (let f of faces){\n                if (face_membership.get(f) > 0) {\n                    faces_present.push(f);\n                }\n            }\n\n            let faces_text: string;\n            if (faces_present.length == 1) {\n                faces_text = face_descr.get(faces_present[0]) + ' face';\n            } else {\n                faces_text = faces_present.slice(0, -1).map(f => face_descr.get(f)).join(', ');\n                faces_text += ` and ${face_descr.get(faces_present[faces_present.length-1])} faces`;\n            }\n\n            result += `\\nA portion of the box's ${faces_text} sits on a free hinge; from the ${face_descr.get(d.free_face)} face it can be swung to the ${face_descr.get(d.fixed_face)}.`;\n        });\n\n        return result;\n    }\n}\n\nfunction rotate_y_faces(fs: Map<Face, FaceMesh>, degrees: number) {\n    if (degrees == 0 || degrees == 360) {\n        return fs;\n    }\n\n    let shift = degrees / 90;\n    let face_cycle = [Face.n, Face.w, Face.s, Face.e, Face.n, Face.w, Face.s, Face.e];\n\n    let new_faces = Map<Face, FaceMesh>();\n\n    for (let f of [Face.n, Face.e, Face.s, Face.w]){\n        let ind = face_cycle.indexOf(f);\n        new_faces = new_faces.set(f, fs.get(face_cycle[ind + shift]));\n    }\n\n    for (let f of [Face.t, Face.b]){\n        new_faces = new_faces.set(f, fs.get(f).rotate(degrees));\n    }\n\n    return new_faces;\n}\n\nfunction roll_faces(fs: Map<Face, FaceMesh>, direction: Direction){\n    let new_faces = Map<Face, FaceMesh>().asMutable();\n\n    if (direction == Direction.n) {\n        new_faces.set(\n            Face.n, fs.get(Face.t).rotate(180)).set(\n            Face.t, fs.get(Face.s)).set(\n            Face.s, fs.get(Face.b)).set(\n            Face.b, fs.get(Face.n).rotate(180)).set(\n            Face.e, fs.get(Face.e).rotate(90)).set(\n            Face.w, fs.get(Face.w).rotate(270));\n    } else if (direction == Direction.s) {\n        new_faces.set(\n            Face.s, fs.get(Face.t)).set(\n            Face.t, fs.get(Face.n).rotate(180)).set(\n            Face.n, fs.get(Face.b)).set(\n            Face.b, fs.get(Face.s).rotate(180)).set(\n            Face.e, fs.get(Face.e).rotate(270)).set(\n            Face.w, fs.get(Face.w).rotate(90));\n    } else if (direction == Direction.e) {\n        new_faces.set(\n            Face.e, fs.get(Face.t).rotate(90)).set(\n            Face.t, fs.get(Face.w).rotate(90)).set(\n            Face.w, fs.get(Face.b).rotate(270)).set(\n            Face.b, fs.get(Face.e).rotate(270)).set(\n            Face.n, fs.get(Face.n).rotate(270)).set(\n            Face.s, fs.get(Face.s).rotate(90));\n    } else if (direction == Direction.w) {\n        new_faces.set(\n            Face.w, fs.get(Face.t).rotate(270)).set(\n            Face.t, fs.get(Face.e).rotate(270)).set(\n            Face.e, fs.get(Face.b).rotate(90)).set(\n            Face.b, fs.get(Face.w).rotate(90)).set(\n            Face.n, fs.get(Face.n).rotate(90)).set(\n            Face.s, fs.get(Face.s).rotate(270));\n    }\n\n    return new_faces.asImmutable();\n}\n\n\nexport function test(){\n    let bm = new BoxMesh({dimensions: [2,3,4]});\n\n    let bm2 = bm.cut(Face.t, [0,0], [1,0]).cut(Face.t, [1,0], [1,1]).cut(Face.t, [1,1], [0,1]).cut(Face.t, [0,1], [0,0]);\n    let bm3 = bm2.cut(Face.t, [0,1], [0,2]).cut(Face.s, [0, 0], [0, 1]).cut(Face.s, [0,1], [1,1]).cut(Face.s, [1,1], [1,0]).cut(Face.t, [1, 2], [1,1])\n\n    let bm4 = bm.cut(Face.t, [0,0], [1,0]).roll(Direction.s).cut(Face.t, [0,2], [0,1]).cut(Face.t, [0,1], [1,1]).cut(Face.t, [1,1], [1,2]);\n\n    let bm5 = bm.cut(Face.n, [0,0], [1,0]).cut(Face.n, [1,0], [2,0]).cut(Face.n, [2,0], [2,1]).cut(Face.n, [2,1], [1,1]).cut(Face.n, [1,1], [0,1]).cut(Face.n, [1,1], [1, 0]).cut(Face.n, [0,1], [0,0]);\n\n    let bm6 = bm.cut(Face.t, [0,0], [0,1]).cut(Face.t, [0,1], [1,1]).cut(Face.t, [1,1], [1,0]);\n    let bm7 = bm2.cut(Face.t, [0,1], [0,2]).cut(Face.t, [1,1], [1,2]);\n\n    let bm8 = (bm.cut(Face.t, [0,0], [1,0]).cut(Face.t, [1,0], [2,0]).cut(Face.t, [2,0], [2,1]).cut(Face.t, [2,1], [2,2])\n             .cut(Face.t, [0,2], [0,1]).cut(Face.t, [0,1], [1,1]).cut(Face.t, [1,1], [1,2])\n             .cut(Face.s, [1,0], [1,1]).cut(Face.s, [1,1], [0,1])\n             .cut(Face.w, [0,0], [0,1]).cut(Face.w, [0,1], [1,1]).cut(Face.w, [1,1], [2,1]));\n\n    let bms: BoxMesh[] = [bm, bm2, bm3, bm4, bm5, bm6, bm7, bm8];\n    for (let i = 0; i < bms.length; i++) {\n        let b = bms[i];\n\n        console.log('Box #', i+1);\n        console.log();\n        console.log(b.description());\n        console.log();\n        console.log();\n    }\n}\n","import {Map} from 'immutable';\nimport {Direction, EdgeOperation, EdgeDirection, Face, RelativePosition, RendOperation} from './datatypes';\n\nexport type Token = string;\n\nexport type HorizPositionWord = 'left' | 'center' | 'right';\nexport type VertPositionWord = 'top' | 'middle' | 'bottom';\n\nexport type PositionWord = HorizPositionWord | VertPositionWord;\nexport let word_2_relative_position = Map<PositionWord, RelativePosition>([\n    ['left', RelativePosition.left],\n    ['center', RelativePosition.center],\n    ['right', RelativePosition.right],\n    ['top', RelativePosition.top],\n    ['middle', RelativePosition.middle],\n    ['bottom', RelativePosition.bottom]\n]);\n\nexport type FaceWord = 'back' | 'front' | 'right' | 'left' | 'top' | 'bottom';\nexport let word_2_face = Map<FaceWord, Face>([\n    ['back', Face.n],\n    ['front', Face.s],\n    ['right', Face.e],\n    ['left', Face.w],\n    ['top', Face.t],\n    ['bottom', Face.b]\n]);\n\nexport type RendOpWord = 'open' | 'close';\nexport let word_2_rend_op = Map<RendOpWord, RendOperation>([\n    ['open', RendOperation.open],\n    ['close', RendOperation.close]\n]);\n\nexport type EdgeOpWord = 'cut' | 'tape';\nexport let word_2_edge_op = Map<EdgeOpWord, EdgeOperation>([\n    ['cut', EdgeOperation.cut],\n    ['tape', EdgeOperation.tape]\n]);\n\nexport type EdgeDirWord = 'horizontally' | 'vertically';\nexport let word_2_edge_dir = Map<EdgeDirWord, EdgeDirection>([\n    ['horizontally', EdgeDirection.horizontal],\n    ['vertically', EdgeDirection.vertical]\n]);\n\nexport type RotateYDirWord = \"left\" | \"right\";\nexport let word_2_degrees = Map<RotateYDirWord, number>([\n    ['left', 270],\n    ['right', 90]\n]);\n\nexport type RollDirWord = \"forward\" | \"backward\" | \"left\" | \"right\";\nexport let word_2_dir = Map<RollDirWord, Direction>([\n    ['forward', Direction.n],\n    ['backward', Direction.s],\n    ['left', Direction.w],\n    ['right', Direction.e]\n]);","import {\n    Collection,\n    hash,\n    isImmutable,\n    List,\n    Map,\n    Set\n} from 'immutable';\n\nexport type Partition = Set<number>;\n\nexport class Edge {\n    readonly start: number;\n    readonly end: number;\n\n    constructor(start: number, end: number){\n        if (end < start){\n            this.start = end;\n            this.end = start;\n        } else {\n            this.start = start;\n            this.end = end;\n        }\n    }\n\n    equals(other:Edge){\n        return (this.start == other.start && this.end == other.end);\n    }\n\n    hashCode() {\n        return hash(hash(this.start) + hash(this.end));\n        // fuck\n        // return ( this.end << 16 ) ^ this.start;\n    }\n}\n\nexport enum Face {\n    n = 0,\n    s = 1,\n    e = 2,\n    w = 3,\n    t = 4,\n    b = 5\n}\n\nexport let faces = [Face.n, Face.s, Face.e, Face.w, Face.t, Face.b];\n\nexport enum Direction {\n    n = 0,\n    s = 1,\n    e = 2,\n    w = 3\n}\n\nexport let directions = [Direction.n, Direction.s, Direction.e, Direction.w];\n\nexport let direction_2_face = Map<Direction, Face>([\n    [Direction.n, Face.n],\n    [Direction.s, Face.s],\n    [Direction.e, Face.e],\n    [Direction.w, Face.w]\n]);\n\nexport class Dangle {\n    readonly partition: Partition;\n    readonly edges: List<Edge>;\n    readonly fixed_face: Face;\n    readonly free_face: Face;\n\n    constructor(partition: Partition, edges: List<Edge>, fixed_face: Face, free_face: Face) {\n        this.partition = partition;\n        this.edges = edges;\n        this.fixed_face = fixed_face;\n        this.free_face = free_face;\n    }\n\n    equals(other: Dangle){\n        return (\n            this.partition.equals(other.partition)\n            && this.edges.equals(other.edges)\n            && this.fixed_face === other.fixed_face\n            && this.free_face === other.free_face);\n    }\n\n    hashCode() {\n        return hash(hash(this.partition) + hash(this.edges) + hash(this.fixed_face) + hash(this.free_face));\n        //let faces_hash = (this.fixed_face << 16) ^ this.free_face; //fuck!\n        //return this.partition.hashCode() + this.edges.hashCode() + faces_hash;\n    }\n}\n\nexport type Point2 = [number, number];\n\nexport function make_matrix2(data_obj: number[][]) {\n    let dim_y = data_obj.length;\n    let dim_x = data_obj[0].length;\n\n    let data = new Int16Array(data_obj.reduce((x, y) => x.concat(y)));\n    // TODO complain if the total length is wrong\n    return new Matrix2(data, dim_x, dim_y);\n}\n\nexport class Matrix2 {\n    readonly dim_x: number;\n    readonly dim_y: number;\n    readonly data: Int16Array;\n    \n    constructor (data: Int16Array, dim_x: number, dim_y: number) {\n        this.data = data;\n        this.dim_x = dim_x;\n        this.dim_y = dim_y;\n    }\n\n    get(x: number, y: number): number {\n        return this.data[y * this.dim_x + x];\n    }\n\n    set(x: number, y: number, value: number) {\n        this.data[y * this.dim_x + x] = value;\n    }\n\n    rotate(degrees: number): Matrix2 {\n        //validate input better\n\n        if (degrees == 360 || degrees == 0) {\n            return this;\n        }\n\n        const n_rotations = degrees / 90;\n        let m: Matrix2 = this;\n        const dim_x = this.dim_x;\n        const dim_y = this.dim_y;\n        for (let i = 0; i < n_rotations; i++){\n            let new_data = new Int16Array(dim_x * dim_y);\n            let new_mat2 = new Matrix2(new_data, dim_y, dim_x);\n            for (let y = 0; y < dim_y; y++){\n                for (let x = 0; x < dim_x; x++){\n                    new_mat2.set(dim_y - 1 - y, x, m.get(x, y));\n                }\n            }\n            m = new_mat2;\n        }\n        return m\n    }\n\n    contains(value: number): boolean{\n        return this.data.indexOf(value) !== -1;\n    }\n}\n\n\nexport enum CardboardEdge {\n    intact = 0,\n    cut = 1,\n}\n\nexport enum TapeEdge {\n    untaped = 0,\n    taped = 1,\n    cut = 2\n}\n\nexport class EdgeState {\n    readonly cardboard: CardboardEdge;\n    readonly tape: TapeEdge;\n\n    constructor (cardboard?: CardboardEdge, tape?: TapeEdge){\n        if (cardboard === undefined) {\n            cardboard = CardboardEdge.intact;\n        }\n        this.cardboard = cardboard;\n\n        if (tape === undefined) {\n            tape = TapeEdge.untaped;\n        }\n        this.tape = tape;\n    }\n\n    cut() {\n        let new_tape: TapeEdge;\n        if (this.tape == TapeEdge.taped) {\n            new_tape = TapeEdge.cut;\n        } else {\n            new_tape = this.tape\n        }\n\n        return new EdgeState(CardboardEdge.cut, new_tape);\n    }\n\n\n    apply_tape() {\n        return new EdgeState(this.cardboard, TapeEdge.taped);\n    }\n}\n\nexport enum EdgeOperation {\n    cut = 0,\n    tape = 1\n}\n\nexport enum EdgeDirection {\n    horizontal = 0,\n    vertical = 1\n}\n\nexport enum RendState {\n    closed = 0,\n    open = 1\n}\n\nexport enum RendOperation {\n    close = 0,\n    open = 1\n}\n\nexport enum SpillageLevel {\n    none = 0,\n    light = 1,\n    heavy = 2\n}\n\nexport enum Weight {\n    empty = 0,\n    very_light = 1,\n    light = 2,\n    medium = 3,\n    heavy = 4,\n    very_heavy = 5\n}\n\nexport abstract class Item {\n    abstract weight(): Weight;\n    abstract name(): string;\n    abstract pre_gestalt(): string;\n    abstract post_gestalt(): string;\n    article(): string {\n        return 'a';\n    }\n}\n\n\nexport type Counter<T> = Map<T, number>;\n\nexport function counter_add<T>(counter: Counter<T>, key: T, inc: number){\n    let cur_val = 0;\n    if (counter.has(key)){\n        cur_val = counter.get(key);\n    }\n    return counter.set(key, cur_val + inc);\n}\n\nexport function counter_get<T>(counter: Counter<T>, key: T){\n    let cur_val = 0;\n    if (counter.has(key)){\n        cur_val = counter.get(key);\n    }\n    return cur_val;\n}\n\nexport function counter_update<T>(counter1: Counter<T>, counter2: Counter<T>){\n    let switch_to_immutable = isImmutable(counter1);\n    let result = counter1.asMutable();\n\n    counter2.forEach(function (v, k){\n        counter_add(result, k, v);\n    });\n\n    if (switch_to_immutable) {\n        result = result.asImmutable();\n    }\n    return result;\n}\n\nexport function counter_order<T>(counter: Counter<T>, include_zero=false){\n    let result = counter.sort();\n    if (!include_zero) {\n        result = result.filter((count) => count > 0);\n    }\n    return result.keySeq().toList().reverse();\n}\n\nexport enum RelativePosition {\n    left = 0, center = 1, right = 2,\n    top = 3, middle = 4, bottom = 5\n}\n\nexport class WreckError extends Error {}\n\n// used to signal errors caused by trying to update world state in a way that breaks the reality of the world\n// so assumes that commands are already valid, the attempted update *could work* if the state were different\nexport class WorldUpdateError extends WreckError {}\n\n// used to signal that a command/pseudo command is not specified legally\n// the command cannot be executed because it *cannot be interpreted*\nexport class CommandError extends WreckError {}","import {Item, Weight} from './datatypes'\n\nexport class Codex extends Item {\n    weight() {\n        return Weight.medium;\n    }\n\n    name() {\n        return 'codex';\n    }\n\n    pre_gestalt() {\n        return 'something thick and aged';\n    }\n\n    post_gestalt() {\n        return 'a thick, rotten codex with strange markings on the front';\n    }\n}\n\nexport class CityKey extends Item {\n    weight() {\n        return Weight.light;\n    }\n\n    name() {\n        return 'Key to the City';\n    }\n\n    pre_gestalt() {\n        return 'something glistening and golden';\n    }\n\n    post_gestalt() {\n        return 'a large, heavy golden key';\n    }\n\n    article() {\n        return 'the';\n    }\n}\n\nexport class Pinecone extends Item {\n    weight() {\n        return Weight.very_light;\n    }\n\n    name() {\n        return 'pinecone';\n    }\n\n    pre_gestalt() {\n        return 'something small, brown and flaky';\n    }\n\n    post_gestalt() {\n        return 'a small, brown pinecone that smells of the outdoors';\n    }\n}","\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJqcXVlcnkudGVybWluYWwuZC50cyIsInNvdXJjZXNDb250ZW50IjpbXX0=","import {List} from 'immutable';\nimport {CityKey, Codex, Pinecone} from './items';\nimport {Item} from './datatypes';\nimport {Box, SingleBoxWorld, WorldDriver} from './world';\n\ndeclare var jQuery: any;\n\njQuery(function($: any) {\n    let contents = List<Item>([new Codex(), new Pinecone(), new CityKey()]);\n    let world = new SingleBoxWorld({box: new Box({contents: contents})});\n    let world_driver = new WorldDriver(world);\n\n    $('#term').terminal(function(command: string) {\n        if (command !== '') {\n            try {\n                var result = world_driver.run(command);\n                if (result !== undefined) {\n                    this.echo(new String(result));\n                }\n            } catch(e) {\n                this.error(new String(e));\n            }\n        } else {\n           this.echo('');\n        }\n    }, {\n        greetings: 'Demo Parser Interface for The Wreck',\n        name: 'wreck_demo',\n        height: 500,\n        prompt: '> '\n    });\n});","import {Face} from './datatypes';\n\nimport {List, Map} from 'immutable';\n\nexport function uncapitalize(msg: string) {\n    return msg[0].toLowerCase() + msg.slice(1);\n}\n\nexport function capitalize(msg: string) {\n    return msg[0].toUpperCase() + msg.slice(1);\n}\n\nexport function face_message(face_order: List<Face>, f_code_2_name?: Map<Face, string>){\n    if (f_code_2_name === undefined) {\n        f_code_2_name = Map<Face, string>([\n            [Face.n, 'back'],\n            [Face.s, 'front'],\n            [Face.e, 'right'],\n            [Face.w, 'left'],\n            [Face.t, 'top'],\n            [Face.b, 'bottom']\n        ]);\n    }\n\n    if (face_order.size == 1) {\n        return f_code_2_name.get(face_order.first()) + ' face';\n    } else {\n        return face_order.butLast().map(f_code_2_name.get).join(', ') + ' and ' + f_code_2_name.get(face_order.last()) + ' faces';\n    }\n}","import {BoxMesh, edge_2_quadrants, FaceMesh} from './box_geometry';\n\nimport {\n    CardboardEdge,\n    CommandError,\n    Counter,\n    counter_order,\n    counter_update,\n    Dangle,\n    Direction,\n    directions,\n    direction_2_face,\n    Edge,\n    EdgeDirection,\n    EdgeOperation,\n    EdgeState,\n    Face,\n    Item,\n    Partition,\n    Point2,\n    RelativePosition,\n    RendOperation,\n    RendState,\n    SpillageLevel,\n    TapeEdge,\n    Weight,\n    WorldUpdateError\n} from './datatypes';\n\nimport {\n    EdgeDirWord,\n    EdgeOpWord,\n    FaceWord,\n    PositionWord,\n    RendOpWord,\n    RollDirWord,\n    RotateYDirWord,\n    Token,\n    word_2_degrees,\n    word_2_dir,\n    word_2_edge_dir,\n    word_2_edge_op,\n    word_2_face,\n    word_2_relative_position,\n    word_2_rend_op\n} from './commands'\n\nimport {WorldUpdateEffects, with_world_update, world_update} from './world_update_effects';\n\nimport {CityKey, Codex, Pinecone} from './items';\n\nimport {capitalize, face_message, uncapitalize} from './text_tools';\n\nimport {List, Map, Set} from 'immutable';\n\nexport interface BoxParams {\n    box_mesh?: BoxMesh,\n    rend_state?: Map<Partition, RendState>,\n    dangle_state?: Map<Dangle, RendState>,\n    edge_state?: Map<Edge, EdgeState>,\n    contents?: List<Item>\n}\n\nexport class Box {\n    readonly box_mesh: BoxMesh;\n    readonly rend_state: Map<Partition, RendState>;\n    readonly dangle_state: Map<Dangle, RendState>;\n    readonly edge_state: Map<Edge, EdgeState>;\n    readonly contents: List<Item>;\n\n    constructor({box_mesh, rend_state, dangle_state, edge_state, contents}: BoxParams){\n        if (box_mesh === undefined) {\n            box_mesh = new BoxMesh({dimensions: [2, 2, 2]});\n        }\n        this.box_mesh = box_mesh;\n\n        if (rend_state === undefined) {\n            rend_state = this.default_rend_state(this.box_mesh);\n        }\n        this.rend_state = rend_state;\n\n        if (dangle_state === undefined) {\n            dangle_state = this.default_dangle_state(this.box_mesh);\n        }\n        this.dangle_state = dangle_state;\n\n        if (edge_state === undefined) {\n            edge_state = Map<Edge, EdgeState>();\n        }\n        this.edge_state = edge_state;\n\n        if (contents === undefined) {\n            contents = List<Item>();\n        }\n        this.contents = contents;\n    }\n\n    update({box_mesh, rend_state, dangle_state, edge_state, contents}: BoxParams){\n        if (box_mesh === undefined) {\n            box_mesh = this.box_mesh;\n        }\n\n        if (rend_state === undefined) {\n            rend_state = this.rend_state;\n        }\n\n        if (dangle_state === undefined) {\n            dangle_state = this.dangle_state;\n        }\n\n        if (edge_state === undefined) {\n            edge_state = this.edge_state;\n        }\n        \n        if (contents === undefined) {\n            contents = this.contents;\n        }\n\n        return new Box({box_mesh, rend_state, dangle_state, edge_state, contents});\n    }\n\n    default_rend_state(box_mesh: BoxMesh) {\n        let rends = box_mesh.get_free_rends();\n        let result = Map<Partition, RendState>().asMutable();\n        rends.forEach(function (r) {\n            result.set(r, RendState.closed);\n        });\n        return result.asImmutable();\n    }\n\n    default_dangle_state(box_mesh: BoxMesh) {\n        let dangles = box_mesh.get_dangles();\n        let result = Map<Dangle, RendState>().asMutable();\n        dangles.forEach(function (d) {\n            result.set(d, RendState.closed);\n        });\n        return result.asImmutable();\n    }\n\n    open_or_close_rend(operation: RendOperation, rend: Partition) {\n        let box_rends = this.box_mesh.get_rends();\n\n        if (!box_rends.contains(rend)){\n            throw new CommandError('rend does not exist on the box');\n        }\n\n        if (this.box_mesh.is_partition_fixed(rend)) {\n            throw new WorldUpdateError('cannot open or close a fixed rend');\n        }\n\n        let new_rend_state = this.rend_state;\n        let intended_new_state = operation == RendOperation.close ? RendState.closed : RendState.open;\n        if (intended_new_state == new_rend_state.get(rend)) {\n            throw new WorldUpdateError(`cannot ${RendOperation[operation]} a rend that is already ${RendState[intended_new_state]}`);\n        }\n\n        new_rend_state = new_rend_state.set(rend, intended_new_state);\n\n        let new_box = this.update({rend_state: new_rend_state});\n\n        if (new_box.is_collapsed()) {\n            let effects = world_update.effects;\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items = effects.collapse_spilled_items.push(...new_box.contents.toArray());\n            let new_contents = List<Item>();\n            new_box = new_box.update({contents: new_contents});\n        }\n\n        return new_box;\n    }\n\n    open_or_close_dangle(operation: RendOperation, dangle: Dangle) {\n        if (this.box_mesh.is_partition_fixed(dangle.partition)) {\n            throw new WorldUpdateError('cannot open or close a fixed dangle');\n        }\n\n        let box_dangles = this.box_mesh.get_dangles();\n\n        if (box_dangles.some((d) => dangle == d)){\n            throw new CommandError('dangle does not exist on the box');\n        }\n\n        let intended_new_state = operation == RendOperation.close ? RendState.closed : RendState.open;\n        if (this.dangle_state.get(dangle) == intended_new_state) {\n            throw new WorldUpdateError(`cannot ${RendOperation[operation]} a dangle that is already ${RendState[intended_new_state]}`);\n        }\n\n        let new_dangle_state = this.dangle_state.set(dangle, intended_new_state);\n\n        let new_box = this.update({dangle_state: new_dangle_state});\n        if (new_box.is_collapsed()) {\n            let effects = world_update.effects;\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items = effects.collapse_spilled_items.push(...new_box.contents.toArray());\n            let new_contents = List<Item>();\n            new_box = new_box.update({contents: new_contents});\n        }\n        return new_box;\n    }\n\n    rotate_y(degrees: number) {\n        let new_box_mesh = this.box_mesh.rotate_y(degrees);\n        return this.update(new_box_mesh);\n    }\n\n    roll(direction: Direction) {\n        if (this.dangle_state.some((state) => state == RendState.open)) {\n            throw new WorldUpdateError('cannot roll a box with open dangles');\n        }\n\n        let new_box_mesh = this.box_mesh.roll(direction);\n        let dir_face: Face = direction_2_face.get(direction);\n\n        let new_contents = this.contents;\n        let rend_state_updates = this.rend_state;\n        let dangle_state_updates = this.dangle_state;\n\n        let inner_this = this;\n        let effects = world_update.effects;\n\n        if (new_contents.size > 0){\n            let dir_2_opposite = Map<Face, Face>([\n                [Face.n, Face.s],\n                [Face.s, Face.n],\n                [Face.e, Face.w],\n                [Face.w, Face.e]]);\n \n            let heavy_spill_faces: [Face, Face][] = [\n                [dir_face, Face.b],\n                [Face.t, dir_face],\n                [Face.b, dir_2_opposite.get(dir_face)]];\n            let light_spill_faces = ([Face.n, Face.s, Face.e, Face.w]\n                .filter((d) => d !== dir_face && d !== dir_2_opposite.get(dir_face))\n            );\n                \n            this.rend_state.forEach(function (state, r) {\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(r);\n                        \n                for (let [test_face, spill_face] of heavy_spill_faces) {\n                    if (face_membership.get(test_face) > 0) {\n                        effects.spill_faces = effects.spill_faces.push(spill_face);\n                        effects.spillage_level = SpillageLevel.heavy;\n                        effects.spilled_items = effects.spilled_items.push(...new_contents.toArray());\n                        new_contents = List<Item>();\n\n                        if (state == RendState.closed) {\n                            effects.spilled_rends == effects.spilled_rends.add(r);\n                            rend_state_updates = rend_state_updates.set(r, RendState.open);\n                        }\n\n                    }\n                }\n\n                for (let spill_face of light_spill_faces) {\n                    if (face_membership.get(spill_face) > 0) {\n                        effects.spill_faces = effects.spill_faces.push(spill_face);\n                        if (effects.spillage_level < SpillageLevel.light) {\n                            effects.spillage_level = SpillageLevel.light;\n                        }\n                        if (new_contents.size > 0) {\n                            effects.spilled_items = effects.spilled_items.push(new_contents.first());\n                            new_contents = new_contents.rest();\n                        }\n                    }\n                }\n            });\n\n            this.box_mesh.get_dangles().forEach(function (d) {\n                let spillage_level = SpillageLevel.none;\n                let spill_face: Face;\n                if (d.free_face == Face.t) {\n                    spillage_level = SpillageLevel.heavy;\n                    spill_face = dir_face;\n                } else if (d.free_face == dir_face) {\n                    spillage_level = SpillageLevel.heavy;\n                    spill_face = Face.b;\n                } else if (light_spill_faces.indexOf(d.free_face) !== -1) {\n                    spillage_level = SpillageLevel.light;\n                    spill_face = d.free_face;\n                }\n\n                if (spillage_level !== SpillageLevel.none) {\n                    if (spillage_level > effects.spillage_level) {\n                        effects.spillage_level = spillage_level;\n                    }\n                    effects.spill_faces = effects.spill_faces.push(spill_face);\n\n                    if (spillage_level == SpillageLevel.light) {\n                        if (new_contents.size > 0) {\n                            effects.spilled_items = effects.spilled_items.push(new_contents.first());\n                            new_contents = new_contents.rest();\n                        }\n                    } else if (spillage_level == SpillageLevel.heavy) {\n                        effects.spilled_items = effects.spilled_items.push(...new_contents.toArray());\n                        new_contents = List<Item>();\n                    }\n\n                    effects.spilled_dangles = effects.spilled_dangles.add(d);\n                    dangle_state_updates = dangle_state_updates.set(d, RendState.open);\n                }\n            });\n            \n            new_box_mesh.get_dangles().forEach(function (d) {\n                if (d.free_face == dir_2_opposite.get(dir_face)) {\n                    effects.spillage_level = SpillageLevel.heavy;\n                    effects.spill_faces = effects.spill_faces.push(dir_2_opposite.get(dir_face));\n\n                    effects.spilled_items = effects.spilled_items.push(...new_contents.toArray());\n                    new_contents = List<Item>();\n\n                    effects.spilled_dangles = effects.spilled_dangles.add(d);\n                    dangle_state_updates = dangle_state_updates.set(d, RendState.open);\n                }\n            });\n        }\n        let new_box = this.update({\n            box_mesh: new_box_mesh,\n            rend_state: rend_state_updates,\n            dangle_state: dangle_state_updates,\n            contents: new_contents\n        });\n\n        if (new_box.is_collapsed()) {\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items = effects.collapse_spilled_items.push(...new_contents.toArray());\n            new_contents = List<Item>();\n            new_box = new_box.update({contents: new_contents});\n        }\n\n        return new_box;\n    }\n\n    lift() {\n        let effects = world_update.effects;\n        let inner_this = this;\n\n        let new_contents = this.contents;\n        let new_rend_state = this.rend_state;\n        let new_dangle_state = this.dangle_state;\n\n        if (new_contents.size > 0) {\n            let test_box_mesh = this.box_mesh.roll(Direction.s).roll(Direction.s);\n\n            test_box_mesh.get_free_rends().forEach(function (r) {\n                let face_membership = test_box_mesh.get_partition_face_membership(r);\n                let test_faces = [Face.b, Face.n, Face.s, Face.e, Face.w];\n                let count = test_faces.map(face_membership.get).reduce((x, y) => x + y);\n                if (face_membership.get(Face.t) > count) {\n                    effects.spillage_level = SpillageLevel.heavy;\n                    effects.spill_faces = effects.spill_faces.push(Face.b);\n\n                    effects.spilled_items = effects.spilled_items.push(...new_contents.toArray());\n                    new_contents = List<Item>();\n\n                    if (new_rend_state.get(r, RendState.closed) == RendState.closed) {\n                        effects.spilled_rends = effects.spilled_rends.add(r);\n                        new_rend_state = new_rend_state.set(r, RendState.open);\n                    }\n                }\n            });\n\n            test_box_mesh.get_dangles().forEach(function (d) {\n                if (d.free_face == Face.t) {\n                    effects.spillage_level = SpillageLevel.heavy;\n                    effects.spill_faces = effects.spill_faces.push(Face.b);\n\n                    effects.spilled_items = effects.spilled_items.push(...new_contents.toArray());\n                    new_contents = List<Item>();\n\n                    effects.spilled_dangles = effects.spilled_dangles.add(d);\n                    new_dangle_state = new_dangle_state.set(d, RendState.open);\n                }\n            });\n\n            this.rend_state.forEach(function (state, r) {\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(r);\n                let light_spill_faces = [Face.n, Face.s, Face.e, Face.w].filter((f) => face_membership.get(f) > 0);\n                if (light_spill_faces.length > 0) {\n                    if (effects.spillage_level < SpillageLevel.light) {\n                        effects.spillage_level = SpillageLevel.light;\n                    }\n                    effects.spill_faces.push(...light_spill_faces);\n\n                    if (new_contents.size > 0) {\n                        effects.spilled_items = effects.spilled_items.push(new_contents.first());\n                        new_contents = new_contents.rest();\n                    }\n                    if (state == RendState.closed) {\n                        effects.spilled_rends.add(r);\n                        new_rend_state = new_rend_state.set(r, RendState.open);\n                    }\n                }\n            });\n\n            this.dangle_state.forEach(function (state, d) {\n                if ([Face.n, Face.s, Face.e, Face.w].indexOf(d.free_face) !== -1) {\n                    if (effects.spillage_level < SpillageLevel.light) {\n                        effects.spillage_level = SpillageLevel.light;\n                    }\n                    effects.spill_faces.push(d.free_face);\n\n                    if (new_contents.size > 0) {\n                        effects.spilled_items = effects.spilled_items.push(new_contents.first());\n                        new_contents = new_contents.rest();\n                    }\n                }\n            });\n        }\n\n        let new_box = this.update({rend_state: new_rend_state, dangle_state: new_dangle_state, contents: new_contents});\n\n        if (new_box.is_collapsed()) {\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items = effects.collapse_spilled_items.push(...new_contents.toArray());\n            new_contents = List<Item>();\n            new_box = new_box.update({contents: new_contents});\n        }\n\n        return new_box;\n    }\n\n    cut(face: Face, start: Point2, end: Point2) {\n        return this.cut_or_tape(EdgeOperation.cut, face, start, end);\n    }\n\n    tape(face: Face, start: Point2, end: Point2) {\n        return this.cut_or_tape(EdgeOperation.tape, face, start, end);\n    }\n\n    cut_or_tape(operation: EdgeOperation, face: Face, start: Point2, end: Point2) {\n        let effects = world_update.effects;\n        let inner_this = this;\n\n        if (face !== Face.s && face !== Face.t) {\n            throw new WorldUpdateError('cannot cut or tape sides other than top or front');\n        }\n\n        let [x1, y1] = start;\n        let [x2, y2] = end;\n        let v1 = this.box_mesh.face_meshes.get(face).vertices.get(x1, y1);\n        let v2 = this.box_mesh.face_meshes.get(face).vertices.get(x2, y2);\n\n        let edge = new Edge(v1, v2);\n\n        let quadrants = edge_2_quadrants.get(edge);\n\n        this.rend_state.forEach(function (state, r) {\n            if (state == RendState.open && quadrants.every(r.contains)) {\n                throw new WorldUpdateError('cannot cut or tape on an open rend');\n            }\n        });\n\n        this.dangle_state.forEach(function (state, d) {\n            if (state == RendState.open && quadrants.every(d.partition.contains)) {\n                throw new WorldUpdateError('cannot cut or tape on an open dangle');\n            }\n        });\n\n        let new_box_mesh: BoxMesh;\n        if (operation == EdgeOperation.cut) {\n            new_box_mesh = this.box_mesh.cut(face, start, end);\n        } else {\n            new_box_mesh = this.box_mesh.tape(face, start, end);\n        }\n\n        let new_rend_state = this.default_rend_state(new_box_mesh);\n        this.rend_state.forEach(function (state, r) {\n            if (new_rend_state.has(r)) {\n                new_rend_state = new_rend_state.set(r, state);\n            } else {\n                effects.repaired_rends = effects.repaired_rends.push(r);\n            }\n        });\n\n        new_rend_state.forEach(function (state, new_r) {\n            if (!inner_this.rend_state.has(new_r)) {\n                effects.new_rends = effects.new_rends.push(new_r);\n            }\n        });\n\n        let new_dangle_state = this.default_dangle_state(new_box_mesh);\n        this.dangle_state.forEach(function (state, d) {\n            if (new_dangle_state.has(d)) {\n                new_dangle_state = new_dangle_state.set(d, state);\n            } else {\n                effects.repaired_dangles = effects.repaired_dangles.push(d);\n            }\n        });\n\n        new_dangle_state.forEach(function (state, new_d) {\n            if (!inner_this.dangle_state.has(new_d)) {\n                effects.new_dangles = effects.new_dangles.push(new_d);\n            }\n        });\n\n        let new_edge_state = this.edge_state;\n        if (operation == EdgeOperation.cut) {\n            new_edge_state = new_edge_state.set(edge, new_edge_state.get(edge, new EdgeState()).cut());\n        } else {\n            new_edge_state = new_edge_state.set(edge, new_edge_state.get(edge, new EdgeState()).apply_tape());\n        }\n\n        return this.update({box_mesh: new_box_mesh, rend_state: new_rend_state, dangle_state: new_dangle_state, edge_state: new_edge_state});\n    }\n\n    take_next_item() {\n        let effects = world_update.effects;\n\n        if (this.contents.size == 0) {\n            throw new WorldUpdateError('cannot take an item from an empty box');\n        }\n\n        if (!this.appears_open()) {\n            throw new WorldUpdateError('cannot take an item from a box with no visible openings');\n        }\n\n        let new_contents = this.contents;\n        effects.taken_items = effects.taken_items.push(new_contents.first());\n        new_contents = new_contents.rest();\n\n        return this.update({contents: new_contents});\n    }\n\n    next_item() {\n        if (this.contents.size == 0) {\n            return null;\n        }\n        return this.contents.first();\n    }\n\n    appears_open() {\n        if (this.rend_state.some((state) => state == RendState.open)) {\n            return true;\n        }\n        if (this.dangle_state.some((state) => state == RendState.open)) {\n            return true;\n        }\n        return false;\n    }\n\n    appears_empty() {\n        return this.appears_open() && this.contents.size == 0;\n    }\n\n    is_collapsed(){\n        let open_faces = Map<Face, number>().asMutable();\n        let inner_this = this;\n        \n        this.rend_state.forEach(function (state, r) {\n            if (state == RendState.open){\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(r);\n                counter_update(open_faces, face_membership);\n            }\n        });\n\n        this.dangle_state.forEach(function (state, d) {\n            if (state == RendState.open){\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(d.partition);\n                counter_update(open_faces, face_membership);\n            }\n        });\n\n        let total_open_sides = 0;\n        open_faces.forEach(function (count, face) {\n            if (count > 0) {\n                total_open_sides += 1;\n            }\n        });\n\n        return total_open_sides >= 3;\n    }\n}\n\nexport interface SingleBoxWorldParams {\n    box?: Box,\n    taken_items?: List<Item>,\n    spilled_items?: List<Item>\n}\n\nexport type CommandResult = [SingleBoxWorld, string];\n\nexport class SingleBoxWorld {\n    readonly box: Box;\n    readonly taken_items: List<Item>;\n    readonly spilled_items: List<Item>;\n\n    constructor({box, taken_items, spilled_items}: SingleBoxWorldParams) {\n        if (box === undefined) {\n            box = new Box({});\n        }\n        this.box = box;\n\n        if (taken_items === undefined) {\n            taken_items = List<Item>();\n        }\n        this.taken_items = taken_items;\n\n        if (spilled_items === undefined) {\n            spilled_items = List<Item>();\n        }\n        this.spilled_items = spilled_items;\n    }\n\n    update({box, taken_items, spilled_items}: SingleBoxWorldParams) {\n        if (box === undefined) {\n            box = this.box;\n        }\n\n        if (taken_items === undefined) {\n            taken_items = this.taken_items;\n        }\n\n        if (spilled_items === undefined) {\n            spilled_items = this.spilled_items;\n        }\n\n        return new SingleBoxWorld({box, taken_items, spilled_items});\n    }\n\n    command_rotate_y_box(dir: RotateYDirWord): CommandResult {\n        let degrees = dir == 'right' ? 90 : 270;\n        let new_box = this.box.rotate_y(degrees);\n        let new_world = this.update({box: new_box});\n\n        let message = `You turn the box 90 degrees to the ${dir}`;\n\n        return [new_world, message];\n    }\n\n    command_roll_box(cmd: RollDirWord): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let direction = word_2_dir.get(cmd);\n            let new_box = inner_this.box.roll(direction);\n\n            let dir_msg = (cmd == 'left' || cmd == 'right') ? `over to the ${cmd}` : cmd;\n\n            let message: string;\n            let new_world: SingleBoxWorld;\n            if (effects.spillage_level == SpillageLevel.none) {\n                message = `You roll the box ${dir_msg}.`;\n                new_world = inner_this.update({box: new_box});\n            } else {\n                let spill_msg = uncapitalize(inner_this.spill_message(new_box));\n                message = `As you roll the box ${dir_msg}, ${spill_msg}`;\n\n                new_world = inner_this.update({box: new_box, spilled_items: effects.spilled_items});\n            }\n\n            if (effects.box_collapsed) {\n                message += '\\nThe added stress on the box causes it to collapse in on itself.';\n                if (effects.collapse_spilled_items.size > 0) {\n                    message += ' ';\n                    message += inner_this.item_spill_message(effects.collapse_spilled_items);\n                }\n            }\n\n            return [new_world, message];\n        });\n    }\n\n    command_lift_box(): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let new_box = inner_this.box.lift();\n\n            let msg: string;\n            let new_world: SingleBoxWorld;\n            if (effects.spillage_level == SpillageLevel.none) {\n                msg = 'You lift up the box in place.';\n                new_world = inner_this.update({box: new_box});\n            } else {\n                let spill_msg = uncapitalize(inner_this.spill_message(new_box));\n                msg = 'As you start to lift up the box, ' + spill_msg;\n                new_world = inner_this.update({box: new_box, spilled_items: effects.spilled_items});\n            }\n\n            if (effects.spillage_level <= SpillageLevel.heavy && !effects.box_collapsed) {\n                let total_weight = new_box.contents.reduce((x, i) => x + i.weight(), 0);\n                total_weight = Math.floor(total_weight / 2.9); //rule of thumb for translating \"normal item weights\" to \"normal box weights\"\n\n                if (total_weight > Weight.very_heavy) {\n                    total_weight = Weight.very_heavy;\n                }\n                let weight_2_msg = Map<Weight, string>([\n                    [Weight.empty, 'so light as to be empty'],\n                    [Weight.very_light, 'quite light'],\n                    [Weight.light, 'light'],\n                    [Weight.medium, 'medium'],\n                    [Weight.heavy, 'somewhat heavy'],\n                    [Weight.very_heavy, 'very heavy']\n                ]);\n                let weight_msg = weight_2_msg.get(total_weight);\n                let subject = effects.spillage_level == SpillageLevel.none ? 'It' : 'The box';\n                msg += `\\n${subject} feels ${weight_msg}. You set it back down.`;\n            }\n\n            if (effects.box_collapsed) {\n                msg += '\\nThe added stress on the box causes it to collapse in on itself.';\n                if (effects.collapse_spilled_items.size > 0) {\n                    msg += ' ' + inner_this.item_spill_message(effects.collapse_spilled_items);\n                }\n            }\n\n            return [new_world, msg];\n        });\n    }\n\n    cut_or_tape_box(operation: EdgeOpWord, face_w: FaceWord, dir: EdgeDirWord, start_pos_a: PositionWord, start_pos_b: PositionWord, end_pos_b: PositionWord): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let face = word_2_face.get(face_w);\n            if (face !== Face.t && face !== Face.s) {\n                throw new CommandError(`face must be either top or front. got ${face_w}`);\n            }\n\n            let dim_2_pos = [\n                ['left', 'center', 'right'],\n                ['top','middle', 'bottom']\n            ];\n\n            let dim_a: number;\n            let dim_b: number;\n\n            if (dir == 'vertically') {\n                dim_a = 0;\n                dim_b = 1\n            } else {\n                dim_a = 1;\n                dim_b = 0;\n            }\n\n            if (dim_2_pos[dim_a].indexOf(start_pos_a) == -1) {\n                throw new CommandError(`invalid start_pos_a for ${dir} ${operation}: ${start_pos_a}`);\n            }\n            if (dim_2_pos[dim_b].indexOf(start_pos_b) == -1) {\n                throw new CommandError(`invalid start_pos_b for ${dir} ${operation}: ${start_pos_b}`);\n            }\n            if (dim_2_pos[dim_b].indexOf(end_pos_b) == -1) {\n                throw new CommandError(`invalid end_pos_b for ${dir} ${operation}: ${end_pos_b}`);\n            }\n\n            let pt1: Point2 = [null, null];\n            let pt2: Point2 = [null, null];\n\n            pt1[dim_a] = pt2[dim_a] = dim_2_pos[dim_a].indexOf(start_pos_a);\n\n            pt1[dim_b] = dim_2_pos[dim_b].indexOf(start_pos_b);\n            pt2[dim_b] = dim_2_pos[dim_b].indexOf(end_pos_b);\n\n            if (Math.abs(pt1[dim_b] - pt2[dim_b]) == 0) {\n                throw new CommandError('no change between start_pos_b and end_pos_b.');\n            }\n\n            let cut_points: [Point2, Point2][];\n            if (Math.abs(pt1[dim_b] - pt2[dim_b]) == 2) {\n                let pt3: Point2 = [null, null];\n                pt3[dim_a] = dim_2_pos[dim_a].indexOf(start_pos_a);\n                pt3[dim_b] = 1;\n\n                cut_points = [[pt1, pt3], [pt3, pt2]];\n            } else {\n                cut_points = [[pt1, pt2]];\n            }\n\n            let cut_edge_states = List<EdgeState>();\n\n            let new_box = inner_this.box;\n\n            cut_points.forEach(function ([p1, p2]) {\n                let vertices = new_box.box_mesh.face_meshes.get(face).vertices;\n                let v1 = vertices.get(p1[0], p1[1]);\n                let v2 = vertices.get(p2[0], p2[1]);\n                let edge = new Edge(v1, v2);\n\n                cut_edge_states = cut_edge_states.push(new_box.edge_state.get(edge, new EdgeState()));\n                new_box = new_box.cut_or_tape(word_2_edge_op.get(operation), face, p1, p2);\n            });\n\n            effects.new_dangles.forEach(function (nd) {\n                if (effects.new_rends.contains(nd.partition)) {\n                    effects.new_dangles = effects.new_dangles.remove(effects.new_dangles.indexOf(nd));\n                }\n            });\n\n            effects.repaired_dangles.forEach(function (rd) {\n                if (effects.new_rends.contains(rd.partition)) {\n                    effects.repaired_dangles = effects.repaired_dangles.remove(effects.repaired_dangles.indexOf(rd));\n                }\n            });\n\n            let message: string;\n            if (operation == 'cut') {\n                message = inner_this.cut_message(new_box, cut_edge_states, effects);\n            } else {\n                message = inner_this.tape_message(new_box, cut_edge_states, effects);\n            }\n\n            return [inner_this.update({box: new_box}), message];\n        });\n    }\n\n    cut_message(new_box: Box, cut_edge_states: List<EdgeState>, effects: WorldUpdateEffects) {\n        let cut_message: string;\n        if (cut_edge_states.get(0).cardboard == CardboardEdge.intact) {\n            cut_message = 'You slide your blade along the cardboard';\n            if (cut_edge_states.get(0).tape == TapeEdge.taped) {\n                cut_message += ' and tape';\n            }\n            cut_message += '.';\n        } else {\n            if (cut_edge_states.get(0).tape == TapeEdge.taped) {\n                cut_message = 'You draw your blade easily along the line. It slits open the thin layer of tape covering the gap in the cardboard.';\n            } else {\n                cut_message = 'You slide your blade along the line, but nothing is there to resist it.';\n            }\n        }\n\n        if (cut_edge_states.size > 1) {\n            if (cut_edge_states.get(1).cardboard != cut_edge_states.get(0).cardboard) {\n                if (cut_edge_states.get(1).cardboard == CardboardEdge.intact) {\n                    cut_message += ' Halfway across, it catches on solid cardboard, and you pull it along the rest of the way.';\n                } else {\n                    if (cut_edge_states.get(1).tape == TapeEdge.taped) {\n                        cut_message += ' Halfway across, you reach a gap in the cardboard, and your blade slides easily along the thin layer of tape.';\n                    } else {\n                        cut_message += ' Halfway across, you reach a gap in the cardboard, and your blade is met with no further resistance.';\n                    }\n                }\n            }\n        }\n\n        let message = cut_message;\n        if (effects.new_rends.size > 0) {\n            let total_face_membership = Map<Face, number>();\n            effects.new_rends.forEach(function (r) {\n                let face_membership = new_box.box_mesh.get_partition_face_membership(r);\n                total_face_membership = counter_update(total_face_membership, face_membership);\n            })\n            let face_order = counter_order(total_face_membership);\n            let face_msg = face_message(face_order);\n\n            let new_rends_message: string;\n            if (effects.new_rends.size == 1) {\n                new_rends_message = `A new section of cardboard comes free on the ${face_msg}.`;\n            } else {\n                new_rends_message = `${effects.new_rends.size} new sections of cardboard come free on the ${face_msg}`;\n            }\n            message += '\\n' + new_rends_message;\n        }\n\n        if (effects.new_dangles.size > 0) {\n            let total_face_membership = Map<Face, number>();\n            effects.new_dangles.forEach(function (d) {\n                let face_membership = new_box.box_mesh.get_partition_face_membership(d.partition);\n                total_face_membership = counter_update(total_face_membership, face_membership);\n            })\n            let face_order = counter_order(total_face_membership);\n            let face_msg = face_message(face_order);\n\n            let new_rends_message: string;\n            if (effects.new_dangles.size == 1) {\n                new_rends_message = `A new section of cardboard on the ${face_msg} can be swung freely on a hinge.`;\n            } else {\n                new_rends_message = `${effects.new_dangles.size} new sections of cardboard on the ${face_msg} can be swung freely on a hinge`;\n            }\n            message += '\\n' + new_rends_message;\n        }\n        return message;\n    }\n\n    tape_message(new_box: Box, cut_edge_states: List<EdgeState>, effects: WorldUpdateEffects) {\n        let tape_message: string;\n        if (cut_edge_states.some((ces) => ces.cardboard == CardboardEdge.intact)) {\n            tape_message = 'You draw out a length of tape and fasten it to the cardboard.';\n        } else {\n            if (cut_edge_states.some((ces) => ces.tape == TapeEdge.taped)) {\n                tape_message = 'You lay another length of tape over the cut edge.';\n            } else {\n                tape_message = 'You seal the gap in the cardboard with a length of tape.';\n            }\n        }\n\n        let message = tape_message;\n        if (effects.repaired_dangles.size > 0) {\n            let total_face_membership = Map<Face, number>();\n            effects.repaired_dangles.forEach(function (d) {\n                let face_membership = new_box.box_mesh.get_partition_face_membership(d.partition);\n                total_face_membership = counter_update(total_face_membership, face_membership);\n            })\n            let face_order = counter_order(total_face_membership);\n            let face_msg = face_message(face_order);\n\n            let repaired_dangles_message: string;\n            if (effects.new_rends.size == 1) {\n                repaired_dangles_message = `A formerly freely-swinging section of cardboard on the ${face_msg} can no longer swing on its hinge.`;\n            } else {\n                repaired_dangles_message = `${face_order.size} formerly freely-swinging sections of cardboard on the ${face_msg} can no longer swing on their hinges.`;\n            }\n            message += '\\n' + repaired_dangles_message;\n        }\n        return message;\n    }\n\n    command_cut_box(face_w: FaceWord, dir: EdgeDirWord, start_pos_a: PositionWord, start_pos_b: PositionWord, end_pos_b: PositionWord): CommandResult {\n        return this.cut_or_tape_box('cut', face_w, dir, start_pos_a, start_pos_b, end_pos_b);\n    }\n\n    command_tape_box(face_w: FaceWord, dir: EdgeDirWord, start_pos_a: PositionWord, start_pos_b: PositionWord, end_pos_b: PositionWord): CommandResult {\n        return this.cut_or_tape_box('tape', face_w, dir, start_pos_a, start_pos_b, end_pos_b);\n    }\n\n    item_spill_message(spilled_items: List<Item>){\n        let si = spilled_items;\n        let during_spill_msg: string;\n        let after_spill_msg: string;\n\n        if (si.size == 1) {\n            let item_msg = si.get(0).pre_gestalt();\n            during_spill_msg = `${capitalize(item_msg)} spills out before you.`;\n            after_spill_msg = `It's ${si.get(0).article()} ${si.get(0).name()} - ${si.get(0).post_gestalt()}.`;\n        } else {\n            let item_msg = si.butLast().map((i) => i.pre_gestalt()).join(', ') + ' and ' + si.last().pre_gestalt();\n            during_spill_msg = capitalize(`${item_msg} spill out before you.`);\n\n            let after_msgs = si.map((i) => `${i.article()} ${i.name()} - ${i.post_gestalt()}`);\n            after_spill_msg = \"It's \" + after_msgs.butLast().join(', ') + ' and ' + after_msgs.last() + '.';\n        }\n\n        let spill_msg = during_spill_msg + ' ' + after_spill_msg;\n        return spill_msg;\n    }\n\n    spill_message(new_box: Box) {\n        let effects = world_update.effects;\n\n        let structural_dmg_msgs = List<string>();\n\n        if (effects.spilled_rends.size > 0) {\n            let total_face_membership = Map<Face, number>();\n            effects.spilled_rends.forEach(function (sr) {\n                let sr_mem = new_box.box_mesh.get_partition_face_membership(sr);\n                total_face_membership = counter_update(total_face_membership, sr_mem);\n            });\n            let sr_faces = counter_order(total_face_membership);\n            let f_msg = face_message(sr_faces);\n            let spilled_rends_msg = `free cardboard on the ${f_msg} falls away`;\n            structural_dmg_msgs = structural_dmg_msgs.push(spilled_rends_msg);\n        }\n\n        if (effects.spilled_dangles.size > 0) {\n            let total_face_membership = Map<Face, number>();\n            effects.spilled_dangles.forEach(function (sd) {\n                let sd_mem = new_box.box_mesh.get_partition_face_membership(sd.partition);\n                total_face_membership = counter_update(total_face_membership, sd_mem);\n            });\n            let sd_faces = counter_order(total_face_membership);\n            let f_msg = face_message(sd_faces);\n            let spilled_dangles_msg = `dangling cardboard on the ${f_msg} swings open`;\n            structural_dmg_msgs = structural_dmg_msgs.push(spilled_dangles_msg);\n        }\n\n        let spill_msg = this.item_spill_message(effects.spilled_items);\n        let result: string;\n\n        if (structural_dmg_msgs.size > 0) {\n            let structure_dmg_msg = structural_dmg_msgs.join(' and ');\n            result = `${structure_dmg_msg}. ${spill_msg}`;\n        } else {\n            result = spill_msg;\n        }\n        return result;\n    }\n\n    command_open_dangle(face: FaceWord): CommandResult {\n        return this.open_or_close_dangle('open', face);\n    }\n\n    command_close_dangle(face: FaceWord): CommandResult {\n        return this.open_or_close_dangle('close', face);\n    }\n\n    open_or_close_dangle(operation: RendOpWord, face_w: FaceWord): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let face = word_2_face.get(face_w)\n            let applicable_dangles = inner_this.box.dangle_state.keySeq().filter((d) => d.free_face == face);\n            let new_box = inner_this.box;\n            let updated = List<Dangle>();\n            applicable_dangles.forEach(function (d){\n                let err = false;\n                try {\n                    new_box = new_box.open_or_close_dangle(word_2_rend_op.get(operation), d);\n                } catch (e) {\n                    err = true;\n                    if (!(e instanceof WorldUpdateError)) {\n                        throw e;\n                    }\n                }\n                if (!err) {\n                    updated = updated.push(d);\n                }\n            });\n            if (updated.size == 0) {\n                throw new WorldUpdateError(`No dangles to ${operation} on ${face_w} face`);\n            }\n\n            let swing_dir_msg = operation == 'close' ? 'in' : 'out';\n            let num_hinges = updated.map((d) => d.fixed_face).toSet().size;\n            let hinge_msg: string;\n            if (num_hinges == 1) {\n                hinge_msg = 'hinge';\n            } else {\n                hinge_msg = 'hinges';\n            }\n\n            let message = `You swing the cardboard on the ${face_w} of the box ${swing_dir_msg} on its ${hinge_msg}`;\n            if (!inner_this.box.appears_open() && new_box.appears_open()) {\n                message += '\\nYou get a glimpse inside the box through the opening.';\n\n                if (new_box.appears_empty()) {\n                    message += \" It's empty.\";\n                } else {\n                    message += ` You can see ${new_box.next_item().pre_gestalt()} inside.`;\n                }\n            }\n            if (effects.box_collapsed) {\n                message += '\\nThe added stress on the box causes it to collapse in on itself.';\n                if (effects.collapse_spilled_items.size > 0) {\n                    message += ' ' + inner_this.item_spill_message(effects.collapse_spilled_items);\n                }\n            }\n            return [inner_this.update({box: new_box}), message];\n        });\n    }\n\n    command_open_rend(face_w: FaceWord): CommandResult {\n        return this.open_or_close_rend('open', face_w);\n    }\n\n    command_close_rend(face_w: FaceWord): CommandResult {\n        return this.open_or_close_rend('close', face_w);\n    }\n\n    open_or_close_rend(operation: RendOpWord, face_w: FaceWord): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let face = word_2_face.get(face_w);\n            let applicable_rends = List<Partition>();\n            inner_this.box.rend_state.forEach(function (s, r) {\n                let face_membership = inner_this.box.box_mesh.get_partition_face_membership(r);\n                if (face_membership.get(face) > 0) {\n                    applicable_rends = applicable_rends.push(r);\n                }\n            });\n\n            let new_box = inner_this.box;\n            let updated = List<Partition>();\n            applicable_rends.forEach(function (r){\n                let err = false;\n                try {\n                    new_box = new_box.open_or_close_rend(word_2_rend_op.get(operation), r);\n                } catch (e) {\n                    err = true;\n                    if (!(e instanceof WorldUpdateError)) {\n                        throw e;\n                    }\n                }\n                if (!err) {\n                    updated = updated.push(r);\n                }\n            });\n            if (updated.size == 0) {\n                throw new WorldUpdateError(`No rends to ${operation} on ${face_w} face`);\n            }\n\n            let total_face_membership = Map<Face, number>();\n            total_face_membership = updated.reduce(\n                (total, r) => counter_update(\n                    total,\n                    inner_this.box.box_mesh.get_partition_face_membership(r)),\n                total_face_membership);\n\n            let face_msg = face_message(counter_order(total_face_membership));\n\n            let message: string;\n            if (operation == 'open') {\n                message = `You remove the free cardboard from the ${face_msg} and place it to the side.`;\n            } else {\n                `You replace the missing cardboard from the ${face_msg}.`;\n            }\n\n            if (!inner_this.box.appears_open() && new_box.appears_open()) {\n                message += '\\nYou get a glimpse inside the box through the opening.';\n\n                if (new_box.appears_empty()) {\n                    message += \" It's empty.\";\n                } else {\n                    message += ` You can see ${new_box.next_item().pre_gestalt()} inside.`;\n                }\n            }\n            if (effects.box_collapsed) {\n                message += '\\nThe added stress on the box causes it to collapse in on itself.';\n                if (effects.collapse_spilled_items.size > 0) {\n                    message += ' ' + inner_this.item_spill_message(effects.collapse_spilled_items);\n                }\n            }\n            return [inner_this.update({box: new_box}), message];\n        });\n    }\n\n    command_take_item_box(): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let new_box = inner_this.box.take_next_item();\n\n            let new_taken_items = inner_this.taken_items;\n            new_taken_items.push(...effects.taken_items.toArray());\n\n            let item = effects.taken_items.get(0);\n            let message = `You reach in and take ${item.pre_gestalt()}. It's ${item.post_gestalt()}; ${item.article()} ${item.name()}.`;\n        \n            if (new_box.appears_empty()) {\n                message += '\\nThe box is empty now.';\n            } else {\n                message += `\\nYou can now see ${new_box.next_item().pre_gestalt()} inside the box.`;\n            }\n\n            return [inner_this.update({box: new_box, taken_items: new_taken_items}), message];\n        });\n    }\n}\n\nexport class WorldDriver {\n    world: SingleBoxWorld;\n\n    constructor (initial_world: SingleBoxWorld) {\n        this.world = initial_world;\n    }\n\n    apply_command(cmd_name: Token, ...cmd_args: Token[]) {\n        let cmd_method: (...cmd_args: Token[]) => CommandResult;\n        switch (cmd_name) {\n            case 'rotate_y_box':\n                cmd_method = this.world.command_rotate_y_box;\n                break;\n            case 'roll_box':\n                cmd_method = this.world.command_roll_box;\n                break;\n            case 'lift_box':\n                cmd_method = this.world.command_lift_box;\n                break;\n            case 'cut_box':\n                cmd_method = this.world.command_cut_box;\n                break;\n            case 'tape_box':\n                cmd_method = this.world.command_tape_box;\n                break;\n            case 'open_dangle':\n                cmd_method = this.world.command_open_dangle;\n                break;\n            case 'close_dangle':\n                cmd_method = this.world.command_close_dangle;\n                break;\n            case 'open_rend':\n                cmd_method = this.world.command_open_rend;\n                break;\n            case 'close_rend':\n                cmd_method = this.world.command_close_rend;\n                break;\n            case 'take_item_box':\n                cmd_method = this.world.command_take_item_box;\n                break;\n            default:\n                throw new CommandError(`invalid cmd_name given: ${cmd_name}`);\n        }\n        let [new_world, msg] = cmd_method.apply(this.world, cmd_args);\n        let tokens: Token[] = [cmd_name];\n        tokens.push(...cmd_args);\n        //console.log('> ' + tokens.join(' ') + '\\n');\n        //console.log(msg + '\\n');\n        this.world = new_world;\n        return msg\n    }\n\n    run(cmd: string) {\n        let [cmd_name, cmd_args]: [Token, Token[]] = parse_command(cmd);\n        return this.apply_command(cmd_name, ...cmd_args) + '\\n';\n    }\n}\n\nexport function parse_command(cmd: string): [Token, Token[]] {\n    let tokens = cmd.split(/\\s+/);\n    console.log(tokens);\n    return [tokens[0], tokens.slice(1)];\n}\n\nexport function test() {\n    let contents = List<Item>([new Codex(), new Pinecone(), new CityKey()]);\n    let world = new SingleBoxWorld({box: new Box({contents: contents})});\n\n    console.log('NEW WORLD: test heavy spillage when rolling\\n\\n\\n');\n\n    let d = new WorldDriver(world);\n    d.apply_command('lift_box');\n    d.apply_command('roll_box', 'forward');\n    d.apply_command('rotate_y_box', 'left');\n\n    // cut the top face vertically along the center from top to bottom\n    d.apply_command('cut_box', 'top', 'vertically', 'center', 'top', 'bottom');\n\n    // cut the top face vertically along the right edge from top to bottom\n    d.apply_command('cut_box', 'top', 'vertically', 'right', 'top', 'bottom');\n\n    // should result in a dangle\n    // cut the top face horizontally along the top edge from center to right\n    d.apply_command('cut_box', 'top', 'horizontally', 'top', 'center', 'right');\n\n    // should result in a rend\n    // cut the top face horizontally along the bottom edge from center to right\n    d.apply_command('cut_box', 'top', 'horizontally', 'bottom', 'center', 'right');\n\n    d.apply_command('roll_box', 'forward');\n\n    // should result in the rend facing straight down, maybe spilling\n    d.apply_command('roll_box', 'forward');\n\n    d.apply_command('lift_box');\n\n    console.log('\\n\\n\\nNEW WORLD: test heavy spillage and collapse from bottom when lifting\\n\\n\\n');\n    let d2 = new WorldDriver(world);\n\n    d2.apply_command('cut_box', 'front', 'horizontally', 'bottom', 'left', 'right');\n    d2.apply_command('rotate_y_box', 'left');\n    d2.apply_command('cut_box', 'front', 'horizontally', 'bottom', 'left', 'right');\n    d2.apply_command('rotate_y_box', 'left');\n    d2.apply_command('cut_box', 'front', 'horizontally', 'bottom', 'left', 'right');\n    d2.apply_command('rotate_y_box', 'left');\n    d2.apply_command('cut_box', 'front', 'horizontally', 'bottom', 'left', 'right');\n    d2.apply_command('lift_box');\n    \n    console.log('\\n\\n\\nNEW WORLD: test taping\\n\\n\\n');\n    let d3 = new WorldDriver(world);\n\n    d3.apply_command('cut_box', 'top', 'horizontally', 'top', 'left', 'right');\n    d3.apply_command('cut_box', 'top', 'horizontally', 'bottom', 'left', 'right');\n    d3.apply_command('cut_box', 'top', 'vertically', 'left', 'top', 'bottom');\n\n    d3.apply_command('open_dangle', 'top');\n    d3.apply_command('take_item_box');\n\n    d3.apply_command('close_dangle', 'top');\n\n    d3.apply_command('cut_box', 'top', 'vertically', 'right', 'top', 'bottom');\n    d3.apply_command('open_rend', 'top');\n    d3.apply_command('take_item_box');\n    d3.apply_command('take_item_box');\n    d3.apply_command('close_rend', 'top');\n\n    d3.apply_command('tape_box', 'top', 'vertically', 'right', 'top', 'bottom');\n    d3.apply_command('tape_box', 'top', 'vertically', 'left', 'top', 'middle');\n\n    console.log('\\n\\n\\nNEW WORLD: test light spillage when rolling and lifting\\n\\n\\n');\n    let d4 = new WorldDriver(world);\n\n    d4.apply_command('cut_box', 'front', 'horizontally', 'top', 'left', 'right');\n    d4.apply_command('cut_box', 'front', 'horizontally', 'bottom', 'left', 'right');\n    d4.apply_command('cut_box', 'front', 'vertically', 'left', 'top', 'bottom');\n\n    d4.apply_command('lift_box');\n\n    d4.apply_command('cut_box', 'front', 'vertically', 'right', 'top', 'bottom');\n\n    d4.apply_command('roll_box', 'right');\n}\n","import {Matrix2, make_matrix2, Dangle, Face, Edge, Partition, faces, EdgeOperation, Point2, Direction, Item, SpillageLevel} from './datatypes';\n\nimport {Map, List, Set, OrderedSet, is} from 'immutable';\n\nexport class WorldUpdateEffects {\n    spill_faces = List<Face>();\n    spilled_items = List<Item>();\n    spilled_rends = Set<Partition>();\n    spilled_dangles = Set<Dangle>();\n    spillage_level = SpillageLevel.none;\n    taken_items = List<Item>();\n    new_rends = List<Partition>();\n    new_dangles = List<Dangle>();\n    repaired_rends = List<Partition>();\n    repaired_dangles = List<Dangle>();\n    box_collapsed = false;\n    collapse_spilled_items = List<Item>();\n}\n\ninterface WorldUpdateEffectsRef {\n    effects?: WorldUpdateEffects\n}\n\nexport let world_update: WorldUpdateEffectsRef = {};\n\nexport function with_world_update(f: (effects: WorldUpdateEffects) => any) {\n    //TODO validate: error if world_update.effects isn't null/undefined\n    world_update.effects = new WorldUpdateEffects();\n    let result = f(world_update.effects);\n    world_update.effects = undefined;\n    return result;\n}\n\n//TODO define world update exceptions"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvaW1tdXRhYmxlL2Rpc3QvaW1tdXRhYmxlLmpzIiwiYm94X2dlb21ldHJ5LnRzIiwiY29tbWFuZHMudHMiLCJkYXRhdHlwZXMudHMiLCJpdGVtcy50cyIsImpxdWVyeS50ZXJtaW5hbC5kLnRzIiwibWFpbi50cyIsInRleHRfdG9vbHMudHMiLCJ3b3JsZC50cyIsIndvcmxkX3VwZGF0ZV9lZmZlY3RzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUcsQUFBQyxBQUFDLE1BQUMsQUFBRyxJQUN2QyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFFLEFBQUMsQUFBQyxLQUFDLEFBQUcsSUFDdEMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRyxBQUFDLEFBQUMsQUFBQyxBQUM1QztBQUFDLEFBQUMsQUFBSSxlQUFLLEFBQVMsYUFBSSxZQUFTLFVBQUMsQUFBQyxBQUFDLEdBQUMsQUFBQztBQUNsQyxBQUFTLGtCQUFDLEFBQUcsSUFDVCxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUMzQixZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFHLEFBQUMsQUFBQyxNQUFDLEFBQUcsSUFDdkMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFDM0IsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRyxBQUFDLEFBQUMsTUFBQyxBQUFHLElBQ3ZDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUcsQUFBQyxBQUFDLE1BQUMsQUFBRyxJQUN2QyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFFLEFBQUMsQUFBQyxBQUFDLEFBQzNDO0FBQUMsQUFBQyxBQUFJLEtBUkMsQUFBRSxBQUFDLFVBUUMsQUFBUyxhQUFJLFlBQVMsVUFBQyxBQUFDLEFBQUMsR0FBQyxBQUFDO0FBQ2xDLEFBQVMsa0JBQUMsQUFBRyxJQUNULFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUUsQUFBQyxBQUFDLEtBQUMsQUFBRyxJQUN0QyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFFLEFBQUMsQUFBQyxLQUFDLEFBQUcsSUFDdEMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRyxBQUFDLEFBQUMsTUFBQyxBQUFHLElBQ3ZDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUcsQUFBQyxBQUFDLE1BQUMsQUFBRyxJQUN2QyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFHLEFBQUMsQUFBQyxNQUFDLEFBQUcsSUFDdkMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRSxBQUFDLEFBQUMsQUFBQyxBQUMzQztBQUFDLEFBQUMsQUFBSSxLQVJDLEFBQUUsQUFBQyxNQVFILEFBQUUsQUFBQyxJQUFDLEFBQVMsYUFBSSxZQUFTLFVBQUMsQUFBQyxBQUFDLEdBQUMsQUFBQztBQUNsQyxBQUFTLGtCQUFDLEFBQUcsSUFDVCxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFHLEFBQUMsQUFBQyxNQUFDLEFBQUcsSUFDdkMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRyxBQUFDLEFBQUMsTUFBQyxBQUFHLElBQ3ZDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUUsQUFBQyxBQUFDLEtBQUMsQUFBRyxJQUN0QyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFFLEFBQUMsQUFBQyxLQUFDLEFBQUcsSUFDdEMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRSxBQUFDLEFBQUMsS0FBQyxBQUFHLElBQ3RDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUcsQUFBQyxBQUFDLEFBQUMsQUFDNUM7QUFBQztBQUVELEFBQU0sV0FBQyxBQUFTLFVBQUMsQUFBVyxBQUFFLEFBQUMsQUFDbkM7QUFBQztBQUdEO0FBQ0ksUUFBSSxBQUFFLEtBQUcsSUFBSSxBQUFPLFFBQUMsRUFBQyxBQUFVLFlBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQztBQUU1QyxRQUFJLEFBQUcsTUFBRyxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQztBQUNySCxRQUFJLEFBQUcsTUFBRyxBQUFHLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBRSxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBRSxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBRSxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQztBQUVsSixRQUFJLEFBQUcsTUFBRyxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFJLEtBQUMsWUFBUyxVQUFDLEFBQUMsQUFBQyxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxBQUFDO0FBRXZJLFFBQUksQUFBRyxNQUFHLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUUsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxBQUFDO0FBRXBNLFFBQUksQUFBRyxNQUFHLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQztBQUMzRixRQUFJLEFBQUcsTUFBRyxBQUFHLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxBQUFDO0FBRWxFLFFBQUksQUFBRyxBQUFHLE1BQUMsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQzNHLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUM3RSxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQ25ELEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFB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QUFDO0FBRTdFLEFBQUUsT0FBQyxBQUFhLGNBQUMsQUFBVSxZQUFFLEFBQU8sQUFBQyxBQUFDLEFBQzFDO0FBQUM7QUE3RUQsZUE2RUM7Ozs7Ozs7O0FDMXZDRCwwQkFBK0k7QUFFL0ksMEJBQXlELEFBRXpEOzt5QkFBQTs7O0FBQ0ksU0FBVyxjQUFHLFlBQUksQUFBUSxBQUFDO0FBQzNCLFNBQWEsZ0JBQUcsWUFBSSxBQUFRLEFBQUM7QUFDN0IsU0FBYSxnQkFBRyxZQUFHLEFBQWEsQUFBQztBQUNqQyxTQUFlLGtCQUFHLFlBQUcsQUFBVSxBQUFDO0FBQ2hDLFNBQWMsaUJBQUcsWUFBYSxjQUFDLEFBQUksQUFBQztBQUNwQyxTQUFXLGNBQUcsWUFBSSxBQUFRLEFBQUM7QUFDM0IsU0FBUyxZQUFHLFlBQUksQUFBYSxBQUFDO0FBQzlCLFNBQVcsY0FBRyxZQUFJLEFBQVUsQUFBQztBQUM3QixTQUFjLGlCQUFHLFlBQUksQUFBYSxBQUFDO0FBQ25DLFNBQWdCLG1CQUFHLFlBQUksQUFBVSxBQUFDO0FBQ2xDLFNBQWEsZ0JBQUcsQUFBSyxBQUFDO0FBQ3RCLFNBQXNCLHlCQUFHLFlBQUksQUFBUSxBQUFDLEFBQzFDO0FBQUM7O0FBYkQsNkJBYUM7QUFNVSxRQUFBLEFBQVksZUFBMEIsQUFBRSxBQUFDO0FBRXBELDJCQUFrQyxBQUF1QztBQUNyRSxBQUFtRTtBQUNuRSxZQUFZLGFBQUMsQUFBTyxVQUFHLElBQUksQUFBa0IsQUFBRSxBQUFDO0FBQ2hELFFBQUksQUFBTSxTQUFHLEFBQUMsRUFBQyxRQUFZLGFBQUMsQUFBTyxBQUFDLEFBQUM7QUFDckMsWUFBWSxhQUFDLEFBQU8sVUFBRyxBQUFTLEFBQUM7QUFDakMsQUFBTSxXQUFDLEFBQU0sQUFBQyxBQUNsQjtBQUFDO0FBTkQsNEJBTUM7QUFFRCxBQUFxQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKipcbiAqICBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqICBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqICBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqICBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KGV4cG9ydHMpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cyddLCBmYWN0b3J5KSA6XG5cdChmYWN0b3J5KChnbG9iYWwuSW1tdXRhYmxlID0gZ2xvYmFsLkltbXV0YWJsZSB8fCB7fSkpKTtcbn0odGhpcywgKGZ1bmN0aW9uIChleHBvcnRzKSB7ICd1c2Ugc3RyaWN0JztcblxuLy8gVXNlZCBmb3Igc2V0dGluZyBwcm90b3R5cGUgbWV0aG9kcyB0aGF0IElFOCBjaG9rZXMgb24uXG52YXIgREVMRVRFID0gJ2RlbGV0ZSc7XG5cbi8vIENvbnN0YW50cyBkZXNjcmliaW5nIHRoZSBzaXplIG9mIHRyaWUgbm9kZXMuXG52YXIgU0hJRlQgPSA1OyAvLyBSZXN1bHRlZCBpbiBiZXN0IHBlcmZvcm1hbmNlIGFmdGVyIF9fX19fXz9cbnZhciBTSVpFID0gMSA8PCBTSElGVDtcbnZhciBNQVNLID0gU0laRSAtIDE7XG5cbi8vIEEgY29uc2lzdGVudCBzaGFyZWQgdmFsdWUgcmVwcmVzZW50aW5nIFwibm90IHNldFwiIHdoaWNoIGVxdWFscyBub3RoaW5nIG90aGVyXG4vLyB0aGFuIGl0c2VsZiwgYW5kIG5vdGhpbmcgdGhhdCBjb3VsZCBiZSBwcm92aWRlZCBleHRlcm5hbGx5LlxudmFyIE5PVF9TRVQgPSB7fTtcblxuLy8gQm9vbGVhbiByZWZlcmVuY2VzLCBSb3VnaCBlcXVpdmFsZW50IG9mIGBib29sICZgLlxudmFyIENIQU5HRV9MRU5HVEggPSB7IHZhbHVlOiBmYWxzZSB9O1xudmFyIERJRF9BTFRFUiA9IHsgdmFsdWU6IGZhbHNlIH07XG5cbmZ1bmN0aW9uIE1ha2VSZWYocmVmKSB7XG4gIHJlZi52YWx1ZSA9IGZhbHNlO1xuICByZXR1cm4gcmVmO1xufVxuXG5mdW5jdGlvbiBTZXRSZWYocmVmKSB7XG4gIHJlZiAmJiAocmVmLnZhbHVlID0gdHJ1ZSk7XG59XG5cbi8vIEEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhIHZhbHVlIHJlcHJlc2VudGluZyBhbiBcIm93bmVyXCIgZm9yIHRyYW5zaWVudCB3cml0ZXNcbi8vIHRvIHRyaWVzLiBUaGUgcmV0dXJuIHZhbHVlIHdpbGwgb25seSBldmVyIGVxdWFsIGl0c2VsZiwgYW5kIHdpbGwgbm90IGVxdWFsXG4vLyB0aGUgcmV0dXJuIG9mIGFueSBzdWJzZXF1ZW50IGNhbGwgb2YgdGhpcyBmdW5jdGlvbi5cbmZ1bmN0aW9uIE93bmVySUQoKSB7fVxuXG4vLyBodHRwOi8vanNwZXJmLmNvbS9jb3B5LWFycmF5LWlubGluZVxuZnVuY3Rpb24gYXJyQ29weShhcnIsIG9mZnNldCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcbiAgdmFyIGxlbiA9IE1hdGgubWF4KDAsIGFyci5sZW5ndGggLSBvZmZzZXQpO1xuICB2YXIgbmV3QXJyID0gbmV3IEFycmF5KGxlbik7XG4gIGZvciAodmFyIGlpID0gMDsgaWkgPCBsZW47IGlpKyspIHtcbiAgICBuZXdBcnJbaWldID0gYXJyW2lpICsgb2Zmc2V0XTtcbiAgfVxuICByZXR1cm4gbmV3QXJyO1xufVxuXG5mdW5jdGlvbiBlbnN1cmVTaXplKGl0ZXIpIHtcbiAgaWYgKGl0ZXIuc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaXRlci5zaXplID0gaXRlci5fX2l0ZXJhdGUocmV0dXJuVHJ1ZSk7XG4gIH1cbiAgcmV0dXJuIGl0ZXIuc2l6ZTtcbn1cblxuZnVuY3Rpb24gd3JhcEluZGV4KGl0ZXIsIGluZGV4KSB7XG4gIC8vIFRoaXMgaW1wbGVtZW50cyBcImlzIGFycmF5IGluZGV4XCIgd2hpY2ggdGhlIEVDTUFTdHJpbmcgc3BlYyBkZWZpbmVzIGFzOlxuICAvL1xuICAvLyAgICAgQSBTdHJpbmcgcHJvcGVydHkgbmFtZSBQIGlzIGFuIGFycmF5IGluZGV4IGlmIGFuZCBvbmx5IGlmXG4gIC8vICAgICBUb1N0cmluZyhUb1VpbnQzMihQKSkgaXMgZXF1YWwgdG8gUCBhbmQgVG9VaW50MzIoUCkgaXMgbm90IGVxdWFsXG4gIC8vICAgICB0byAyXjMy4oiSMS5cbiAgLy9cbiAgLy8gaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLWFycmF5LWV4b3RpYy1vYmplY3RzXG4gIGlmICh0eXBlb2YgaW5kZXggIT09ICdudW1iZXInKSB7XG4gICAgdmFyIHVpbnQzMkluZGV4ID0gaW5kZXggPj4+IDA7IC8vIE4gPj4+IDAgaXMgc2hvcnRoYW5kIGZvciBUb1VpbnQzMlxuICAgIGlmICgnJyArIHVpbnQzMkluZGV4ICE9PSBpbmRleCB8fCB1aW50MzJJbmRleCA9PT0gNDI5NDk2NzI5NSkge1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG4gICAgaW5kZXggPSB1aW50MzJJbmRleDtcbiAgfVxuICByZXR1cm4gaW5kZXggPCAwID8gZW5zdXJlU2l6ZShpdGVyKSArIGluZGV4IDogaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHJldHVyblRydWUoKSB7XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHNpemUpIHtcbiAgcmV0dXJuIChiZWdpbiA9PT0gMCB8fCAoc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGJlZ2luIDw9IC1zaXplKSkgJiZcbiAgICAoZW5kID09PSB1bmRlZmluZWQgfHwgKHNpemUgIT09IHVuZGVmaW5lZCAmJiBlbmQgPj0gc2l6ZSkpO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlQmVnaW4oYmVnaW4sIHNpemUpIHtcbiAgcmV0dXJuIHJlc29sdmVJbmRleChiZWdpbiwgc2l6ZSwgMCk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVFbmQoZW5kLCBzaXplKSB7XG4gIHJldHVybiByZXNvbHZlSW5kZXgoZW5kLCBzaXplLCBzaXplKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUluZGV4KGluZGV4LCBzaXplLCBkZWZhdWx0SW5kZXgpIHtcbiAgLy8gU2FuaXRpemUgaW5kaWNlcyB1c2luZyB0aGlzIHNob3J0aGFuZCBmb3IgVG9JbnQzMihhcmd1bWVudClcbiAgLy8gaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXRvaW50MzJcbiAgcmV0dXJuIGluZGV4ID09PSB1bmRlZmluZWRcbiAgICA/IGRlZmF1bHRJbmRleFxuICAgIDogaW5kZXggPCAwXG4gICAgICAgID8gc2l6ZSA9PT0gSW5maW5pdHkgPyBzaXplIDogTWF0aC5tYXgoMCwgc2l6ZSArIGluZGV4KSB8IDBcbiAgICAgICAgOiBzaXplID09PSB1bmRlZmluZWQgfHwgc2l6ZSA9PT0gaW5kZXhcbiAgICAgICAgICAgID8gaW5kZXhcbiAgICAgICAgICAgIDogTWF0aC5taW4oc2l6ZSwgaW5kZXgpIHwgMDtcbn1cblxuZnVuY3Rpb24gaXNJbW11dGFibGUobWF5YmVJbW11dGFibGUpIHtcbiAgcmV0dXJuIChpc0NvbGxlY3Rpb24obWF5YmVJbW11dGFibGUpIHx8IGlzUmVjb3JkKG1heWJlSW1tdXRhYmxlKSkgJiZcbiAgICAhbWF5YmVJbW11dGFibGUuX19vd25lcklEO1xufVxuXG5mdW5jdGlvbiBpc0NvbGxlY3Rpb24obWF5YmVDb2xsZWN0aW9uKSB7XG4gIHJldHVybiAhIShtYXliZUNvbGxlY3Rpb24gJiYgbWF5YmVDb2xsZWN0aW9uW0lTX0lURVJBQkxFX1NFTlRJTkVMXSk7XG59XG5cbmZ1bmN0aW9uIGlzS2V5ZWQobWF5YmVLZXllZCkge1xuICByZXR1cm4gISEobWF5YmVLZXllZCAmJiBtYXliZUtleWVkW0lTX0tFWUVEX1NFTlRJTkVMXSk7XG59XG5cbmZ1bmN0aW9uIGlzSW5kZXhlZChtYXliZUluZGV4ZWQpIHtcbiAgcmV0dXJuICEhKG1heWJlSW5kZXhlZCAmJiBtYXliZUluZGV4ZWRbSVNfSU5ERVhFRF9TRU5USU5FTF0pO1xufVxuXG5mdW5jdGlvbiBpc0Fzc29jaWF0aXZlKG1heWJlQXNzb2NpYXRpdmUpIHtcbiAgcmV0dXJuIGlzS2V5ZWQobWF5YmVBc3NvY2lhdGl2ZSkgfHwgaXNJbmRleGVkKG1heWJlQXNzb2NpYXRpdmUpO1xufVxuXG5mdW5jdGlvbiBpc09yZGVyZWQobWF5YmVPcmRlcmVkKSB7XG4gIHJldHVybiAhIShtYXliZU9yZGVyZWQgJiYgbWF5YmVPcmRlcmVkW0lTX09SREVSRURfU0VOVElORUxdKTtcbn1cblxuZnVuY3Rpb24gaXNSZWNvcmQobWF5YmVSZWNvcmQpIHtcbiAgcmV0dXJuICEhKG1heWJlUmVjb3JkICYmIG1heWJlUmVjb3JkW0lTX1JFQ09SRF9TRU5USU5FTF0pO1xufVxuXG5mdW5jdGlvbiBpc1ZhbHVlT2JqZWN0KG1heWJlVmFsdWUpIHtcbiAgcmV0dXJuICEhKG1heWJlVmFsdWUgJiZcbiAgICB0eXBlb2YgbWF5YmVWYWx1ZS5lcXVhbHMgPT09ICdmdW5jdGlvbicgJiZcbiAgICB0eXBlb2YgbWF5YmVWYWx1ZS5oYXNoQ29kZSA9PT0gJ2Z1bmN0aW9uJyk7XG59XG5cbnZhciBJU19JVEVSQUJMRV9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0lURVJBQkxFX19AQCc7XG52YXIgSVNfS0VZRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9LRVlFRF9fQEAnO1xudmFyIElTX0lOREVYRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9JTkRFWEVEX19AQCc7XG52YXIgSVNfT1JERVJFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX09SREVSRURfX0BAJztcbnZhciBJU19SRUNPUkRfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9SRUNPUkRfX0BAJztcblxudmFyIENvbGxlY3Rpb24gPSBmdW5jdGlvbiBDb2xsZWN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc0NvbGxlY3Rpb24odmFsdWUpID8gdmFsdWUgOiBTZXEodmFsdWUpO1xufTtcblxudmFyIEtleWVkQ29sbGVjdGlvbiA9IChmdW5jdGlvbiAoQ29sbGVjdGlvbikge1xuICBmdW5jdGlvbiBLZXllZENvbGxlY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gaXNLZXllZCh2YWx1ZSkgPyB2YWx1ZSA6IEtleWVkU2VxKHZhbHVlKTtcbiAgfVxuXG4gIGlmICggQ29sbGVjdGlvbiApIEtleWVkQ29sbGVjdGlvbi5fX3Byb3RvX18gPSBDb2xsZWN0aW9uO1xuICBLZXllZENvbGxlY3Rpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZSApO1xuICBLZXllZENvbGxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gS2V5ZWRDb2xsZWN0aW9uO1xuXG4gIHJldHVybiBLZXllZENvbGxlY3Rpb247XG59KENvbGxlY3Rpb24pKTtcblxudmFyIEluZGV4ZWRDb2xsZWN0aW9uID0gKGZ1bmN0aW9uIChDb2xsZWN0aW9uKSB7XG4gIGZ1bmN0aW9uIEluZGV4ZWRDb2xsZWN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzSW5kZXhlZCh2YWx1ZSkgPyB2YWx1ZSA6IEluZGV4ZWRTZXEodmFsdWUpO1xuICB9XG5cbiAgaWYgKCBDb2xsZWN0aW9uICkgSW5kZXhlZENvbGxlY3Rpb24uX19wcm90b19fID0gQ29sbGVjdGlvbjtcbiAgSW5kZXhlZENvbGxlY3Rpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZSApO1xuICBJbmRleGVkQ29sbGVjdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbmRleGVkQ29sbGVjdGlvbjtcblxuICByZXR1cm4gSW5kZXhlZENvbGxlY3Rpb247XG59KENvbGxlY3Rpb24pKTtcblxudmFyIFNldENvbGxlY3Rpb24gPSAoZnVuY3Rpb24gKENvbGxlY3Rpb24pIHtcbiAgZnVuY3Rpb24gU2V0Q29sbGVjdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBpc0NvbGxlY3Rpb24odmFsdWUpICYmICFpc0Fzc29jaWF0aXZlKHZhbHVlKSA/IHZhbHVlIDogU2V0U2VxKHZhbHVlKTtcbiAgfVxuXG4gIGlmICggQ29sbGVjdGlvbiApIFNldENvbGxlY3Rpb24uX19wcm90b19fID0gQ29sbGVjdGlvbjtcbiAgU2V0Q29sbGVjdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlICk7XG4gIFNldENvbGxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2V0Q29sbGVjdGlvbjtcblxuICByZXR1cm4gU2V0Q29sbGVjdGlvbjtcbn0oQ29sbGVjdGlvbikpO1xuXG5Db2xsZWN0aW9uLktleWVkID0gS2V5ZWRDb2xsZWN0aW9uO1xuQ29sbGVjdGlvbi5JbmRleGVkID0gSW5kZXhlZENvbGxlY3Rpb247XG5Db2xsZWN0aW9uLlNldCA9IFNldENvbGxlY3Rpb247XG5cbnZhciBJVEVSQVRFX0tFWVMgPSAwO1xudmFyIElURVJBVEVfVkFMVUVTID0gMTtcbnZhciBJVEVSQVRFX0VOVFJJRVMgPSAyO1xuXG52YXIgUkVBTF9JVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcbnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcblxudmFyIElURVJBVE9SX1NZTUJPTCA9IFJFQUxfSVRFUkFUT1JfU1lNQk9MIHx8IEZBVVhfSVRFUkFUT1JfU1lNQk9MO1xuXG52YXIgSXRlcmF0b3IgPSBmdW5jdGlvbiBJdGVyYXRvcihuZXh0KSB7XG4gIHRoaXMubmV4dCA9IG5leHQ7XG59O1xuXG5JdGVyYXRvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIHJldHVybiAnW0l0ZXJhdG9yXSc7XG59O1xuXG5JdGVyYXRvci5LRVlTID0gSVRFUkFURV9LRVlTO1xuSXRlcmF0b3IuVkFMVUVTID0gSVRFUkFURV9WQUxVRVM7XG5JdGVyYXRvci5FTlRSSUVTID0gSVRFUkFURV9FTlRSSUVTO1xuXG5JdGVyYXRvci5wcm90b3R5cGUuaW5zcGVjdCA9IChJdGVyYXRvci5wcm90b3R5cGUudG9Tb3VyY2UgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTtcbn0pO1xuSXRlcmF0b3IucHJvdG90eXBlW0lURVJBVE9SX1NZTUJPTF0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBpdGVyYXRvclZhbHVlKHR5cGUsIGssIHYsIGl0ZXJhdG9yUmVzdWx0KSB7XG4gIHZhciB2YWx1ZSA9IHR5cGUgPT09IDAgPyBrIDogdHlwZSA9PT0gMSA/IHYgOiBbaywgdl07XG4gIGl0ZXJhdG9yUmVzdWx0XG4gICAgPyAoaXRlcmF0b3JSZXN1bHQudmFsdWUgPSB2YWx1ZSlcbiAgICA6IChpdGVyYXRvclJlc3VsdCA9IHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgfSk7XG4gIHJldHVybiBpdGVyYXRvclJlc3VsdDtcbn1cblxuZnVuY3Rpb24gaXRlcmF0b3JEb25lKCkge1xuICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG59XG5cbmZ1bmN0aW9uIGhhc0l0ZXJhdG9yKG1heWJlSXRlcmFibGUpIHtcbiAgcmV0dXJuICEhZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKTtcbn1cblxuZnVuY3Rpb24gaXNJdGVyYXRvcihtYXliZUl0ZXJhdG9yKSB7XG4gIHJldHVybiBtYXliZUl0ZXJhdG9yICYmIHR5cGVvZiBtYXliZUl0ZXJhdG9yLm5leHQgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGdldEl0ZXJhdG9yKGl0ZXJhYmxlKSB7XG4gIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihpdGVyYWJsZSk7XG4gIHJldHVybiBpdGVyYXRvckZuICYmIGl0ZXJhdG9yRm4uY2FsbChpdGVyYWJsZSk7XG59XG5cbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4oaXRlcmFibGUpIHtcbiAgdmFyIGl0ZXJhdG9yRm4gPSBpdGVyYWJsZSAmJlxuICAgICgoUkVBTF9JVEVSQVRPUl9TWU1CT0wgJiYgaXRlcmFibGVbUkVBTF9JVEVSQVRPUl9TWU1CT0xdKSB8fFxuICAgICAgaXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdKTtcbiAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5sZW5ndGggPT09ICdudW1iZXInO1xufVxuXG52YXIgU2VxID0gKGZ1bmN0aW9uIChDb2xsZWN0aW9uJCQxKSB7XG4gIGZ1bmN0aW9uIFNlcSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGVtcHR5U2VxdWVuY2UoKVxuICAgICAgOiBpc0NvbGxlY3Rpb24odmFsdWUpIHx8IGlzUmVjb3JkKHZhbHVlKVxuICAgICAgICAgID8gdmFsdWUudG9TZXEoKVxuICAgICAgICAgIDogc2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIGlmICggQ29sbGVjdGlvbiQkMSApIFNlcS5fX3Byb3RvX18gPSBDb2xsZWN0aW9uJCQxO1xuICBTZXEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29sbGVjdGlvbiQkMSAmJiBDb2xsZWN0aW9uJCQxLnByb3RvdHlwZSApO1xuICBTZXEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2VxO1xuXG4gIFNlcS5vZiA9IGZ1bmN0aW9uIG9mICgvKi4uLnZhbHVlcyovKSB7XG4gICAgcmV0dXJuIFNlcShhcmd1bWVudHMpO1xuICB9O1xuXG4gIFNlcS5wcm90b3R5cGUudG9TZXEgPSBmdW5jdGlvbiB0b1NlcSAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgU2VxLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTZXEgeycsICd9Jyk7XG4gIH07XG5cbiAgU2VxLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9IGZ1bmN0aW9uIGNhY2hlUmVzdWx0ICgpIHtcbiAgICBpZiAoIXRoaXMuX2NhY2hlICYmIHRoaXMuX19pdGVyYXRlVW5jYWNoZWQpIHtcbiAgICAgIHRoaXMuX2NhY2hlID0gdGhpcy5lbnRyeVNlcSgpLnRvQXJyYXkoKTtcbiAgICAgIHRoaXMuc2l6ZSA9IHRoaXMuX2NhY2hlLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gYWJzdHJhY3QgX19pdGVyYXRlVW5jYWNoZWQoZm4sIHJldmVyc2UpXG5cbiAgU2VxLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgY2FjaGUgPSB0aGlzLl9jYWNoZTtcbiAgICBpZiAoY2FjaGUpIHtcbiAgICAgIHZhciBzaXplID0gY2FjaGUubGVuZ3RoO1xuICAgICAgdmFyIGkgPSAwO1xuICAgICAgd2hpbGUgKGkgIT09IHNpemUpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gY2FjaGVbcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKytdO1xuICAgICAgICBpZiAoZm4oZW50cnlbMV0sIGVudHJ5WzBdLCB0aGlzJDEpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX19pdGVyYXRlVW5jYWNoZWQoZm4sIHJldmVyc2UpO1xuICB9O1xuXG4gIC8vIGFic3RyYWN0IF9faXRlcmF0b3JVbmNhY2hlZCh0eXBlLCByZXZlcnNlKVxuXG4gIFNlcS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgY2FjaGUgPSB0aGlzLl9jYWNoZTtcbiAgICBpZiAoY2FjaGUpIHtcbiAgICAgIHZhciBzaXplID0gY2FjaGUubGVuZ3RoO1xuICAgICAgdmFyIGkgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpID09PSBzaXplKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbnRyeSA9IGNhY2hlW3JldmVyc2UgPyBzaXplIC0gKytpIDogaSsrXTtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yVW5jYWNoZWQodHlwZSwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgcmV0dXJuIFNlcTtcbn0oQ29sbGVjdGlvbikpO1xuXG52YXIgS2V5ZWRTZXEgPSAoZnVuY3Rpb24gKFNlcSkge1xuICBmdW5jdGlvbiBLZXllZFNlcSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGVtcHR5U2VxdWVuY2UoKS50b0tleWVkU2VxKClcbiAgICAgIDogaXNDb2xsZWN0aW9uKHZhbHVlKVxuICAgICAgICAgID8gaXNLZXllZCh2YWx1ZSkgPyB2YWx1ZS50b1NlcSgpIDogdmFsdWUuZnJvbUVudHJ5U2VxKClcbiAgICAgICAgICA6IGlzUmVjb3JkKHZhbHVlKSA/IHZhbHVlLnRvU2VxKCkgOiBrZXllZFNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBpZiAoIFNlcSApIEtleWVkU2VxLl9fcHJvdG9fXyA9IFNlcTtcbiAgS2V5ZWRTZXEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2VxICYmIFNlcS5wcm90b3R5cGUgKTtcbiAgS2V5ZWRTZXEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gS2V5ZWRTZXE7XG5cbiAgS2V5ZWRTZXEucHJvdG90eXBlLnRvS2V5ZWRTZXEgPSBmdW5jdGlvbiB0b0tleWVkU2VxICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICByZXR1cm4gS2V5ZWRTZXE7XG59KFNlcSkpO1xuXG52YXIgSW5kZXhlZFNlcSA9IChmdW5jdGlvbiAoU2VxKSB7XG4gIGZ1bmN0aW9uIEluZGV4ZWRTZXEodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyBlbXB0eVNlcXVlbmNlKClcbiAgICAgIDogaXNDb2xsZWN0aW9uKHZhbHVlKVxuICAgICAgICAgID8gaXNLZXllZCh2YWx1ZSkgPyB2YWx1ZS5lbnRyeVNlcSgpIDogdmFsdWUudG9JbmRleGVkU2VxKClcbiAgICAgICAgICA6IGlzUmVjb3JkKHZhbHVlKVxuICAgICAgICAgICAgICA/IHZhbHVlLnRvU2VxKCkuZW50cnlTZXEoKVxuICAgICAgICAgICAgICA6IGluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpO1xuICB9XG5cbiAgaWYgKCBTZXEgKSBJbmRleGVkU2VxLl9fcHJvdG9fXyA9IFNlcTtcbiAgSW5kZXhlZFNlcS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTZXEgJiYgU2VxLnByb3RvdHlwZSApO1xuICBJbmRleGVkU2VxLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEluZGV4ZWRTZXE7XG5cbiAgSW5kZXhlZFNlcS5vZiA9IGZ1bmN0aW9uIG9mICgvKi4uLnZhbHVlcyovKSB7XG4gICAgcmV0dXJuIEluZGV4ZWRTZXEoYXJndW1lbnRzKTtcbiAgfTtcblxuICBJbmRleGVkU2VxLnByb3RvdHlwZS50b0luZGV4ZWRTZXEgPSBmdW5jdGlvbiB0b0luZGV4ZWRTZXEgKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEluZGV4ZWRTZXEucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ1NlcSBbJywgJ10nKTtcbiAgfTtcblxuICByZXR1cm4gSW5kZXhlZFNlcTtcbn0oU2VxKSk7XG5cbnZhciBTZXRTZXEgPSAoZnVuY3Rpb24gKFNlcSkge1xuICBmdW5jdGlvbiBTZXRTZXEodmFsdWUpIHtcbiAgICByZXR1cm4gKGlzQ29sbGVjdGlvbih2YWx1ZSkgJiYgIWlzQXNzb2NpYXRpdmUodmFsdWUpXG4gICAgICA/IHZhbHVlXG4gICAgICA6IEluZGV4ZWRTZXEodmFsdWUpKS50b1NldFNlcSgpO1xuICB9XG5cbiAgaWYgKCBTZXEgKSBTZXRTZXEuX19wcm90b19fID0gU2VxO1xuICBTZXRTZXEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2VxICYmIFNlcS5wcm90b3R5cGUgKTtcbiAgU2V0U2VxLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNldFNlcTtcblxuICBTZXRTZXEub2YgPSBmdW5jdGlvbiBvZiAoLyouLi52YWx1ZXMqLykge1xuICAgIHJldHVybiBTZXRTZXEoYXJndW1lbnRzKTtcbiAgfTtcblxuICBTZXRTZXEucHJvdG90eXBlLnRvU2V0U2VxID0gZnVuY3Rpb24gdG9TZXRTZXEgKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHJldHVybiBTZXRTZXE7XG59KFNlcSkpO1xuXG5TZXEuaXNTZXEgPSBpc1NlcTtcblNlcS5LZXllZCA9IEtleWVkU2VxO1xuU2VxLlNldCA9IFNldFNlcTtcblNlcS5JbmRleGVkID0gSW5kZXhlZFNlcTtcblxudmFyIElTX1NFUV9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX1NFUV9fQEAnO1xuXG5TZXEucHJvdG90eXBlW0lTX1NFUV9TRU5USU5FTF0gPSB0cnVlO1xuXG4vLyAjcHJhZ21hIFJvb3QgU2VxdWVuY2VzXG5cbnZhciBBcnJheVNlcSA9IChmdW5jdGlvbiAoSW5kZXhlZFNlcSkge1xuICBmdW5jdGlvbiBBcnJheVNlcShhcnJheSkge1xuICAgIHRoaXMuX2FycmF5ID0gYXJyYXk7XG4gICAgdGhpcy5zaXplID0gYXJyYXkubGVuZ3RoO1xuICB9XG5cbiAgaWYgKCBJbmRleGVkU2VxICkgQXJyYXlTZXEuX19wcm90b19fID0gSW5kZXhlZFNlcTtcbiAgQXJyYXlTZXEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW5kZXhlZFNlcSAmJiBJbmRleGVkU2VxLnByb3RvdHlwZSApO1xuICBBcnJheVNlcS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBcnJheVNlcTtcblxuICBBcnJheVNlcS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5oYXMoaW5kZXgpID8gdGhpcy5fYXJyYXlbd3JhcEluZGV4KHRoaXMsIGluZGV4KV0gOiBub3RTZXRWYWx1ZTtcbiAgfTtcblxuICBBcnJheVNlcS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGFycmF5ID0gdGhpcy5fYXJyYXk7XG4gICAgdmFyIHNpemUgPSBhcnJheS5sZW5ndGg7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpICE9PSBzaXplKSB7XG4gICAgICB2YXIgaWkgPSByZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrKztcbiAgICAgIGlmIChmbihhcnJheVtpaV0sIGlpLCB0aGlzJDEpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGk7XG4gIH07XG5cbiAgQXJyYXlTZXEucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIGFycmF5ID0gdGhpcy5fYXJyYXk7XG4gICAgdmFyIHNpemUgPSBhcnJheS5sZW5ndGg7XG4gICAgdmFyIGkgPSAwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGkgPT09IHNpemUpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIGlpID0gcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKys7XG4gICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpaSwgYXJyYXlbaWldKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gQXJyYXlTZXE7XG59KEluZGV4ZWRTZXEpKTtcblxudmFyIE9iamVjdFNlcSA9IChmdW5jdGlvbiAoS2V5ZWRTZXEpIHtcbiAgZnVuY3Rpb24gT2JqZWN0U2VxKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcbiAgICB0aGlzLl9vYmplY3QgPSBvYmplY3Q7XG4gICAgdGhpcy5fa2V5cyA9IGtleXM7XG4gICAgdGhpcy5zaXplID0ga2V5cy5sZW5ndGg7XG4gIH1cblxuICBpZiAoIEtleWVkU2VxICkgT2JqZWN0U2VxLl9fcHJvdG9fXyA9IEtleWVkU2VxO1xuICBPYmplY3RTZXEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggS2V5ZWRTZXEgJiYgS2V5ZWRTZXEucHJvdG90eXBlICk7XG4gIE9iamVjdFNlcS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPYmplY3RTZXE7XG5cbiAgT2JqZWN0U2VxLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICBpZiAobm90U2V0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhdGhpcy5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fb2JqZWN0W2tleV07XG4gIH07XG5cbiAgT2JqZWN0U2VxLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBoYXMgKGtleSkge1xuICAgIHJldHVybiB0aGlzLl9vYmplY3QuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgfTtcblxuICBPYmplY3RTZXEucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBvYmplY3QgPSB0aGlzLl9vYmplY3Q7XG4gICAgdmFyIGtleXMgPSB0aGlzLl9rZXlzO1xuICAgIHZhciBzaXplID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpICE9PSBzaXplKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tyZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrK107XG4gICAgICBpZiAoZm4ob2JqZWN0W2tleV0sIGtleSwgdGhpcyQxKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9O1xuXG4gIE9iamVjdFNlcS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5fb2JqZWN0O1xuICAgIHZhciBrZXlzID0gdGhpcy5fa2V5cztcbiAgICB2YXIgc2l6ZSA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBpID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpID09PSBzaXplKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciBrZXkgPSBrZXlzW3JldmVyc2UgPyBzaXplIC0gKytpIDogaSsrXTtcbiAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGtleSwgb2JqZWN0W2tleV0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBPYmplY3RTZXE7XG59KEtleWVkU2VxKSk7XG5PYmplY3RTZXEucHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcblxudmFyIENvbGxlY3Rpb25TZXEgPSAoZnVuY3Rpb24gKEluZGV4ZWRTZXEpIHtcbiAgZnVuY3Rpb24gQ29sbGVjdGlvblNlcShjb2xsZWN0aW9uKSB7XG4gICAgdGhpcy5fY29sbGVjdGlvbiA9IGNvbGxlY3Rpb247XG4gICAgdGhpcy5zaXplID0gY29sbGVjdGlvbi5sZW5ndGggfHwgY29sbGVjdGlvbi5zaXplO1xuICB9XG5cbiAgaWYgKCBJbmRleGVkU2VxICkgQ29sbGVjdGlvblNlcS5fX3Byb3RvX18gPSBJbmRleGVkU2VxO1xuICBDb2xsZWN0aW9uU2VxLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEluZGV4ZWRTZXEgJiYgSW5kZXhlZFNlcS5wcm90b3R5cGUgKTtcbiAgQ29sbGVjdGlvblNlcS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb2xsZWN0aW9uU2VxO1xuXG4gIENvbGxlY3Rpb25TZXEucHJvdG90eXBlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24gX19pdGVyYXRlVW5jYWNoZWQgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgY29sbGVjdGlvbiA9IHRoaXMuX2NvbGxlY3Rpb247XG4gICAgdmFyIGl0ZXJhdG9yID0gZ2V0SXRlcmF0b3IoY29sbGVjdGlvbik7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIGlmIChpc0l0ZXJhdG9yKGl0ZXJhdG9yKSkge1xuICAgICAgdmFyIHN0ZXA7XG4gICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgIGlmIChmbihzdGVwLnZhbHVlLCBpdGVyYXRpb25zKyssIHRoaXMkMSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG5cbiAgQ29sbGVjdGlvblNlcS5wcm90b3R5cGUuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24gX19pdGVyYXRvclVuY2FjaGVkICh0eXBlLCByZXZlcnNlKSB7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGNvbGxlY3Rpb24gPSB0aGlzLl9jb2xsZWN0aW9uO1xuICAgIHZhciBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKGNvbGxlY3Rpb24pO1xuICAgIGlmICghaXNJdGVyYXRvcihpdGVyYXRvcikpIHtcbiAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoaXRlcmF0b3JEb25lKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICByZXR1cm4gc3RlcC5kb25lID8gc3RlcCA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzdGVwLnZhbHVlKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gQ29sbGVjdGlvblNlcTtcbn0oSW5kZXhlZFNlcSkpO1xuXG52YXIgSXRlcmF0b3JTZXEgPSAoZnVuY3Rpb24gKEluZGV4ZWRTZXEpIHtcbiAgZnVuY3Rpb24gSXRlcmF0b3JTZXEoaXRlcmF0b3IpIHtcbiAgICB0aGlzLl9pdGVyYXRvciA9IGl0ZXJhdG9yO1xuICAgIHRoaXMuX2l0ZXJhdG9yQ2FjaGUgPSBbXTtcbiAgfVxuXG4gIGlmICggSW5kZXhlZFNlcSApIEl0ZXJhdG9yU2VxLl9fcHJvdG9fXyA9IEluZGV4ZWRTZXE7XG4gIEl0ZXJhdG9yU2VxLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEluZGV4ZWRTZXEgJiYgSW5kZXhlZFNlcS5wcm90b3R5cGUgKTtcbiAgSXRlcmF0b3JTZXEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSXRlcmF0b3JTZXE7XG5cbiAgSXRlcmF0b3JTZXEucHJvdG90eXBlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24gX19pdGVyYXRlVW5jYWNoZWQgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyYXRvcjtcbiAgICB2YXIgY2FjaGUgPSB0aGlzLl9pdGVyYXRvckNhY2hlO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICB3aGlsZSAoaXRlcmF0aW9ucyA8IGNhY2hlLmxlbmd0aCkge1xuICAgICAgaWYgKGZuKGNhY2hlW2l0ZXJhdGlvbnNdLCBpdGVyYXRpb25zKyssIHRoaXMkMSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgc3RlcDtcbiAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICB2YXIgdmFsID0gc3RlcC52YWx1ZTtcbiAgICAgIGNhY2hlW2l0ZXJhdGlvbnNdID0gdmFsO1xuICAgICAgaWYgKGZuKHZhbCwgaXRlcmF0aW9ucysrLCB0aGlzJDEpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG5cbiAgSXRlcmF0b3JTZXEucHJvdG90eXBlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uIF9faXRlcmF0b3JVbmNhY2hlZCAodHlwZSwgcmV2ZXJzZSkge1xuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXJhdG9yO1xuICAgIHZhciBjYWNoZSA9IHRoaXMuX2l0ZXJhdG9yQ2FjaGU7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGl0ZXJhdGlvbnMgPj0gY2FjaGUubGVuZ3RoKSB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgIH1cbiAgICAgICAgY2FjaGVbaXRlcmF0aW9uc10gPSBzdGVwLnZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucywgY2FjaGVbaXRlcmF0aW9ucysrXSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIEl0ZXJhdG9yU2VxO1xufShJbmRleGVkU2VxKSk7XG5cbi8vICMgcHJhZ21hIEhlbHBlciBmdW5jdGlvbnNcblxuZnVuY3Rpb24gaXNTZXEobWF5YmVTZXEpIHtcbiAgcmV0dXJuICEhKG1heWJlU2VxICYmIG1heWJlU2VxW0lTX1NFUV9TRU5USU5FTF0pO1xufVxuXG52YXIgRU1QVFlfU0VRO1xuXG5mdW5jdGlvbiBlbXB0eVNlcXVlbmNlKCkge1xuICByZXR1cm4gRU1QVFlfU0VRIHx8IChFTVBUWV9TRVEgPSBuZXcgQXJyYXlTZXEoW10pKTtcbn1cblxuZnVuY3Rpb24ga2V5ZWRTZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgdmFyIHNlcSA9IEFycmF5LmlzQXJyYXkodmFsdWUpXG4gICAgPyBuZXcgQXJyYXlTZXEodmFsdWUpXG4gICAgOiBpc0l0ZXJhdG9yKHZhbHVlKVxuICAgICAgICA/IG5ldyBJdGVyYXRvclNlcSh2YWx1ZSlcbiAgICAgICAgOiBoYXNJdGVyYXRvcih2YWx1ZSkgPyBuZXcgQ29sbGVjdGlvblNlcSh2YWx1ZSkgOiB1bmRlZmluZWQ7XG4gIGlmIChzZXEpIHtcbiAgICByZXR1cm4gc2VxLmZyb21FbnRyeVNlcSgpO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG5ldyBPYmplY3RTZXEodmFsdWUpO1xuICB9XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgJ0V4cGVjdGVkIEFycmF5IG9yIGNvbGxlY3Rpb24gb2JqZWN0IG9mIFtrLCB2XSBlbnRyaWVzLCBvciBrZXllZCBvYmplY3Q6ICcgK1xuICAgICAgdmFsdWVcbiAgKTtcbn1cblxuZnVuY3Rpb24gaW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICB2YXIgc2VxID0gbWF5YmVJbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgaWYgKHNlcSkge1xuICAgIHJldHVybiBzZXE7XG4gIH1cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAnRXhwZWN0ZWQgQXJyYXkgb3IgY29sbGVjdGlvbiBvYmplY3Qgb2YgdmFsdWVzOiAnICsgdmFsdWVcbiAgKTtcbn1cblxuZnVuY3Rpb24gc2VxRnJvbVZhbHVlKHZhbHVlKSB7XG4gIHZhciBzZXEgPSBtYXliZUluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpO1xuICBpZiAoc2VxKSB7XG4gICAgcmV0dXJuIHNlcTtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBuZXcgT2JqZWN0U2VxKHZhbHVlKTtcbiAgfVxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICdFeHBlY3RlZCBBcnJheSBvciBjb2xsZWN0aW9uIG9iamVjdCBvZiB2YWx1ZXMsIG9yIGtleWVkIG9iamVjdDogJyArIHZhbHVlXG4gICk7XG59XG5cbmZ1bmN0aW9uIG1heWJlSW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICByZXR1cm4gaXNBcnJheUxpa2UodmFsdWUpXG4gICAgPyBuZXcgQXJyYXlTZXEodmFsdWUpXG4gICAgOiBpc0l0ZXJhdG9yKHZhbHVlKVxuICAgICAgICA/IG5ldyBJdGVyYXRvclNlcSh2YWx1ZSlcbiAgICAgICAgOiBoYXNJdGVyYXRvcih2YWx1ZSkgPyBuZXcgQ29sbGVjdGlvblNlcSh2YWx1ZSkgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQW4gZXh0ZW5zaW9uIG9mIHRoZSBcInNhbWUtdmFsdWVcIiBhbGdvcml0aG0gYXMgW2Rlc2NyaWJlZCBmb3IgdXNlIGJ5IEVTNiBNYXBcbiAqIGFuZCBTZXRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hcCNLZXlfZXF1YWxpdHkpXG4gKlxuICogTmFOIGlzIGNvbnNpZGVyZWQgdGhlIHNhbWUgYXMgTmFOLCBob3dldmVyIC0wIGFuZCAwIGFyZSBjb25zaWRlcmVkIHRoZSBzYW1lXG4gKiB2YWx1ZSwgd2hpY2ggaXMgZGlmZmVyZW50IGZyb20gdGhlIGFsZ29yaXRobSBkZXNjcmliZWQgYnlcbiAqIFtgT2JqZWN0LmlzYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzKS5cbiAqXG4gKiBUaGlzIGlzIGV4dGVuZGVkIGZ1cnRoZXIgdG8gYWxsb3cgT2JqZWN0cyB0byBkZXNjcmliZSB0aGUgdmFsdWVzIHRoZXlcbiAqIHJlcHJlc2VudCwgYnkgd2F5IG9mIGB2YWx1ZU9mYCBvciBgZXF1YWxzYCAoYW5kIGBoYXNoQ29kZWApLlxuICpcbiAqIE5vdGU6IGJlY2F1c2Ugb2YgdGhpcyBleHRlbnNpb24sIHRoZSBrZXkgZXF1YWxpdHkgb2YgSW1tdXRhYmxlLk1hcCBhbmQgdGhlXG4gKiB2YWx1ZSBlcXVhbGl0eSBvZiBJbW11dGFibGUuU2V0IHdpbGwgZGlmZmVyIGZyb20gRVM2IE1hcCBhbmQgU2V0LlxuICpcbiAqICMjIyBEZWZpbmluZyBjdXN0b20gdmFsdWVzXG4gKlxuICogVGhlIGVhc2llc3Qgd2F5IHRvIGRlc2NyaWJlIHRoZSB2YWx1ZSBhbiBvYmplY3QgcmVwcmVzZW50cyBpcyBieSBpbXBsZW1lbnRpbmdcbiAqIGB2YWx1ZU9mYC4gRm9yIGV4YW1wbGUsIGBEYXRlYCByZXByZXNlbnRzIGEgdmFsdWUgYnkgcmV0dXJuaW5nIGEgdW5peFxuICogdGltZXN0YW1wIGZvciBgdmFsdWVPZmA6XG4gKlxuICogICAgIHZhciBkYXRlMSA9IG5ldyBEYXRlKDEyMzQ1Njc4OTAwMDApOyAvLyBGcmkgRmViIDEzIDIwMDkgLi4uXG4gKiAgICAgdmFyIGRhdGUyID0gbmV3IERhdGUoMTIzNDU2Nzg5MDAwMCk7XG4gKiAgICAgZGF0ZTEudmFsdWVPZigpOyAvLyAxMjM0NTY3ODkwMDAwXG4gKiAgICAgYXNzZXJ0KCBkYXRlMSAhPT0gZGF0ZTIgKTtcbiAqICAgICBhc3NlcnQoIEltbXV0YWJsZS5pcyggZGF0ZTEsIGRhdGUyICkgKTtcbiAqXG4gKiBOb3RlOiBvdmVycmlkaW5nIGB2YWx1ZU9mYCBtYXkgaGF2ZSBvdGhlciBpbXBsaWNhdGlvbnMgaWYgeW91IHVzZSB0aGlzIG9iamVjdFxuICogd2hlcmUgSmF2YVNjcmlwdCBleHBlY3RzIGEgcHJpbWl0aXZlLCBzdWNoIGFzIGltcGxpY2l0IHN0cmluZyBjb2VyY2lvbi5cbiAqXG4gKiBGb3IgbW9yZSBjb21wbGV4IHR5cGVzLCBlc3BlY2lhbGx5IGNvbGxlY3Rpb25zLCBpbXBsZW1lbnRpbmcgYHZhbHVlT2ZgIG1heVxuICogbm90IGJlIHBlcmZvcm1hbnQuIEFuIGFsdGVybmF0aXZlIGlzIHRvIGltcGxlbWVudCBgZXF1YWxzYCBhbmQgYGhhc2hDb2RlYC5cbiAqXG4gKiBgZXF1YWxzYCB0YWtlcyBhbm90aGVyIG9iamVjdCwgcHJlc3VtYWJseSBvZiBzaW1pbGFyIHR5cGUsIGFuZCByZXR1cm5zIHRydWVcbiAqIGlmIGl0IGlzIGVxdWFsLiBFcXVhbGl0eSBpcyBzeW1tZXRyaWNhbCwgc28gdGhlIHNhbWUgcmVzdWx0IHNob3VsZCBiZVxuICogcmV0dXJuZWQgaWYgdGhpcyBhbmQgdGhlIGFyZ3VtZW50IGFyZSBmbGlwcGVkLlxuICpcbiAqICAgICBhc3NlcnQoIGEuZXF1YWxzKGIpID09PSBiLmVxdWFscyhhKSApO1xuICpcbiAqIGBoYXNoQ29kZWAgcmV0dXJucyBhIDMyYml0IGludGVnZXIgbnVtYmVyIHJlcHJlc2VudGluZyB0aGUgb2JqZWN0IHdoaWNoIHdpbGxcbiAqIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGhvdyB0byBzdG9yZSB0aGUgdmFsdWUgb2JqZWN0IGluIGEgTWFwIG9yIFNldC4gWW91IG11c3RcbiAqIHByb3ZpZGUgYm90aCBvciBuZWl0aGVyIG1ldGhvZHMsIG9uZSBtdXN0IG5vdCBleGlzdCB3aXRob3V0IHRoZSBvdGhlci5cbiAqXG4gKiBBbHNvLCBhbiBpbXBvcnRhbnQgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlc2UgbWV0aG9kcyBtdXN0IGJlIHVwaGVsZDogaWYgdHdvXG4gKiB2YWx1ZXMgYXJlIGVxdWFsLCB0aGV5ICptdXN0KiByZXR1cm4gdGhlIHNhbWUgaGFzaENvZGUuIElmIHRoZSB2YWx1ZXMgYXJlIG5vdFxuICogZXF1YWwsIHRoZXkgbWlnaHQgaGF2ZSB0aGUgc2FtZSBoYXNoQ29kZTsgdGhpcyBpcyBjYWxsZWQgYSBoYXNoIGNvbGxpc2lvbixcbiAqIGFuZCB3aGlsZSB1bmRlc2lyYWJsZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgaXQgaXMgYWNjZXB0YWJsZS5cbiAqXG4gKiAgICAgaWYgKGEuZXF1YWxzKGIpKSB7XG4gKiAgICAgICBhc3NlcnQoIGEuaGFzaENvZGUoKSA9PT0gYi5oYXNoQ29kZSgpICk7XG4gKiAgICAgfVxuICpcbiAqIEFsbCBJbW11dGFibGUgY29sbGVjdGlvbnMgYXJlIFZhbHVlIE9iamVjdHM6IHRoZXkgaW1wbGVtZW50IGBlcXVhbHMoKWBcbiAqIGFuZCBgaGFzaENvZGUoKWAuXG4gKi9cbmZ1bmN0aW9uIGlzKHZhbHVlQSwgdmFsdWVCKSB7XG4gIGlmICh2YWx1ZUEgPT09IHZhbHVlQiB8fCAodmFsdWVBICE9PSB2YWx1ZUEgJiYgdmFsdWVCICE9PSB2YWx1ZUIpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCF2YWx1ZUEgfHwgIXZhbHVlQikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoXG4gICAgdHlwZW9mIHZhbHVlQS52YWx1ZU9mID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZUIudmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJ1xuICApIHtcbiAgICB2YWx1ZUEgPSB2YWx1ZUEudmFsdWVPZigpO1xuICAgIHZhbHVlQiA9IHZhbHVlQi52YWx1ZU9mKCk7XG4gICAgaWYgKHZhbHVlQSA9PT0gdmFsdWVCIHx8ICh2YWx1ZUEgIT09IHZhbHVlQSAmJiB2YWx1ZUIgIT09IHZhbHVlQikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXZhbHVlQSB8fCAhdmFsdWVCKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiAhIShpc1ZhbHVlT2JqZWN0KHZhbHVlQSkgJiZcbiAgICBpc1ZhbHVlT2JqZWN0KHZhbHVlQikgJiZcbiAgICB2YWx1ZUEuZXF1YWxzKHZhbHVlQikpO1xufVxuXG5mdW5jdGlvbiBmcm9tSlModmFsdWUsIGNvbnZlcnRlcikge1xuICByZXR1cm4gZnJvbUpTV2l0aChcbiAgICBbXSxcbiAgICBjb252ZXJ0ZXIgfHwgZGVmYXVsdENvbnZlcnRlcixcbiAgICB2YWx1ZSxcbiAgICAnJyxcbiAgICBjb252ZXJ0ZXIgJiYgY29udmVydGVyLmxlbmd0aCA+IDIgPyBbXSA6IHVuZGVmaW5lZCxcbiAgICB7ICcnOiB2YWx1ZSB9XG4gICk7XG59XG5cbmZ1bmN0aW9uIGZyb21KU1dpdGgoc3RhY2ssIGNvbnZlcnRlciwgdmFsdWUsIGtleSwga2V5UGF0aCwgcGFyZW50VmFsdWUpIHtcbiAgdmFyIHRvU2VxID0gQXJyYXkuaXNBcnJheSh2YWx1ZSlcbiAgICA/IEluZGV4ZWRTZXFcbiAgICA6IGlzUGxhaW5PYmoodmFsdWUpID8gS2V5ZWRTZXEgOiBudWxsO1xuICBpZiAodG9TZXEpIHtcbiAgICBpZiAofnN0YWNrLmluZGV4T2YodmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCBjaXJjdWxhciBzdHJ1Y3R1cmUgdG8gSW1tdXRhYmxlJyk7XG4gICAgfVxuICAgIHN0YWNrLnB1c2godmFsdWUpO1xuICAgIGtleVBhdGggJiYga2V5ICE9PSAnJyAmJiBrZXlQYXRoLnB1c2goa2V5KTtcbiAgICB2YXIgY29udmVydGVkID0gY29udmVydGVyLmNhbGwoXG4gICAgICBwYXJlbnRWYWx1ZSxcbiAgICAgIGtleSxcbiAgICAgIHRvU2VxKHZhbHVlKS5tYXAoZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIGZyb21KU1dpdGgoc3RhY2ssIGNvbnZlcnRlciwgdiwgaywga2V5UGF0aCwgdmFsdWUpOyB9KSxcbiAgICAgIGtleVBhdGggJiYga2V5UGF0aC5zbGljZSgpXG4gICAgKTtcbiAgICBzdGFjay5wb3AoKTtcbiAgICBrZXlQYXRoICYmIGtleVBhdGgucG9wKCk7XG4gICAgcmV0dXJuIGNvbnZlcnRlZDtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRDb252ZXJ0ZXIoaywgdikge1xuICByZXR1cm4gaXNLZXllZCh2KSA/IHYudG9NYXAoKSA6IHYudG9MaXN0KCk7XG59XG5cbmZ1bmN0aW9uIGlzUGxhaW5PYmoodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICYmXG4gICAgKHZhbHVlLmNvbnN0cnVjdG9yID09PSBPYmplY3QgfHwgdmFsdWUuY29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCk7XG59XG5cbnZhciBpbXVsID0gdHlwZW9mIE1hdGguaW11bCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICBNYXRoLmltdWwoMHhmZmZmZmZmZiwgMikgPT09IC0yXG4gID8gTWF0aC5pbXVsXG4gIDogZnVuY3Rpb24gaW11bChhLCBiKSB7XG4gICAgICBhIHw9IDA7IC8vIGludFxuICAgICAgYiB8PSAwOyAvLyBpbnRcbiAgICAgIHZhciBjID0gYSAmIDB4ZmZmZjtcbiAgICAgIHZhciBkID0gYiAmIDB4ZmZmZjtcbiAgICAgIC8vIFNoaWZ0IGJ5IDAgZml4ZXMgdGhlIHNpZ24gb24gdGhlIGhpZ2ggcGFydC5cbiAgICAgIHJldHVybiBjICogZCArICgoYSA+Pj4gMTYpICogZCArIGMgKiAoYiA+Pj4gMTYpIDw8IDE2ID4+PiAwKSB8IDA7IC8vIGludFxuICAgIH07XG5cbi8vIHY4IGhhcyBhbiBvcHRpbWl6YXRpb24gZm9yIHN0b3JpbmcgMzEtYml0IHNpZ25lZCBudW1iZXJzLlxuLy8gVmFsdWVzIHdoaWNoIGhhdmUgZWl0aGVyIDAwIG9yIDExIGFzIHRoZSBoaWdoIG9yZGVyIGJpdHMgcXVhbGlmeS5cbi8vIFRoaXMgZnVuY3Rpb24gZHJvcHMgdGhlIGhpZ2hlc3Qgb3JkZXIgYml0IGluIGEgc2lnbmVkIG51bWJlciwgbWFpbnRhaW5pbmdcbi8vIHRoZSBzaWduIGJpdC5cbmZ1bmN0aW9uIHNtaShpMzIpIHtcbiAgcmV0dXJuIGkzMiA+Pj4gMSAmIDB4NDAwMDAwMDAgfCBpMzIgJiAweGJmZmZmZmZmO1xufVxuXG5mdW5jdGlvbiBoYXNoKG8pIHtcbiAgaWYgKG8gPT09IGZhbHNlIHx8IG8gPT09IG51bGwgfHwgbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKHR5cGVvZiBvLnZhbHVlT2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvID0gby52YWx1ZU9mKCk7XG4gICAgaWYgKG8gPT09IGZhbHNlIHx8IG8gPT09IG51bGwgfHwgbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gIH1cbiAgaWYgKG8gPT09IHRydWUpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiBvO1xuICBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAobyAhPT0gbyB8fCBvID09PSBJbmZpbml0eSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHZhciBoID0gbyB8IDA7XG4gICAgaWYgKGggIT09IG8pIHtcbiAgICAgIGggXj0gbyAqIDB4ZmZmZmZmZmY7XG4gICAgfVxuICAgIHdoaWxlIChvID4gMHhmZmZmZmZmZikge1xuICAgICAgbyAvPSAweGZmZmZmZmZmO1xuICAgICAgaCBePSBvO1xuICAgIH1cbiAgICByZXR1cm4gc21pKGgpO1xuICB9XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBvLmxlbmd0aCA+IFNUUklOR19IQVNIX0NBQ0hFX01JTl9TVFJMRU5cbiAgICAgID8gY2FjaGVkSGFzaFN0cmluZyhvKVxuICAgICAgOiBoYXNoU3RyaW5nKG8pO1xuICB9XG4gIGlmICh0eXBlb2Ygby5oYXNoQ29kZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBvLmhhc2hDb2RlKCk7XG4gIH1cbiAgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGhhc2hKU09iaihvKTtcbiAgfVxuICBpZiAodHlwZW9mIG8udG9TdHJpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gaGFzaFN0cmluZyhvLnRvU3RyaW5nKCkpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcignVmFsdWUgdHlwZSAnICsgdHlwZSArICcgY2Fubm90IGJlIGhhc2hlZC4nKTtcbn1cblxuZnVuY3Rpb24gY2FjaGVkSGFzaFN0cmluZyhzdHJpbmcpIHtcbiAgdmFyIGhhc2ggPSBzdHJpbmdIYXNoQ2FjaGVbc3RyaW5nXTtcbiAgaWYgKGhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgIGhhc2ggPSBoYXNoU3RyaW5nKHN0cmluZyk7XG4gICAgaWYgKFNUUklOR19IQVNIX0NBQ0hFX1NJWkUgPT09IFNUUklOR19IQVNIX0NBQ0hFX01BWF9TSVpFKSB7XG4gICAgICBTVFJJTkdfSEFTSF9DQUNIRV9TSVpFID0gMDtcbiAgICAgIHN0cmluZ0hhc2hDYWNoZSA9IHt9O1xuICAgIH1cbiAgICBTVFJJTkdfSEFTSF9DQUNIRV9TSVpFKys7XG4gICAgc3RyaW5nSGFzaENhY2hlW3N0cmluZ10gPSBoYXNoO1xuICB9XG4gIHJldHVybiBoYXNoO1xufVxuXG4vLyBodHRwOi8vanNwZXJmLmNvbS9oYXNoaW5nLXN0cmluZ3NcbmZ1bmN0aW9uIGhhc2hTdHJpbmcoc3RyaW5nKSB7XG4gIC8vIFRoaXMgaXMgdGhlIGhhc2ggZnJvbSBKVk1cbiAgLy8gVGhlIGhhc2ggY29kZSBmb3IgYSBzdHJpbmcgaXMgY29tcHV0ZWQgYXNcbiAgLy8gc1swXSAqIDMxIF4gKG4gLSAxKSArIHNbMV0gKiAzMSBeIChuIC0gMikgKyAuLi4gKyBzW24gLSAxXSxcbiAgLy8gd2hlcmUgc1tpXSBpcyB0aGUgaXRoIGNoYXJhY3RlciBvZiB0aGUgc3RyaW5nIGFuZCBuIGlzIHRoZSBsZW5ndGggb2ZcbiAgLy8gdGhlIHN0cmluZy4gV2UgXCJtb2RcIiB0aGUgcmVzdWx0IHRvIG1ha2UgaXQgYmV0d2VlbiAwIChpbmNsdXNpdmUpIGFuZCAyXjMxXG4gIC8vIChleGNsdXNpdmUpIGJ5IGRyb3BwaW5nIGhpZ2ggYml0cy5cbiAgdmFyIGhhc2ggPSAwO1xuICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgc3RyaW5nLmxlbmd0aDsgaWkrKykge1xuICAgIGhhc2ggPSAzMSAqIGhhc2ggKyBzdHJpbmcuY2hhckNvZGVBdChpaSkgfCAwO1xuICB9XG4gIHJldHVybiBzbWkoaGFzaCk7XG59XG5cbmZ1bmN0aW9uIGhhc2hKU09iaihvYmopIHtcbiAgdmFyIGhhc2g7XG4gIGlmICh1c2luZ1dlYWtNYXApIHtcbiAgICBoYXNoID0gd2Vha01hcC5nZXQob2JqKTtcbiAgICBpZiAoaGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gaGFzaDtcbiAgICB9XG4gIH1cblxuICBoYXNoID0gb2JqW1VJRF9IQVNIX0tFWV07XG4gIGlmIChoYXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gaGFzaDtcbiAgfVxuXG4gIGlmICghY2FuRGVmaW5lUHJvcGVydHkpIHtcbiAgICBoYXNoID0gb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlICYmIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZVtVSURfSEFTSF9LRVldO1xuICAgIGlmIChoYXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cblxuICAgIGhhc2ggPSBnZXRJRU5vZGVIYXNoKG9iaik7XG4gICAgaWYgKGhhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfVxuICB9XG5cbiAgaGFzaCA9ICsrb2JqSGFzaFVJRDtcbiAgaWYgKG9iakhhc2hVSUQgJiAweDQwMDAwMDAwKSB7XG4gICAgb2JqSGFzaFVJRCA9IDA7XG4gIH1cblxuICBpZiAodXNpbmdXZWFrTWFwKSB7XG4gICAgd2Vha01hcC5zZXQob2JqLCBoYXNoKTtcbiAgfSBlbHNlIGlmIChpc0V4dGVuc2libGUgIT09IHVuZGVmaW5lZCAmJiBpc0V4dGVuc2libGUob2JqKSA9PT0gZmFsc2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vbi1leHRlbnNpYmxlIG9iamVjdHMgYXJlIG5vdCBhbGxvd2VkIGFzIGtleXMuJyk7XG4gIH0gZWxzZSBpZiAoY2FuRGVmaW5lUHJvcGVydHkpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBVSURfSEFTSF9LRVksIHtcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgIHZhbHVlOiBoYXNoXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoXG4gICAgb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlICE9PSB1bmRlZmluZWQgJiZcbiAgICBvYmoucHJvcGVydHlJc0VudW1lcmFibGUgPT09IG9iai5jb25zdHJ1Y3Rvci5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGVcbiAgKSB7XG4gICAgLy8gU2luY2Ugd2UgY2FuJ3QgZGVmaW5lIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgb24gdGhlIG9iamVjdFxuICAgIC8vIHdlJ2xsIGhpamFjayBvbmUgb2YgdGhlIGxlc3MtdXNlZCBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzIHRvXG4gICAgLy8gc2F2ZSBvdXIgaGFzaCBvbiBpdC4gU2luY2UgdGhpcyBpcyBhIGZ1bmN0aW9uIGl0IHdpbGwgbm90IHNob3cgdXAgaW5cbiAgICAvLyBgSlNPTi5zdHJpbmdpZnlgIHdoaWNoIGlzIHdoYXQgd2Ugd2FudC5cbiAgICBvYmoucHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5hcHBseShcbiAgICAgICAgdGhpcyxcbiAgICAgICAgYXJndW1lbnRzXG4gICAgICApO1xuICAgIH07XG4gICAgb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlW1VJRF9IQVNIX0tFWV0gPSBoYXNoO1xuICB9IGVsc2UgaWYgKG9iai5ub2RlVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gQXQgdGhpcyBwb2ludCB3ZSBjb3VsZG4ndCBnZXQgdGhlIElFIGB1bmlxdWVJRGAgdG8gdXNlIGFzIGEgaGFzaFxuICAgIC8vIGFuZCB3ZSBjb3VsZG4ndCB1c2UgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSB0byBleHBsb2l0IHRoZVxuICAgIC8vIGRvbnRFbnVtIGJ1ZyBzbyB3ZSBzaW1wbHkgYWRkIHRoZSBgVUlEX0hBU0hfS0VZYCBvbiB0aGUgbm9kZVxuICAgIC8vIGl0c2VsZi5cbiAgICBvYmpbVUlEX0hBU0hfS0VZXSA9IGhhc2g7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgb24gb2JqZWN0LicpO1xuICB9XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cbi8vIEdldCByZWZlcmVuY2VzIHRvIEVTNSBvYmplY3QgbWV0aG9kcy5cbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlO1xuXG4vLyBUcnVlIGlmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB3b3JrcyBhcyBleHBlY3RlZC4gSUU4IGZhaWxzIHRoaXMgdGVzdC5cbnZhciBjYW5EZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdAJywge30pO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSgpO1xuXG4vLyBJRSBoYXMgYSBgdW5pcXVlSURgIHByb3BlcnR5IG9uIERPTSBub2Rlcy4gV2UgY2FuIGNvbnN0cnVjdCB0aGUgaGFzaCBmcm9tIGl0XG4vLyBhbmQgYXZvaWQgbWVtb3J5IGxlYWtzIGZyb20gdGhlIElFIGNsb25lTm9kZSBidWcuXG5mdW5jdGlvbiBnZXRJRU5vZGVIYXNoKG5vZGUpIHtcbiAgaWYgKG5vZGUgJiYgbm9kZS5ub2RlVHlwZSA+IDApIHtcbiAgICBzd2l0Y2ggKG5vZGUubm9kZVR5cGUpIHtcbiAgICAgIGNhc2UgMTogLy8gRWxlbWVudFxuICAgICAgICByZXR1cm4gbm9kZS51bmlxdWVJRDtcbiAgICAgIGNhc2UgOTogLy8gRG9jdW1lbnRcbiAgICAgICAgcmV0dXJuIG5vZGUuZG9jdW1lbnRFbGVtZW50ICYmIG5vZGUuZG9jdW1lbnRFbGVtZW50LnVuaXF1ZUlEO1xuICAgIH1cbiAgfVxufVxuXG4vLyBJZiBwb3NzaWJsZSwgdXNlIGEgV2Vha01hcC5cbnZhciB1c2luZ1dlYWtNYXAgPSB0eXBlb2YgV2Vha01hcCA9PT0gJ2Z1bmN0aW9uJztcbnZhciB3ZWFrTWFwO1xuaWYgKHVzaW5nV2Vha01hcCkge1xuICB3ZWFrTWFwID0gbmV3IFdlYWtNYXAoKTtcbn1cblxudmFyIG9iakhhc2hVSUQgPSAwO1xuXG52YXIgVUlEX0hBU0hfS0VZID0gJ19faW1tdXRhYmxlaGFzaF9fJztcbmlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG4gIFVJRF9IQVNIX0tFWSA9IFN5bWJvbChVSURfSEFTSF9LRVkpO1xufVxuXG52YXIgU1RSSU5HX0hBU0hfQ0FDSEVfTUlOX1NUUkxFTiA9IDE2O1xudmFyIFNUUklOR19IQVNIX0NBQ0hFX01BWF9TSVpFID0gMjU1O1xudmFyIFNUUklOR19IQVNIX0NBQ0hFX1NJWkUgPSAwO1xudmFyIHN0cmluZ0hhc2hDYWNoZSA9IHt9O1xuXG52YXIgVG9LZXllZFNlcXVlbmNlID0gKGZ1bmN0aW9uIChLZXllZFNlcSQkMSkge1xuICBmdW5jdGlvbiBUb0tleWVkU2VxdWVuY2UoaW5kZXhlZCwgdXNlS2V5cykge1xuICAgIHRoaXMuX2l0ZXIgPSBpbmRleGVkO1xuICAgIHRoaXMuX3VzZUtleXMgPSB1c2VLZXlzO1xuICAgIHRoaXMuc2l6ZSA9IGluZGV4ZWQuc2l6ZTtcbiAgfVxuXG4gIGlmICggS2V5ZWRTZXEkJDEgKSBUb0tleWVkU2VxdWVuY2UuX19wcm90b19fID0gS2V5ZWRTZXEkJDE7XG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBLZXllZFNlcSQkMSAmJiBLZXllZFNlcSQkMS5wcm90b3R5cGUgKTtcbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRvS2V5ZWRTZXF1ZW5jZTtcblxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoa2V5LCBub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9pdGVyLmdldChrZXksIG5vdFNldFZhbHVlKTtcbiAgfTtcblxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIGhhcyAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuaGFzKGtleSk7XG4gIH07XG5cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS52YWx1ZVNlcSA9IGZ1bmN0aW9uIHZhbHVlU2VxICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXRlci52YWx1ZVNlcSgpO1xuICB9O1xuXG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uIHJldmVyc2UgKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIHJldmVyc2VkU2VxdWVuY2UgPSByZXZlcnNlRmFjdG9yeSh0aGlzLCB0cnVlKTtcbiAgICBpZiAoIXRoaXMuX3VzZUtleXMpIHtcbiAgICAgIHJldmVyc2VkU2VxdWVuY2UudmFsdWVTZXEgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzJDEuX2l0ZXIudG9TZXEoKS5yZXZlcnNlKCk7IH07XG4gICAgfVxuICAgIHJldHVybiByZXZlcnNlZFNlcXVlbmNlO1xuICB9O1xuXG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gbWFwIChtYXBwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBtYXBwZWRTZXF1ZW5jZSA9IG1hcEZhY3RvcnkodGhpcywgbWFwcGVyLCBjb250ZXh0KTtcbiAgICBpZiAoIXRoaXMuX3VzZUtleXMpIHtcbiAgICAgIG1hcHBlZFNlcXVlbmNlLnZhbHVlU2VxID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcyQxLl9pdGVyLnRvU2VxKCkubWFwKG1hcHBlciwgY29udGV4dCk7IH07XG4gICAgfVxuICAgIHJldHVybiBtYXBwZWRTZXF1ZW5jZTtcbiAgfTtcblxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gZm4odiwgaywgdGhpcyQxKTsgfSwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgcmV0dXJuIFRvS2V5ZWRTZXF1ZW5jZTtcbn0oS2V5ZWRTZXEpKTtcblRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGVbSVNfT1JERVJFRF9TRU5USU5FTF0gPSB0cnVlO1xuXG52YXIgVG9JbmRleGVkU2VxdWVuY2UgPSAoZnVuY3Rpb24gKEluZGV4ZWRTZXEkJDEpIHtcbiAgZnVuY3Rpb24gVG9JbmRleGVkU2VxdWVuY2UoaXRlcikge1xuICAgIHRoaXMuX2l0ZXIgPSBpdGVyO1xuICAgIHRoaXMuc2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgfVxuXG4gIGlmICggSW5kZXhlZFNlcSQkMSApIFRvSW5kZXhlZFNlcXVlbmNlLl9fcHJvdG9fXyA9IEluZGV4ZWRTZXEkJDE7XG4gIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEluZGV4ZWRTZXEkJDEgJiYgSW5kZXhlZFNlcSQkMS5wcm90b3R5cGUgKTtcbiAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVG9JbmRleGVkU2VxdWVuY2U7XG5cbiAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuaW5jbHVkZXModmFsdWUpO1xuICB9O1xuXG4gIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgcmV2ZXJzZSAmJiBlbnN1cmVTaXplKHRoaXMpO1xuICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShcbiAgICAgIGZ1bmN0aW9uICh2KSB7IHJldHVybiBmbih2LCByZXZlcnNlID8gdGhpcyQxLnNpemUgLSArK2kgOiBpKyssIHRoaXMkMSk7IH0sXG4gICAgICByZXZlcnNlXG4gICAgKTtcbiAgfTtcblxuICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXIuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHJldmVyc2UgJiYgZW5zdXJlU2l6ZSh0aGlzKTtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgcmV0dXJuIHN0ZXAuZG9uZVxuICAgICAgICA/IHN0ZXBcbiAgICAgICAgOiBpdGVyYXRvclZhbHVlKFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIHJldmVyc2UgPyB0aGlzJDEuc2l6ZSAtICsraSA6IGkrKyxcbiAgICAgICAgICAgIHN0ZXAudmFsdWUsXG4gICAgICAgICAgICBzdGVwXG4gICAgICAgICAgKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gVG9JbmRleGVkU2VxdWVuY2U7XG59KEluZGV4ZWRTZXEpKTtcblxudmFyIFRvU2V0U2VxdWVuY2UgPSAoZnVuY3Rpb24gKFNldFNlcSQkMSkge1xuICBmdW5jdGlvbiBUb1NldFNlcXVlbmNlKGl0ZXIpIHtcbiAgICB0aGlzLl9pdGVyID0gaXRlcjtcbiAgICB0aGlzLnNpemUgPSBpdGVyLnNpemU7XG4gIH1cblxuICBpZiAoIFNldFNlcSQkMSApIFRvU2V0U2VxdWVuY2UuX19wcm90b19fID0gU2V0U2VxJCQxO1xuICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNldFNlcSQkMSAmJiBTZXRTZXEkJDEucHJvdG90eXBlICk7XG4gIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVG9TZXRTZXF1ZW5jZTtcblxuICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBoYXMgKGtleSkge1xuICAgIHJldHVybiB0aGlzLl9pdGVyLmluY2x1ZGVzKGtleSk7XG4gIH07XG5cbiAgVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKGZ1bmN0aW9uICh2KSB7IHJldHVybiBmbih2LCB2LCB0aGlzJDEpOyB9LCByZXZlcnNlKTtcbiAgfTtcblxuICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXIuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIHJldHVybiBzdGVwLmRvbmVcbiAgICAgICAgPyBzdGVwXG4gICAgICAgIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBzdGVwLnZhbHVlLCBzdGVwLnZhbHVlLCBzdGVwKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gVG9TZXRTZXF1ZW5jZTtcbn0oU2V0U2VxKSk7XG5cbnZhciBGcm9tRW50cmllc1NlcXVlbmNlID0gKGZ1bmN0aW9uIChLZXllZFNlcSQkMSkge1xuICBmdW5jdGlvbiBGcm9tRW50cmllc1NlcXVlbmNlKGVudHJpZXMpIHtcbiAgICB0aGlzLl9pdGVyID0gZW50cmllcztcbiAgICB0aGlzLnNpemUgPSBlbnRyaWVzLnNpemU7XG4gIH1cblxuICBpZiAoIEtleWVkU2VxJCQxICkgRnJvbUVudHJpZXNTZXF1ZW5jZS5fX3Byb3RvX18gPSBLZXllZFNlcSQkMTtcbiAgRnJvbUVudHJpZXNTZXF1ZW5jZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBLZXllZFNlcSQkMSAmJiBLZXllZFNlcSQkMS5wcm90b3R5cGUgKTtcbiAgRnJvbUVudHJpZXNTZXF1ZW5jZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBGcm9tRW50cmllc1NlcXVlbmNlO1xuXG4gIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLmVudHJ5U2VxID0gZnVuY3Rpb24gZW50cnlTZXEgKCkge1xuICAgIHJldHVybiB0aGlzLl9pdGVyLnRvU2VxKCk7XG4gIH07XG5cbiAgRnJvbUVudHJpZXNTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKFxuICAgICAgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGVudHJ5IGV4aXN0cyBmaXJzdCBzbyBhcnJheSBhY2Nlc3MgZG9lc24ndCB0aHJvdyBmb3IgaG9sZXNcbiAgICAgICAgLy8gaW4gdGhlIHBhcmVudCBpdGVyYXRpb24uXG4gICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgIHZhbGlkYXRlRW50cnkoZW50cnkpO1xuICAgICAgICAgIHZhciBpbmRleGVkQ29sbGVjdGlvbiA9IGlzQ29sbGVjdGlvbihlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIGZuKFxuICAgICAgICAgICAgaW5kZXhlZENvbGxlY3Rpb24gPyBlbnRyeS5nZXQoMSkgOiBlbnRyeVsxXSxcbiAgICAgICAgICAgIGluZGV4ZWRDb2xsZWN0aW9uID8gZW50cnkuZ2V0KDApIDogZW50cnlbMF0sXG4gICAgICAgICAgICB0aGlzJDFcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmV2ZXJzZVxuICAgICk7XG4gIH07XG5cbiAgRnJvbUVudHJpZXNTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAvLyBDaGVjayBpZiBlbnRyeSBleGlzdHMgZmlyc3Qgc28gYXJyYXkgYWNjZXNzIGRvZXNuJ3QgdGhyb3cgZm9yIGhvbGVzXG4gICAgICAgIC8vIGluIHRoZSBwYXJlbnQgaXRlcmF0aW9uLlxuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICB2YWxpZGF0ZUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB2YXIgaW5kZXhlZENvbGxlY3Rpb24gPSBpc0NvbGxlY3Rpb24oZW50cnkpO1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGluZGV4ZWRDb2xsZWN0aW9uID8gZW50cnkuZ2V0KDApIDogZW50cnlbMF0sXG4gICAgICAgICAgICBpbmRleGVkQ29sbGVjdGlvbiA/IGVudHJ5LmdldCgxKSA6IGVudHJ5WzFdLFxuICAgICAgICAgICAgc3RlcFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gRnJvbUVudHJpZXNTZXF1ZW5jZTtcbn0oS2V5ZWRTZXEpKTtcblxuVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLmNhY2hlUmVzdWx0ID0gKFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPSAoVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPSAoRnJvbUVudHJpZXNTZXF1ZW5jZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPSBjYWNoZVJlc3VsdFRocm91Z2gpKSk7XG5cbmZ1bmN0aW9uIGZsaXBGYWN0b3J5KGNvbGxlY3Rpb24pIHtcbiAgdmFyIGZsaXBTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShjb2xsZWN0aW9uKTtcbiAgZmxpcFNlcXVlbmNlLl9pdGVyID0gY29sbGVjdGlvbjtcbiAgZmxpcFNlcXVlbmNlLnNpemUgPSBjb2xsZWN0aW9uLnNpemU7XG4gIGZsaXBTZXF1ZW5jZS5mbGlwID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29sbGVjdGlvbjsgfTtcbiAgZmxpcFNlcXVlbmNlLnJldmVyc2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmV2ZXJzZWRTZXF1ZW5jZSA9IGNvbGxlY3Rpb24ucmV2ZXJzZS5hcHBseSh0aGlzKTsgLy8gc3VwZXIucmV2ZXJzZSgpXG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5mbGlwID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29sbGVjdGlvbi5yZXZlcnNlKCk7IH07XG4gICAgcmV0dXJuIHJldmVyc2VkU2VxdWVuY2U7XG4gIH07XG4gIGZsaXBTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBjb2xsZWN0aW9uLmluY2x1ZGVzKGtleSk7IH07XG4gIGZsaXBTZXF1ZW5jZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGNvbGxlY3Rpb24uaGFzKGtleSk7IH07XG4gIGZsaXBTZXF1ZW5jZS5jYWNoZVJlc3VsdCA9IGNhY2hlUmVzdWx0VGhyb3VnaDtcbiAgZmxpcFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHJldHVybiBjb2xsZWN0aW9uLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gZm4oaywgdiwgdGhpcyQxKSAhPT0gZmFsc2U7IH0sIHJldmVyc2UpO1xuICB9O1xuICBmbGlwU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgIGlmICh0eXBlID09PSBJVEVSQVRFX0VOVFJJRVMpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKCFzdGVwLmRvbmUpIHtcbiAgICAgICAgICB2YXIgayA9IHN0ZXAudmFsdWVbMF07XG4gICAgICAgICAgc3RlcC52YWx1ZVswXSA9IHN0ZXAudmFsdWVbMV07XG4gICAgICAgICAgc3RlcC52YWx1ZVsxXSA9IGs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbGxlY3Rpb24uX19pdGVyYXRvcihcbiAgICAgIHR5cGUgPT09IElURVJBVEVfVkFMVUVTID8gSVRFUkFURV9LRVlTIDogSVRFUkFURV9WQUxVRVMsXG4gICAgICByZXZlcnNlXG4gICAgKTtcbiAgfTtcbiAgcmV0dXJuIGZsaXBTZXF1ZW5jZTtcbn1cblxuZnVuY3Rpb24gbWFwRmFjdG9yeShjb2xsZWN0aW9uLCBtYXBwZXIsIGNvbnRleHQpIHtcbiAgdmFyIG1hcHBlZFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuICBtYXBwZWRTZXF1ZW5jZS5zaXplID0gY29sbGVjdGlvbi5zaXplO1xuICBtYXBwZWRTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBjb2xsZWN0aW9uLmhhcyhrZXkpOyB9O1xuICBtYXBwZWRTZXF1ZW5jZS5nZXQgPSBmdW5jdGlvbiAoa2V5LCBub3RTZXRWYWx1ZSkge1xuICAgIHZhciB2ID0gY29sbGVjdGlvbi5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICByZXR1cm4gdiA9PT0gTk9UX1NFVFxuICAgICAgPyBub3RTZXRWYWx1ZVxuICAgICAgOiBtYXBwZXIuY2FsbChjb250ZXh0LCB2LCBrZXksIGNvbGxlY3Rpb24pO1xuICB9O1xuICBtYXBwZWRTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICByZXR1cm4gY29sbGVjdGlvbi5fX2l0ZXJhdGUoXG4gICAgICBmdW5jdGlvbiAodiwgaywgYykgeyByZXR1cm4gZm4obWFwcGVyLmNhbGwoY29udGV4dCwgdiwgaywgYyksIGssIHRoaXMkMSkgIT09IGZhbHNlOyB9LFxuICAgICAgcmV2ZXJzZVxuICAgICk7XG4gIH07XG4gIG1hcHBlZFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgIH1cbiAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICB2YXIga2V5ID0gZW50cnlbMF07XG4gICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZShcbiAgICAgICAgdHlwZSxcbiAgICAgICAga2V5LFxuICAgICAgICBtYXBwZXIuY2FsbChjb250ZXh0LCBlbnRyeVsxXSwga2V5LCBjb2xsZWN0aW9uKSxcbiAgICAgICAgc3RlcFxuICAgICAgKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIG1hcHBlZFNlcXVlbmNlO1xufVxuXG5mdW5jdGlvbiByZXZlcnNlRmFjdG9yeShjb2xsZWN0aW9uLCB1c2VLZXlzKSB7XG4gIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciByZXZlcnNlZFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuICByZXZlcnNlZFNlcXVlbmNlLl9pdGVyID0gY29sbGVjdGlvbjtcbiAgcmV2ZXJzZWRTZXF1ZW5jZS5zaXplID0gY29sbGVjdGlvbi5zaXplO1xuICByZXZlcnNlZFNlcXVlbmNlLnJldmVyc2UgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2xsZWN0aW9uOyB9O1xuICBpZiAoY29sbGVjdGlvbi5mbGlwKSB7XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5mbGlwID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZmxpcFNlcXVlbmNlID0gZmxpcEZhY3RvcnkoY29sbGVjdGlvbik7XG4gICAgICBmbGlwU2VxdWVuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbGxlY3Rpb24uZmxpcCgpOyB9O1xuICAgICAgcmV0dXJuIGZsaXBTZXF1ZW5jZTtcbiAgICB9O1xuICB9XG4gIHJldmVyc2VkU2VxdWVuY2UuZ2V0ID0gZnVuY3Rpb24gKGtleSwgbm90U2V0VmFsdWUpIHsgcmV0dXJuIGNvbGxlY3Rpb24uZ2V0KHVzZUtleXMgPyBrZXkgOiAtMSAtIGtleSwgbm90U2V0VmFsdWUpOyB9O1xuICByZXZlcnNlZFNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGNvbGxlY3Rpb24uaGFzKHVzZUtleXMgPyBrZXkgOiAtMSAtIGtleSk7IH07XG4gIHJldmVyc2VkU2VxdWVuY2UuaW5jbHVkZXMgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGNvbGxlY3Rpb24uaW5jbHVkZXModmFsdWUpOyB9O1xuICByZXZlcnNlZFNlcXVlbmNlLmNhY2hlUmVzdWx0ID0gY2FjaGVSZXN1bHRUaHJvdWdoO1xuICByZXZlcnNlZFNlcXVlbmNlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgcmV2ZXJzZSAmJiBlbnN1cmVTaXplKGNvbGxlY3Rpb24pO1xuICAgIHJldHVybiBjb2xsZWN0aW9uLl9faXRlcmF0ZShcbiAgICAgIGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBmbih2LCB1c2VLZXlzID8gayA6IHJldmVyc2UgPyB0aGlzJDEuc2l6ZSAtICsraSA6IGkrKywgdGhpcyQxKTsgfSxcbiAgICAgICFyZXZlcnNlXG4gICAgKTtcbiAgfTtcbiAgcmV2ZXJzZWRTZXF1ZW5jZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgcmV2ZXJzZSAmJiBlbnN1cmVTaXplKGNvbGxlY3Rpb24pO1xuICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsICFyZXZlcnNlKTtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgIH1cbiAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZShcbiAgICAgICAgdHlwZSxcbiAgICAgICAgdXNlS2V5cyA/IGVudHJ5WzBdIDogcmV2ZXJzZSA/IHRoaXMkMS5zaXplIC0gKytpIDogaSsrLFxuICAgICAgICBlbnRyeVsxXSxcbiAgICAgICAgc3RlcFxuICAgICAgKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIHJldmVyc2VkU2VxdWVuY2U7XG59XG5cbmZ1bmN0aW9uIGZpbHRlckZhY3RvcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBjb250ZXh0LCB1c2VLZXlzKSB7XG4gIHZhciBmaWx0ZXJTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShjb2xsZWN0aW9uKTtcbiAgaWYgKHVzZUtleXMpIHtcbiAgICBmaWx0ZXJTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgdiA9IGNvbGxlY3Rpb24uZ2V0KGtleSwgTk9UX1NFVCk7XG4gICAgICByZXR1cm4gdiAhPT0gTk9UX1NFVCAmJiAhIXByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGtleSwgY29sbGVjdGlvbik7XG4gICAgfTtcbiAgICBmaWx0ZXJTZXF1ZW5jZS5nZXQgPSBmdW5jdGlvbiAoa2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgdmFyIHYgPSBjb2xsZWN0aW9uLmdldChrZXksIE5PVF9TRVQpO1xuICAgICAgcmV0dXJuIHYgIT09IE5PVF9TRVQgJiYgcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwga2V5LCBjb2xsZWN0aW9uKVxuICAgICAgICA/IHZcbiAgICAgICAgOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuICB9XG4gIGZpbHRlclNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICBjb2xsZWN0aW9uLl9faXRlcmF0ZShcbiAgICAgIGZ1bmN0aW9uICh2LCBrLCBjKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCBjKSkge1xuICAgICAgICAgIHJldHVybiBmbih2LCB1c2VLZXlzID8gayA6IGl0ZXJhdGlvbnMrKywgdGhpcyQxKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJldmVyc2VcbiAgICApO1xuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuICBmaWx0ZXJTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIGl0ZXJhdG9yID0gY29sbGVjdGlvbi5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICB2YXIga2V5ID0gZW50cnlbMF07XG4gICAgICAgIHZhciB2YWx1ZSA9IGVudHJ5WzFdO1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwoY29udGV4dCwgdmFsdWUsIGtleSwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCB1c2VLZXlzID8ga2V5IDogaXRlcmF0aW9ucysrLCB2YWx1ZSwgc3RlcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIGZpbHRlclNlcXVlbmNlO1xufVxuXG5mdW5jdGlvbiBjb3VudEJ5RmFjdG9yeShjb2xsZWN0aW9uLCBncm91cGVyLCBjb250ZXh0KSB7XG4gIHZhciBncm91cHMgPSBNYXAoKS5hc011dGFibGUoKTtcbiAgY29sbGVjdGlvbi5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYsIGspIHtcbiAgICBncm91cHMudXBkYXRlKGdyb3VwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBjb2xsZWN0aW9uKSwgMCwgZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEgKyAxOyB9KTtcbiAgfSk7XG4gIHJldHVybiBncm91cHMuYXNJbW11dGFibGUoKTtcbn1cblxuZnVuY3Rpb24gZ3JvdXBCeUZhY3RvcnkoY29sbGVjdGlvbiwgZ3JvdXBlciwgY29udGV4dCkge1xuICB2YXIgaXNLZXllZEl0ZXIgPSBpc0tleWVkKGNvbGxlY3Rpb24pO1xuICB2YXIgZ3JvdXBzID0gKGlzT3JkZXJlZChjb2xsZWN0aW9uKSA/IE9yZGVyZWRNYXAoKSA6IE1hcCgpKS5hc011dGFibGUoKTtcbiAgY29sbGVjdGlvbi5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYsIGspIHtcbiAgICBncm91cHMudXBkYXRlKFxuICAgICAgZ3JvdXBlci5jYWxsKGNvbnRleHQsIHYsIGssIGNvbGxlY3Rpb24pLFxuICAgICAgZnVuY3Rpb24gKGEpIHsgcmV0dXJuICgoYSA9IGEgfHwgW10pLCBhLnB1c2goaXNLZXllZEl0ZXIgPyBbaywgdl0gOiB2KSwgYSk7IH1cbiAgICApO1xuICB9KTtcbiAgdmFyIGNvZXJjZSA9IGNvbGxlY3Rpb25DbGFzcyhjb2xsZWN0aW9uKTtcbiAgcmV0dXJuIGdyb3Vwcy5tYXAoZnVuY3Rpb24gKGFycikgeyByZXR1cm4gcmVpZnkoY29sbGVjdGlvbiwgY29lcmNlKGFycikpOyB9KTtcbn1cblxuZnVuY3Rpb24gc2xpY2VGYWN0b3J5KGNvbGxlY3Rpb24sIGJlZ2luLCBlbmQsIHVzZUtleXMpIHtcbiAgdmFyIG9yaWdpbmFsU2l6ZSA9IGNvbGxlY3Rpb24uc2l6ZTtcblxuICBpZiAod2hvbGVTbGljZShiZWdpbiwgZW5kLCBvcmlnaW5hbFNpemUpKSB7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gIH1cblxuICB2YXIgcmVzb2x2ZWRCZWdpbiA9IHJlc29sdmVCZWdpbihiZWdpbiwgb3JpZ2luYWxTaXplKTtcbiAgdmFyIHJlc29sdmVkRW5kID0gcmVzb2x2ZUVuZChlbmQsIG9yaWdpbmFsU2l6ZSk7XG5cbiAgLy8gYmVnaW4gb3IgZW5kIHdpbGwgYmUgTmFOIGlmIHRoZXkgd2VyZSBwcm92aWRlZCBhcyBuZWdhdGl2ZSBudW1iZXJzIGFuZFxuICAvLyB0aGlzIGNvbGxlY3Rpb24ncyBzaXplIGlzIHVua25vd24uIEluIHRoYXQgY2FzZSwgY2FjaGUgZmlyc3Qgc28gdGhlcmUgaXNcbiAgLy8gYSBrbm93biBzaXplIGFuZCB0aGVzZSBkbyBub3QgcmVzb2x2ZSB0byBOYU4uXG4gIGlmIChyZXNvbHZlZEJlZ2luICE9PSByZXNvbHZlZEJlZ2luIHx8IHJlc29sdmVkRW5kICE9PSByZXNvbHZlZEVuZCkge1xuICAgIHJldHVybiBzbGljZUZhY3RvcnkoY29sbGVjdGlvbi50b1NlcSgpLmNhY2hlUmVzdWx0KCksIGJlZ2luLCBlbmQsIHVzZUtleXMpO1xuICB9XG5cbiAgLy8gTm90ZTogcmVzb2x2ZWRFbmQgaXMgdW5kZWZpbmVkIHdoZW4gdGhlIG9yaWdpbmFsIHNlcXVlbmNlJ3MgbGVuZ3RoIGlzXG4gIC8vIHVua25vd24gYW5kIHRoaXMgc2xpY2UgZGlkIG5vdCBzdXBwbHkgYW4gZW5kIGFuZCBzaG91bGQgY29udGFpbiBhbGxcbiAgLy8gZWxlbWVudHMgYWZ0ZXIgcmVzb2x2ZWRCZWdpbi5cbiAgLy8gSW4gdGhhdCBjYXNlLCByZXNvbHZlZFNpemUgd2lsbCBiZSBOYU4gYW5kIHNsaWNlU2l6ZSB3aWxsIHJlbWFpbiB1bmRlZmluZWQuXG4gIHZhciByZXNvbHZlZFNpemUgPSByZXNvbHZlZEVuZCAtIHJlc29sdmVkQmVnaW47XG4gIHZhciBzbGljZVNpemU7XG4gIGlmIChyZXNvbHZlZFNpemUgPT09IHJlc29sdmVkU2l6ZSkge1xuICAgIHNsaWNlU2l6ZSA9IHJlc29sdmVkU2l6ZSA8IDAgPyAwIDogcmVzb2x2ZWRTaXplO1xuICB9XG5cbiAgdmFyIHNsaWNlU2VxID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuXG4gIC8vIElmIGNvbGxlY3Rpb24uc2l6ZSBpcyB1bmRlZmluZWQsIHRoZSBzaXplIG9mIHRoZSByZWFsaXplZCBzbGljZVNlcSBpc1xuICAvLyB1bmtub3duIGF0IHRoaXMgcG9pbnQgdW5sZXNzIHRoZSBudW1iZXIgb2YgaXRlbXMgdG8gc2xpY2UgaXMgMFxuICBzbGljZVNlcS5zaXplID0gc2xpY2VTaXplID09PSAwXG4gICAgPyBzbGljZVNpemVcbiAgICA6IChjb2xsZWN0aW9uLnNpemUgJiYgc2xpY2VTaXplKSB8fCB1bmRlZmluZWQ7XG5cbiAgaWYgKCF1c2VLZXlzICYmIGlzU2VxKGNvbGxlY3Rpb24pICYmIHNsaWNlU2l6ZSA+PSAwKSB7XG4gICAgc2xpY2VTZXEuZ2V0ID0gZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICByZXR1cm4gaW5kZXggPj0gMCAmJiBpbmRleCA8IHNsaWNlU2l6ZVxuICAgICAgICA/IGNvbGxlY3Rpb24uZ2V0KGluZGV4ICsgcmVzb2x2ZWRCZWdpbiwgbm90U2V0VmFsdWUpXG4gICAgICAgIDogbm90U2V0VmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIHNsaWNlU2VxLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmIChzbGljZVNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgc2tpcHBlZCA9IDA7XG4gICAgdmFyIGlzU2tpcHBpbmcgPSB0cnVlO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICBjb2xsZWN0aW9uLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykge1xuICAgICAgaWYgKCEoaXNTa2lwcGluZyAmJiAoaXNTa2lwcGluZyA9IHNraXBwZWQrKyA8IHJlc29sdmVkQmVnaW4pKSkge1xuICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgIHJldHVybiBmbih2LCB1c2VLZXlzID8gayA6IGl0ZXJhdGlvbnMgLSAxLCB0aGlzJDEpICE9PSBmYWxzZSAmJlxuICAgICAgICAgIGl0ZXJhdGlvbnMgIT09IHNsaWNlU2l6ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgfTtcblxuICBzbGljZVNlcS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgaWYgKHNsaWNlU2l6ZSAhPT0gMCAmJiByZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIC8vIERvbid0IGJvdGhlciBpbnN0YW50aWF0aW5nIHBhcmVudCBpdGVyYXRvciBpZiB0YWtpbmcgMC5cbiAgICB2YXIgaXRlcmF0b3IgPSBzbGljZVNpemUgIT09IDAgJiYgY29sbGVjdGlvbi5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIHZhciBza2lwcGVkID0gMDtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB3aGlsZSAoc2tpcHBlZCsrIDwgcmVzb2x2ZWRCZWdpbikge1xuICAgICAgICBpdGVyYXRvci5uZXh0KCk7XG4gICAgICB9XG4gICAgICBpZiAoKytpdGVyYXRpb25zID4gc2xpY2VTaXplKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgaWYgKHVzZUtleXMgfHwgdHlwZSA9PT0gSVRFUkFURV9WQUxVRVMpIHtcbiAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICB9XG4gICAgICBpZiAodHlwZSA9PT0gSVRFUkFURV9LRVlTKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMgLSAxLCB1bmRlZmluZWQsIHN0ZXApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucyAtIDEsIHN0ZXAudmFsdWVbMV0sIHN0ZXApO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBzbGljZVNlcTtcbn1cblxuZnVuY3Rpb24gdGFrZVdoaWxlRmFjdG9yeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgdmFyIHRha2VTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShjb2xsZWN0aW9uKTtcbiAgdGFrZVNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICBjb2xsZWN0aW9uLl9faXRlcmF0ZShcbiAgICAgIGZ1bmN0aW9uICh2LCBrLCBjKSB7IHJldHVybiBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCBjKSAmJiArK2l0ZXJhdGlvbnMgJiYgZm4odiwgaywgdGhpcyQxKTsgfVxuICAgICk7XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG4gIHRha2VTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICB2YXIgaXRlcmF0aW5nID0gdHJ1ZTtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghaXRlcmF0aW5nKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgIH1cbiAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICB2YXIgayA9IGVudHJ5WzBdO1xuICAgICAgdmFyIHYgPSBlbnRyeVsxXTtcbiAgICAgIGlmICghcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgdGhpcyQxKSkge1xuICAgICAgICBpdGVyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHR5cGUgPT09IElURVJBVEVfRU5UUklFUyA/IHN0ZXAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIGssIHYsIHN0ZXApO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gdGFrZVNlcXVlbmNlO1xufVxuXG5mdW5jdGlvbiBza2lwV2hpbGVGYWN0b3J5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgY29udGV4dCwgdXNlS2V5cykge1xuICB2YXIgc2tpcFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuICBza2lwU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGlzU2tpcHBpbmcgPSB0cnVlO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICBjb2xsZWN0aW9uLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaywgYykge1xuICAgICAgaWYgKCEoaXNTa2lwcGluZyAmJiAoaXNTa2lwcGluZyA9IHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpKSkpIHtcbiAgICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgICByZXR1cm4gZm4odiwgdXNlS2V5cyA/IGsgOiBpdGVyYXRpb25zIC0gMSwgdGhpcyQxKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgfTtcbiAgc2tpcFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgIHZhciBza2lwcGluZyA9IHRydWU7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0ZXA7XG4gICAgICB2YXIgaztcbiAgICAgIHZhciB2O1xuICAgICAgZG8ge1xuICAgICAgICBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgaWYgKHVzZUtleXMgfHwgdHlwZSA9PT0gSVRFUkFURV9WQUxVRVMpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZSA9PT0gSVRFUkFURV9LRVlTKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHVuZGVmaW5lZCwgc3RlcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgc3RlcC52YWx1ZVsxXSwgc3RlcCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgayA9IGVudHJ5WzBdO1xuICAgICAgICB2ID0gZW50cnlbMV07XG4gICAgICAgIHNraXBwaW5nICYmIChza2lwcGluZyA9IHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIHRoaXMkMSkpO1xuICAgICAgfSB3aGlsZSAoc2tpcHBpbmcpO1xuICAgICAgcmV0dXJuIHR5cGUgPT09IElURVJBVEVfRU5UUklFUyA/IHN0ZXAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIGssIHYsIHN0ZXApO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gc2tpcFNlcXVlbmNlO1xufVxuXG5mdW5jdGlvbiBjb25jYXRGYWN0b3J5KGNvbGxlY3Rpb24sIHZhbHVlcykge1xuICB2YXIgaXNLZXllZENvbGxlY3Rpb24gPSBpc0tleWVkKGNvbGxlY3Rpb24pO1xuICB2YXIgaXRlcnMgPSBbY29sbGVjdGlvbl1cbiAgICAuY29uY2F0KHZhbHVlcylcbiAgICAubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICBpZiAoIWlzQ29sbGVjdGlvbih2KSkge1xuICAgICAgICB2ID0gaXNLZXllZENvbGxlY3Rpb25cbiAgICAgICAgICA/IGtleWVkU2VxRnJvbVZhbHVlKHYpXG4gICAgICAgICAgOiBpbmRleGVkU2VxRnJvbVZhbHVlKEFycmF5LmlzQXJyYXkodikgPyB2IDogW3ZdKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNLZXllZENvbGxlY3Rpb24pIHtcbiAgICAgICAgdiA9IEtleWVkQ29sbGVjdGlvbih2KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2O1xuICAgIH0pXG4gICAgLmZpbHRlcihmdW5jdGlvbiAodikgeyByZXR1cm4gdi5zaXplICE9PSAwOyB9KTtcblxuICBpZiAoaXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gIH1cblxuICBpZiAoaXRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgdmFyIHNpbmdsZXRvbiA9IGl0ZXJzWzBdO1xuICAgIGlmIChcbiAgICAgIHNpbmdsZXRvbiA9PT0gY29sbGVjdGlvbiB8fFxuICAgICAgKGlzS2V5ZWRDb2xsZWN0aW9uICYmIGlzS2V5ZWQoc2luZ2xldG9uKSkgfHxcbiAgICAgIChpc0luZGV4ZWQoY29sbGVjdGlvbikgJiYgaXNJbmRleGVkKHNpbmdsZXRvbikpXG4gICAgKSB7XG4gICAgICByZXR1cm4gc2luZ2xldG9uO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjb25jYXRTZXEgPSBuZXcgQXJyYXlTZXEoaXRlcnMpO1xuICBpZiAoaXNLZXllZENvbGxlY3Rpb24pIHtcbiAgICBjb25jYXRTZXEgPSBjb25jYXRTZXEudG9LZXllZFNlcSgpO1xuICB9IGVsc2UgaWYgKCFpc0luZGV4ZWQoY29sbGVjdGlvbikpIHtcbiAgICBjb25jYXRTZXEgPSBjb25jYXRTZXEudG9TZXRTZXEoKTtcbiAgfVxuICBjb25jYXRTZXEgPSBjb25jYXRTZXEuZmxhdHRlbih0cnVlKTtcbiAgY29uY2F0U2VxLnNpemUgPSBpdGVycy5yZWR1Y2UoXG4gICAgZnVuY3Rpb24gKHN1bSwgc2VxKSB7XG4gICAgICBpZiAoc3VtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIHNpemUgPSBzZXEuc2l6ZTtcbiAgICAgICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBzdW0gKyBzaXplO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICAwXG4gICk7XG4gIHJldHVybiBjb25jYXRTZXE7XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5GYWN0b3J5KGNvbGxlY3Rpb24sIGRlcHRoLCB1c2VLZXlzKSB7XG4gIHZhciBmbGF0U2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbik7XG4gIGZsYXRTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gZmxhdERlZXAoaXRlciwgY3VycmVudERlcHRoKSB7XG4gICAgICBpdGVyLl9faXRlcmF0ZShcbiAgICAgICAgZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgICAgICBpZiAoKCFkZXB0aCB8fCBjdXJyZW50RGVwdGggPCBkZXB0aCkgJiYgaXNDb2xsZWN0aW9uKHYpKSB7XG4gICAgICAgICAgICBmbGF0RGVlcCh2LCBjdXJyZW50RGVwdGggKyAxKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgZm4odiwgdXNlS2V5cyA/IGsgOiBpdGVyYXRpb25zKyssIGZsYXRTZXF1ZW5jZSkgPT09IGZhbHNlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICFzdG9wcGVkO1xuICAgICAgICB9LFxuICAgICAgICByZXZlcnNlXG4gICAgICApO1xuICAgIH1cbiAgICBmbGF0RGVlcChjb2xsZWN0aW9uLCAwKTtcbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgfTtcbiAgZmxhdFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgdmFyIHN0YWNrID0gW107XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgd2hpbGUgKGl0ZXJhdG9yKSB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoc3RlcC5kb25lICE9PSBmYWxzZSkge1xuICAgICAgICAgIGl0ZXJhdG9yID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHYgPSBzdGVwLnZhbHVlO1xuICAgICAgICBpZiAodHlwZSA9PT0gSVRFUkFURV9FTlRSSUVTKSB7XG4gICAgICAgICAgdiA9IHZbMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCghZGVwdGggfHwgc3RhY2subGVuZ3RoIDwgZGVwdGgpICYmIGlzQ29sbGVjdGlvbih2KSkge1xuICAgICAgICAgIHN0YWNrLnB1c2goaXRlcmF0b3IpO1xuICAgICAgICAgIGl0ZXJhdG9yID0gdi5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB1c2VLZXlzID8gc3RlcCA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCB2LCBzdGVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gZmxhdFNlcXVlbmNlO1xufVxuXG5mdW5jdGlvbiBmbGF0TWFwRmFjdG9yeShjb2xsZWN0aW9uLCBtYXBwZXIsIGNvbnRleHQpIHtcbiAgdmFyIGNvZXJjZSA9IGNvbGxlY3Rpb25DbGFzcyhjb2xsZWN0aW9uKTtcbiAgcmV0dXJuIGNvbGxlY3Rpb25cbiAgICAudG9TZXEoKVxuICAgIC5tYXAoZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIGNvZXJjZShtYXBwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBjb2xsZWN0aW9uKSk7IH0pXG4gICAgLmZsYXR0ZW4odHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGludGVycG9zZUZhY3RvcnkoY29sbGVjdGlvbiwgc2VwYXJhdG9yKSB7XG4gIHZhciBpbnRlcnBvc2VkU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbik7XG4gIGludGVycG9zZWRTZXF1ZW5jZS5zaXplID0gY29sbGVjdGlvbi5zaXplICYmIGNvbGxlY3Rpb24uc2l6ZSAqIDIgLSAxO1xuICBpbnRlcnBvc2VkU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIGNvbGxlY3Rpb24uX19pdGVyYXRlKFxuICAgICAgZnVuY3Rpb24gKHYpIHsgcmV0dXJuICghaXRlcmF0aW9ucyB8fCBmbihzZXBhcmF0b3IsIGl0ZXJhdGlvbnMrKywgdGhpcyQxKSAhPT0gZmFsc2UpICYmXG4gICAgICAgIGZuKHYsIGl0ZXJhdGlvbnMrKywgdGhpcyQxKSAhPT0gZmFsc2U7IH0sXG4gICAgICByZXZlcnNlXG4gICAgKTtcbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgfTtcbiAgaW50ZXJwb3NlZFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICB2YXIgc3RlcDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghc3RlcCB8fCBpdGVyYXRpb25zICUgMikge1xuICAgICAgICBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRpb25zICUgMlxuICAgICAgICA/IGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzZXBhcmF0b3IpXG4gICAgICAgIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHN0ZXAudmFsdWUsIHN0ZXApO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gaW50ZXJwb3NlZFNlcXVlbmNlO1xufVxuXG5mdW5jdGlvbiBzb3J0RmFjdG9yeShjb2xsZWN0aW9uLCBjb21wYXJhdG9yLCBtYXBwZXIpIHtcbiAgaWYgKCFjb21wYXJhdG9yKSB7XG4gICAgY29tcGFyYXRvciA9IGRlZmF1bHRDb21wYXJhdG9yO1xuICB9XG4gIHZhciBpc0tleWVkQ29sbGVjdGlvbiA9IGlzS2V5ZWQoY29sbGVjdGlvbik7XG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBlbnRyaWVzID0gY29sbGVjdGlvblxuICAgIC50b1NlcSgpXG4gICAgLm1hcChmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gW2ssIHYsIGluZGV4KyssIG1hcHBlciA/IG1hcHBlcih2LCBrLCBjb2xsZWN0aW9uKSA6IHZdOyB9KVxuICAgIC50b0FycmF5KCk7XG4gIGVudHJpZXMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gY29tcGFyYXRvcihhWzNdLCBiWzNdKSB8fCBhWzJdIC0gYlsyXTsgfSkuZm9yRWFjaChcbiAgICBpc0tleWVkQ29sbGVjdGlvblxuICAgICAgPyBmdW5jdGlvbiAodiwgaSkge1xuICAgICAgICAgIGVudHJpZXNbaV0ubGVuZ3RoID0gMjtcbiAgICAgICAgfVxuICAgICAgOiBmdW5jdGlvbiAodiwgaSkge1xuICAgICAgICAgIGVudHJpZXNbaV0gPSB2WzFdO1xuICAgICAgICB9XG4gICk7XG4gIHJldHVybiBpc0tleWVkQ29sbGVjdGlvblxuICAgID8gS2V5ZWRTZXEoZW50cmllcylcbiAgICA6IGlzSW5kZXhlZChjb2xsZWN0aW9uKSA/IEluZGV4ZWRTZXEoZW50cmllcykgOiBTZXRTZXEoZW50cmllcyk7XG59XG5cbmZ1bmN0aW9uIG1heEZhY3RvcnkoY29sbGVjdGlvbiwgY29tcGFyYXRvciwgbWFwcGVyKSB7XG4gIGlmICghY29tcGFyYXRvcikge1xuICAgIGNvbXBhcmF0b3IgPSBkZWZhdWx0Q29tcGFyYXRvcjtcbiAgfVxuICBpZiAobWFwcGVyKSB7XG4gICAgdmFyIGVudHJ5ID0gY29sbGVjdGlvblxuICAgICAgLnRvU2VxKClcbiAgICAgIC5tYXAoZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIFt2LCBtYXBwZXIodiwgaywgY29sbGVjdGlvbildOyB9KVxuICAgICAgLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gbWF4Q29tcGFyZShjb21wYXJhdG9yLCBhWzFdLCBiWzFdKSA/IGIgOiBhOyB9KTtcbiAgICByZXR1cm4gZW50cnkgJiYgZW50cnlbMF07XG4gIH1cbiAgcmV0dXJuIGNvbGxlY3Rpb24ucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBtYXhDb21wYXJlKGNvbXBhcmF0b3IsIGEsIGIpID8gYiA6IGE7IH0pO1xufVxuXG5mdW5jdGlvbiBtYXhDb21wYXJlKGNvbXBhcmF0b3IsIGEsIGIpIHtcbiAgdmFyIGNvbXAgPSBjb21wYXJhdG9yKGIsIGEpO1xuICAvLyBiIGlzIGNvbnNpZGVyZWQgdGhlIG5ldyBtYXggaWYgdGhlIGNvbXBhcmF0b3IgZGVjbGFyZXMgdGhlbSBlcXVhbCwgYnV0XG4gIC8vIHRoZXkgYXJlIG5vdCBlcXVhbCBhbmQgYiBpcyBpbiBmYWN0IGEgbnVsbGlzaCB2YWx1ZS5cbiAgcmV0dXJuIChjb21wID09PSAwICYmXG4gICAgYiAhPT0gYSAmJlxuICAgIChiID09PSB1bmRlZmluZWQgfHwgYiA9PT0gbnVsbCB8fCBiICE9PSBiKSkgfHxcbiAgICBjb21wID4gMDtcbn1cblxuZnVuY3Rpb24gemlwV2l0aEZhY3Rvcnkoa2V5SXRlciwgemlwcGVyLCBpdGVycykge1xuICB2YXIgemlwU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2Uoa2V5SXRlcik7XG4gIHppcFNlcXVlbmNlLnNpemUgPSBuZXcgQXJyYXlTZXEoaXRlcnMpLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gaS5zaXplOyB9KS5taW4oKTtcbiAgLy8gTm90ZTogdGhpcyBhIGdlbmVyaWMgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBfX2l0ZXJhdGUgaW4gdGVybXMgb2ZcbiAgLy8gX19pdGVyYXRvciB3aGljaCBtYXkgYmUgbW9yZSBnZW5lcmljYWxseSB1c2VmdWwgaW4gdGhlIGZ1dHVyZS5cbiAgemlwU2VxdWVuY2UuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIC8qIGdlbmVyaWM6XG4gICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgdmFyIHN0ZXA7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgIGlmIChmbihzdGVwLnZhbHVlWzFdLCBzdGVwLnZhbHVlWzBdLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgICovXG4gICAgLy8gaW5kZXhlZDpcbiAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgIHZhciBzdGVwO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICBpZiAoZm4oc3RlcC52YWx1ZSwgaXRlcmF0aW9ucysrLCB0aGlzJDEpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG4gIHppcFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaXRlcmF0b3JzID0gaXRlcnMubWFwKFxuICAgICAgZnVuY3Rpb24gKGkpIHsgcmV0dXJuICgoaSA9IENvbGxlY3Rpb24oaSkpLCBnZXRJdGVyYXRvcihyZXZlcnNlID8gaS5yZXZlcnNlKCkgOiBpKSk7IH1cbiAgICApO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICB2YXIgaXNEb25lID0gZmFsc2U7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RlcHM7XG4gICAgICBpZiAoIWlzRG9uZSkge1xuICAgICAgICBzdGVwcyA9IGl0ZXJhdG9ycy5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkubmV4dCgpOyB9KTtcbiAgICAgICAgaXNEb25lID0gc3RlcHMuc29tZShmdW5jdGlvbiAocykgeyByZXR1cm4gcy5kb25lOyB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0RvbmUpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGl0ZXJhdGlvbnMrKyxcbiAgICAgICAgemlwcGVyLmFwcGx5KG51bGwsIHN0ZXBzLm1hcChmdW5jdGlvbiAocykgeyByZXR1cm4gcy52YWx1ZTsgfSkpXG4gICAgICApO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gemlwU2VxdWVuY2U7XG59XG5cbi8vICNwcmFnbWEgSGVscGVyIEZ1bmN0aW9uc1xuXG5mdW5jdGlvbiByZWlmeShpdGVyLCBzZXEpIHtcbiAgcmV0dXJuIGl0ZXIgPT09IHNlcSA/IGl0ZXIgOiBpc1NlcShpdGVyKSA/IHNlcSA6IGl0ZXIuY29uc3RydWN0b3Ioc2VxKTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVFbnRyeShlbnRyeSkge1xuICBpZiAoZW50cnkgIT09IE9iamVjdChlbnRyeSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBbSywgVl0gdHVwbGU6ICcgKyBlbnRyeSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29sbGVjdGlvbkNsYXNzKGNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuIGlzS2V5ZWQoY29sbGVjdGlvbilcbiAgICA/IEtleWVkQ29sbGVjdGlvblxuICAgIDogaXNJbmRleGVkKGNvbGxlY3Rpb24pID8gSW5kZXhlZENvbGxlY3Rpb24gOiBTZXRDb2xsZWN0aW9uO1xufVxuXG5mdW5jdGlvbiBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbikge1xuICByZXR1cm4gT2JqZWN0LmNyZWF0ZShcbiAgICAoaXNLZXllZChjb2xsZWN0aW9uKVxuICAgICAgPyBLZXllZFNlcVxuICAgICAgOiBpc0luZGV4ZWQoY29sbGVjdGlvbikgPyBJbmRleGVkU2VxIDogU2V0U2VxKS5wcm90b3R5cGVcbiAgKTtcbn1cblxuZnVuY3Rpb24gY2FjaGVSZXN1bHRUaHJvdWdoKCkge1xuICBpZiAodGhpcy5faXRlci5jYWNoZVJlc3VsdCkge1xuICAgIHRoaXMuX2l0ZXIuY2FjaGVSZXN1bHQoKTtcbiAgICB0aGlzLnNpemUgPSB0aGlzLl9pdGVyLnNpemU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcmV0dXJuIFNlcS5wcm90b3R5cGUuY2FjaGVSZXN1bHQuY2FsbCh0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdENvbXBhcmF0b3IoYSwgYikge1xuICBpZiAoYSA9PT0gdW5kZWZpbmVkICYmIGIgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgaWYgKGEgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgaWYgKGIgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIHJldHVybiBhID4gYiA/IDEgOiBhIDwgYiA/IC0xIDogMDtcbn1cblxuZnVuY3Rpb24gY29lcmNlS2V5UGF0aChrZXlQYXRoKSB7XG4gIGlmIChpc0FycmF5TGlrZShrZXlQYXRoKSAmJiB0eXBlb2Yga2V5UGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4ga2V5UGF0aDtcbiAgfVxuICBpZiAoaXNPcmRlcmVkKGtleVBhdGgpKSB7XG4gICAgcmV0dXJuIGtleVBhdGgudG9BcnJheSgpO1xuICB9XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgJ0ludmFsaWQga2V5UGF0aDogZXhwZWN0ZWQgT3JkZXJlZCBDb2xsZWN0aW9uIG9yIEFycmF5OiAnICsga2V5UGF0aFxuICApO1xufVxuXG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBlcnJvcikge1xuICBpZiAoIWNvbmRpdGlvbikgeyB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpOyB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydE5vdEluZmluaXRlKHNpemUpIHtcbiAgaW52YXJpYW50KFxuICAgIHNpemUgIT09IEluZmluaXR5LFxuICAgICdDYW5ub3QgcGVyZm9ybSB0aGlzIGFjdGlvbiB3aXRoIGFuIGluZmluaXRlIHNpemUuJ1xuICApO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgdmFsdWUgdG8gYSBzdHJpbmcsIGFkZGluZyBxdW90ZXMgaWYgYSBzdHJpbmcgd2FzIHByb3ZpZGVkLlxuICovXG5mdW5jdGlvbiBxdW90ZVN0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IFN0cmluZyh2YWx1ZSk7XG59XG5cbnZhciBNYXAgPSAoZnVuY3Rpb24gKEtleWVkQ29sbGVjdGlvbiQkMSkge1xuICBmdW5jdGlvbiBNYXAodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyBlbXB0eU1hcCgpXG4gICAgICA6IGlzTWFwKHZhbHVlKSAmJiAhaXNPcmRlcmVkKHZhbHVlKVxuICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICA6IGVtcHR5TWFwKCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgICAgICAgIHZhciBpdGVyID0gS2V5ZWRDb2xsZWN0aW9uJCQxKHZhbHVlKTtcbiAgICAgICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBtYXAuc2V0KGssIHYpOyB9KTtcbiAgICAgICAgICAgIH0pO1xuICB9XG5cbiAgaWYgKCBLZXllZENvbGxlY3Rpb24kJDEgKSBNYXAuX19wcm90b19fID0gS2V5ZWRDb2xsZWN0aW9uJCQxO1xuICBNYXAucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggS2V5ZWRDb2xsZWN0aW9uJCQxICYmIEtleWVkQ29sbGVjdGlvbiQkMS5wcm90b3R5cGUgKTtcbiAgTWFwLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1hcDtcblxuICBNYXAub2YgPSBmdW5jdGlvbiBvZiAoKSB7XG4gICAgdmFyIGtleVZhbHVlcyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHdoaWxlICggbGVuLS0gKSBrZXlWYWx1ZXNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgIHJldHVybiBlbXB0eU1hcCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKG1hcCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlWYWx1ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgaWYgKGkgKyAxID49IGtleVZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdmFsdWUgZm9yIGtleTogJyArIGtleVZhbHVlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgbWFwLnNldChrZXlWYWx1ZXNbaV0sIGtleVZhbHVlc1tpICsgMV0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnTWFwIHsnLCAnfScpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGssIG5vdFNldFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jvb3RcbiAgICAgID8gdGhpcy5fcm9vdC5nZXQoMCwgdW5kZWZpbmVkLCBrLCBub3RTZXRWYWx1ZSlcbiAgICAgIDogbm90U2V0VmFsdWU7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICBNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCAoaywgdikge1xuICAgIHJldHVybiB1cGRhdGVNYXAodGhpcywgaywgdik7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5zZXRJbiA9IGZ1bmN0aW9uIHNldEluIChrZXlQYXRoLCB2KSB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlSW4oa2V5UGF0aCwgTk9UX1NFVCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdjsgfSk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUgKGspIHtcbiAgICByZXR1cm4gdXBkYXRlTWFwKHRoaXMsIGssIE5PVF9TRVQpO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUuZGVsZXRlSW4gPSBmdW5jdGlvbiBkZWxldGVJbiAoa2V5UGF0aCkge1xuICAgIGtleVBhdGggPSBbXS5jb25jYXQoIGNvZXJjZUtleVBhdGgoa2V5UGF0aCkgKTtcbiAgICBpZiAoa2V5UGF0aC5sZW5ndGgpIHtcbiAgICAgIHZhciBsYXN0S2V5ID0ga2V5UGF0aC5wb3AoKTtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUluKGtleVBhdGgsIGZ1bmN0aW9uIChjKSB7IHJldHVybiBjICYmIGMucmVtb3ZlKGxhc3RLZXkpOyB9KTtcbiAgICB9XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5kZWxldGVBbGwgPSBmdW5jdGlvbiBkZWxldGVBbGwgKGtleXMpIHtcbiAgICB2YXIgY29sbGVjdGlvbiA9IENvbGxlY3Rpb24oa2V5cyk7XG5cbiAgICBpZiAoY29sbGVjdGlvbi5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChtYXApIHtcbiAgICAgIGNvbGxlY3Rpb24uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBtYXAucmVtb3ZlKGtleSk7IH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChrLCBub3RTZXRWYWx1ZSwgdXBkYXRlcikge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxXG4gICAgICA/IGsodGhpcylcbiAgICAgIDogdGhpcy51cGRhdGVJbihba10sIG5vdFNldFZhbHVlLCB1cGRhdGVyKTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLnVwZGF0ZUluID0gZnVuY3Rpb24gdXBkYXRlSW4gKGtleVBhdGgsIG5vdFNldFZhbHVlLCB1cGRhdGVyKSB7XG4gICAgaWYgKCF1cGRhdGVyKSB7XG4gICAgICB1cGRhdGVyID0gbm90U2V0VmFsdWU7XG4gICAgICBub3RTZXRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdmFyIHVwZGF0ZWRWYWx1ZSA9IHVwZGF0ZUluRGVlcE1hcChcbiAgICAgIHRoaXMsXG4gICAgICBjb2VyY2VLZXlQYXRoKGtleVBhdGgpLFxuICAgICAgMCxcbiAgICAgIG5vdFNldFZhbHVlLFxuICAgICAgdXBkYXRlclxuICAgICk7XG4gICAgcmV0dXJuIHVwZGF0ZWRWYWx1ZSA9PT0gTk9UX1NFVCA/IG5vdFNldFZhbHVlIDogdXBkYXRlZFZhbHVlO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKSB7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX3Jvb3QgPSBudWxsO1xuICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGVtcHR5TWFwKCk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBDb21wb3NpdGlvblxuXG4gIE1hcC5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbiBtZXJnZSAoLyouLi5pdGVycyovKSB7XG4gICAgcmV0dXJuIG1lcmdlSW50b01hcFdpdGgodGhpcywgdW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUubWVyZ2VXaXRoID0gZnVuY3Rpb24gbWVyZ2VXaXRoIChtZXJnZXIpIHtcbiAgICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKCBsZW4tLSA+IDAgKSBpdGVyc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgIHJldHVybiBtZXJnZUludG9NYXBXaXRoKHRoaXMsIG1lcmdlciwgaXRlcnMpO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUubWVyZ2VJbiA9IGZ1bmN0aW9uIG1lcmdlSW4gKGtleVBhdGgpIHtcbiAgICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKCBsZW4tLSA+IDAgKSBpdGVyc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgIHJldHVybiB0aGlzLnVwZGF0ZUluKFxuICAgICAga2V5UGF0aCxcbiAgICAgIGVtcHR5TWFwKCksXG4gICAgICBmdW5jdGlvbiAobSkgeyByZXR1cm4gdHlwZW9mIG0ubWVyZ2UgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICA/IG0ubWVyZ2UuYXBwbHkobSwgaXRlcnMpXG4gICAgICAgICAgOiBpdGVyc1tpdGVycy5sZW5ndGggLSAxXTsgfVxuICAgICk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5tZXJnZURlZXAgPSBmdW5jdGlvbiBtZXJnZURlZXAgKC8qLi4uaXRlcnMqLykge1xuICAgIHJldHVybiBtZXJnZUludG9NYXBXaXRoKHRoaXMsIGRlZXBNZXJnZXIsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5tZXJnZURlZXBXaXRoID0gZnVuY3Rpb24gbWVyZ2VEZWVwV2l0aCAobWVyZ2VyKSB7XG4gICAgdmFyIGl0ZXJzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICAgIHdoaWxlICggbGVuLS0gPiAwICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICByZXR1cm4gbWVyZ2VJbnRvTWFwV2l0aCh0aGlzLCBkZWVwTWVyZ2VyV2l0aChtZXJnZXIpLCBpdGVycyk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5tZXJnZURlZXBJbiA9IGZ1bmN0aW9uIG1lcmdlRGVlcEluIChrZXlQYXRoKSB7XG4gICAgdmFyIGl0ZXJzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICAgIHdoaWxlICggbGVuLS0gPiAwICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICByZXR1cm4gdGhpcy51cGRhdGVJbihcbiAgICAgIGtleVBhdGgsXG4gICAgICBlbXB0eU1hcCgpLFxuICAgICAgZnVuY3Rpb24gKG0pIHsgcmV0dXJuIHR5cGVvZiBtLm1lcmdlRGVlcCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgID8gbS5tZXJnZURlZXAuYXBwbHkobSwgaXRlcnMpXG4gICAgICAgICAgOiBpdGVyc1tpdGVycy5sZW5ndGggLSAxXTsgfVxuICAgICk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24gc29ydCAoY29tcGFyYXRvcikge1xuICAgIC8vIExhdGUgYmluZGluZ1xuICAgIHJldHVybiBPcmRlcmVkTWFwKHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpKTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLnNvcnRCeSA9IGZ1bmN0aW9uIHNvcnRCeSAobWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgcmV0dXJuIE9yZGVyZWRNYXAoc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvciwgbWFwcGVyKSk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBNdXRhYmlsaXR5XG5cbiAgTWFwLnByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gZnVuY3Rpb24gd2l0aE11dGF0aW9ucyAoZm4pIHtcbiAgICB2YXIgbXV0YWJsZSA9IHRoaXMuYXNNdXRhYmxlKCk7XG4gICAgZm4obXV0YWJsZSk7XG4gICAgcmV0dXJuIG11dGFibGUud2FzQWx0ZXJlZCgpID8gbXV0YWJsZS5fX2Vuc3VyZU93bmVyKHRoaXMuX19vd25lcklEKSA6IHRoaXM7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5hc011dGFibGUgPSBmdW5jdGlvbiBhc011dGFibGUgKCkge1xuICAgIHJldHVybiB0aGlzLl9fb3duZXJJRCA/IHRoaXMgOiB0aGlzLl9fZW5zdXJlT3duZXIobmV3IE93bmVySUQoKSk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IGZ1bmN0aW9uIGFzSW1tdXRhYmxlICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX2Vuc3VyZU93bmVyKCk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS53YXNBbHRlcmVkID0gZnVuY3Rpb24gd2FzQWx0ZXJlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19hbHRlcmVkO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICByZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMsIHR5cGUsIHJldmVyc2UpO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHRoaXMuX3Jvb3QgJiZcbiAgICAgIHRoaXMuX3Jvb3QuaXRlcmF0ZShcbiAgICAgICAgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgICAgIHJldHVybiBmbihlbnRyeVsxXSwgZW50cnlbMF0sIHRoaXMkMSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJldmVyc2VcbiAgICAgICk7XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24gX19lbnN1cmVPd25lciAob3duZXJJRCkge1xuICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICghb3duZXJJRCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZW1wdHlNYXAoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VNYXAodGhpcy5zaXplLCB0aGlzLl9yb290LCBvd25lcklELCB0aGlzLl9faGFzaCk7XG4gIH07XG5cbiAgcmV0dXJuIE1hcDtcbn0oS2V5ZWRDb2xsZWN0aW9uKSk7XG5cbmZ1bmN0aW9uIGlzTWFwKG1heWJlTWFwKSB7XG4gIHJldHVybiAhIShtYXliZU1hcCAmJiBtYXliZU1hcFtJU19NQVBfU0VOVElORUxdKTtcbn1cblxuTWFwLmlzTWFwID0gaXNNYXA7XG5cbnZhciBJU19NQVBfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9NQVBfX0BAJztcblxudmFyIE1hcFByb3RvdHlwZSA9IE1hcC5wcm90b3R5cGU7XG5NYXBQcm90b3R5cGVbSVNfTUFQX1NFTlRJTkVMXSA9IHRydWU7XG5NYXBQcm90b3R5cGVbREVMRVRFXSA9IE1hcFByb3RvdHlwZS5yZW1vdmU7XG5NYXBQcm90b3R5cGUucmVtb3ZlSW4gPSBNYXBQcm90b3R5cGUuZGVsZXRlSW47XG5NYXBQcm90b3R5cGUucmVtb3ZlQWxsID0gTWFwUHJvdG90eXBlLmRlbGV0ZUFsbDtcblxuLy8gI3ByYWdtYSBUcmllIE5vZGVzXG5cbnZhciBBcnJheU1hcE5vZGUgPSBmdW5jdGlvbiBBcnJheU1hcE5vZGUob3duZXJJRCwgZW50cmllcykge1xuICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICB0aGlzLmVudHJpZXMgPSBlbnRyaWVzO1xufTtcblxuQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICBmb3IgKHZhciBpaSA9IDAsIGxlbiA9IGVudHJpZXMubGVuZ3RoOyBpaSA8IGxlbjsgaWkrKykge1xuICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWldWzBdKSkge1xuICAgICAgcmV0dXJuIGVudHJpZXNbaWldWzFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbm90U2V0VmFsdWU7XG59O1xuXG5BcnJheU1hcE5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gIHZhciByZW1vdmVkID0gdmFsdWUgPT09IE5PVF9TRVQ7XG5cbiAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gIHZhciBpZHggPSAwO1xuICB2YXIgbGVuID0gZW50cmllcy5sZW5ndGg7XG4gIGZvciAoOyBpZHggPCBsZW47IGlkeCsrKSB7XG4gICAgaWYgKGlzKGtleSwgZW50cmllc1tpZHhdWzBdKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHZhciBleGlzdHMgPSBpZHggPCBsZW47XG5cbiAgaWYgKGV4aXN0cyA/IGVudHJpZXNbaWR4XVsxXSA9PT0gdmFsdWUgOiByZW1vdmVkKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBTZXRSZWYoZGlkQWx0ZXIpO1xuICAocmVtb3ZlZCB8fCAhZXhpc3RzKSAmJiBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG5cbiAgaWYgKHJlbW92ZWQgJiYgZW50cmllcy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm47IC8vIHVuZGVmaW5lZFxuICB9XG5cbiAgaWYgKCFleGlzdHMgJiYgIXJlbW92ZWQgJiYgZW50cmllcy5sZW5ndGggPj0gTUFYX0FSUkFZX01BUF9TSVpFKSB7XG4gICAgcmV0dXJuIGNyZWF0ZU5vZGVzKG93bmVySUQsIGVudHJpZXMsIGtleSwgdmFsdWUpO1xuICB9XG5cbiAgdmFyIGlzRWRpdGFibGUgPSBvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRDtcbiAgdmFyIG5ld0VudHJpZXMgPSBpc0VkaXRhYmxlID8gZW50cmllcyA6IGFyckNvcHkoZW50cmllcyk7XG5cbiAgaWYgKGV4aXN0cykge1xuICAgIGlmIChyZW1vdmVkKSB7XG4gICAgICBpZHggPT09IGxlbiAtIDFcbiAgICAgICAgPyBuZXdFbnRyaWVzLnBvcCgpXG4gICAgICAgIDogKG5ld0VudHJpZXNbaWR4XSA9IG5ld0VudHJpZXMucG9wKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdFbnRyaWVzW2lkeF0gPSBba2V5LCB2YWx1ZV07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG5ld0VudHJpZXMucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9XG5cbiAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICB0aGlzLmVudHJpZXMgPSBuZXdFbnRyaWVzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBBcnJheU1hcE5vZGUob3duZXJJRCwgbmV3RW50cmllcyk7XG59O1xuXG52YXIgQml0bWFwSW5kZXhlZE5vZGUgPSBmdW5jdGlvbiBCaXRtYXBJbmRleGVkTm9kZShvd25lcklELCBiaXRtYXAsIG5vZGVzKSB7XG4gIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gIHRoaXMuYml0bWFwID0gYml0bWFwO1xuICB0aGlzLm5vZGVzID0gbm9kZXM7XG59O1xuXG5CaXRtYXBJbmRleGVkTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAga2V5SGFzaCA9IGhhc2goa2V5KTtcbiAgfVxuICB2YXIgYml0ID0gMSA8PCAoKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0spO1xuICB2YXIgYml0bWFwID0gdGhpcy5iaXRtYXA7XG4gIHJldHVybiAoYml0bWFwICYgYml0KSA9PT0gMFxuICAgID8gbm90U2V0VmFsdWVcbiAgICA6IHRoaXMubm9kZXNbcG9wQ291bnQoYml0bWFwICYgYml0IC0gMSldLmdldChcbiAgICAgICAgc2hpZnQgKyBTSElGVCxcbiAgICAgICAga2V5SGFzaCxcbiAgICAgICAga2V5LFxuICAgICAgICBub3RTZXRWYWx1ZVxuICAgICAgKTtcbn07XG5cbkJpdG1hcEluZGV4ZWROb2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAga2V5SGFzaCA9IGhhc2goa2V5KTtcbiAgfVxuICB2YXIga2V5SGFzaEZyYWcgPSAoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcbiAgdmFyIGJpdCA9IDEgPDwga2V5SGFzaEZyYWc7XG4gIHZhciBiaXRtYXAgPSB0aGlzLmJpdG1hcDtcbiAgdmFyIGV4aXN0cyA9IChiaXRtYXAgJiBiaXQpICE9PSAwO1xuXG4gIGlmICghZXhpc3RzICYmIHZhbHVlID09PSBOT1RfU0VUKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgaWR4ID0gcG9wQ291bnQoYml0bWFwICYgYml0IC0gMSk7XG4gIHZhciBub2RlcyA9IHRoaXMubm9kZXM7XG4gIHZhciBub2RlID0gZXhpc3RzID8gbm9kZXNbaWR4XSA6IHVuZGVmaW5lZDtcbiAgdmFyIG5ld05vZGUgPSB1cGRhdGVOb2RlKFxuICAgIG5vZGUsXG4gICAgb3duZXJJRCxcbiAgICBzaGlmdCArIFNISUZULFxuICAgIGtleUhhc2gsXG4gICAga2V5LFxuICAgIHZhbHVlLFxuICAgIGRpZENoYW5nZVNpemUsXG4gICAgZGlkQWx0ZXJcbiAgKTtcblxuICBpZiAobmV3Tm9kZSA9PT0gbm9kZSkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgaWYgKCFleGlzdHMgJiYgbmV3Tm9kZSAmJiBub2Rlcy5sZW5ndGggPj0gTUFYX0JJVE1BUF9JTkRFWEVEX1NJWkUpIHtcbiAgICByZXR1cm4gZXhwYW5kTm9kZXMob3duZXJJRCwgbm9kZXMsIGJpdG1hcCwga2V5SGFzaEZyYWcsIG5ld05vZGUpO1xuICB9XG5cbiAgaWYgKFxuICAgIGV4aXN0cyAmJiAhbmV3Tm9kZSAmJiBub2Rlcy5sZW5ndGggPT09IDIgJiYgaXNMZWFmTm9kZShub2Rlc1tpZHggXiAxXSlcbiAgKSB7XG4gICAgcmV0dXJuIG5vZGVzW2lkeCBeIDFdO1xuICB9XG5cbiAgaWYgKGV4aXN0cyAmJiBuZXdOb2RlICYmIG5vZGVzLmxlbmd0aCA9PT0gMSAmJiBpc0xlYWZOb2RlKG5ld05vZGUpKSB7XG4gICAgcmV0dXJuIG5ld05vZGU7XG4gIH1cblxuICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICB2YXIgbmV3Qml0bWFwID0gZXhpc3RzID8gbmV3Tm9kZSA/IGJpdG1hcCA6IGJpdG1hcCBeIGJpdCA6IGJpdG1hcCB8IGJpdDtcbiAgdmFyIG5ld05vZGVzID0gZXhpc3RzXG4gICAgPyBuZXdOb2RlXG4gICAgICAgID8gc2V0SW4obm9kZXMsIGlkeCwgbmV3Tm9kZSwgaXNFZGl0YWJsZSlcbiAgICAgICAgOiBzcGxpY2VPdXQobm9kZXMsIGlkeCwgaXNFZGl0YWJsZSlcbiAgICA6IHNwbGljZUluKG5vZGVzLCBpZHgsIG5ld05vZGUsIGlzRWRpdGFibGUpO1xuXG4gIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgdGhpcy5iaXRtYXAgPSBuZXdCaXRtYXA7XG4gICAgdGhpcy5ub2RlcyA9IG5ld05vZGVzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBCaXRtYXBJbmRleGVkTm9kZShvd25lcklELCBuZXdCaXRtYXAsIG5ld05vZGVzKTtcbn07XG5cbnZhciBIYXNoQXJyYXlNYXBOb2RlID0gZnVuY3Rpb24gSGFzaEFycmF5TWFwTm9kZShvd25lcklELCBjb3VudCwgbm9kZXMpIHtcbiAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgdGhpcy5jb3VudCA9IGNvdW50O1xuICB0aGlzLm5vZGVzID0gbm9kZXM7XG59O1xuXG5IYXNoQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gIGlmIChrZXlIYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICB9XG4gIHZhciBpZHggPSAoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcbiAgdmFyIG5vZGUgPSB0aGlzLm5vZGVzW2lkeF07XG4gIHJldHVybiBub2RlXG4gICAgPyBub2RlLmdldChzaGlmdCArIFNISUZULCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKVxuICAgIDogbm90U2V0VmFsdWU7XG59O1xuXG5IYXNoQXJyYXlNYXBOb2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAga2V5SGFzaCA9IGhhc2goa2V5KTtcbiAgfVxuICB2YXIgaWR4ID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gIHZhciByZW1vdmVkID0gdmFsdWUgPT09IE5PVF9TRVQ7XG4gIHZhciBub2RlcyA9IHRoaXMubm9kZXM7XG4gIHZhciBub2RlID0gbm9kZXNbaWR4XTtcblxuICBpZiAocmVtb3ZlZCAmJiAhbm9kZSkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIG5ld05vZGUgPSB1cGRhdGVOb2RlKFxuICAgIG5vZGUsXG4gICAgb3duZXJJRCxcbiAgICBzaGlmdCArIFNISUZULFxuICAgIGtleUhhc2gsXG4gICAga2V5LFxuICAgIHZhbHVlLFxuICAgIGRpZENoYW5nZVNpemUsXG4gICAgZGlkQWx0ZXJcbiAgKTtcbiAgaWYgKG5ld05vZGUgPT09IG5vZGUpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBuZXdDb3VudCA9IHRoaXMuY291bnQ7XG4gIGlmICghbm9kZSkge1xuICAgIG5ld0NvdW50Kys7XG4gIH0gZWxzZSBpZiAoIW5ld05vZGUpIHtcbiAgICBuZXdDb3VudC0tO1xuICAgIGlmIChuZXdDb3VudCA8IE1JTl9IQVNIX0FSUkFZX01BUF9TSVpFKSB7XG4gICAgICByZXR1cm4gcGFja05vZGVzKG93bmVySUQsIG5vZGVzLCBuZXdDb3VudCwgaWR4KTtcbiAgICB9XG4gIH1cblxuICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICB2YXIgbmV3Tm9kZXMgPSBzZXRJbihub2RlcywgaWR4LCBuZXdOb2RlLCBpc0VkaXRhYmxlKTtcblxuICBpZiAoaXNFZGl0YWJsZSkge1xuICAgIHRoaXMuY291bnQgPSBuZXdDb3VudDtcbiAgICB0aGlzLm5vZGVzID0gbmV3Tm9kZXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZXR1cm4gbmV3IEhhc2hBcnJheU1hcE5vZGUob3duZXJJRCwgbmV3Q291bnQsIG5ld05vZGVzKTtcbn07XG5cbnZhciBIYXNoQ29sbGlzaW9uTm9kZSA9IGZ1bmN0aW9uIEhhc2hDb2xsaXNpb25Ob2RlKG93bmVySUQsIGtleUhhc2gsIGVudHJpZXMpIHtcbiAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgdGhpcy5rZXlIYXNoID0ga2V5SGFzaDtcbiAgdGhpcy5lbnRyaWVzID0gZW50cmllcztcbn07XG5cbkhhc2hDb2xsaXNpb25Ob2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICBmb3IgKHZhciBpaSA9IDAsIGxlbiA9IGVudHJpZXMubGVuZ3RoOyBpaSA8IGxlbjsgaWkrKykge1xuICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWldWzBdKSkge1xuICAgICAgcmV0dXJuIGVudHJpZXNbaWldWzFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbm90U2V0VmFsdWU7XG59O1xuXG5IYXNoQ29sbGlzaW9uTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gIH1cblxuICB2YXIgcmVtb3ZlZCA9IHZhbHVlID09PSBOT1RfU0VUO1xuXG4gIGlmIChrZXlIYXNoICE9PSB0aGlzLmtleUhhc2gpIHtcbiAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIFNldFJlZihkaWRBbHRlcik7XG4gICAgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuICAgIHJldHVybiBtZXJnZUludG9Ob2RlKHRoaXMsIG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBba2V5LCB2YWx1ZV0pO1xuICB9XG5cbiAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gIHZhciBpZHggPSAwO1xuICB2YXIgbGVuID0gZW50cmllcy5sZW5ndGg7XG4gIGZvciAoOyBpZHggPCBsZW47IGlkeCsrKSB7XG4gICAgaWYgKGlzKGtleSwgZW50cmllc1tpZHhdWzBdKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHZhciBleGlzdHMgPSBpZHggPCBsZW47XG5cbiAgaWYgKGV4aXN0cyA/IGVudHJpZXNbaWR4XVsxXSA9PT0gdmFsdWUgOiByZW1vdmVkKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBTZXRSZWYoZGlkQWx0ZXIpO1xuICAocmVtb3ZlZCB8fCAhZXhpc3RzKSAmJiBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG5cbiAgaWYgKHJlbW92ZWQgJiYgbGVuID09PSAyKSB7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZU5vZGUob3duZXJJRCwgdGhpcy5rZXlIYXNoLCBlbnRyaWVzW2lkeCBeIDFdKTtcbiAgfVxuXG4gIHZhciBpc0VkaXRhYmxlID0gb3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQ7XG4gIHZhciBuZXdFbnRyaWVzID0gaXNFZGl0YWJsZSA/IGVudHJpZXMgOiBhcnJDb3B5KGVudHJpZXMpO1xuXG4gIGlmIChleGlzdHMpIHtcbiAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgaWR4ID09PSBsZW4gLSAxXG4gICAgICAgID8gbmV3RW50cmllcy5wb3AoKVxuICAgICAgICA6IChuZXdFbnRyaWVzW2lkeF0gPSBuZXdFbnRyaWVzLnBvcCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3RW50cmllc1tpZHhdID0gW2tleSwgdmFsdWVdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBuZXdFbnRyaWVzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfVxuXG4gIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgdGhpcy5lbnRyaWVzID0gbmV3RW50cmllcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJldHVybiBuZXcgSGFzaENvbGxpc2lvbk5vZGUob3duZXJJRCwgdGhpcy5rZXlIYXNoLCBuZXdFbnRyaWVzKTtcbn07XG5cbnZhciBWYWx1ZU5vZGUgPSBmdW5jdGlvbiBWYWx1ZU5vZGUob3duZXJJRCwga2V5SGFzaCwgZW50cnkpIHtcbiAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgdGhpcy5rZXlIYXNoID0ga2V5SGFzaDtcbiAgdGhpcy5lbnRyeSA9IGVudHJ5O1xufTtcblxuVmFsdWVOb2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gIHJldHVybiBpcyhrZXksIHRoaXMuZW50cnlbMF0pID8gdGhpcy5lbnRyeVsxXSA6IG5vdFNldFZhbHVlO1xufTtcblxuVmFsdWVOb2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICB2YXIgcmVtb3ZlZCA9IHZhbHVlID09PSBOT1RfU0VUO1xuICB2YXIga2V5TWF0Y2ggPSBpcyhrZXksIHRoaXMuZW50cnlbMF0pO1xuICBpZiAoa2V5TWF0Y2ggPyB2YWx1ZSA9PT0gdGhpcy5lbnRyeVsxXSA6IHJlbW92ZWQpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIFNldFJlZihkaWRBbHRlcik7XG5cbiAgaWYgKHJlbW92ZWQpIHtcbiAgICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gICAgcmV0dXJuOyAvLyB1bmRlZmluZWRcbiAgfVxuXG4gIGlmIChrZXlNYXRjaCkge1xuICAgIGlmIChvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRCkge1xuICAgICAgdGhpcy5lbnRyeVsxXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVmFsdWVOb2RlKG93bmVySUQsIHRoaXMua2V5SGFzaCwgW2tleSwgdmFsdWVdKTtcbiAgfVxuXG4gIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcbiAgcmV0dXJuIG1lcmdlSW50b05vZGUodGhpcywgb3duZXJJRCwgc2hpZnQsIGhhc2goa2V5KSwgW2tleSwgdmFsdWVdKTtcbn07XG5cbi8vICNwcmFnbWEgSXRlcmF0b3JzXG5cbkFycmF5TWFwTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9IChIYXNoQ29sbGlzaW9uTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9IGZ1bmN0aW9uKFxuICBmbixcbiAgcmV2ZXJzZVxuKSB7XG4gIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICBmb3IgKHZhciBpaSA9IDAsIG1heEluZGV4ID0gZW50cmllcy5sZW5ndGggLSAxOyBpaSA8PSBtYXhJbmRleDsgaWkrKykge1xuICAgIGlmIChmbihlbnRyaWVzW3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn0pO1xuXG5CaXRtYXBJbmRleGVkTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9IChIYXNoQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5pdGVyYXRlID0gZnVuY3Rpb24oXG4gIGZuLFxuICByZXZlcnNlXG4pIHtcbiAgdmFyIG5vZGVzID0gdGhpcy5ub2RlcztcbiAgZm9yICh2YXIgaWkgPSAwLCBtYXhJbmRleCA9IG5vZGVzLmxlbmd0aCAtIDE7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgdmFyIG5vZGUgPSBub2Rlc1tyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXTtcbiAgICBpZiAobm9kZSAmJiBub2RlLml0ZXJhdGUoZm4sIHJldmVyc2UpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxufSk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuVmFsdWVOb2RlLnByb3RvdHlwZS5pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgcmV0dXJuIGZuKHRoaXMuZW50cnkpO1xufTtcblxudmFyIE1hcEl0ZXJhdG9yID0gKGZ1bmN0aW9uIChJdGVyYXRvciQkMSkge1xuICBmdW5jdGlvbiBNYXBJdGVyYXRvcihtYXAsIHR5cGUsIHJldmVyc2UpIHtcbiAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICB0aGlzLl9yZXZlcnNlID0gcmV2ZXJzZTtcbiAgICB0aGlzLl9zdGFjayA9IG1hcC5fcm9vdCAmJiBtYXBJdGVyYXRvckZyYW1lKG1hcC5fcm9vdCk7XG4gIH1cblxuICBpZiAoIEl0ZXJhdG9yJCQxICkgTWFwSXRlcmF0b3IuX19wcm90b19fID0gSXRlcmF0b3IkJDE7XG4gIE1hcEl0ZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEl0ZXJhdG9yJCQxICYmIEl0ZXJhdG9yJCQxLnByb3RvdHlwZSApO1xuICBNYXBJdGVyYXRvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXBJdGVyYXRvcjtcblxuICBNYXBJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uIG5leHQgKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIHR5cGUgPSB0aGlzLl90eXBlO1xuICAgIHZhciBzdGFjayA9IHRoaXMuX3N0YWNrO1xuICAgIHdoaWxlIChzdGFjaykge1xuICAgICAgdmFyIG5vZGUgPSBzdGFjay5ub2RlO1xuICAgICAgdmFyIGluZGV4ID0gc3RhY2suaW5kZXgrKztcbiAgICAgIHZhciBtYXhJbmRleCA9ICh2b2lkIDApO1xuICAgICAgaWYgKG5vZGUuZW50cnkpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcEl0ZXJhdG9yVmFsdWUodHlwZSwgbm9kZS5lbnRyeSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5lbnRyaWVzKSB7XG4gICAgICAgIG1heEluZGV4ID0gbm9kZS5lbnRyaWVzLmxlbmd0aCAtIDE7XG4gICAgICAgIGlmIChpbmRleCA8PSBtYXhJbmRleCkge1xuICAgICAgICAgIHJldHVybiBtYXBJdGVyYXRvclZhbHVlKFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIG5vZGUuZW50cmllc1t0aGlzJDEuX3JldmVyc2UgPyBtYXhJbmRleCAtIGluZGV4IDogaW5kZXhdXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF4SW5kZXggPSBub2RlLm5vZGVzLmxlbmd0aCAtIDE7XG4gICAgICAgIGlmIChpbmRleCA8PSBtYXhJbmRleCkge1xuICAgICAgICAgIHZhciBzdWJOb2RlID0gbm9kZS5ub2Rlc1t0aGlzJDEuX3JldmVyc2UgPyBtYXhJbmRleCAtIGluZGV4IDogaW5kZXhdO1xuICAgICAgICAgIGlmIChzdWJOb2RlKSB7XG4gICAgICAgICAgICBpZiAoc3ViTm9kZS5lbnRyeSkge1xuICAgICAgICAgICAgICByZXR1cm4gbWFwSXRlcmF0b3JWYWx1ZSh0eXBlLCBzdWJOb2RlLmVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YWNrID0gKHRoaXMkMS5fc3RhY2sgPSBtYXBJdGVyYXRvckZyYW1lKHN1Yk5vZGUsIHN0YWNrKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFjayA9ICh0aGlzJDEuX3N0YWNrID0gdGhpcyQxLl9zdGFjay5fX3ByZXYpO1xuICAgIH1cbiAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gIH07XG5cbiAgcmV0dXJuIE1hcEl0ZXJhdG9yO1xufShJdGVyYXRvcikpO1xuXG5mdW5jdGlvbiBtYXBJdGVyYXRvclZhbHVlKHR5cGUsIGVudHJ5KSB7XG4gIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGVudHJ5WzBdLCBlbnRyeVsxXSk7XG59XG5cbmZ1bmN0aW9uIG1hcEl0ZXJhdG9yRnJhbWUobm9kZSwgcHJldikge1xuICByZXR1cm4ge1xuICAgIG5vZGU6IG5vZGUsXG4gICAgaW5kZXg6IDAsXG4gICAgX19wcmV2OiBwcmV2XG4gIH07XG59XG5cbmZ1bmN0aW9uIG1ha2VNYXAoc2l6ZSwgcm9vdCwgb3duZXJJRCwgaGFzaCQkMSkge1xuICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShNYXBQcm90b3R5cGUpO1xuICBtYXAuc2l6ZSA9IHNpemU7XG4gIG1hcC5fcm9vdCA9IHJvb3Q7XG4gIG1hcC5fX293bmVySUQgPSBvd25lcklEO1xuICBtYXAuX19oYXNoID0gaGFzaCQkMTtcbiAgbWFwLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICByZXR1cm4gbWFwO1xufVxuXG52YXIgRU1QVFlfTUFQO1xuZnVuY3Rpb24gZW1wdHlNYXAoKSB7XG4gIHJldHVybiBFTVBUWV9NQVAgfHwgKEVNUFRZX01BUCA9IG1ha2VNYXAoMCkpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVNYXAobWFwLCBrLCB2KSB7XG4gIHZhciBuZXdSb290O1xuICB2YXIgbmV3U2l6ZTtcbiAgaWYgKCFtYXAuX3Jvb3QpIHtcbiAgICBpZiAodiA9PT0gTk9UX1NFVCkge1xuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG4gICAgbmV3U2l6ZSA9IDE7XG4gICAgbmV3Um9vdCA9IG5ldyBBcnJheU1hcE5vZGUobWFwLl9fb3duZXJJRCwgW1trLCB2XV0pO1xuICB9IGVsc2Uge1xuICAgIHZhciBkaWRDaGFuZ2VTaXplID0gTWFrZVJlZihDSEFOR0VfTEVOR1RIKTtcbiAgICB2YXIgZGlkQWx0ZXIgPSBNYWtlUmVmKERJRF9BTFRFUik7XG4gICAgbmV3Um9vdCA9IHVwZGF0ZU5vZGUoXG4gICAgICBtYXAuX3Jvb3QsXG4gICAgICBtYXAuX19vd25lcklELFxuICAgICAgMCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIGssXG4gICAgICB2LFxuICAgICAgZGlkQ2hhbmdlU2l6ZSxcbiAgICAgIGRpZEFsdGVyXG4gICAgKTtcbiAgICBpZiAoIWRpZEFsdGVyLnZhbHVlKSB7XG4gICAgICByZXR1cm4gbWFwO1xuICAgIH1cbiAgICBuZXdTaXplID0gbWFwLnNpemUgKyAoZGlkQ2hhbmdlU2l6ZS52YWx1ZSA/IHYgPT09IE5PVF9TRVQgPyAtMSA6IDEgOiAwKTtcbiAgfVxuICBpZiAobWFwLl9fb3duZXJJRCkge1xuICAgIG1hcC5zaXplID0gbmV3U2l6ZTtcbiAgICBtYXAuX3Jvb3QgPSBuZXdSb290O1xuICAgIG1hcC5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgbWFwLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgcmV0dXJuIG1hcDtcbiAgfVxuICByZXR1cm4gbmV3Um9vdCA/IG1ha2VNYXAobmV3U2l6ZSwgbmV3Um9vdCkgOiBlbXB0eU1hcCgpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVOb2RlKFxuICBub2RlLFxuICBvd25lcklELFxuICBzaGlmdCxcbiAga2V5SGFzaCxcbiAga2V5LFxuICB2YWx1ZSxcbiAgZGlkQ2hhbmdlU2l6ZSxcbiAgZGlkQWx0ZXJcbikge1xuICBpZiAoIW5vZGUpIHtcbiAgICBpZiAodmFsdWUgPT09IE5PVF9TRVQpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuICAgIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcbiAgICByZXR1cm4gbmV3IFZhbHVlTm9kZShvd25lcklELCBrZXlIYXNoLCBba2V5LCB2YWx1ZV0pO1xuICB9XG4gIHJldHVybiBub2RlLnVwZGF0ZShcbiAgICBvd25lcklELFxuICAgIHNoaWZ0LFxuICAgIGtleUhhc2gsXG4gICAga2V5LFxuICAgIHZhbHVlLFxuICAgIGRpZENoYW5nZVNpemUsXG4gICAgZGlkQWx0ZXJcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNMZWFmTm9kZShub2RlKSB7XG4gIHJldHVybiBub2RlLmNvbnN0cnVjdG9yID09PSBWYWx1ZU5vZGUgfHxcbiAgICBub2RlLmNvbnN0cnVjdG9yID09PSBIYXNoQ29sbGlzaW9uTm9kZTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VJbnRvTm9kZShub2RlLCBvd25lcklELCBzaGlmdCwga2V5SGFzaCwgZW50cnkpIHtcbiAgaWYgKG5vZGUua2V5SGFzaCA9PT0ga2V5SGFzaCkge1xuICAgIHJldHVybiBuZXcgSGFzaENvbGxpc2lvbk5vZGUob3duZXJJRCwga2V5SGFzaCwgW25vZGUuZW50cnksIGVudHJ5XSk7XG4gIH1cblxuICB2YXIgaWR4MSA9IChzaGlmdCA9PT0gMCA/IG5vZGUua2V5SGFzaCA6IG5vZGUua2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcbiAgdmFyIGlkeDIgPSAoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcblxuICB2YXIgbmV3Tm9kZTtcbiAgdmFyIG5vZGVzID0gaWR4MSA9PT0gaWR4MlxuICAgID8gW21lcmdlSW50b05vZGUobm9kZSwgb3duZXJJRCwgc2hpZnQgKyBTSElGVCwga2V5SGFzaCwgZW50cnkpXVxuICAgIDogKChuZXdOb2RlID0gbmV3IFZhbHVlTm9kZShvd25lcklELCBrZXlIYXNoLCBlbnRyeSkpLCBpZHgxIDwgaWR4MlxuICAgICAgICA/IFtub2RlLCBuZXdOb2RlXVxuICAgICAgICA6IFtuZXdOb2RlLCBub2RlXSk7XG5cbiAgcmV0dXJuIG5ldyBCaXRtYXBJbmRleGVkTm9kZShvd25lcklELCAxIDw8IGlkeDEgfCAxIDw8IGlkeDIsIG5vZGVzKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTm9kZXMob3duZXJJRCwgZW50cmllcywga2V5LCB2YWx1ZSkge1xuICBpZiAoIW93bmVySUQpIHtcbiAgICBvd25lcklEID0gbmV3IE93bmVySUQoKTtcbiAgfVxuICB2YXIgbm9kZSA9IG5ldyBWYWx1ZU5vZGUob3duZXJJRCwgaGFzaChrZXkpLCBba2V5LCB2YWx1ZV0pO1xuICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgZW50cmllcy5sZW5ndGg7IGlpKyspIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2lpXTtcbiAgICBub2RlID0gbm9kZS51cGRhdGUob3duZXJJRCwgMCwgdW5kZWZpbmVkLCBlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiBwYWNrTm9kZXMob3duZXJJRCwgbm9kZXMsIGNvdW50LCBleGNsdWRpbmcpIHtcbiAgdmFyIGJpdG1hcCA9IDA7XG4gIHZhciBwYWNrZWRJSSA9IDA7XG4gIHZhciBwYWNrZWROb2RlcyA9IG5ldyBBcnJheShjb3VudCk7XG4gIGZvciAodmFyIGlpID0gMCwgYml0ID0gMSwgbGVuID0gbm9kZXMubGVuZ3RoOyBpaSA8IGxlbjsgaWkrKywgKGJpdCA8PD0gMSkpIHtcbiAgICB2YXIgbm9kZSA9IG5vZGVzW2lpXTtcbiAgICBpZiAobm9kZSAhPT0gdW5kZWZpbmVkICYmIGlpICE9PSBleGNsdWRpbmcpIHtcbiAgICAgIGJpdG1hcCB8PSBiaXQ7XG4gICAgICBwYWNrZWROb2Rlc1twYWNrZWRJSSsrXSA9IG5vZGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgQml0bWFwSW5kZXhlZE5vZGUob3duZXJJRCwgYml0bWFwLCBwYWNrZWROb2Rlcyk7XG59XG5cbmZ1bmN0aW9uIGV4cGFuZE5vZGVzKG93bmVySUQsIG5vZGVzLCBiaXRtYXAsIGluY2x1ZGluZywgbm9kZSkge1xuICB2YXIgY291bnQgPSAwO1xuICB2YXIgZXhwYW5kZWROb2RlcyA9IG5ldyBBcnJheShTSVpFKTtcbiAgZm9yICh2YXIgaWkgPSAwOyBiaXRtYXAgIT09IDA7IGlpKyssIChiaXRtYXAgPj4+PSAxKSkge1xuICAgIGV4cGFuZGVkTm9kZXNbaWldID0gYml0bWFwICYgMSA/IG5vZGVzW2NvdW50KytdIDogdW5kZWZpbmVkO1xuICB9XG4gIGV4cGFuZGVkTm9kZXNbaW5jbHVkaW5nXSA9IG5vZGU7XG4gIHJldHVybiBuZXcgSGFzaEFycmF5TWFwTm9kZShvd25lcklELCBjb3VudCArIDEsIGV4cGFuZGVkTm9kZXMpO1xufVxuXG5mdW5jdGlvbiBtZXJnZUludG9NYXBXaXRoKG1hcCwgbWVyZ2VyLCBjb2xsZWN0aW9ucykge1xuICB2YXIgaXRlcnMgPSBbXTtcbiAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGNvbGxlY3Rpb25zLmxlbmd0aDsgaWkrKykge1xuICAgIHZhciB2YWx1ZSA9IGNvbGxlY3Rpb25zW2lpXTtcbiAgICB2YXIgaXRlciA9IEtleWVkQ29sbGVjdGlvbih2YWx1ZSk7XG4gICAgaWYgKCFpc0NvbGxlY3Rpb24odmFsdWUpKSB7XG4gICAgICBpdGVyID0gaXRlci5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGZyb21KUyh2KTsgfSk7XG4gICAgfVxuICAgIGl0ZXJzLnB1c2goaXRlcik7XG4gIH1cbiAgcmV0dXJuIG1lcmdlSW50b0NvbGxlY3Rpb25XaXRoKG1hcCwgbWVyZ2VyLCBpdGVycyk7XG59XG5cbmZ1bmN0aW9uIGRlZXBNZXJnZXIob2xkVmFsLCBuZXdWYWwpIHtcbiAgcmV0dXJuIG9sZFZhbCAmJiBvbGRWYWwubWVyZ2VEZWVwICYmIGlzQ29sbGVjdGlvbihuZXdWYWwpXG4gICAgPyBvbGRWYWwubWVyZ2VEZWVwKG5ld1ZhbClcbiAgICA6IGlzKG9sZFZhbCwgbmV3VmFsKSA/IG9sZFZhbCA6IG5ld1ZhbDtcbn1cblxuZnVuY3Rpb24gZGVlcE1lcmdlcldpdGgobWVyZ2VyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAob2xkVmFsLCBuZXdWYWwsIGtleSkge1xuICAgIGlmIChvbGRWYWwgJiYgb2xkVmFsLm1lcmdlRGVlcFdpdGggJiYgaXNDb2xsZWN0aW9uKG5ld1ZhbCkpIHtcbiAgICAgIHJldHVybiBvbGRWYWwubWVyZ2VEZWVwV2l0aChtZXJnZXIsIG5ld1ZhbCk7XG4gICAgfVxuICAgIHZhciBuZXh0VmFsdWUgPSBtZXJnZXIob2xkVmFsLCBuZXdWYWwsIGtleSk7XG4gICAgcmV0dXJuIGlzKG9sZFZhbCwgbmV4dFZhbHVlKSA/IG9sZFZhbCA6IG5leHRWYWx1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VJbnRvQ29sbGVjdGlvbldpdGgoY29sbGVjdGlvbiwgbWVyZ2VyLCBpdGVycykge1xuICBpdGVycyA9IGl0ZXJzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5zaXplICE9PSAwOyB9KTtcbiAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICB9XG4gIGlmIChjb2xsZWN0aW9uLnNpemUgPT09IDAgJiYgIWNvbGxlY3Rpb24uX19vd25lcklEICYmIGl0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBjb2xsZWN0aW9uLmNvbnN0cnVjdG9yKGl0ZXJzWzBdKTtcbiAgfVxuICByZXR1cm4gY29sbGVjdGlvbi53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7XG4gICAgdmFyIG1lcmdlSW50b01hcCA9IG1lcmdlclxuICAgICAgPyBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgIGNvbGxlY3Rpb24udXBkYXRlKFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgTk9UX1NFVCxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChvbGRWYWwpIHsgcmV0dXJuIG9sZFZhbCA9PT0gTk9UX1NFVCA/IHZhbHVlIDogbWVyZ2VyKG9sZFZhbCwgdmFsdWUsIGtleSk7IH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICA6IGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgY29sbGVjdGlvbi5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH07XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGl0ZXJzLmxlbmd0aDsgaWkrKykge1xuICAgICAgaXRlcnNbaWldLmZvckVhY2gobWVyZ2VJbnRvTWFwKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVJbkRlZXBNYXAoZXhpc3RpbmcsIGtleVBhdGgsIGksIG5vdFNldFZhbHVlLCB1cGRhdGVyKSB7XG4gIHZhciBpc05vdFNldCA9IGV4aXN0aW5nID09PSBOT1RfU0VUO1xuICBpZiAoaSA9PT0ga2V5UGF0aC5sZW5ndGgpIHtcbiAgICB2YXIgZXhpc3RpbmdWYWx1ZSA9IGlzTm90U2V0ID8gbm90U2V0VmFsdWUgOiBleGlzdGluZztcbiAgICB2YXIgbmV3VmFsdWUgPSB1cGRhdGVyKGV4aXN0aW5nVmFsdWUpO1xuICAgIHJldHVybiBuZXdWYWx1ZSA9PT0gZXhpc3RpbmdWYWx1ZSA/IGV4aXN0aW5nIDogbmV3VmFsdWU7XG4gIH1cbiAgaWYgKCEoaXNOb3RTZXQgfHwgKGV4aXN0aW5nICYmIGV4aXN0aW5nLnNldCkpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdJbnZhbGlkIGtleVBhdGg6IFZhbHVlIGF0IFsnICtcbiAgICAgICAga2V5UGF0aC5zbGljZSgwLCBpKS5tYXAocXVvdGVTdHJpbmcpICtcbiAgICAgICAgJ10gZG9lcyBub3QgaGF2ZSBhIC5zZXQoKSBtZXRob2QgYW5kIGNhbm5vdCBiZSB1cGRhdGVkOiAnICtcbiAgICAgICAgZXhpc3RpbmdcbiAgICApO1xuICB9XG4gIHZhciBrZXkgPSBrZXlQYXRoW2ldO1xuICB2YXIgbmV4dEV4aXN0aW5nID0gaXNOb3RTZXQgPyBOT1RfU0VUIDogZXhpc3RpbmcuZ2V0KGtleSwgTk9UX1NFVCk7XG4gIHZhciBuZXh0VXBkYXRlZCA9IHVwZGF0ZUluRGVlcE1hcChcbiAgICBuZXh0RXhpc3RpbmcsXG4gICAga2V5UGF0aCxcbiAgICBpICsgMSxcbiAgICBub3RTZXRWYWx1ZSxcbiAgICB1cGRhdGVyXG4gICk7XG4gIHJldHVybiBuZXh0VXBkYXRlZCA9PT0gbmV4dEV4aXN0aW5nXG4gICAgPyBleGlzdGluZ1xuICAgIDogbmV4dFVwZGF0ZWQgPT09IE5PVF9TRVRcbiAgICAgICAgPyBleGlzdGluZy5yZW1vdmUoa2V5KVxuICAgICAgICA6IChpc05vdFNldCA/IGVtcHR5TWFwKCkgOiBleGlzdGluZykuc2V0KGtleSwgbmV4dFVwZGF0ZWQpO1xufVxuXG5mdW5jdGlvbiBwb3BDb3VudCh4KSB7XG4gIHggLT0geCA+PiAxICYgMHg1NTU1NTU1NTtcbiAgeCA9ICh4ICYgMHgzMzMzMzMzMykgKyAoeCA+PiAyICYgMHgzMzMzMzMzMyk7XG4gIHggPSB4ICsgKHggPj4gNCkgJiAweDBmMGYwZjBmO1xuICB4ICs9IHggPj4gODtcbiAgeCArPSB4ID4+IDE2O1xuICByZXR1cm4geCAmIDB4N2Y7XG59XG5cbmZ1bmN0aW9uIHNldEluKGFycmF5LCBpZHgsIHZhbCwgY2FuRWRpdCkge1xuICB2YXIgbmV3QXJyYXkgPSBjYW5FZGl0ID8gYXJyYXkgOiBhcnJDb3B5KGFycmF5KTtcbiAgbmV3QXJyYXlbaWR4XSA9IHZhbDtcbiAgcmV0dXJuIG5ld0FycmF5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VJbihhcnJheSwgaWR4LCB2YWwsIGNhbkVkaXQpIHtcbiAgdmFyIG5ld0xlbiA9IGFycmF5Lmxlbmd0aCArIDE7XG4gIGlmIChjYW5FZGl0ICYmIGlkeCArIDEgPT09IG5ld0xlbikge1xuICAgIGFycmF5W2lkeF0gPSB2YWw7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG4gIHZhciBuZXdBcnJheSA9IG5ldyBBcnJheShuZXdMZW4pO1xuICB2YXIgYWZ0ZXIgPSAwO1xuICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgbmV3TGVuOyBpaSsrKSB7XG4gICAgaWYgKGlpID09PSBpZHgpIHtcbiAgICAgIG5ld0FycmF5W2lpXSA9IHZhbDtcbiAgICAgIGFmdGVyID0gLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0FycmF5W2lpXSA9IGFycmF5W2lpICsgYWZ0ZXJdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3QXJyYXk7XG59XG5cbmZ1bmN0aW9uIHNwbGljZU91dChhcnJheSwgaWR4LCBjYW5FZGl0KSB7XG4gIHZhciBuZXdMZW4gPSBhcnJheS5sZW5ndGggLSAxO1xuICBpZiAoY2FuRWRpdCAmJiBpZHggPT09IG5ld0xlbikge1xuICAgIGFycmF5LnBvcCgpO1xuICAgIHJldHVybiBhcnJheTtcbiAgfVxuICB2YXIgbmV3QXJyYXkgPSBuZXcgQXJyYXkobmV3TGVuKTtcbiAgdmFyIGFmdGVyID0gMDtcbiAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IG5ld0xlbjsgaWkrKykge1xuICAgIGlmIChpaSA9PT0gaWR4KSB7XG4gICAgICBhZnRlciA9IDE7XG4gICAgfVxuICAgIG5ld0FycmF5W2lpXSA9IGFycmF5W2lpICsgYWZ0ZXJdO1xuICB9XG4gIHJldHVybiBuZXdBcnJheTtcbn1cblxudmFyIE1BWF9BUlJBWV9NQVBfU0laRSA9IFNJWkUgLyA0O1xudmFyIE1BWF9CSVRNQVBfSU5ERVhFRF9TSVpFID0gU0laRSAvIDI7XG52YXIgTUlOX0hBU0hfQVJSQVlfTUFQX1NJWkUgPSBTSVpFIC8gNDtcblxudmFyIExpc3QgPSAoZnVuY3Rpb24gKEluZGV4ZWRDb2xsZWN0aW9uJCQxKSB7XG4gIGZ1bmN0aW9uIExpc3QodmFsdWUpIHtcbiAgICB2YXIgZW1wdHkgPSBlbXB0eUxpc3QoKTtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH1cbiAgICBpZiAoaXNMaXN0KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB2YXIgaXRlciA9IEluZGV4ZWRDb2xsZWN0aW9uJCQxKHZhbHVlKTtcbiAgICB2YXIgc2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgICBpZiAoc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH1cbiAgICBhc3NlcnROb3RJbmZpbml0ZShzaXplKTtcbiAgICBpZiAoc2l6ZSA+IDAgJiYgc2l6ZSA8IFNJWkUpIHtcbiAgICAgIHJldHVybiBtYWtlTGlzdCgwLCBzaXplLCBTSElGVCwgbnVsbCwgbmV3IFZOb2RlKGl0ZXIudG9BcnJheSgpKSk7XG4gICAgfVxuICAgIHJldHVybiBlbXB0eS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICBsaXN0LnNldFNpemUoc2l6ZSk7XG4gICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24gKHYsIGkpIHsgcmV0dXJuIGxpc3Quc2V0KGksIHYpOyB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmICggSW5kZXhlZENvbGxlY3Rpb24kJDEgKSBMaXN0Ll9fcHJvdG9fXyA9IEluZGV4ZWRDb2xsZWN0aW9uJCQxO1xuICBMaXN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEluZGV4ZWRDb2xsZWN0aW9uJCQxICYmIEluZGV4ZWRDb2xsZWN0aW9uJCQxLnByb3RvdHlwZSApO1xuICBMaXN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExpc3Q7XG5cbiAgTGlzdC5vZiA9IGZ1bmN0aW9uIG9mICgvKi4uLnZhbHVlcyovKSB7XG4gICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdMaXN0IFsnLCAnXScpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgTGlzdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLnNpemUpIHtcbiAgICAgIGluZGV4ICs9IHRoaXMuX29yaWdpbjtcbiAgICAgIHZhciBub2RlID0gbGlzdE5vZGVGb3IodGhpcywgaW5kZXgpO1xuICAgICAgcmV0dXJuIG5vZGUgJiYgbm9kZS5hcnJheVtpbmRleCAmIE1BU0tdO1xuICAgIH1cbiAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICBMaXN0LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQgKGluZGV4LCB2YWx1ZSkge1xuICAgIHJldHVybiB1cGRhdGVMaXN0KHRoaXMsIGluZGV4LCB2YWx1ZSk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlIChpbmRleCkge1xuICAgIHJldHVybiAhdGhpcy5oYXMoaW5kZXgpXG4gICAgICA/IHRoaXNcbiAgICAgIDogaW5kZXggPT09IDBcbiAgICAgICAgICA/IHRoaXMuc2hpZnQoKVxuICAgICAgICAgIDogaW5kZXggPT09IHRoaXMuc2l6ZSAtIDEgPyB0aGlzLnBvcCgpIDogdGhpcy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIGluc2VydCAoaW5kZXgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuc3BsaWNlKGluZGV4LCAwLCB2YWx1ZSk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKSB7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgdGhpcy5zaXplID0gKHRoaXMuX29yaWdpbiA9ICh0aGlzLl9jYXBhY2l0eSA9IDApKTtcbiAgICAgIHRoaXMuX2xldmVsID0gU0hJRlQ7XG4gICAgICB0aGlzLl9yb290ID0gKHRoaXMuX3RhaWwgPSBudWxsKTtcbiAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBlbXB0eUxpc3QoKTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCAoLyouLi52YWx1ZXMqLykge1xuICAgIHZhciB2YWx1ZXMgPSBhcmd1bWVudHM7XG4gICAgdmFyIG9sZFNpemUgPSB0aGlzLnNpemU7XG4gICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobGlzdCkge1xuICAgICAgc2V0TGlzdEJvdW5kcyhsaXN0LCAwLCBvbGRTaXplICsgdmFsdWVzLmxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgdmFsdWVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICBsaXN0LnNldChvbGRTaXplICsgaWksIHZhbHVlc1tpaV0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIHBvcCAoKSB7XG4gICAgcmV0dXJuIHNldExpc3RCb3VuZHModGhpcywgMCwgLTEpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbiB1bnNoaWZ0ICgvKi4uLnZhbHVlcyovKSB7XG4gICAgdmFyIHZhbHVlcyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIC12YWx1ZXMubGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCB2YWx1ZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgIGxpc3Quc2V0KGlpLCB2YWx1ZXNbaWldKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5zaGlmdCA9IGZ1bmN0aW9uIHNoaWZ0ICgpIHtcbiAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyh0aGlzLCAxKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIENvbXBvc2l0aW9uXG5cbiAgTGlzdC5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbiBtZXJnZSAoLyouLi5pdGVycyovKSB7XG4gICAgcmV0dXJuIG1lcmdlSW50b0xpc3RXaXRoKHRoaXMsIHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5tZXJnZVdpdGggPSBmdW5jdGlvbiBtZXJnZVdpdGggKG1lcmdlcikge1xuICAgIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAoIGxlbi0tID4gMCApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMSBdO1xuXG4gICAgcmV0dXJuIG1lcmdlSW50b0xpc3RXaXRoKHRoaXMsIG1lcmdlciwgaXRlcnMpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLm1lcmdlRGVlcCA9IGZ1bmN0aW9uIG1lcmdlRGVlcCAoLyouLi5pdGVycyovKSB7XG4gICAgcmV0dXJuIG1lcmdlSW50b0xpc3RXaXRoKHRoaXMsIGRlZXBNZXJnZXIsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUubWVyZ2VEZWVwV2l0aCA9IGZ1bmN0aW9uIG1lcmdlRGVlcFdpdGggKG1lcmdlcikge1xuICAgIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAoIGxlbi0tID4gMCApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMSBdO1xuXG4gICAgcmV0dXJuIG1lcmdlSW50b0xpc3RXaXRoKHRoaXMsIGRlZXBNZXJnZXJXaXRoKG1lcmdlciksIGl0ZXJzKTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24gc2V0U2l6ZSAoc2l6ZSkge1xuICAgIHJldHVybiBzZXRMaXN0Qm91bmRzKHRoaXMsIDAsIHNpemUpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgSXRlcmF0aW9uXG5cbiAgTGlzdC5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoYmVnaW4sIGVuZCkge1xuICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgIGlmICh3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHNpemUpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIHNldExpc3RCb3VuZHMoXG4gICAgICB0aGlzLFxuICAgICAgcmVzb2x2ZUJlZ2luKGJlZ2luLCBzaXplKSxcbiAgICAgIHJlc29sdmVFbmQoZW5kLCBzaXplKVxuICAgICk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaW5kZXggPSByZXZlcnNlID8gdGhpcy5zaXplIDogMDtcbiAgICB2YXIgdmFsdWVzID0gaXRlcmF0ZUxpc3QodGhpcywgcmV2ZXJzZSk7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB2YWx1ZXMoKTtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gRE9ORVxuICAgICAgICA/IGl0ZXJhdG9yRG9uZSgpXG4gICAgICAgIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCByZXZlcnNlID8gLS1pbmRleCA6IGluZGV4KyssIHZhbHVlKTtcbiAgICB9KTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgaW5kZXggPSByZXZlcnNlID8gdGhpcy5zaXplIDogMDtcbiAgICB2YXIgdmFsdWVzID0gaXRlcmF0ZUxpc3QodGhpcywgcmV2ZXJzZSk7XG4gICAgdmFyIHZhbHVlO1xuICAgIHdoaWxlICgodmFsdWUgPSB2YWx1ZXMoKSkgIT09IERPTkUpIHtcbiAgICAgIGlmIChmbih2YWx1ZSwgcmV2ZXJzZSA/IC0taW5kZXggOiBpbmRleCsrLCB0aGlzJDEpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbiBfX2Vuc3VyZU93bmVyIChvd25lcklEKSB7XG4gICAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKCFvd25lcklEKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiBlbXB0eUxpc3QoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZUxpc3QoXG4gICAgICB0aGlzLl9vcmlnaW4sXG4gICAgICB0aGlzLl9jYXBhY2l0eSxcbiAgICAgIHRoaXMuX2xldmVsLFxuICAgICAgdGhpcy5fcm9vdCxcbiAgICAgIHRoaXMuX3RhaWwsXG4gICAgICBvd25lcklELFxuICAgICAgdGhpcy5fX2hhc2hcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBMaXN0O1xufShJbmRleGVkQ29sbGVjdGlvbikpO1xuXG5mdW5jdGlvbiBpc0xpc3QobWF5YmVMaXN0KSB7XG4gIHJldHVybiAhIShtYXliZUxpc3QgJiYgbWF5YmVMaXN0W0lTX0xJU1RfU0VOVElORUxdKTtcbn1cblxuTGlzdC5pc0xpc3QgPSBpc0xpc3Q7XG5cbnZhciBJU19MSVNUX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfTElTVF9fQEAnO1xuXG52YXIgTGlzdFByb3RvdHlwZSA9IExpc3QucHJvdG90eXBlO1xuTGlzdFByb3RvdHlwZVtJU19MSVNUX1NFTlRJTkVMXSA9IHRydWU7XG5MaXN0UHJvdG90eXBlW0RFTEVURV0gPSBMaXN0UHJvdG90eXBlLnJlbW92ZTtcbkxpc3RQcm90b3R5cGUuc2V0SW4gPSBNYXBQcm90b3R5cGUuc2V0SW47XG5MaXN0UHJvdG90eXBlLmRlbGV0ZUluID0gKExpc3RQcm90b3R5cGUucmVtb3ZlSW4gPSBNYXBQcm90b3R5cGUucmVtb3ZlSW4pO1xuTGlzdFByb3RvdHlwZS51cGRhdGUgPSBNYXBQcm90b3R5cGUudXBkYXRlO1xuTGlzdFByb3RvdHlwZS51cGRhdGVJbiA9IE1hcFByb3RvdHlwZS51cGRhdGVJbjtcbkxpc3RQcm90b3R5cGUubWVyZ2VJbiA9IE1hcFByb3RvdHlwZS5tZXJnZUluO1xuTGlzdFByb3RvdHlwZS5tZXJnZURlZXBJbiA9IE1hcFByb3RvdHlwZS5tZXJnZURlZXBJbjtcbkxpc3RQcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IE1hcFByb3RvdHlwZS53aXRoTXV0YXRpb25zO1xuTGlzdFByb3RvdHlwZS5hc011dGFibGUgPSBNYXBQcm90b3R5cGUuYXNNdXRhYmxlO1xuTGlzdFByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc0ltbXV0YWJsZTtcbkxpc3RQcm90b3R5cGUud2FzQWx0ZXJlZCA9IE1hcFByb3RvdHlwZS53YXNBbHRlcmVkO1xuXG52YXIgVk5vZGUgPSBmdW5jdGlvbiBWTm9kZShhcnJheSwgb3duZXJJRCkge1xuICB0aGlzLmFycmF5ID0gYXJyYXk7XG4gIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG59O1xuXG4vLyBUT0RPOiBzZWVtcyBsaWtlIHRoZXNlIG1ldGhvZHMgYXJlIHZlcnkgc2ltaWxhclxuXG5WTm9kZS5wcm90b3R5cGUucmVtb3ZlQmVmb3JlID0gZnVuY3Rpb24gcmVtb3ZlQmVmb3JlIChvd25lcklELCBsZXZlbCwgaW5kZXgpIHtcbiAgaWYgKGluZGV4ID09PSBsZXZlbCA/IDEgPDwgbGV2ZWwgOiAwIHx8IHRoaXMuYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdmFyIG9yaWdpbkluZGV4ID0gaW5kZXggPj4+IGxldmVsICYgTUFTSztcbiAgaWYgKG9yaWdpbkluZGV4ID49IHRoaXMuYXJyYXkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG5ldyBWTm9kZShbXSwgb3duZXJJRCk7XG4gIH1cbiAgdmFyIHJlbW92aW5nRmlyc3QgPSBvcmlnaW5JbmRleCA9PT0gMDtcbiAgdmFyIG5ld0NoaWxkO1xuICBpZiAobGV2ZWwgPiAwKSB7XG4gICAgdmFyIG9sZENoaWxkID0gdGhpcy5hcnJheVtvcmlnaW5JbmRleF07XG4gICAgbmV3Q2hpbGQgPSBvbGRDaGlsZCAmJlxuICAgICAgb2xkQ2hpbGQucmVtb3ZlQmVmb3JlKG93bmVySUQsIGxldmVsIC0gU0hJRlQsIGluZGV4KTtcbiAgICBpZiAobmV3Q2hpbGQgPT09IG9sZENoaWxkICYmIHJlbW92aW5nRmlyc3QpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuICBpZiAocmVtb3ZpbmdGaXJzdCAmJiAhbmV3Q2hpbGQpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB2YXIgZWRpdGFibGUgPSBlZGl0YWJsZVZOb2RlKHRoaXMsIG93bmVySUQpO1xuICBpZiAoIXJlbW92aW5nRmlyc3QpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgb3JpZ2luSW5kZXg7IGlpKyspIHtcbiAgICAgIGVkaXRhYmxlLmFycmF5W2lpXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbiAgaWYgKG5ld0NoaWxkKSB7XG4gICAgZWRpdGFibGUuYXJyYXlbb3JpZ2luSW5kZXhdID0gbmV3Q2hpbGQ7XG4gIH1cbiAgcmV0dXJuIGVkaXRhYmxlO1xufTtcblxuVk5vZGUucHJvdG90eXBlLnJlbW92ZUFmdGVyID0gZnVuY3Rpb24gcmVtb3ZlQWZ0ZXIgKG93bmVySUQsIGxldmVsLCBpbmRleCkge1xuICBpZiAoaW5kZXggPT09IChsZXZlbCA/IDEgPDwgbGV2ZWwgOiAwKSB8fCB0aGlzLmFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHZhciBzaXplSW5kZXggPSBpbmRleCAtIDEgPj4+IGxldmVsICYgTUFTSztcbiAgaWYgKHNpemVJbmRleCA+PSB0aGlzLmFycmF5Lmxlbmd0aCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIG5ld0NoaWxkO1xuICBpZiAobGV2ZWwgPiAwKSB7XG4gICAgdmFyIG9sZENoaWxkID0gdGhpcy5hcnJheVtzaXplSW5kZXhdO1xuICAgIG5ld0NoaWxkID0gb2xkQ2hpbGQgJiZcbiAgICAgIG9sZENoaWxkLnJlbW92ZUFmdGVyKG93bmVySUQsIGxldmVsIC0gU0hJRlQsIGluZGV4KTtcbiAgICBpZiAobmV3Q2hpbGQgPT09IG9sZENoaWxkICYmIHNpemVJbmRleCA9PT0gdGhpcy5hcnJheS5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICB2YXIgZWRpdGFibGUgPSBlZGl0YWJsZVZOb2RlKHRoaXMsIG93bmVySUQpO1xuICBlZGl0YWJsZS5hcnJheS5zcGxpY2Uoc2l6ZUluZGV4ICsgMSk7XG4gIGlmIChuZXdDaGlsZCkge1xuICAgIGVkaXRhYmxlLmFycmF5W3NpemVJbmRleF0gPSBuZXdDaGlsZDtcbiAgfVxuICByZXR1cm4gZWRpdGFibGU7XG59O1xuXG52YXIgRE9ORSA9IHt9O1xuXG5mdW5jdGlvbiBpdGVyYXRlTGlzdChsaXN0LCByZXZlcnNlKSB7XG4gIHZhciBsZWZ0ID0gbGlzdC5fb3JpZ2luO1xuICB2YXIgcmlnaHQgPSBsaXN0Ll9jYXBhY2l0eTtcbiAgdmFyIHRhaWxQb3MgPSBnZXRUYWlsT2Zmc2V0KHJpZ2h0KTtcbiAgdmFyIHRhaWwgPSBsaXN0Ll90YWlsO1xuXG4gIHJldHVybiBpdGVyYXRlTm9kZU9yTGVhZihsaXN0Ll9yb290LCBsaXN0Ll9sZXZlbCwgMCk7XG5cbiAgZnVuY3Rpb24gaXRlcmF0ZU5vZGVPckxlYWYobm9kZSwgbGV2ZWwsIG9mZnNldCkge1xuICAgIHJldHVybiBsZXZlbCA9PT0gMFxuICAgICAgPyBpdGVyYXRlTGVhZihub2RlLCBvZmZzZXQpXG4gICAgICA6IGl0ZXJhdGVOb2RlKG5vZGUsIGxldmVsLCBvZmZzZXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXRlcmF0ZUxlYWYobm9kZSwgb2Zmc2V0KSB7XG4gICAgdmFyIGFycmF5ID0gb2Zmc2V0ID09PSB0YWlsUG9zID8gdGFpbCAmJiB0YWlsLmFycmF5IDogbm9kZSAmJiBub2RlLmFycmF5O1xuICAgIHZhciBmcm9tID0gb2Zmc2V0ID4gbGVmdCA/IDAgOiBsZWZ0IC0gb2Zmc2V0O1xuICAgIHZhciB0byA9IHJpZ2h0IC0gb2Zmc2V0O1xuICAgIGlmICh0byA+IFNJWkUpIHtcbiAgICAgIHRvID0gU0laRTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgICByZXR1cm4gRE9ORTtcbiAgICAgIH1cbiAgICAgIHZhciBpZHggPSByZXZlcnNlID8gLS10byA6IGZyb20rKztcbiAgICAgIHJldHVybiBhcnJheSAmJiBhcnJheVtpZHhdO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBpdGVyYXRlTm9kZShub2RlLCBsZXZlbCwgb2Zmc2V0KSB7XG4gICAgdmFyIHZhbHVlcztcbiAgICB2YXIgYXJyYXkgPSBub2RlICYmIG5vZGUuYXJyYXk7XG4gICAgdmFyIGZyb20gPSBvZmZzZXQgPiBsZWZ0ID8gMCA6IGxlZnQgLSBvZmZzZXQgPj4gbGV2ZWw7XG4gICAgdmFyIHRvID0gKHJpZ2h0IC0gb2Zmc2V0ID4+IGxldmVsKSArIDE7XG4gICAgaWYgKHRvID4gU0laRSkge1xuICAgICAgdG8gPSBTSVpFO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlcygpO1xuICAgICAgICAgIGlmICh2YWx1ZSAhPT0gRE9ORSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YWx1ZXMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgICAgIHJldHVybiBET05FO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZHggPSByZXZlcnNlID8gLS10byA6IGZyb20rKztcbiAgICAgICAgdmFsdWVzID0gaXRlcmF0ZU5vZGVPckxlYWYoXG4gICAgICAgICAgYXJyYXkgJiYgYXJyYXlbaWR4XSxcbiAgICAgICAgICBsZXZlbCAtIFNISUZULFxuICAgICAgICAgIG9mZnNldCArIChpZHggPDwgbGV2ZWwpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYWtlTGlzdChvcmlnaW4sIGNhcGFjaXR5LCBsZXZlbCwgcm9vdCwgdGFpbCwgb3duZXJJRCwgaGFzaCkge1xuICB2YXIgbGlzdCA9IE9iamVjdC5jcmVhdGUoTGlzdFByb3RvdHlwZSk7XG4gIGxpc3Quc2l6ZSA9IGNhcGFjaXR5IC0gb3JpZ2luO1xuICBsaXN0Ll9vcmlnaW4gPSBvcmlnaW47XG4gIGxpc3QuX2NhcGFjaXR5ID0gY2FwYWNpdHk7XG4gIGxpc3QuX2xldmVsID0gbGV2ZWw7XG4gIGxpc3QuX3Jvb3QgPSByb290O1xuICBsaXN0Ll90YWlsID0gdGFpbDtcbiAgbGlzdC5fX293bmVySUQgPSBvd25lcklEO1xuICBsaXN0Ll9faGFzaCA9IGhhc2g7XG4gIGxpc3QuX19hbHRlcmVkID0gZmFsc2U7XG4gIHJldHVybiBsaXN0O1xufVxuXG52YXIgRU1QVFlfTElTVDtcbmZ1bmN0aW9uIGVtcHR5TGlzdCgpIHtcbiAgcmV0dXJuIEVNUFRZX0xJU1QgfHwgKEVNUFRZX0xJU1QgPSBtYWtlTGlzdCgwLCAwLCBTSElGVCkpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVMaXN0KGxpc3QsIGluZGV4LCB2YWx1ZSkge1xuICBpbmRleCA9IHdyYXBJbmRleChsaXN0LCBpbmRleCk7XG5cbiAgaWYgKGluZGV4ICE9PSBpbmRleCkge1xuICAgIHJldHVybiBsaXN0O1xuICB9XG5cbiAgaWYgKGluZGV4ID49IGxpc3Quc2l6ZSB8fCBpbmRleCA8IDApIHtcbiAgICByZXR1cm4gbGlzdC53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICBpbmRleCA8IDBcbiAgICAgICAgPyBzZXRMaXN0Qm91bmRzKGxpc3QsIGluZGV4KS5zZXQoMCwgdmFsdWUpXG4gICAgICAgIDogc2V0TGlzdEJvdW5kcyhsaXN0LCAwLCBpbmRleCArIDEpLnNldChpbmRleCwgdmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgaW5kZXggKz0gbGlzdC5fb3JpZ2luO1xuXG4gIHZhciBuZXdUYWlsID0gbGlzdC5fdGFpbDtcbiAgdmFyIG5ld1Jvb3QgPSBsaXN0Ll9yb290O1xuICB2YXIgZGlkQWx0ZXIgPSBNYWtlUmVmKERJRF9BTFRFUik7XG4gIGlmIChpbmRleCA+PSBnZXRUYWlsT2Zmc2V0KGxpc3QuX2NhcGFjaXR5KSkge1xuICAgIG5ld1RhaWwgPSB1cGRhdGVWTm9kZShuZXdUYWlsLCBsaXN0Ll9fb3duZXJJRCwgMCwgaW5kZXgsIHZhbHVlLCBkaWRBbHRlcik7XG4gIH0gZWxzZSB7XG4gICAgbmV3Um9vdCA9IHVwZGF0ZVZOb2RlKFxuICAgICAgbmV3Um9vdCxcbiAgICAgIGxpc3QuX19vd25lcklELFxuICAgICAgbGlzdC5fbGV2ZWwsXG4gICAgICBpbmRleCxcbiAgICAgIHZhbHVlLFxuICAgICAgZGlkQWx0ZXJcbiAgICApO1xuICB9XG5cbiAgaWYgKCFkaWRBbHRlci52YWx1ZSkge1xuICAgIHJldHVybiBsaXN0O1xuICB9XG5cbiAgaWYgKGxpc3QuX19vd25lcklEKSB7XG4gICAgbGlzdC5fcm9vdCA9IG5ld1Jvb3Q7XG4gICAgbGlzdC5fdGFpbCA9IG5ld1RhaWw7XG4gICAgbGlzdC5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgbGlzdC5fX2FsdGVyZWQgPSB0cnVlO1xuICAgIHJldHVybiBsaXN0O1xuICB9XG4gIHJldHVybiBtYWtlTGlzdChsaXN0Ll9vcmlnaW4sIGxpc3QuX2NhcGFjaXR5LCBsaXN0Ll9sZXZlbCwgbmV3Um9vdCwgbmV3VGFpbCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVZOb2RlKG5vZGUsIG93bmVySUQsIGxldmVsLCBpbmRleCwgdmFsdWUsIGRpZEFsdGVyKSB7XG4gIHZhciBpZHggPSBpbmRleCA+Pj4gbGV2ZWwgJiBNQVNLO1xuICB2YXIgbm9kZUhhcyA9IG5vZGUgJiYgaWR4IDwgbm9kZS5hcnJheS5sZW5ndGg7XG4gIGlmICghbm9kZUhhcyAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICB2YXIgbmV3Tm9kZTtcblxuICBpZiAobGV2ZWwgPiAwKSB7XG4gICAgdmFyIGxvd2VyTm9kZSA9IG5vZGUgJiYgbm9kZS5hcnJheVtpZHhdO1xuICAgIHZhciBuZXdMb3dlck5vZGUgPSB1cGRhdGVWTm9kZShcbiAgICAgIGxvd2VyTm9kZSxcbiAgICAgIG93bmVySUQsXG4gICAgICBsZXZlbCAtIFNISUZULFxuICAgICAgaW5kZXgsXG4gICAgICB2YWx1ZSxcbiAgICAgIGRpZEFsdGVyXG4gICAgKTtcbiAgICBpZiAobmV3TG93ZXJOb2RlID09PSBsb3dlck5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBuZXdOb2RlID0gZWRpdGFibGVWTm9kZShub2RlLCBvd25lcklEKTtcbiAgICBuZXdOb2RlLmFycmF5W2lkeF0gPSBuZXdMb3dlck5vZGU7XG4gICAgcmV0dXJuIG5ld05vZGU7XG4gIH1cblxuICBpZiAobm9kZUhhcyAmJiBub2RlLmFycmF5W2lkeF0gPT09IHZhbHVlKSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICBTZXRSZWYoZGlkQWx0ZXIpO1xuXG4gIG5ld05vZGUgPSBlZGl0YWJsZVZOb2RlKG5vZGUsIG93bmVySUQpO1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBpZHggPT09IG5ld05vZGUuYXJyYXkubGVuZ3RoIC0gMSkge1xuICAgIG5ld05vZGUuYXJyYXkucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgbmV3Tm9kZS5hcnJheVtpZHhdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIG5ld05vZGU7XG59XG5cbmZ1bmN0aW9uIGVkaXRhYmxlVk5vZGUobm9kZSwgb3duZXJJRCkge1xuICBpZiAob3duZXJJRCAmJiBub2RlICYmIG93bmVySUQgPT09IG5vZGUub3duZXJJRCkge1xuICAgIHJldHVybiBub2RlO1xuICB9XG4gIHJldHVybiBuZXcgVk5vZGUobm9kZSA/IG5vZGUuYXJyYXkuc2xpY2UoKSA6IFtdLCBvd25lcklEKTtcbn1cblxuZnVuY3Rpb24gbGlzdE5vZGVGb3IobGlzdCwgcmF3SW5kZXgpIHtcbiAgaWYgKHJhd0luZGV4ID49IGdldFRhaWxPZmZzZXQobGlzdC5fY2FwYWNpdHkpKSB7XG4gICAgcmV0dXJuIGxpc3QuX3RhaWw7XG4gIH1cbiAgaWYgKHJhd0luZGV4IDwgMSA8PCBsaXN0Ll9sZXZlbCArIFNISUZUKSB7XG4gICAgdmFyIG5vZGUgPSBsaXN0Ll9yb290O1xuICAgIHZhciBsZXZlbCA9IGxpc3QuX2xldmVsO1xuICAgIHdoaWxlIChub2RlICYmIGxldmVsID4gMCkge1xuICAgICAgbm9kZSA9IG5vZGUuYXJyYXlbcmF3SW5kZXggPj4+IGxldmVsICYgTUFTS107XG4gICAgICBsZXZlbCAtPSBTSElGVDtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0TGlzdEJvdW5kcyhsaXN0LCBiZWdpbiwgZW5kKSB7XG4gIC8vIFNhbml0aXplIGJlZ2luICYgZW5kIHVzaW5nIHRoaXMgc2hvcnRoYW5kIGZvciBUb0ludDMyKGFyZ3VtZW50KVxuICAvLyBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtdG9pbnQzMlxuICBpZiAoYmVnaW4gIT09IHVuZGVmaW5lZCkge1xuICAgIGJlZ2luIHw9IDA7XG4gIH1cbiAgaWYgKGVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5kIHw9IDA7XG4gIH1cbiAgdmFyIG93bmVyID0gbGlzdC5fX293bmVySUQgfHwgbmV3IE93bmVySUQoKTtcbiAgdmFyIG9sZE9yaWdpbiA9IGxpc3QuX29yaWdpbjtcbiAgdmFyIG9sZENhcGFjaXR5ID0gbGlzdC5fY2FwYWNpdHk7XG4gIHZhciBuZXdPcmlnaW4gPSBvbGRPcmlnaW4gKyBiZWdpbjtcbiAgdmFyIG5ld0NhcGFjaXR5ID0gZW5kID09PSB1bmRlZmluZWRcbiAgICA/IG9sZENhcGFjaXR5XG4gICAgOiBlbmQgPCAwID8gb2xkQ2FwYWNpdHkgKyBlbmQgOiBvbGRPcmlnaW4gKyBlbmQ7XG4gIGlmIChuZXdPcmlnaW4gPT09IG9sZE9yaWdpbiAmJiBuZXdDYXBhY2l0eSA9PT0gb2xkQ2FwYWNpdHkpIHtcbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuXG4gIC8vIElmIGl0J3MgZ29pbmcgdG8gZW5kIGFmdGVyIGl0IHN0YXJ0cywgaXQncyBlbXB0eS5cbiAgaWYgKG5ld09yaWdpbiA+PSBuZXdDYXBhY2l0eSkge1xuICAgIHJldHVybiBsaXN0LmNsZWFyKCk7XG4gIH1cblxuICB2YXIgbmV3TGV2ZWwgPSBsaXN0Ll9sZXZlbDtcbiAgdmFyIG5ld1Jvb3QgPSBsaXN0Ll9yb290O1xuXG4gIC8vIE5ldyBvcmlnaW4gbWlnaHQgbmVlZCBjcmVhdGluZyBhIGhpZ2hlciByb290LlxuICB2YXIgb2Zmc2V0U2hpZnQgPSAwO1xuICB3aGlsZSAobmV3T3JpZ2luICsgb2Zmc2V0U2hpZnQgPCAwKSB7XG4gICAgbmV3Um9vdCA9IG5ldyBWTm9kZShcbiAgICAgIG5ld1Jvb3QgJiYgbmV3Um9vdC5hcnJheS5sZW5ndGggPyBbdW5kZWZpbmVkLCBuZXdSb290XSA6IFtdLFxuICAgICAgb3duZXJcbiAgICApO1xuICAgIG5ld0xldmVsICs9IFNISUZUO1xuICAgIG9mZnNldFNoaWZ0ICs9IDEgPDwgbmV3TGV2ZWw7XG4gIH1cbiAgaWYgKG9mZnNldFNoaWZ0KSB7XG4gICAgbmV3T3JpZ2luICs9IG9mZnNldFNoaWZ0O1xuICAgIG9sZE9yaWdpbiArPSBvZmZzZXRTaGlmdDtcbiAgICBuZXdDYXBhY2l0eSArPSBvZmZzZXRTaGlmdDtcbiAgICBvbGRDYXBhY2l0eSArPSBvZmZzZXRTaGlmdDtcbiAgfVxuXG4gIHZhciBvbGRUYWlsT2Zmc2V0ID0gZ2V0VGFpbE9mZnNldChvbGRDYXBhY2l0eSk7XG4gIHZhciBuZXdUYWlsT2Zmc2V0ID0gZ2V0VGFpbE9mZnNldChuZXdDYXBhY2l0eSk7XG5cbiAgLy8gTmV3IHNpemUgbWlnaHQgbmVlZCBjcmVhdGluZyBhIGhpZ2hlciByb290LlxuICB3aGlsZSAobmV3VGFpbE9mZnNldCA+PSAxIDw8IG5ld0xldmVsICsgU0hJRlQpIHtcbiAgICBuZXdSb290ID0gbmV3IFZOb2RlKFxuICAgICAgbmV3Um9vdCAmJiBuZXdSb290LmFycmF5Lmxlbmd0aCA/IFtuZXdSb290XSA6IFtdLFxuICAgICAgb3duZXJcbiAgICApO1xuICAgIG5ld0xldmVsICs9IFNISUZUO1xuICB9XG5cbiAgLy8gTG9jYXRlIG9yIGNyZWF0ZSB0aGUgbmV3IHRhaWwuXG4gIHZhciBvbGRUYWlsID0gbGlzdC5fdGFpbDtcbiAgdmFyIG5ld1RhaWwgPSBuZXdUYWlsT2Zmc2V0IDwgb2xkVGFpbE9mZnNldFxuICAgID8gbGlzdE5vZGVGb3IobGlzdCwgbmV3Q2FwYWNpdHkgLSAxKVxuICAgIDogbmV3VGFpbE9mZnNldCA+IG9sZFRhaWxPZmZzZXQgPyBuZXcgVk5vZGUoW10sIG93bmVyKSA6IG9sZFRhaWw7XG5cbiAgLy8gTWVyZ2UgVGFpbCBpbnRvIHRyZWUuXG4gIGlmIChcbiAgICBvbGRUYWlsICYmXG4gICAgbmV3VGFpbE9mZnNldCA+IG9sZFRhaWxPZmZzZXQgJiZcbiAgICBuZXdPcmlnaW4gPCBvbGRDYXBhY2l0eSAmJlxuICAgIG9sZFRhaWwuYXJyYXkubGVuZ3RoXG4gICkge1xuICAgIG5ld1Jvb3QgPSBlZGl0YWJsZVZOb2RlKG5ld1Jvb3QsIG93bmVyKTtcbiAgICB2YXIgbm9kZSA9IG5ld1Jvb3Q7XG4gICAgZm9yICh2YXIgbGV2ZWwgPSBuZXdMZXZlbDsgbGV2ZWwgPiBTSElGVDsgbGV2ZWwgLT0gU0hJRlQpIHtcbiAgICAgIHZhciBpZHggPSBvbGRUYWlsT2Zmc2V0ID4+PiBsZXZlbCAmIE1BU0s7XG4gICAgICBub2RlID0gKG5vZGUuYXJyYXlbaWR4XSA9IGVkaXRhYmxlVk5vZGUobm9kZS5hcnJheVtpZHhdLCBvd25lcikpO1xuICAgIH1cbiAgICBub2RlLmFycmF5W29sZFRhaWxPZmZzZXQgPj4+IFNISUZUICYgTUFTS10gPSBvbGRUYWlsO1xuICB9XG5cbiAgLy8gSWYgdGhlIHNpemUgaGFzIGJlZW4gcmVkdWNlZCwgdGhlcmUncyBhIGNoYW5jZSB0aGUgdGFpbCBuZWVkcyB0byBiZSB0cmltbWVkLlxuICBpZiAobmV3Q2FwYWNpdHkgPCBvbGRDYXBhY2l0eSkge1xuICAgIG5ld1RhaWwgPSBuZXdUYWlsICYmIG5ld1RhaWwucmVtb3ZlQWZ0ZXIob3duZXIsIDAsIG5ld0NhcGFjaXR5KTtcbiAgfVxuXG4gIC8vIElmIHRoZSBuZXcgb3JpZ2luIGlzIHdpdGhpbiB0aGUgdGFpbCwgdGhlbiB3ZSBkbyBub3QgbmVlZCBhIHJvb3QuXG4gIGlmIChuZXdPcmlnaW4gPj0gbmV3VGFpbE9mZnNldCkge1xuICAgIG5ld09yaWdpbiAtPSBuZXdUYWlsT2Zmc2V0O1xuICAgIG5ld0NhcGFjaXR5IC09IG5ld1RhaWxPZmZzZXQ7XG4gICAgbmV3TGV2ZWwgPSBTSElGVDtcbiAgICBuZXdSb290ID0gbnVsbDtcbiAgICBuZXdUYWlsID0gbmV3VGFpbCAmJiBuZXdUYWlsLnJlbW92ZUJlZm9yZShvd25lciwgMCwgbmV3T3JpZ2luKTtcblxuICAgIC8vIE90aGVyd2lzZSwgaWYgdGhlIHJvb3QgaGFzIGJlZW4gdHJpbW1lZCwgZ2FyYmFnZSBjb2xsZWN0LlxuICB9IGVsc2UgaWYgKG5ld09yaWdpbiA+IG9sZE9yaWdpbiB8fCBuZXdUYWlsT2Zmc2V0IDwgb2xkVGFpbE9mZnNldCkge1xuICAgIG9mZnNldFNoaWZ0ID0gMDtcblxuICAgIC8vIElkZW50aWZ5IHRoZSBuZXcgdG9wIHJvb3Qgbm9kZSBvZiB0aGUgc3VidHJlZSBvZiB0aGUgb2xkIHJvb3QuXG4gICAgd2hpbGUgKG5ld1Jvb3QpIHtcbiAgICAgIHZhciBiZWdpbkluZGV4ID0gbmV3T3JpZ2luID4+PiBuZXdMZXZlbCAmIE1BU0s7XG4gICAgICBpZiAoYmVnaW5JbmRleCAhPT0gbmV3VGFpbE9mZnNldCA+Pj4gbmV3TGV2ZWwgJiBNQVNLKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGJlZ2luSW5kZXgpIHtcbiAgICAgICAgb2Zmc2V0U2hpZnQgKz0gKDEgPDwgbmV3TGV2ZWwpICogYmVnaW5JbmRleDtcbiAgICAgIH1cbiAgICAgIG5ld0xldmVsIC09IFNISUZUO1xuICAgICAgbmV3Um9vdCA9IG5ld1Jvb3QuYXJyYXlbYmVnaW5JbmRleF07XG4gICAgfVxuXG4gICAgLy8gVHJpbSB0aGUgbmV3IHNpZGVzIG9mIHRoZSBuZXcgcm9vdC5cbiAgICBpZiAobmV3Um9vdCAmJiBuZXdPcmlnaW4gPiBvbGRPcmlnaW4pIHtcbiAgICAgIG5ld1Jvb3QgPSBuZXdSb290LnJlbW92ZUJlZm9yZShvd25lciwgbmV3TGV2ZWwsIG5ld09yaWdpbiAtIG9mZnNldFNoaWZ0KTtcbiAgICB9XG4gICAgaWYgKG5ld1Jvb3QgJiYgbmV3VGFpbE9mZnNldCA8IG9sZFRhaWxPZmZzZXQpIHtcbiAgICAgIG5ld1Jvb3QgPSBuZXdSb290LnJlbW92ZUFmdGVyKFxuICAgICAgICBvd25lcixcbiAgICAgICAgbmV3TGV2ZWwsXG4gICAgICAgIG5ld1RhaWxPZmZzZXQgLSBvZmZzZXRTaGlmdFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG9mZnNldFNoaWZ0KSB7XG4gICAgICBuZXdPcmlnaW4gLT0gb2Zmc2V0U2hpZnQ7XG4gICAgICBuZXdDYXBhY2l0eSAtPSBvZmZzZXRTaGlmdDtcbiAgICB9XG4gIH1cblxuICBpZiAobGlzdC5fX293bmVySUQpIHtcbiAgICBsaXN0LnNpemUgPSBuZXdDYXBhY2l0eSAtIG5ld09yaWdpbjtcbiAgICBsaXN0Ll9vcmlnaW4gPSBuZXdPcmlnaW47XG4gICAgbGlzdC5fY2FwYWNpdHkgPSBuZXdDYXBhY2l0eTtcbiAgICBsaXN0Ll9sZXZlbCA9IG5ld0xldmVsO1xuICAgIGxpc3QuX3Jvb3QgPSBuZXdSb290O1xuICAgIGxpc3QuX3RhaWwgPSBuZXdUYWlsO1xuICAgIGxpc3QuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgIGxpc3QuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuICByZXR1cm4gbWFrZUxpc3QobmV3T3JpZ2luLCBuZXdDYXBhY2l0eSwgbmV3TGV2ZWwsIG5ld1Jvb3QsIG5ld1RhaWwpO1xufVxuXG5mdW5jdGlvbiBtZXJnZUludG9MaXN0V2l0aChsaXN0LCBtZXJnZXIsIGNvbGxlY3Rpb25zKSB7XG4gIHZhciBpdGVycyA9IFtdO1xuICB2YXIgbWF4U2l6ZSA9IDA7XG4gIGZvciAodmFyIGlpID0gMDsgaWkgPCBjb2xsZWN0aW9ucy5sZW5ndGg7IGlpKyspIHtcbiAgICB2YXIgdmFsdWUgPSBjb2xsZWN0aW9uc1tpaV07XG4gICAgdmFyIGl0ZXIgPSBJbmRleGVkQ29sbGVjdGlvbih2YWx1ZSk7XG4gICAgaWYgKGl0ZXIuc2l6ZSA+IG1heFNpemUpIHtcbiAgICAgIG1heFNpemUgPSBpdGVyLnNpemU7XG4gICAgfVxuICAgIGlmICghaXNDb2xsZWN0aW9uKHZhbHVlKSkge1xuICAgICAgaXRlciA9IGl0ZXIubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBmcm9tSlModik7IH0pO1xuICAgIH1cbiAgICBpdGVycy5wdXNoKGl0ZXIpO1xuICB9XG4gIGlmIChtYXhTaXplID4gbGlzdC5zaXplKSB7XG4gICAgbGlzdCA9IGxpc3Quc2V0U2l6ZShtYXhTaXplKTtcbiAgfVxuICByZXR1cm4gbWVyZ2VJbnRvQ29sbGVjdGlvbldpdGgobGlzdCwgbWVyZ2VyLCBpdGVycyk7XG59XG5cbmZ1bmN0aW9uIGdldFRhaWxPZmZzZXQoc2l6ZSkge1xuICByZXR1cm4gc2l6ZSA8IFNJWkUgPyAwIDogc2l6ZSAtIDEgPj4+IFNISUZUIDw8IFNISUZUO1xufVxuXG52YXIgT3JkZXJlZE1hcCA9IChmdW5jdGlvbiAoTWFwJCQxKSB7XG4gIGZ1bmN0aW9uIE9yZGVyZWRNYXAodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyBlbXB0eU9yZGVyZWRNYXAoKVxuICAgICAgOiBpc09yZGVyZWRNYXAodmFsdWUpXG4gICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgIDogZW1wdHlPcmRlcmVkTWFwKCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgICAgICAgIHZhciBpdGVyID0gS2V5ZWRDb2xsZWN0aW9uKHZhbHVlKTtcbiAgICAgICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBtYXAuc2V0KGssIHYpOyB9KTtcbiAgICAgICAgICAgIH0pO1xuICB9XG5cbiAgaWYgKCBNYXAkJDEgKSBPcmRlcmVkTWFwLl9fcHJvdG9fXyA9IE1hcCQkMTtcbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBNYXAkJDEgJiYgTWFwJCQxLnByb3RvdHlwZSApO1xuICBPcmRlcmVkTWFwLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9yZGVyZWRNYXA7XG5cbiAgT3JkZXJlZE1hcC5vZiA9IGZ1bmN0aW9uIG9mICgvKi4uLnZhbHVlcyovKSB7XG4gICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgfTtcblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdPcmRlcmVkTWFwIHsnLCAnfScpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChrLCBub3RTZXRWYWx1ZSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMuX21hcC5nZXQoayk7XG4gICAgcmV0dXJuIGluZGV4ICE9PSB1bmRlZmluZWQgPyB0aGlzLl9saXN0LmdldChpbmRleClbMV0gOiBub3RTZXRWYWx1ZTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gIE9yZGVyZWRNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICB0aGlzLl9tYXAuY2xlYXIoKTtcbiAgICAgIHRoaXMuX2xpc3QuY2xlYXIoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gZW1wdHlPcmRlcmVkTWFwKCk7XG4gIH07XG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0IChrLCB2KSB7XG4gICAgcmV0dXJuIHVwZGF0ZU9yZGVyZWRNYXAodGhpcywgaywgdik7XG4gIH07XG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlIChrKSB7XG4gICAgcmV0dXJuIHVwZGF0ZU9yZGVyZWRNYXAodGhpcywgaywgTk9UX1NFVCk7XG4gIH07XG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUud2FzQWx0ZXJlZCA9IGZ1bmN0aW9uIHdhc0FsdGVyZWQgKCkge1xuICAgIHJldHVybiB0aGlzLl9tYXAud2FzQWx0ZXJlZCgpIHx8IHRoaXMuX2xpc3Qud2FzQWx0ZXJlZCgpO1xuICB9O1xuXG4gIE9yZGVyZWRNYXAucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9saXN0Ll9faXRlcmF0ZShcbiAgICAgIGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkgJiYgZm4oZW50cnlbMV0sIGVudHJ5WzBdLCB0aGlzJDEpOyB9LFxuICAgICAgcmV2ZXJzZVxuICAgICk7XG4gIH07XG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICByZXR1cm4gdGhpcy5fbGlzdC5mcm9tRW50cnlTZXEoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICB9O1xuXG4gIE9yZGVyZWRNYXAucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbiBfX2Vuc3VyZU93bmVyIChvd25lcklEKSB7XG4gICAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmFyIG5ld01hcCA9IHRoaXMuX21hcC5fX2Vuc3VyZU93bmVyKG93bmVySUQpO1xuICAgIHZhciBuZXdMaXN0ID0gdGhpcy5fbGlzdC5fX2Vuc3VyZU93bmVyKG93bmVySUQpO1xuICAgIGlmICghb3duZXJJRCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZW1wdHlPcmRlcmVkTWFwKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLl9tYXAgPSBuZXdNYXA7XG4gICAgICB0aGlzLl9saXN0ID0gbmV3TGlzdDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZU9yZGVyZWRNYXAobmV3TWFwLCBuZXdMaXN0LCBvd25lcklELCB0aGlzLl9faGFzaCk7XG4gIH07XG5cbiAgcmV0dXJuIE9yZGVyZWRNYXA7XG59KE1hcCkpO1xuXG5mdW5jdGlvbiBpc09yZGVyZWRNYXAobWF5YmVPcmRlcmVkTWFwKSB7XG4gIHJldHVybiBpc01hcChtYXliZU9yZGVyZWRNYXApICYmIGlzT3JkZXJlZChtYXliZU9yZGVyZWRNYXApO1xufVxuXG5PcmRlcmVkTWFwLmlzT3JkZXJlZE1hcCA9IGlzT3JkZXJlZE1hcDtcblxuT3JkZXJlZE1hcC5wcm90b3R5cGVbSVNfT1JERVJFRF9TRU5USU5FTF0gPSB0cnVlO1xuT3JkZXJlZE1hcC5wcm90b3R5cGVbREVMRVRFXSA9IE9yZGVyZWRNYXAucHJvdG90eXBlLnJlbW92ZTtcblxuZnVuY3Rpb24gbWFrZU9yZGVyZWRNYXAobWFwLCBsaXN0LCBvd25lcklELCBoYXNoKSB7XG4gIHZhciBvbWFwID0gT2JqZWN0LmNyZWF0ZShPcmRlcmVkTWFwLnByb3RvdHlwZSk7XG4gIG9tYXAuc2l6ZSA9IG1hcCA/IG1hcC5zaXplIDogMDtcbiAgb21hcC5fbWFwID0gbWFwO1xuICBvbWFwLl9saXN0ID0gbGlzdDtcbiAgb21hcC5fX293bmVySUQgPSBvd25lcklEO1xuICBvbWFwLl9faGFzaCA9IGhhc2g7XG4gIHJldHVybiBvbWFwO1xufVxuXG52YXIgRU1QVFlfT1JERVJFRF9NQVA7XG5mdW5jdGlvbiBlbXB0eU9yZGVyZWRNYXAoKSB7XG4gIHJldHVybiBFTVBUWV9PUkRFUkVEX01BUCB8fFxuICAgIChFTVBUWV9PUkRFUkVEX01BUCA9IG1ha2VPcmRlcmVkTWFwKGVtcHR5TWFwKCksIGVtcHR5TGlzdCgpKSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU9yZGVyZWRNYXAob21hcCwgaywgdikge1xuICB2YXIgbWFwID0gb21hcC5fbWFwO1xuICB2YXIgbGlzdCA9IG9tYXAuX2xpc3Q7XG4gIHZhciBpID0gbWFwLmdldChrKTtcbiAgdmFyIGhhcyA9IGkgIT09IHVuZGVmaW5lZDtcbiAgdmFyIG5ld01hcDtcbiAgdmFyIG5ld0xpc3Q7XG4gIGlmICh2ID09PSBOT1RfU0VUKSB7XG4gICAgLy8gcmVtb3ZlZFxuICAgIGlmICghaGFzKSB7XG4gICAgICByZXR1cm4gb21hcDtcbiAgICB9XG4gICAgaWYgKGxpc3Quc2l6ZSA+PSBTSVpFICYmIGxpc3Quc2l6ZSA+PSBtYXAuc2l6ZSAqIDIpIHtcbiAgICAgIG5ld0xpc3QgPSBsaXN0LmZpbHRlcihmdW5jdGlvbiAoZW50cnksIGlkeCkgeyByZXR1cm4gZW50cnkgIT09IHVuZGVmaW5lZCAmJiBpICE9PSBpZHg7IH0pO1xuICAgICAgbmV3TWFwID0gbmV3TGlzdC50b0tleWVkU2VxKCkubWFwKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnlbMF07IH0pLmZsaXAoKS50b01hcCgpO1xuICAgICAgaWYgKG9tYXAuX19vd25lcklEKSB7XG4gICAgICAgIG5ld01hcC5fX293bmVySUQgPSAobmV3TGlzdC5fX293bmVySUQgPSBvbWFwLl9fb3duZXJJRCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld01hcCA9IG1hcC5yZW1vdmUoayk7XG4gICAgICBuZXdMaXN0ID0gaSA9PT0gbGlzdC5zaXplIC0gMSA/IGxpc3QucG9wKCkgOiBsaXN0LnNldChpLCB1bmRlZmluZWQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChoYXMpIHtcbiAgICBpZiAodiA9PT0gbGlzdC5nZXQoaSlbMV0pIHtcbiAgICAgIHJldHVybiBvbWFwO1xuICAgIH1cbiAgICBuZXdNYXAgPSBtYXA7XG4gICAgbmV3TGlzdCA9IGxpc3Quc2V0KGksIFtrLCB2XSk7XG4gIH0gZWxzZSB7XG4gICAgbmV3TWFwID0gbWFwLnNldChrLCBsaXN0LnNpemUpO1xuICAgIG5ld0xpc3QgPSBsaXN0LnNldChsaXN0LnNpemUsIFtrLCB2XSk7XG4gIH1cbiAgaWYgKG9tYXAuX19vd25lcklEKSB7XG4gICAgb21hcC5zaXplID0gbmV3TWFwLnNpemU7XG4gICAgb21hcC5fbWFwID0gbmV3TWFwO1xuICAgIG9tYXAuX2xpc3QgPSBuZXdMaXN0O1xuICAgIG9tYXAuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBvbWFwO1xuICB9XG4gIHJldHVybiBtYWtlT3JkZXJlZE1hcChuZXdNYXAsIG5ld0xpc3QpO1xufVxuXG52YXIgU3RhY2sgPSAoZnVuY3Rpb24gKEluZGV4ZWRDb2xsZWN0aW9uJCQxKSB7XG4gIGZ1bmN0aW9uIFN0YWNrKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8gZW1wdHlTdGFjaygpXG4gICAgICA6IGlzU3RhY2sodmFsdWUpID8gdmFsdWUgOiBlbXB0eVN0YWNrKCkucHVzaEFsbCh2YWx1ZSk7XG4gIH1cblxuICBpZiAoIEluZGV4ZWRDb2xsZWN0aW9uJCQxICkgU3RhY2suX19wcm90b19fID0gSW5kZXhlZENvbGxlY3Rpb24kJDE7XG4gIFN0YWNrLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEluZGV4ZWRDb2xsZWN0aW9uJCQxICYmIEluZGV4ZWRDb2xsZWN0aW9uJCQxLnByb3RvdHlwZSApO1xuICBTdGFjay5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdGFjaztcblxuICBTdGFjay5vZiA9IGZ1bmN0aW9uIG9mICgvKi4uLnZhbHVlcyovKSB7XG4gICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgfTtcblxuICBTdGFjay5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnU3RhY2sgWycsICddJyk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgIHdoaWxlIChoZWFkICYmIGluZGV4LS0pIHtcbiAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgfVxuICAgIHJldHVybiBoZWFkID8gaGVhZC52YWx1ZSA6IG5vdFNldFZhbHVlO1xuICB9O1xuXG4gIFN0YWNrLnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24gcGVlayAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hlYWQgJiYgdGhpcy5faGVhZC52YWx1ZTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gIFN0YWNrLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCAoLyouLi52YWx1ZXMqLykge1xuICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmFyIG5ld1NpemUgPSB0aGlzLnNpemUgKyBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICBmb3IgKHZhciBpaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpaSA+PSAwOyBpaS0tKSB7XG4gICAgICBoZWFkID0ge1xuICAgICAgICB2YWx1ZTogYXJndW1lbnRzJDFbaWldLFxuICAgICAgICBuZXh0OiBoZWFkXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IG5ld1NpemU7XG4gICAgICB0aGlzLl9oZWFkID0gaGVhZDtcbiAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBtYWtlU3RhY2sobmV3U2l6ZSwgaGVhZCk7XG4gIH07XG5cbiAgU3RhY2sucHJvdG90eXBlLnB1c2hBbGwgPSBmdW5jdGlvbiBwdXNoQWxsIChpdGVyKSB7XG4gICAgaXRlciA9IEluZGV4ZWRDb2xsZWN0aW9uJCQxKGl0ZXIpO1xuICAgIGlmIChpdGVyLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAodGhpcy5zaXplID09PSAwICYmIGlzU3RhY2soaXRlcikpIHtcbiAgICAgIHJldHVybiBpdGVyO1xuICAgIH1cbiAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgIHZhciBuZXdTaXplID0gdGhpcy5zaXplO1xuICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICBpdGVyLl9faXRlcmF0ZShcbiAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBuZXdTaXplKys7XG4gICAgICAgIGhlYWQgPSB7XG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIG5leHQ6IGhlYWRcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICAvKiByZXZlcnNlICovIHRydWVcbiAgICApO1xuICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgdGhpcy5zaXplID0gbmV3U2l6ZTtcbiAgICAgIHRoaXMuX2hlYWQgPSBoZWFkO1xuICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VTdGFjayhuZXdTaXplLCBoZWFkKTtcbiAgfTtcblxuICBTdGFjay5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gcG9wICgpIHtcbiAgICByZXR1cm4gdGhpcy5zbGljZSgxKTtcbiAgfTtcblxuICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKSB7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX2hlYWQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gZW1wdHlTdGFjaygpO1xuICB9O1xuXG4gIFN0YWNrLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChiZWdpbiwgZW5kKSB7XG4gICAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgdGhpcy5zaXplKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHZhciByZXNvbHZlZEJlZ2luID0gcmVzb2x2ZUJlZ2luKGJlZ2luLCB0aGlzLnNpemUpO1xuICAgIHZhciByZXNvbHZlZEVuZCA9IHJlc29sdmVFbmQoZW5kLCB0aGlzLnNpemUpO1xuICAgIGlmIChyZXNvbHZlZEVuZCAhPT0gdGhpcy5zaXplKSB7XG4gICAgICAvLyBzdXBlci5zbGljZShiZWdpbiwgZW5kKTtcbiAgICAgIHJldHVybiBJbmRleGVkQ29sbGVjdGlvbiQkMS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLCBiZWdpbiwgZW5kKTtcbiAgICB9XG4gICAgdmFyIG5ld1NpemUgPSB0aGlzLnNpemUgLSByZXNvbHZlZEJlZ2luO1xuICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICB3aGlsZSAocmVzb2x2ZWRCZWdpbi0tKSB7XG4gICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgIH1cbiAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IG5ld1NpemU7XG4gICAgICB0aGlzLl9oZWFkID0gaGVhZDtcbiAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBtYWtlU3RhY2sobmV3U2l6ZSwgaGVhZCk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBNdXRhYmlsaXR5XG5cbiAgU3RhY2sucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbiBfX2Vuc3VyZU93bmVyIChvd25lcklEKSB7XG4gICAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKCFvd25lcklEKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiBlbXB0eVN0YWNrKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBtYWtlU3RhY2sodGhpcy5zaXplLCB0aGlzLl9oZWFkLCBvd25lcklELCB0aGlzLl9faGFzaCk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBJdGVyYXRpb25cblxuICBTdGFjay5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiBuZXcgQXJyYXlTZXEodGhpcy50b0FycmF5KCkpLl9faXRlcmF0ZShcbiAgICAgICAgZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIGZuKHYsIGssIHRoaXMkMSk7IH0sXG4gICAgICAgIHJldmVyc2VcbiAgICAgICk7XG4gICAgfVxuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIGlmIChmbihub2RlLnZhbHVlLCBpdGVyYXRpb25zKyssIHRoaXMkMSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG5cbiAgU3RhY2sucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiBuZXcgQXJyYXlTZXEodGhpcy50b0FycmF5KCkpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAobm9kZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBub2RlLnZhbHVlO1xuICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gU3RhY2s7XG59KEluZGV4ZWRDb2xsZWN0aW9uKSk7XG5cbmZ1bmN0aW9uIGlzU3RhY2sobWF5YmVTdGFjaykge1xuICByZXR1cm4gISEobWF5YmVTdGFjayAmJiBtYXliZVN0YWNrW0lTX1NUQUNLX1NFTlRJTkVMXSk7XG59XG5cblN0YWNrLmlzU3RhY2sgPSBpc1N0YWNrO1xuXG52YXIgSVNfU1RBQ0tfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9TVEFDS19fQEAnO1xuXG52YXIgU3RhY2tQcm90b3R5cGUgPSBTdGFjay5wcm90b3R5cGU7XG5TdGFja1Byb3RvdHlwZVtJU19TVEFDS19TRU5USU5FTF0gPSB0cnVlO1xuU3RhY2tQcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IE1hcFByb3RvdHlwZS53aXRoTXV0YXRpb25zO1xuU3RhY2tQcm90b3R5cGUuYXNNdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZTtcblN0YWNrUHJvdG90eXBlLmFzSW1tdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzSW1tdXRhYmxlO1xuU3RhY2tQcm90b3R5cGUud2FzQWx0ZXJlZCA9IE1hcFByb3RvdHlwZS53YXNBbHRlcmVkO1xuU3RhY2tQcm90b3R5cGUuc2hpZnQgPSBTdGFja1Byb3RvdHlwZS5wb3A7XG5TdGFja1Byb3RvdHlwZS51bnNoaWZ0ID0gU3RhY2tQcm90b3R5cGUucHVzaDtcblN0YWNrUHJvdG90eXBlLnVuc2hpZnRBbGwgPSBTdGFja1Byb3RvdHlwZS5wdXNoQWxsO1xuXG5mdW5jdGlvbiBtYWtlU3RhY2soc2l6ZSwgaGVhZCwgb3duZXJJRCwgaGFzaCkge1xuICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShTdGFja1Byb3RvdHlwZSk7XG4gIG1hcC5zaXplID0gc2l6ZTtcbiAgbWFwLl9oZWFkID0gaGVhZDtcbiAgbWFwLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gIG1hcC5fX2hhc2ggPSBoYXNoO1xuICBtYXAuX19hbHRlcmVkID0gZmFsc2U7XG4gIHJldHVybiBtYXA7XG59XG5cbnZhciBFTVBUWV9TVEFDSztcbmZ1bmN0aW9uIGVtcHR5U3RhY2soKSB7XG4gIHJldHVybiBFTVBUWV9TVEFDSyB8fCAoRU1QVFlfU1RBQ0sgPSBtYWtlU3RhY2soMCkpO1xufVxuXG5mdW5jdGlvbiBkZWVwRXF1YWwoYSwgYikge1xuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKFxuICAgICFpc0NvbGxlY3Rpb24oYikgfHxcbiAgICAoYS5zaXplICE9PSB1bmRlZmluZWQgJiYgYi5zaXplICE9PSB1bmRlZmluZWQgJiYgYS5zaXplICE9PSBiLnNpemUpIHx8XG4gICAgKGEuX19oYXNoICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIGIuX19oYXNoICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIGEuX19oYXNoICE9PSBiLl9faGFzaCkgfHxcbiAgICBpc0tleWVkKGEpICE9PSBpc0tleWVkKGIpIHx8XG4gICAgaXNJbmRleGVkKGEpICE9PSBpc0luZGV4ZWQoYikgfHxcbiAgICBpc09yZGVyZWQoYSkgIT09IGlzT3JkZXJlZChiKVxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoYS5zaXplID09PSAwICYmIGIuc2l6ZSA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIG5vdEFzc29jaWF0aXZlID0gIWlzQXNzb2NpYXRpdmUoYSk7XG5cbiAgaWYgKGlzT3JkZXJlZChhKSkge1xuICAgIHZhciBlbnRyaWVzID0gYS5lbnRyaWVzKCk7XG4gICAgcmV0dXJuIGIuZXZlcnkoZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgIHZhciBlbnRyeSA9IGVudHJpZXMubmV4dCgpLnZhbHVlO1xuICAgICAgcmV0dXJuIGVudHJ5ICYmIGlzKGVudHJ5WzFdLCB2KSAmJiAobm90QXNzb2NpYXRpdmUgfHwgaXMoZW50cnlbMF0sIGspKTtcbiAgICB9KSAmJiBlbnRyaWVzLm5leHQoKS5kb25lO1xuICB9XG5cbiAgdmFyIGZsaXBwZWQgPSBmYWxzZTtcblxuICBpZiAoYS5zaXplID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoYi5zaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh0eXBlb2YgYS5jYWNoZVJlc3VsdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBhLmNhY2hlUmVzdWx0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZsaXBwZWQgPSB0cnVlO1xuICAgICAgdmFyIF8gPSBhO1xuICAgICAgYSA9IGI7XG4gICAgICBiID0gXztcbiAgICB9XG4gIH1cblxuICB2YXIgYWxsRXF1YWwgPSB0cnVlO1xuICB2YXIgYlNpemUgPSBiLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykge1xuICAgIGlmIChcbiAgICAgIG5vdEFzc29jaWF0aXZlXG4gICAgICAgID8gIWEuaGFzKHYpXG4gICAgICAgIDogZmxpcHBlZCA/ICFpcyh2LCBhLmdldChrLCBOT1RfU0VUKSkgOiAhaXMoYS5nZXQoaywgTk9UX1NFVCksIHYpXG4gICAgKSB7XG4gICAgICBhbGxFcXVhbCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGFsbEVxdWFsICYmIGEuc2l6ZSA9PT0gYlNpemU7XG59XG5cbi8qKlxuICogQ29udHJpYnV0ZXMgYWRkaXRpb25hbCBtZXRob2RzIHRvIGEgY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gbWl4aW4oY3RvciwgbWV0aG9kcykge1xuICB2YXIga2V5Q29waWVyID0gZnVuY3Rpb24gKGtleSkge1xuICAgIGN0b3IucHJvdG90eXBlW2tleV0gPSBtZXRob2RzW2tleV07XG4gIH07XG4gIE9iamVjdC5rZXlzKG1ldGhvZHMpLmZvckVhY2goa2V5Q29waWVyKTtcbiAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAmJlxuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobWV0aG9kcykuZm9yRWFjaChrZXlDb3BpZXIpO1xuICByZXR1cm4gY3Rvcjtcbn1cblxudmFyIFNldCA9IChmdW5jdGlvbiAoU2V0Q29sbGVjdGlvbiQkMSkge1xuICBmdW5jdGlvbiBTZXQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyBlbXB0eVNldCgpXG4gICAgICA6IGlzU2V0KHZhbHVlKSAmJiAhaXNPcmRlcmVkKHZhbHVlKVxuICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICA6IGVtcHR5U2V0KCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAoc2V0KSB7XG4gICAgICAgICAgICAgIHZhciBpdGVyID0gU2V0Q29sbGVjdGlvbiQkMSh2YWx1ZSk7XG4gICAgICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbiAodikgeyByZXR1cm4gc2V0LmFkZCh2KTsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgfVxuXG4gIGlmICggU2V0Q29sbGVjdGlvbiQkMSApIFNldC5fX3Byb3RvX18gPSBTZXRDb2xsZWN0aW9uJCQxO1xuICBTZXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2V0Q29sbGVjdGlvbiQkMSAmJiBTZXRDb2xsZWN0aW9uJCQxLnByb3RvdHlwZSApO1xuICBTZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2V0O1xuXG4gIFNldC5vZiA9IGZ1bmN0aW9uIG9mICgvKi4uLnZhbHVlcyovKSB7XG4gICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgfTtcblxuICBTZXQuZnJvbUtleXMgPSBmdW5jdGlvbiBmcm9tS2V5cyAodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcyhLZXllZENvbGxlY3Rpb24odmFsdWUpLmtleVNlcSgpKTtcbiAgfTtcblxuICBTZXQuaW50ZXJzZWN0ID0gZnVuY3Rpb24gaW50ZXJzZWN0IChzZXRzKSB7XG4gICAgc2V0cyA9IENvbGxlY3Rpb24oc2V0cykudG9BcnJheSgpO1xuICAgIHJldHVybiBzZXRzLmxlbmd0aFxuICAgICAgPyBTZXRQcm90b3R5cGUuaW50ZXJzZWN0LmFwcGx5KFNldChzZXRzLnBvcCgpKSwgc2V0cylcbiAgICAgIDogZW1wdHlTZXQoKTtcbiAgfTtcblxuICBTZXQudW5pb24gPSBmdW5jdGlvbiB1bmlvbiAoc2V0cykge1xuICAgIHNldHMgPSBDb2xsZWN0aW9uKHNldHMpLnRvQXJyYXkoKTtcbiAgICByZXR1cm4gc2V0cy5sZW5ndGhcbiAgICAgID8gU2V0UHJvdG90eXBlLnVuaW9uLmFwcGx5KFNldChzZXRzLnBvcCgpKSwgc2V0cylcbiAgICAgIDogZW1wdHlTZXQoKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ1NldCB7JywgJ30nKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gIFNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gaGFzICh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9tYXAuaGFzKHZhbHVlKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gIFNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkICh2YWx1ZSkge1xuICAgIHJldHVybiB1cGRhdGVTZXQodGhpcywgdGhpcy5fbWFwLnNldCh2YWx1ZSwgdHJ1ZSkpO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlICh2YWx1ZSkge1xuICAgIHJldHVybiB1cGRhdGVTZXQodGhpcywgdGhpcy5fbWFwLnJlbW92ZSh2YWx1ZSkpO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKSB7XG4gICAgcmV0dXJuIHVwZGF0ZVNldCh0aGlzLCB0aGlzLl9tYXAuY2xlYXIoKSk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBDb21wb3NpdGlvblxuXG4gIFNldC5wcm90b3R5cGUudW5pb24gPSBmdW5jdGlvbiB1bmlvbiAoKSB7XG4gICAgdmFyIGl0ZXJzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgd2hpbGUgKCBsZW4tLSApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICBpdGVycyA9IGl0ZXJzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5zaXplICE9PSAwOyB9KTtcbiAgICBpZiAoaXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCAmJiAhdGhpcy5fX293bmVySUQgJiYgaXRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RvcihpdGVyc1swXSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKHNldCkge1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGl0ZXJzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICBTZXRDb2xsZWN0aW9uJCQxKGl0ZXJzW2lpXSkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHNldC5hZGQodmFsdWUpOyB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLmludGVyc2VjdCA9IGZ1bmN0aW9uIGludGVyc2VjdCAoKSB7XG4gICAgdmFyIGl0ZXJzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgd2hpbGUgKCBsZW4tLSApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICBpZiAoaXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaXRlcnMgPSBpdGVycy5tYXAoZnVuY3Rpb24gKGl0ZXIpIHsgcmV0dXJuIFNldENvbGxlY3Rpb24kJDEoaXRlcik7IH0pO1xuICAgIHZhciB0b1JlbW92ZSA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICghaXRlcnMuZXZlcnkoZnVuY3Rpb24gKGl0ZXIpIHsgcmV0dXJuIGl0ZXIuaW5jbHVkZXModmFsdWUpOyB9KSkge1xuICAgICAgICB0b1JlbW92ZS5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgIHRvUmVtb3ZlLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHNldC5yZW1vdmUodmFsdWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uIHN1YnRyYWN0ICgpIHtcbiAgICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB3aGlsZSAoIGxlbi0tICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB2YXIgdG9SZW1vdmUgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoaXRlcnMuc29tZShmdW5jdGlvbiAoaXRlcikgeyByZXR1cm4gaXRlci5pbmNsdWRlcyh2YWx1ZSk7IH0pKSB7XG4gICAgICAgIHRvUmVtb3ZlLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKHNldCkge1xuICAgICAgdG9SZW1vdmUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgc2V0LnJlbW92ZSh2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gbWVyZ2UgKCkge1xuICAgIHJldHVybiB0aGlzLnVuaW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5tZXJnZVdpdGggPSBmdW5jdGlvbiBtZXJnZVdpdGggKG1lcmdlcikge1xuICAgIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAoIGxlbi0tID4gMCApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMSBdO1xuXG4gICAgcmV0dXJuIHRoaXMudW5pb24uYXBwbHkodGhpcywgaXRlcnMpO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uIHNvcnQgKGNvbXBhcmF0b3IpIHtcbiAgICAvLyBMYXRlIGJpbmRpbmdcbiAgICByZXR1cm4gT3JkZXJlZFNldChzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yKSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5zb3J0QnkgPSBmdW5jdGlvbiBzb3J0QnkgKG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgIC8vIExhdGUgYmluZGluZ1xuICAgIHJldHVybiBPcmRlcmVkU2V0KHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IsIG1hcHBlcikpO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUud2FzQWx0ZXJlZCA9IGZ1bmN0aW9uIHdhc0FsdGVyZWQgKCkge1xuICAgIHJldHVybiB0aGlzLl9tYXAud2FzQWx0ZXJlZCgpO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX21hcC5fX2l0ZXJhdGUoZnVuY3Rpb24gKF8sIGspIHsgcmV0dXJuIGZuKGssIGssIHRoaXMkMSk7IH0sIHJldmVyc2UpO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLm1hcChmdW5jdGlvbiAoXywgaykgeyByZXR1cm4gazsgfSkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbiBfX2Vuc3VyZU93bmVyIChvd25lcklEKSB7XG4gICAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmFyIG5ld01hcCA9IHRoaXMuX21hcC5fX2Vuc3VyZU93bmVyKG93bmVySUQpO1xuICAgIGlmICghb3duZXJJRCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZW1wdHlTZXQoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMuX21hcCA9IG5ld01hcDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fX21ha2UobmV3TWFwLCBvd25lcklEKTtcbiAgfTtcblxuICByZXR1cm4gU2V0O1xufShTZXRDb2xsZWN0aW9uKSk7XG5cbmZ1bmN0aW9uIGlzU2V0KG1heWJlU2V0KSB7XG4gIHJldHVybiAhIShtYXliZVNldCAmJiBtYXliZVNldFtJU19TRVRfU0VOVElORUxdKTtcbn1cblxuU2V0LmlzU2V0ID0gaXNTZXQ7XG5cbnZhciBJU19TRVRfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9TRVRfX0BAJztcblxudmFyIFNldFByb3RvdHlwZSA9IFNldC5wcm90b3R5cGU7XG5TZXRQcm90b3R5cGVbSVNfU0VUX1NFTlRJTkVMXSA9IHRydWU7XG5TZXRQcm90b3R5cGVbREVMRVRFXSA9IFNldFByb3RvdHlwZS5yZW1vdmU7XG5TZXRQcm90b3R5cGUubWVyZ2VEZWVwID0gU2V0UHJvdG90eXBlLm1lcmdlO1xuU2V0UHJvdG90eXBlLm1lcmdlRGVlcFdpdGggPSBTZXRQcm90b3R5cGUubWVyZ2VXaXRoO1xuU2V0UHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSBNYXBQcm90b3R5cGUud2l0aE11dGF0aW9ucztcblNldFByb3RvdHlwZS5hc011dGFibGUgPSBNYXBQcm90b3R5cGUuYXNNdXRhYmxlO1xuU2V0UHJvdG90eXBlLmFzSW1tdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzSW1tdXRhYmxlO1xuXG5TZXRQcm90b3R5cGUuX19lbXB0eSA9IGVtcHR5U2V0O1xuU2V0UHJvdG90eXBlLl9fbWFrZSA9IG1ha2VTZXQ7XG5cbmZ1bmN0aW9uIHVwZGF0ZVNldChzZXQsIG5ld01hcCkge1xuICBpZiAoc2V0Ll9fb3duZXJJRCkge1xuICAgIHNldC5zaXplID0gbmV3TWFwLnNpemU7XG4gICAgc2V0Ll9tYXAgPSBuZXdNYXA7XG4gICAgcmV0dXJuIHNldDtcbiAgfVxuICByZXR1cm4gbmV3TWFwID09PSBzZXQuX21hcFxuICAgID8gc2V0XG4gICAgOiBuZXdNYXAuc2l6ZSA9PT0gMCA/IHNldC5fX2VtcHR5KCkgOiBzZXQuX19tYWtlKG5ld01hcCk7XG59XG5cbmZ1bmN0aW9uIG1ha2VTZXQobWFwLCBvd25lcklEKSB7XG4gIHZhciBzZXQgPSBPYmplY3QuY3JlYXRlKFNldFByb3RvdHlwZSk7XG4gIHNldC5zaXplID0gbWFwID8gbWFwLnNpemUgOiAwO1xuICBzZXQuX21hcCA9IG1hcDtcbiAgc2V0Ll9fb3duZXJJRCA9IG93bmVySUQ7XG4gIHJldHVybiBzZXQ7XG59XG5cbnZhciBFTVBUWV9TRVQ7XG5mdW5jdGlvbiBlbXB0eVNldCgpIHtcbiAgcmV0dXJuIEVNUFRZX1NFVCB8fCAoRU1QVFlfU0VUID0gbWFrZVNldChlbXB0eU1hcCgpKSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGxhenkgc2VxIG9mIG51bXMgZnJvbSBzdGFydCAoaW5jbHVzaXZlKSB0byBlbmRcbiAqIChleGNsdXNpdmUpLCBieSBzdGVwLCB3aGVyZSBzdGFydCBkZWZhdWx0cyB0byAwLCBzdGVwIHRvIDEsIGFuZCBlbmQgdG9cbiAqIGluZmluaXR5LiBXaGVuIHN0YXJ0IGlzIGVxdWFsIHRvIGVuZCwgcmV0dXJucyBlbXB0eSBsaXN0LlxuICovXG52YXIgUmFuZ2UgPSAoZnVuY3Rpb24gKEluZGV4ZWRTZXEkJDEpIHtcbiAgZnVuY3Rpb24gUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSYW5nZSkpIHtcbiAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCk7XG4gICAgfVxuICAgIGludmFyaWFudChzdGVwICE9PSAwLCAnQ2Fubm90IHN0ZXAgYSBSYW5nZSBieSAwJyk7XG4gICAgc3RhcnQgPSBzdGFydCB8fCAwO1xuICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZW5kID0gSW5maW5pdHk7XG4gICAgfVxuICAgIHN0ZXAgPSBzdGVwID09PSB1bmRlZmluZWQgPyAxIDogTWF0aC5hYnMoc3RlcCk7XG4gICAgaWYgKGVuZCA8IHN0YXJ0KSB7XG4gICAgICBzdGVwID0gLXN0ZXA7XG4gICAgfVxuICAgIHRoaXMuX3N0YXJ0ID0gc3RhcnQ7XG4gICAgdGhpcy5fZW5kID0gZW5kO1xuICAgIHRoaXMuX3N0ZXAgPSBzdGVwO1xuICAgIHRoaXMuc2l6ZSA9IE1hdGgubWF4KDAsIE1hdGguY2VpbCgoZW5kIC0gc3RhcnQpIC8gc3RlcCAtIDEpICsgMSk7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgaWYgKEVNUFRZX1JBTkdFKSB7XG4gICAgICAgIHJldHVybiBFTVBUWV9SQU5HRTtcbiAgICAgIH1cbiAgICAgIEVNUFRZX1JBTkdFID0gdGhpcztcbiAgICB9XG4gIH1cblxuICBpZiAoIEluZGV4ZWRTZXEkJDEgKSBSYW5nZS5fX3Byb3RvX18gPSBJbmRleGVkU2VxJCQxO1xuICBSYW5nZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbmRleGVkU2VxJCQxICYmIEluZGV4ZWRTZXEkJDEucHJvdG90eXBlICk7XG4gIFJhbmdlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJhbmdlO1xuXG4gIFJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gJ1JhbmdlIFtdJztcbiAgICB9XG4gICAgcmV0dXJuICdSYW5nZSBbICcgK1xuICAgICAgdGhpcy5fc3RhcnQgK1xuICAgICAgJy4uLicgK1xuICAgICAgdGhpcy5fZW5kICtcbiAgICAgICh0aGlzLl9zdGVwICE9PSAxID8gJyBieSAnICsgdGhpcy5fc3RlcCA6ICcnKSArXG4gICAgICAnIF0nO1xuICB9O1xuXG4gIFJhbmdlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmhhcyhpbmRleClcbiAgICAgID8gdGhpcy5fc3RhcnQgKyB3cmFwSW5kZXgodGhpcywgaW5kZXgpICogdGhpcy5fc3RlcFxuICAgICAgOiBub3RTZXRWYWx1ZTtcbiAgfTtcblxuICBSYW5nZS5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAoc2VhcmNoVmFsdWUpIHtcbiAgICB2YXIgcG9zc2libGVJbmRleCA9IChzZWFyY2hWYWx1ZSAtIHRoaXMuX3N0YXJ0KSAvIHRoaXMuX3N0ZXA7XG4gICAgcmV0dXJuIHBvc3NpYmxlSW5kZXggPj0gMCAmJlxuICAgICAgcG9zc2libGVJbmRleCA8IHRoaXMuc2l6ZSAmJlxuICAgICAgcG9zc2libGVJbmRleCA9PT0gTWF0aC5mbG9vcihwb3NzaWJsZUluZGV4KTtcbiAgfTtcblxuICBSYW5nZS5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoYmVnaW4sIGVuZCkge1xuICAgIGlmICh3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHRoaXMuc2l6ZSkpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBiZWdpbiA9IHJlc29sdmVCZWdpbihiZWdpbiwgdGhpcy5zaXplKTtcbiAgICBlbmQgPSByZXNvbHZlRW5kKGVuZCwgdGhpcy5zaXplKTtcbiAgICBpZiAoZW5kIDw9IGJlZ2luKSB7XG4gICAgICByZXR1cm4gbmV3IFJhbmdlKDAsIDApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFJhbmdlKFxuICAgICAgdGhpcy5nZXQoYmVnaW4sIHRoaXMuX2VuZCksXG4gICAgICB0aGlzLmdldChlbmQsIHRoaXMuX2VuZCksXG4gICAgICB0aGlzLl9zdGVwXG4gICAgKTtcbiAgfTtcblxuICBSYW5nZS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHNlYXJjaFZhbHVlKSB7XG4gICAgdmFyIG9mZnNldFZhbHVlID0gc2VhcmNoVmFsdWUgLSB0aGlzLl9zdGFydDtcbiAgICBpZiAob2Zmc2V0VmFsdWUgJSB0aGlzLl9zdGVwID09PSAwKSB7XG4gICAgICB2YXIgaW5kZXggPSBvZmZzZXRWYWx1ZSAvIHRoaXMuX3N0ZXA7XG4gICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuc2l6ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICBSYW5nZS5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAoc2VhcmNoVmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5pbmRleE9mKHNlYXJjaFZhbHVlKTtcbiAgfTtcblxuICBSYW5nZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgdmFyIHN0ZXAgPSB0aGlzLl9zdGVwO1xuICAgIHZhciB2YWx1ZSA9IHJldmVyc2UgPyB0aGlzLl9zdGFydCArIChzaXplIC0gMSkgKiBzdGVwIDogdGhpcy5fc3RhcnQ7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpICE9PSBzaXplKSB7XG4gICAgICBpZiAoZm4odmFsdWUsIHJldmVyc2UgPyBzaXplIC0gKytpIDogaSsrLCB0aGlzJDEpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHZhbHVlICs9IHJldmVyc2UgPyAtc3RlcCA6IHN0ZXA7XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9O1xuXG4gIFJhbmdlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgIHZhciBzdGVwID0gdGhpcy5fc3RlcDtcbiAgICB2YXIgdmFsdWUgPSByZXZlcnNlID8gdGhpcy5fc3RhcnQgKyAoc2l6ZSAtIDEpICogc3RlcCA6IHRoaXMuX3N0YXJ0O1xuICAgIHZhciBpID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpID09PSBzaXplKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciB2ID0gdmFsdWU7XG4gICAgICB2YWx1ZSArPSByZXZlcnNlID8gLXN0ZXAgOiBzdGVwO1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKyssIHYpO1xuICAgIH0pO1xuICB9O1xuXG4gIFJhbmdlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKG90aGVyKSB7XG4gICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgUmFuZ2VcbiAgICAgID8gdGhpcy5fc3RhcnQgPT09IG90aGVyLl9zdGFydCAmJlxuICAgICAgICAgIHRoaXMuX2VuZCA9PT0gb3RoZXIuX2VuZCAmJlxuICAgICAgICAgIHRoaXMuX3N0ZXAgPT09IG90aGVyLl9zdGVwXG4gICAgICA6IGRlZXBFcXVhbCh0aGlzLCBvdGhlcik7XG4gIH07XG5cbiAgcmV0dXJuIFJhbmdlO1xufShJbmRleGVkU2VxKSk7XG5cbnZhciBFTVBUWV9SQU5HRTtcblxuLy8gTm90ZTogYWxsIG9mIHRoZXNlIG1ldGhvZHMgYXJlIGRlcHJlY2F0ZWQuXG5Db2xsZWN0aW9uLmlzSXRlcmFibGUgPSBpc0NvbGxlY3Rpb247XG5Db2xsZWN0aW9uLmlzS2V5ZWQgPSBpc0tleWVkO1xuQ29sbGVjdGlvbi5pc0luZGV4ZWQgPSBpc0luZGV4ZWQ7XG5Db2xsZWN0aW9uLmlzQXNzb2NpYXRpdmUgPSBpc0Fzc29jaWF0aXZlO1xuQ29sbGVjdGlvbi5pc09yZGVyZWQgPSBpc09yZGVyZWQ7XG5cbkNvbGxlY3Rpb24uSXRlcmF0b3IgPSBJdGVyYXRvcjtcblxubWl4aW4oQ29sbGVjdGlvbiwge1xuICAvLyAjIyMgQ29udmVyc2lvbiB0byBvdGhlciB0eXBlc1xuXG4gIHRvQXJyYXk6IGZ1bmN0aW9uIHRvQXJyYXkoKSB7XG4gICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICB2YXIgYXJyYXkgPSBuZXcgQXJyYXkodGhpcy5zaXplIHx8IDApO1xuICAgIHRoaXMudmFsdWVTZXEoKS5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYsIGkpIHtcbiAgICAgIGFycmF5W2ldID0gdjtcbiAgICB9KTtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH0sXG5cbiAgdG9JbmRleGVkU2VxOiBmdW5jdGlvbiB0b0luZGV4ZWRTZXEoKSB7XG4gICAgcmV0dXJuIG5ldyBUb0luZGV4ZWRTZXF1ZW5jZSh0aGlzKTtcbiAgfSxcblxuICB0b0pTOiBmdW5jdGlvbiB0b0pTJDEoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9TZXEoKS5tYXAodG9KUykudG9KU09OKCk7XG4gIH0sXG5cbiAgdG9LZXllZFNlcTogZnVuY3Rpb24gdG9LZXllZFNlcSgpIHtcbiAgICByZXR1cm4gbmV3IFRvS2V5ZWRTZXF1ZW5jZSh0aGlzLCB0cnVlKTtcbiAgfSxcblxuICB0b01hcDogZnVuY3Rpb24gdG9NYXAoKSB7XG4gICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgIHJldHVybiBNYXAodGhpcy50b0tleWVkU2VxKCkpO1xuICB9LFxuXG4gIHRvT2JqZWN0OiBmdW5jdGlvbiB0b09iamVjdCgpIHtcbiAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykge1xuICAgICAgb2JqZWN0W2tdID0gdjtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9LFxuXG4gIHRvT3JkZXJlZE1hcDogZnVuY3Rpb24gdG9PcmRlcmVkTWFwKCkge1xuICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICByZXR1cm4gT3JkZXJlZE1hcCh0aGlzLnRvS2V5ZWRTZXEoKSk7XG4gIH0sXG5cbiAgdG9PcmRlcmVkU2V0OiBmdW5jdGlvbiB0b09yZGVyZWRTZXQoKSB7XG4gICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgIHJldHVybiBPcmRlcmVkU2V0KGlzS2V5ZWQodGhpcykgPyB0aGlzLnZhbHVlU2VxKCkgOiB0aGlzKTtcbiAgfSxcblxuICB0b1NldDogZnVuY3Rpb24gdG9TZXQoKSB7XG4gICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgIHJldHVybiBTZXQoaXNLZXllZCh0aGlzKSA/IHRoaXMudmFsdWVTZXEoKSA6IHRoaXMpO1xuICB9LFxuXG4gIHRvU2V0U2VxOiBmdW5jdGlvbiB0b1NldFNlcSgpIHtcbiAgICByZXR1cm4gbmV3IFRvU2V0U2VxdWVuY2UodGhpcyk7XG4gIH0sXG5cbiAgdG9TZXE6IGZ1bmN0aW9uIHRvU2VxKCkge1xuICAgIHJldHVybiBpc0luZGV4ZWQodGhpcylcbiAgICAgID8gdGhpcy50b0luZGV4ZWRTZXEoKVxuICAgICAgOiBpc0tleWVkKHRoaXMpID8gdGhpcy50b0tleWVkU2VxKCkgOiB0aGlzLnRvU2V0U2VxKCk7XG4gIH0sXG5cbiAgdG9TdGFjazogZnVuY3Rpb24gdG9TdGFjaygpIHtcbiAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgcmV0dXJuIFN0YWNrKGlzS2V5ZWQodGhpcykgPyB0aGlzLnZhbHVlU2VxKCkgOiB0aGlzKTtcbiAgfSxcblxuICB0b0xpc3Q6IGZ1bmN0aW9uIHRvTGlzdCgpIHtcbiAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgcmV0dXJuIExpc3QoaXNLZXllZCh0aGlzKSA/IHRoaXMudmFsdWVTZXEoKSA6IHRoaXMpO1xuICB9LFxuXG4gIC8vICMjIyBDb21tb24gSmF2YVNjcmlwdCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzXG5cbiAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiAnW0NvbGxlY3Rpb25dJztcbiAgfSxcblxuICBfX3RvU3RyaW5nOiBmdW5jdGlvbiBfX3RvU3RyaW5nKGhlYWQsIHRhaWwpIHtcbiAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gaGVhZCArIHRhaWw7XG4gICAgfVxuICAgIHJldHVybiBoZWFkICtcbiAgICAgICcgJyArXG4gICAgICB0aGlzLnRvU2VxKCkubWFwKHRoaXMuX190b1N0cmluZ01hcHBlcikuam9pbignLCAnKSArXG4gICAgICAnICcgK1xuICAgICAgdGFpbDtcbiAgfSxcblxuICAvLyAjIyMgRVM2IENvbGxlY3Rpb24gbWV0aG9kcyAoRVM2IEFycmF5IGFuZCBNYXApXG5cbiAgY29uY2F0OiBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgdmFyIHZhbHVlcyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHdoaWxlICggbGVuLS0gKSB2YWx1ZXNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgIHJldHVybiByZWlmeSh0aGlzLCBjb25jYXRGYWN0b3J5KHRoaXMsIHZhbHVlcykpO1xuICB9LFxuXG4gIGluY2x1ZGVzOiBmdW5jdGlvbiBpbmNsdWRlcyhzZWFyY2hWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnNvbWUoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBpcyh2YWx1ZSwgc2VhcmNoVmFsdWUpOyB9KTtcbiAgfSxcblxuICBlbnRyaWVzOiBmdW5jdGlvbiBlbnRyaWVzKCkge1xuICAgIHJldHVybiB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTKTtcbiAgfSxcblxuICBldmVyeTogZnVuY3Rpb24gZXZlcnkocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICB2YXIgcmV0dXJuVmFsdWUgPSB0cnVlO1xuICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrLCBjKSB7XG4gICAgICBpZiAoIXByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpKSB7XG4gICAgICAgIHJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gIH0sXG5cbiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZpbHRlckZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0LCB0cnVlKSk7XG4gIH0sXG5cbiAgZmluZDogZnVuY3Rpb24gZmluZChwcmVkaWNhdGUsIGNvbnRleHQsIG5vdFNldFZhbHVlKSB7XG4gICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICByZXR1cm4gZW50cnkgPyBlbnRyeVsxXSA6IG5vdFNldFZhbHVlO1xuICB9LFxuXG4gIGZvckVhY2g6IGZ1bmN0aW9uIGZvckVhY2goc2lkZUVmZmVjdCwgY29udGV4dCkge1xuICAgIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gICAgcmV0dXJuIHRoaXMuX19pdGVyYXRlKGNvbnRleHQgPyBzaWRlRWZmZWN0LmJpbmQoY29udGV4dCkgOiBzaWRlRWZmZWN0KTtcbiAgfSxcblxuICBqb2luOiBmdW5jdGlvbiBqb2luKHNlcGFyYXRvcikge1xuICAgIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gICAgc2VwYXJhdG9yID0gc2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyAnJyArIHNlcGFyYXRvciA6ICcsJztcbiAgICB2YXIgam9pbmVkID0gJyc7XG4gICAgdmFyIGlzRmlyc3QgPSB0cnVlO1xuICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uICh2KSB7XG4gICAgICBpc0ZpcnN0ID8gKGlzRmlyc3QgPSBmYWxzZSkgOiAoam9pbmVkICs9IHNlcGFyYXRvcik7XG4gICAgICBqb2luZWQgKz0gdiAhPT0gbnVsbCAmJiB2ICE9PSB1bmRlZmluZWQgPyB2LnRvU3RyaW5nKCkgOiAnJztcbiAgICB9KTtcbiAgICByZXR1cm4gam9pbmVkO1xuICB9LFxuXG4gIGtleXM6IGZ1bmN0aW9uIGtleXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX0tFWVMpO1xuICB9LFxuXG4gIG1hcDogZnVuY3Rpb24gbWFwKG1hcHBlciwgY29udGV4dCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBtYXBGYWN0b3J5KHRoaXMsIG1hcHBlciwgY29udGV4dCkpO1xuICB9LFxuXG4gIHJlZHVjZTogZnVuY3Rpb24gcmVkdWNlJDEocmVkdWNlciwgaW5pdGlhbFJlZHVjdGlvbiwgY29udGV4dCkge1xuICAgIHJldHVybiByZWR1Y2UoXG4gICAgICB0aGlzLFxuICAgICAgcmVkdWNlcixcbiAgICAgIGluaXRpYWxSZWR1Y3Rpb24sXG4gICAgICBjb250ZXh0LFxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA8IDIsXG4gICAgICBmYWxzZVxuICAgICk7XG4gIH0sXG5cbiAgcmVkdWNlUmlnaHQ6IGZ1bmN0aW9uIHJlZHVjZVJpZ2h0KHJlZHVjZXIsIGluaXRpYWxSZWR1Y3Rpb24sIGNvbnRleHQpIHtcbiAgICByZXR1cm4gcmVkdWNlKFxuICAgICAgdGhpcyxcbiAgICAgIHJlZHVjZXIsXG4gICAgICBpbml0aWFsUmVkdWN0aW9uLFxuICAgICAgY29udGV4dCxcbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPCAyLFxuICAgICAgdHJ1ZVxuICAgICk7XG4gIH0sXG5cbiAgcmV2ZXJzZTogZnVuY3Rpb24gcmV2ZXJzZSgpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgcmV2ZXJzZUZhY3RvcnkodGhpcywgdHJ1ZSkpO1xuICB9LFxuXG4gIHNsaWNlOiBmdW5jdGlvbiBzbGljZShiZWdpbiwgZW5kKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNsaWNlRmFjdG9yeSh0aGlzLCBiZWdpbiwgZW5kLCB0cnVlKSk7XG4gIH0sXG5cbiAgc29tZTogZnVuY3Rpb24gc29tZShwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gIXRoaXMuZXZlcnkobm90KHByZWRpY2F0ZSksIGNvbnRleHQpO1xuICB9LFxuXG4gIHNvcnQ6IGZ1bmN0aW9uIHNvcnQoY29tcGFyYXRvcikge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yKSk7XG4gIH0sXG5cbiAgdmFsdWVzOiBmdW5jdGlvbiB2YWx1ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUyk7XG4gIH0sXG5cbiAgLy8gIyMjIE1vcmUgc2VxdWVudGlhbCBtZXRob2RzXG5cbiAgYnV0TGFzdDogZnVuY3Rpb24gYnV0TGFzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5zbGljZSgwLCAtMSk7XG4gIH0sXG5cbiAgaXNFbXB0eTogZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5zaXplICE9PSB1bmRlZmluZWQgPyB0aGlzLnNpemUgPT09IDAgOiAhdGhpcy5zb21lKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0pO1xuICB9LFxuXG4gIGNvdW50OiBmdW5jdGlvbiBjb3VudChwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZW5zdXJlU2l6ZShcbiAgICAgIHByZWRpY2F0ZSA/IHRoaXMudG9TZXEoKS5maWx0ZXIocHJlZGljYXRlLCBjb250ZXh0KSA6IHRoaXNcbiAgICApO1xuICB9LFxuXG4gIGNvdW50Qnk6IGZ1bmN0aW9uIGNvdW50QnkoZ3JvdXBlciwgY29udGV4dCkge1xuICAgIHJldHVybiBjb3VudEJ5RmFjdG9yeSh0aGlzLCBncm91cGVyLCBjb250ZXh0KTtcbiAgfSxcblxuICBlcXVhbHM6IGZ1bmN0aW9uIGVxdWFscyhvdGhlcikge1xuICAgIHJldHVybiBkZWVwRXF1YWwodGhpcywgb3RoZXIpO1xuICB9LFxuXG4gIGVudHJ5U2VxOiBmdW5jdGlvbiBlbnRyeVNlcSgpIHtcbiAgICB2YXIgY29sbGVjdGlvbiA9IHRoaXM7XG4gICAgaWYgKGNvbGxlY3Rpb24uX2NhY2hlKSB7XG4gICAgICAvLyBXZSBjYWNoZSBhcyBhbiBlbnRyaWVzIGFycmF5LCBzbyB3ZSBjYW4ganVzdCByZXR1cm4gdGhlIGNhY2hlIVxuICAgICAgcmV0dXJuIG5ldyBBcnJheVNlcShjb2xsZWN0aW9uLl9jYWNoZSk7XG4gICAgfVxuICAgIHZhciBlbnRyaWVzU2VxdWVuY2UgPSBjb2xsZWN0aW9uLnRvU2VxKCkubWFwKGVudHJ5TWFwcGVyKS50b0luZGV4ZWRTZXEoKTtcbiAgICBlbnRyaWVzU2VxdWVuY2UuZnJvbUVudHJ5U2VxID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29sbGVjdGlvbi50b1NlcSgpOyB9O1xuXG4gICAgLy8gRW50cmllcyBhcmUgcGxhaW4gQXJyYXksIHdoaWNoIGRvIG5vdCBkZWZpbmUgdG9KUywgc28gaXQgbXVzdFxuICAgIC8vIG1hbnVhbGx5IGNvbnZlcnRzIGtleXMgYW5kIHZhbHVlcyBiZWZvcmUgY29udmVyc2lvbi5cbiAgICBlbnRyaWVzU2VxdWVuY2UudG9KUyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gW3RvSlMoZW50cnlbMF0pLCB0b0pTKGVudHJ5WzFdKV07IH0pLnRvSlNPTigpO1xuICAgIH07XG5cbiAgICByZXR1cm4gZW50cmllc1NlcXVlbmNlO1xuICB9LFxuXG4gIGZpbHRlck5vdDogZnVuY3Rpb24gZmlsdGVyTm90KHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiB0aGlzLmZpbHRlcihub3QocHJlZGljYXRlKSwgY29udGV4dCk7XG4gIH0sXG5cbiAgZmluZEVudHJ5OiBmdW5jdGlvbiBmaW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSkge1xuICAgIHZhciBmb3VuZCA9IG5vdFNldFZhbHVlO1xuICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrLCBjKSB7XG4gICAgICBpZiAocHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgZm91bmQgPSBbaywgdl07XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZm91bmQ7XG4gIH0sXG5cbiAgZmluZEtleTogZnVuY3Rpb24gZmluZEtleShwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgZW50cnkgPSB0aGlzLmZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeVswXTtcbiAgfSxcblxuICBmaW5kTGFzdDogZnVuY3Rpb24gZmluZExhc3QocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnRvS2V5ZWRTZXEoKS5yZXZlcnNlKCkuZmluZChwcmVkaWNhdGUsIGNvbnRleHQsIG5vdFNldFZhbHVlKTtcbiAgfSxcblxuICBmaW5kTGFzdEVudHJ5OiBmdW5jdGlvbiBmaW5kTGFzdEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy50b0tleWVkU2VxKClcbiAgICAgIC5yZXZlcnNlKClcbiAgICAgIC5maW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSk7XG4gIH0sXG5cbiAgZmluZExhc3RLZXk6IGZ1bmN0aW9uIGZpbmRMYXN0S2V5KHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiB0aGlzLnRvS2V5ZWRTZXEoKS5yZXZlcnNlKCkuZmluZEtleShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICB9LFxuXG4gIGZpcnN0OiBmdW5jdGlvbiBmaXJzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKHJldHVyblRydWUpO1xuICB9LFxuXG4gIGZsYXRNYXA6IGZ1bmN0aW9uIGZsYXRNYXAobWFwcGVyLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZsYXRNYXBGYWN0b3J5KHRoaXMsIG1hcHBlciwgY29udGV4dCkpO1xuICB9LFxuXG4gIGZsYXR0ZW46IGZ1bmN0aW9uIGZsYXR0ZW4oZGVwdGgpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgZmxhdHRlbkZhY3RvcnkodGhpcywgZGVwdGgsIHRydWUpKTtcbiAgfSxcblxuICBmcm9tRW50cnlTZXE6IGZ1bmN0aW9uIGZyb21FbnRyeVNlcSgpIHtcbiAgICByZXR1cm4gbmV3IEZyb21FbnRyaWVzU2VxdWVuY2UodGhpcyk7XG4gIH0sXG5cbiAgZ2V0OiBmdW5jdGlvbiBnZXQoc2VhcmNoS2V5LCBub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmZpbmQoZnVuY3Rpb24gKF8sIGtleSkgeyByZXR1cm4gaXMoa2V5LCBzZWFyY2hLZXkpOyB9LCB1bmRlZmluZWQsIG5vdFNldFZhbHVlKTtcbiAgfSxcblxuICBnZXRJbjogZnVuY3Rpb24gZ2V0SW4oc2VhcmNoS2V5UGF0aCwgbm90U2V0VmFsdWUpIHtcbiAgICB2YXIgbmVzdGVkID0gdGhpcztcbiAgICB2YXIga2V5UGF0aCA9IGNvZXJjZUtleVBhdGgoc2VhcmNoS2V5UGF0aCk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpICE9PSBrZXlQYXRoLmxlbmd0aCkge1xuICAgICAgaWYgKCFuZXN0ZWQgfHwgIW5lc3RlZC5nZXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAnSW52YWxpZCBrZXlQYXRoOiBWYWx1ZSBhdCBbJyArXG4gICAgICAgICAgICBrZXlQYXRoLnNsaWNlKDAsIGkpLm1hcChxdW90ZVN0cmluZykgK1xuICAgICAgICAgICAgJ10gZG9lcyBub3QgaGF2ZSBhIC5nZXQoKSBtZXRob2Q6ICcgK1xuICAgICAgICAgICAgbmVzdGVkXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBuZXN0ZWQgPSBuZXN0ZWQuZ2V0KGtleVBhdGhbaSsrXSwgTk9UX1NFVCk7XG4gICAgICBpZiAobmVzdGVkID09PSBOT1RfU0VUKSB7XG4gICAgICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5lc3RlZDtcbiAgICAvLyB2YXIgc3RlcDtcbiAgICAvLyB3aGlsZSAoIShzdGVwID0gaXRlci5uZXh0KCkpLmRvbmUpIHtcbiAgICAvLyAgIHZhciBrZXkgPSBzdGVwLnZhbHVlO1xuICAgIC8vICAgbmVzdGVkID0gbmVzdGVkICYmIG5lc3RlZC5nZXQgPyBuZXN0ZWQuZ2V0KGtleSwgTk9UX1NFVCkgOiBOT1RfU0VUO1xuICAgIC8vICAgaWYgKG5lc3RlZCA9PT0gTk9UX1NFVCkge1xuICAgIC8vICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgLy8gICB9XG4gICAgLy8gfVxuICAgIC8vIHJldHVybiBuZXN0ZWQ7XG4gIH0sXG5cbiAgZ3JvdXBCeTogZnVuY3Rpb24gZ3JvdXBCeShncm91cGVyLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGdyb3VwQnlGYWN0b3J5KHRoaXMsIGdyb3VwZXIsIGNvbnRleHQpO1xuICB9LFxuXG4gIGhhczogZnVuY3Rpb24gaGFzKHNlYXJjaEtleSkge1xuICAgIHJldHVybiB0aGlzLmdldChzZWFyY2hLZXksIE5PVF9TRVQpICE9PSBOT1RfU0VUO1xuICB9LFxuXG4gIGhhc0luOiBmdW5jdGlvbiBoYXNJbihzZWFyY2hLZXlQYXRoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0SW4oc2VhcmNoS2V5UGF0aCwgTk9UX1NFVCkgIT09IE5PVF9TRVQ7XG4gIH0sXG5cbiAgaXNTdWJzZXQ6IGZ1bmN0aW9uIGlzU3Vic2V0KGl0ZXIpIHtcbiAgICBpdGVyID0gdHlwZW9mIGl0ZXIuaW5jbHVkZXMgPT09ICdmdW5jdGlvbicgPyBpdGVyIDogQ29sbGVjdGlvbihpdGVyKTtcbiAgICByZXR1cm4gdGhpcy5ldmVyeShmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGl0ZXIuaW5jbHVkZXModmFsdWUpOyB9KTtcbiAgfSxcblxuICBpc1N1cGVyc2V0OiBmdW5jdGlvbiBpc1N1cGVyc2V0KGl0ZXIpIHtcbiAgICBpdGVyID0gdHlwZW9mIGl0ZXIuaXNTdWJzZXQgPT09ICdmdW5jdGlvbicgPyBpdGVyIDogQ29sbGVjdGlvbihpdGVyKTtcbiAgICByZXR1cm4gaXRlci5pc1N1YnNldCh0aGlzKTtcbiAgfSxcblxuICBrZXlPZjogZnVuY3Rpb24ga2V5T2Yoc2VhcmNoVmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kS2V5KGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gaXModmFsdWUsIHNlYXJjaFZhbHVlKTsgfSk7XG4gIH0sXG5cbiAga2V5U2VxOiBmdW5jdGlvbiBrZXlTZXEoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9TZXEoKS5tYXAoa2V5TWFwcGVyKS50b0luZGV4ZWRTZXEoKTtcbiAgfSxcblxuICBsYXN0OiBmdW5jdGlvbiBsYXN0KCkge1xuICAgIHJldHVybiB0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLmZpcnN0KCk7XG4gIH0sXG5cbiAgbGFzdEtleU9mOiBmdW5jdGlvbiBsYXN0S2V5T2Yoc2VhcmNoVmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpLmtleU9mKHNlYXJjaFZhbHVlKTtcbiAgfSxcblxuICBtYXg6IGZ1bmN0aW9uIG1heChjb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIG1heEZhY3RvcnkodGhpcywgY29tcGFyYXRvcik7XG4gIH0sXG5cbiAgbWF4Qnk6IGZ1bmN0aW9uIG1heEJ5KG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgIHJldHVybiBtYXhGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IsIG1hcHBlcik7XG4gIH0sXG5cbiAgbWluOiBmdW5jdGlvbiBtaW4oY29tcGFyYXRvcikge1xuICAgIHJldHVybiBtYXhGYWN0b3J5KFxuICAgICAgdGhpcyxcbiAgICAgIGNvbXBhcmF0b3IgPyBuZWcoY29tcGFyYXRvcikgOiBkZWZhdWx0TmVnQ29tcGFyYXRvclxuICAgICk7XG4gIH0sXG5cbiAgbWluQnk6IGZ1bmN0aW9uIG1pbkJ5KG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgIHJldHVybiBtYXhGYWN0b3J5KFxuICAgICAgdGhpcyxcbiAgICAgIGNvbXBhcmF0b3IgPyBuZWcoY29tcGFyYXRvcikgOiBkZWZhdWx0TmVnQ29tcGFyYXRvcixcbiAgICAgIG1hcHBlclxuICAgICk7XG4gIH0sXG5cbiAgcmVzdDogZnVuY3Rpb24gcmVzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5zbGljZSgxKTtcbiAgfSxcblxuICBza2lwOiBmdW5jdGlvbiBza2lwKGFtb3VudCkge1xuICAgIHJldHVybiBhbW91bnQgPT09IDAgPyB0aGlzIDogdGhpcy5zbGljZShNYXRoLm1heCgwLCBhbW91bnQpKTtcbiAgfSxcblxuICBza2lwTGFzdDogZnVuY3Rpb24gc2tpcExhc3QoYW1vdW50KSB7XG4gICAgcmV0dXJuIGFtb3VudCA9PT0gMCA/IHRoaXMgOiB0aGlzLnNsaWNlKDAsIC1NYXRoLm1heCgwLCBhbW91bnQpKTtcbiAgfSxcblxuICBza2lwV2hpbGU6IGZ1bmN0aW9uIHNraXBXaGlsZShwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgc2tpcFdoaWxlRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIHRydWUpKTtcbiAgfSxcblxuICBza2lwVW50aWw6IGZ1bmN0aW9uIHNraXBVbnRpbChwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5za2lwV2hpbGUobm90KHByZWRpY2F0ZSksIGNvbnRleHQpO1xuICB9LFxuXG4gIHNvcnRCeTogZnVuY3Rpb24gc29ydEJ5KG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpKTtcbiAgfSxcblxuICB0YWtlOiBmdW5jdGlvbiB0YWtlKGFtb3VudCkge1xuICAgIHJldHVybiB0aGlzLnNsaWNlKDAsIE1hdGgubWF4KDAsIGFtb3VudCkpO1xuICB9LFxuXG4gIHRha2VMYXN0OiBmdW5jdGlvbiB0YWtlTGFzdChhbW91bnQpIHtcbiAgICByZXR1cm4gdGhpcy5zbGljZSgtTWF0aC5tYXgoMCwgYW1vdW50KSk7XG4gIH0sXG5cbiAgdGFrZVdoaWxlOiBmdW5jdGlvbiB0YWtlV2hpbGUocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHRha2VXaGlsZUZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0KSk7XG4gIH0sXG5cbiAgdGFrZVVudGlsOiBmdW5jdGlvbiB0YWtlVW50aWwocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMudGFrZVdoaWxlKG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgfSxcblxuICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShmbikge1xuICAgIHJldHVybiBmbih0aGlzKTtcbiAgfSxcblxuICB2YWx1ZVNlcTogZnVuY3Rpb24gdmFsdWVTZXEoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9JbmRleGVkU2VxKCk7XG4gIH0sXG5cbiAgLy8gIyMjIEhhc2hhYmxlIE9iamVjdFxuXG4gIGhhc2hDb2RlOiBmdW5jdGlvbiBoYXNoQ29kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fX2hhc2ggfHwgKHRoaXMuX19oYXNoID0gaGFzaENvbGxlY3Rpb24odGhpcykpO1xuICB9XG5cbiAgLy8gIyMjIEludGVybmFsXG5cbiAgLy8gYWJzdHJhY3QgX19pdGVyYXRlKGZuLCByZXZlcnNlKVxuXG4gIC8vIGFic3RyYWN0IF9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSlcbn0pO1xuXG52YXIgQ29sbGVjdGlvblByb3RvdHlwZSA9IENvbGxlY3Rpb24ucHJvdG90eXBlO1xuQ29sbGVjdGlvblByb3RvdHlwZVtJU19JVEVSQUJMRV9TRU5USU5FTF0gPSB0cnVlO1xuQ29sbGVjdGlvblByb3RvdHlwZVtJVEVSQVRPUl9TWU1CT0xdID0gQ29sbGVjdGlvblByb3RvdHlwZS52YWx1ZXM7XG5Db2xsZWN0aW9uUHJvdG90eXBlLnRvSlNPTiA9IENvbGxlY3Rpb25Qcm90b3R5cGUudG9BcnJheTtcbkNvbGxlY3Rpb25Qcm90b3R5cGUuX190b1N0cmluZ01hcHBlciA9IHF1b3RlU3RyaW5nO1xuQ29sbGVjdGlvblByb3RvdHlwZS5pbnNwZWN0ID0gKENvbGxlY3Rpb25Qcm90b3R5cGUudG9Tb3VyY2UgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTtcbn0pO1xuQ29sbGVjdGlvblByb3RvdHlwZS5jaGFpbiA9IENvbGxlY3Rpb25Qcm90b3R5cGUuZmxhdE1hcDtcbkNvbGxlY3Rpb25Qcm90b3R5cGUuY29udGFpbnMgPSBDb2xsZWN0aW9uUHJvdG90eXBlLmluY2x1ZGVzO1xuXG5taXhpbihLZXllZENvbGxlY3Rpb24sIHtcbiAgLy8gIyMjIE1vcmUgc2VxdWVudGlhbCBtZXRob2RzXG5cbiAgZmxpcDogZnVuY3Rpb24gZmxpcCgpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgZmxpcEZhY3RvcnkodGhpcykpO1xuICB9LFxuXG4gIG1hcEVudHJpZXM6IGZ1bmN0aW9uIG1hcEVudHJpZXMobWFwcGVyLCBjb250ZXh0KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgcmV0dXJuIHJlaWZ5KFxuICAgICAgdGhpcyxcbiAgICAgIHRoaXMudG9TZXEoKVxuICAgICAgICAubWFwKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBtYXBwZXIuY2FsbChjb250ZXh0LCBbaywgdl0sIGl0ZXJhdGlvbnMrKywgdGhpcyQxKTsgfSlcbiAgICAgICAgLmZyb21FbnRyeVNlcSgpXG4gICAgKTtcbiAgfSxcblxuICBtYXBLZXlzOiBmdW5jdGlvbiBtYXBLZXlzKG1hcHBlciwgY29udGV4dCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHJlaWZ5KFxuICAgICAgdGhpcyxcbiAgICAgIHRoaXMudG9TZXEoKS5mbGlwKCkubWFwKGZ1bmN0aW9uIChrLCB2KSB7IHJldHVybiBtYXBwZXIuY2FsbChjb250ZXh0LCBrLCB2LCB0aGlzJDEpOyB9KS5mbGlwKClcbiAgICApO1xuICB9XG59KTtcblxudmFyIEtleWVkQ29sbGVjdGlvblByb3RvdHlwZSA9IEtleWVkQ29sbGVjdGlvbi5wcm90b3R5cGU7XG5LZXllZENvbGxlY3Rpb25Qcm90b3R5cGVbSVNfS0VZRURfU0VOVElORUxdID0gdHJ1ZTtcbktleWVkQ29sbGVjdGlvblByb3RvdHlwZVtJVEVSQVRPUl9TWU1CT0xdID0gQ29sbGVjdGlvblByb3RvdHlwZS5lbnRyaWVzO1xuS2V5ZWRDb2xsZWN0aW9uUHJvdG90eXBlLnRvSlNPTiA9IENvbGxlY3Rpb25Qcm90b3R5cGUudG9PYmplY3Q7XG5LZXllZENvbGxlY3Rpb25Qcm90b3R5cGUuX190b1N0cmluZ01hcHBlciA9IGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBxdW90ZVN0cmluZyhrKSArICc6ICcgKyBxdW90ZVN0cmluZyh2KTsgfTtcblxubWl4aW4oSW5kZXhlZENvbGxlY3Rpb24sIHtcbiAgLy8gIyMjIENvbnZlcnNpb24gdG8gb3RoZXIgdHlwZXNcblxuICB0b0tleWVkU2VxOiBmdW5jdGlvbiB0b0tleWVkU2VxKCkge1xuICAgIHJldHVybiBuZXcgVG9LZXllZFNlcXVlbmNlKHRoaXMsIGZhbHNlKTtcbiAgfSxcblxuICAvLyAjIyMgRVM2IENvbGxlY3Rpb24gbWV0aG9kcyAoRVM2IEFycmF5IGFuZCBNYXApXG5cbiAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZpbHRlckZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0LCBmYWxzZSkpO1xuICB9LFxuXG4gIGZpbmRJbmRleDogZnVuY3Rpb24gZmluZEluZGV4KHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBlbnRyeSA9IHRoaXMuZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgcmV0dXJuIGVudHJ5ID8gZW50cnlbMF0gOiAtMTtcbiAgfSxcblxuICBpbmRleE9mOiBmdW5jdGlvbiBpbmRleE9mKHNlYXJjaFZhbHVlKSB7XG4gICAgdmFyIGtleSA9IHRoaXMua2V5T2Yoc2VhcmNoVmFsdWUpO1xuICAgIHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/IC0xIDoga2V5O1xuICB9LFxuXG4gIGxhc3RJbmRleE9mOiBmdW5jdGlvbiBsYXN0SW5kZXhPZihzZWFyY2hWYWx1ZSkge1xuICAgIHZhciBrZXkgPSB0aGlzLmxhc3RLZXlPZihzZWFyY2hWYWx1ZSk7XG4gICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID8gLTEgOiBrZXk7XG4gIH0sXG5cbiAgcmV2ZXJzZTogZnVuY3Rpb24gcmV2ZXJzZSgpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgcmV2ZXJzZUZhY3RvcnkodGhpcywgZmFsc2UpKTtcbiAgfSxcblxuICBzbGljZTogZnVuY3Rpb24gc2xpY2UoYmVnaW4sIGVuZCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBzbGljZUZhY3RvcnkodGhpcywgYmVnaW4sIGVuZCwgZmFsc2UpKTtcbiAgfSxcblxuICBzcGxpY2U6IGZ1bmN0aW9uIHNwbGljZShpbmRleCwgcmVtb3ZlTnVtIC8qLCAuLi52YWx1ZXMqLykge1xuICAgIHZhciBudW1BcmdzID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICByZW1vdmVOdW0gPSBNYXRoLm1heChyZW1vdmVOdW0gfHwgMCwgMCk7XG4gICAgaWYgKG51bUFyZ3MgPT09IDAgfHwgKG51bUFyZ3MgPT09IDIgJiYgIXJlbW92ZU51bSkpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLyBJZiBpbmRleCBpcyBuZWdhdGl2ZSwgaXQgc2hvdWxkIHJlc29sdmUgcmVsYXRpdmUgdG8gdGhlIHNpemUgb2YgdGhlXG4gICAgLy8gY29sbGVjdGlvbi4gSG93ZXZlciBzaXplIG1heSBiZSBleHBlbnNpdmUgdG8gY29tcHV0ZSBpZiBub3QgY2FjaGVkLCBzb1xuICAgIC8vIG9ubHkgY2FsbCBjb3VudCgpIGlmIHRoZSBudW1iZXIgaXMgaW4gZmFjdCBuZWdhdGl2ZS5cbiAgICBpbmRleCA9IHJlc29sdmVCZWdpbihpbmRleCwgaW5kZXggPCAwID8gdGhpcy5jb3VudCgpIDogdGhpcy5zaXplKTtcbiAgICB2YXIgc3BsaWNlZCA9IHRoaXMuc2xpY2UoMCwgaW5kZXgpO1xuICAgIHJldHVybiByZWlmeShcbiAgICAgIHRoaXMsXG4gICAgICBudW1BcmdzID09PSAxXG4gICAgICAgID8gc3BsaWNlZFxuICAgICAgICA6IHNwbGljZWQuY29uY2F0KGFyckNvcHkoYXJndW1lbnRzLCAyKSwgdGhpcy5zbGljZShpbmRleCArIHJlbW92ZU51bSkpXG4gICAgKTtcbiAgfSxcblxuICAvLyAjIyMgTW9yZSBjb2xsZWN0aW9uIG1ldGhvZHNcblxuICBmaW5kTGFzdEluZGV4OiBmdW5jdGlvbiBmaW5kTGFzdEluZGV4KHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBlbnRyeSA9IHRoaXMuZmluZExhc3RFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHJldHVybiBlbnRyeSA/IGVudHJ5WzBdIDogLTE7XG4gIH0sXG5cbiAgZmlyc3Q6IGZ1bmN0aW9uIGZpcnN0KCkge1xuICAgIHJldHVybiB0aGlzLmdldCgwKTtcbiAgfSxcblxuICBmbGF0dGVuOiBmdW5jdGlvbiBmbGF0dGVuKGRlcHRoKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZsYXR0ZW5GYWN0b3J5KHRoaXMsIGRlcHRoLCBmYWxzZSkpO1xuICB9LFxuXG4gIGdldDogZnVuY3Rpb24gZ2V0KGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICByZXR1cm4gaW5kZXggPCAwIHx8XG4gICAgICAodGhpcy5zaXplID09PSBJbmZpbml0eSB8fCAodGhpcy5zaXplICE9PSB1bmRlZmluZWQgJiYgaW5kZXggPiB0aGlzLnNpemUpKVxuICAgICAgPyBub3RTZXRWYWx1ZVxuICAgICAgOiB0aGlzLmZpbmQoZnVuY3Rpb24gKF8sIGtleSkgeyByZXR1cm4ga2V5ID09PSBpbmRleDsgfSwgdW5kZWZpbmVkLCBub3RTZXRWYWx1ZSk7XG4gIH0sXG5cbiAgaGFzOiBmdW5jdGlvbiBoYXMoaW5kZXgpIHtcbiAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgcmV0dXJuIGluZGV4ID49IDAgJiZcbiAgICAgICh0aGlzLnNpemUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRoaXMuc2l6ZSA9PT0gSW5maW5pdHkgfHwgaW5kZXggPCB0aGlzLnNpemVcbiAgICAgICAgOiB0aGlzLmluZGV4T2YoaW5kZXgpICE9PSAtMSk7XG4gIH0sXG5cbiAgaW50ZXJwb3NlOiBmdW5jdGlvbiBpbnRlcnBvc2Uoc2VwYXJhdG9yKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGludGVycG9zZUZhY3RvcnkodGhpcywgc2VwYXJhdG9yKSk7XG4gIH0sXG5cbiAgaW50ZXJsZWF2ZTogZnVuY3Rpb24gaW50ZXJsZWF2ZSgvKi4uLmNvbGxlY3Rpb25zKi8pIHtcbiAgICB2YXIgY29sbGVjdGlvbnMgPSBbdGhpc10uY29uY2F0KGFyckNvcHkoYXJndW1lbnRzKSk7XG4gICAgdmFyIHppcHBlZCA9IHppcFdpdGhGYWN0b3J5KHRoaXMudG9TZXEoKSwgSW5kZXhlZFNlcS5vZiwgY29sbGVjdGlvbnMpO1xuICAgIHZhciBpbnRlcmxlYXZlZCA9IHppcHBlZC5mbGF0dGVuKHRydWUpO1xuICAgIGlmICh6aXBwZWQuc2l6ZSkge1xuICAgICAgaW50ZXJsZWF2ZWQuc2l6ZSA9IHppcHBlZC5zaXplICogY29sbGVjdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gcmVpZnkodGhpcywgaW50ZXJsZWF2ZWQpO1xuICB9LFxuXG4gIGtleVNlcTogZnVuY3Rpb24ga2V5U2VxKCkge1xuICAgIHJldHVybiBSYW5nZSgwLCB0aGlzLnNpemUpO1xuICB9LFxuXG4gIGxhc3Q6IGZ1bmN0aW9uIGxhc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KC0xKTtcbiAgfSxcblxuICBza2lwV2hpbGU6IGZ1bmN0aW9uIHNraXBXaGlsZShwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgc2tpcFdoaWxlRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIGZhbHNlKSk7XG4gIH0sXG5cbiAgemlwOiBmdW5jdGlvbiB6aXAoLyosIC4uLmNvbGxlY3Rpb25zICovKSB7XG4gICAgdmFyIGNvbGxlY3Rpb25zID0gW3RoaXNdLmNvbmNhdChhcnJDb3B5KGFyZ3VtZW50cykpO1xuICAgIHJldHVybiByZWlmeSh0aGlzLCB6aXBXaXRoRmFjdG9yeSh0aGlzLCBkZWZhdWx0WmlwcGVyLCBjb2xsZWN0aW9ucykpO1xuICB9LFxuXG4gIHppcFdpdGg6IGZ1bmN0aW9uIHppcFdpdGgoemlwcGVyIC8qLCAuLi5jb2xsZWN0aW9ucyAqLykge1xuICAgIHZhciBjb2xsZWN0aW9ucyA9IGFyckNvcHkoYXJndW1lbnRzKTtcbiAgICBjb2xsZWN0aW9uc1swXSA9IHRoaXM7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHppcFdpdGhGYWN0b3J5KHRoaXMsIHppcHBlciwgY29sbGVjdGlvbnMpKTtcbiAgfVxufSk7XG5cbnZhciBJbmRleGVkQ29sbGVjdGlvblByb3RvdHlwZSA9IEluZGV4ZWRDb2xsZWN0aW9uLnByb3RvdHlwZTtcbkluZGV4ZWRDb2xsZWN0aW9uUHJvdG90eXBlW0lTX0lOREVYRURfU0VOVElORUxdID0gdHJ1ZTtcbkluZGV4ZWRDb2xsZWN0aW9uUHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcblxubWl4aW4oU2V0Q29sbGVjdGlvbiwge1xuICAvLyAjIyMgRVM2IENvbGxlY3Rpb24gbWV0aG9kcyAoRVM2IEFycmF5IGFuZCBNYXApXG5cbiAgZ2V0OiBmdW5jdGlvbiBnZXQodmFsdWUsIG5vdFNldFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzKHZhbHVlKSA/IHZhbHVlIDogbm90U2V0VmFsdWU7XG4gIH0sXG5cbiAgaW5jbHVkZXM6IGZ1bmN0aW9uIGluY2x1ZGVzKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzKHZhbHVlKTtcbiAgfSxcblxuICAvLyAjIyMgTW9yZSBzZXF1ZW50aWFsIG1ldGhvZHNcblxuICBrZXlTZXE6IGZ1bmN0aW9uIGtleVNlcSgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZVNlcSgpO1xuICB9XG59KTtcblxuU2V0Q29sbGVjdGlvbi5wcm90b3R5cGUuaGFzID0gQ29sbGVjdGlvblByb3RvdHlwZS5pbmNsdWRlcztcblNldENvbGxlY3Rpb24ucHJvdG90eXBlLmNvbnRhaW5zID0gU2V0Q29sbGVjdGlvbi5wcm90b3R5cGUuaW5jbHVkZXM7XG5cbi8vIE1peGluIHN1YmNsYXNzZXNcblxubWl4aW4oS2V5ZWRTZXEsIEtleWVkQ29sbGVjdGlvbi5wcm90b3R5cGUpO1xubWl4aW4oSW5kZXhlZFNlcSwgSW5kZXhlZENvbGxlY3Rpb24ucHJvdG90eXBlKTtcbm1peGluKFNldFNlcSwgU2V0Q29sbGVjdGlvbi5wcm90b3R5cGUpO1xuXG4vLyAjcHJhZ21hIEhlbHBlciBmdW5jdGlvbnNcblxuZnVuY3Rpb24gcmVkdWNlKGNvbGxlY3Rpb24sIHJlZHVjZXIsIHJlZHVjdGlvbiwgY29udGV4dCwgdXNlRmlyc3QsIHJldmVyc2UpIHtcbiAgYXNzZXJ0Tm90SW5maW5pdGUoY29sbGVjdGlvbi5zaXplKTtcbiAgY29sbGVjdGlvbi5fX2l0ZXJhdGUoXG4gICAgZnVuY3Rpb24gKHYsIGssIGMpIHtcbiAgICAgIGlmICh1c2VGaXJzdCkge1xuICAgICAgICB1c2VGaXJzdCA9IGZhbHNlO1xuICAgICAgICByZWR1Y3Rpb24gPSB2O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVkdWN0aW9uID0gcmVkdWNlci5jYWxsKGNvbnRleHQsIHJlZHVjdGlvbiwgdiwgaywgYyk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZXZlcnNlXG4gICk7XG4gIHJldHVybiByZWR1Y3Rpb247XG59XG5cbmZ1bmN0aW9uIGtleU1hcHBlcih2LCBrKSB7XG4gIHJldHVybiBrO1xufVxuXG5mdW5jdGlvbiBlbnRyeU1hcHBlcih2LCBrKSB7XG4gIHJldHVybiBbaywgdl07XG59XG5cbmZ1bmN0aW9uIHRvSlModmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS50b0pTID09PSAnZnVuY3Rpb24nID8gdmFsdWUudG9KUygpIDogdmFsdWU7XG59XG5cbmZ1bmN0aW9uIG5vdChwcmVkaWNhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG5lZyhwcmVkaWNhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAtcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRaaXBwZXIoKSB7XG4gIHJldHVybiBhcnJDb3B5KGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHROZWdDb21wYXJhdG9yKGEsIGIpIHtcbiAgcmV0dXJuIGEgPCBiID8gMSA6IGEgPiBiID8gLTEgOiAwO1xufVxuXG5mdW5jdGlvbiBoYXNoQ29sbGVjdGlvbihjb2xsZWN0aW9uKSB7XG4gIGlmIChjb2xsZWN0aW9uLnNpemUgPT09IEluZmluaXR5KSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgdmFyIG9yZGVyZWQgPSBpc09yZGVyZWQoY29sbGVjdGlvbik7XG4gIHZhciBrZXllZCA9IGlzS2V5ZWQoY29sbGVjdGlvbik7XG4gIHZhciBoID0gb3JkZXJlZCA/IDEgOiAwO1xuICB2YXIgc2l6ZSA9IGNvbGxlY3Rpb24uX19pdGVyYXRlKFxuICAgIGtleWVkXG4gICAgICA/IG9yZGVyZWRcbiAgICAgICAgICA/IGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICAgICAgICAgIGggPSAzMSAqIGggKyBoYXNoTWVyZ2UoaGFzaCh2KSwgaGFzaChrKSkgfCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIDogZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgICAgICAgICAgaCA9IGggKyBoYXNoTWVyZ2UoaGFzaCh2KSwgaGFzaChrKSkgfCAwO1xuICAgICAgICAgICAgfVxuICAgICAgOiBvcmRlcmVkXG4gICAgICAgICAgPyBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICBoID0gMzEgKiBoICsgaGFzaCh2KSB8IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICBoID0gaCArIGhhc2godikgfCAwO1xuICAgICAgICAgICAgfVxuICApO1xuICByZXR1cm4gbXVybXVySGFzaE9mU2l6ZShzaXplLCBoKTtcbn1cblxuZnVuY3Rpb24gbXVybXVySGFzaE9mU2l6ZShzaXplLCBoKSB7XG4gIGggPSBpbXVsKGgsIDB4Y2M5ZTJkNTEpO1xuICBoID0gaW11bChoIDw8IDE1IHwgaCA+Pj4gLTE1LCAweDFiODczNTkzKTtcbiAgaCA9IGltdWwoaCA8PCAxMyB8IGggPj4+IC0xMywgNSk7XG4gIGggPSAoaCArIDB4ZTY1NDZiNjQgfCAwKSBeIHNpemU7XG4gIGggPSBpbXVsKGggXiBoID4+PiAxNiwgMHg4NWViY2E2Yik7XG4gIGggPSBpbXVsKGggXiBoID4+PiAxMywgMHhjMmIyYWUzNSk7XG4gIGggPSBzbWkoaCBeIGggPj4+IDE2KTtcbiAgcmV0dXJuIGg7XG59XG5cbmZ1bmN0aW9uIGhhc2hNZXJnZShhLCBiKSB7XG4gIHJldHVybiBhIF4gYiArIDB4OWUzNzc5YjkgKyAoYSA8PCA2KSArIChhID4+IDIpIHwgMDsgLy8gaW50XG59XG5cbnZhciBPcmRlcmVkU2V0ID0gKGZ1bmN0aW9uIChTZXQkJDEpIHtcbiAgZnVuY3Rpb24gT3JkZXJlZFNldCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGVtcHR5T3JkZXJlZFNldCgpXG4gICAgICA6IGlzT3JkZXJlZFNldCh2YWx1ZSlcbiAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgOiBlbXB0eU9yZGVyZWRTZXQoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgICAgICAgICAgdmFyIGl0ZXIgPSBTZXRDb2xsZWN0aW9uKHZhbHVlKTtcbiAgICAgICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7IHJldHVybiBzZXQuYWRkKHYpOyB9KTtcbiAgICAgICAgICAgIH0pO1xuICB9XG5cbiAgaWYgKCBTZXQkJDEgKSBPcmRlcmVkU2V0Ll9fcHJvdG9fXyA9IFNldCQkMTtcbiAgT3JkZXJlZFNldC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTZXQkJDEgJiYgU2V0JCQxLnByb3RvdHlwZSApO1xuICBPcmRlcmVkU2V0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9yZGVyZWRTZXQ7XG5cbiAgT3JkZXJlZFNldC5vZiA9IGZ1bmN0aW9uIG9mICgvKi4uLnZhbHVlcyovKSB7XG4gICAgcmV0dXJuIHRoaXMoYXJndW1lbnRzKTtcbiAgfTtcblxuICBPcmRlcmVkU2V0LmZyb21LZXlzID0gZnVuY3Rpb24gZnJvbUtleXMgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMoS2V5ZWRDb2xsZWN0aW9uKHZhbHVlKS5rZXlTZXEoKSk7XG4gIH07XG5cbiAgT3JkZXJlZFNldC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnT3JkZXJlZFNldCB7JywgJ30nKTtcbiAgfTtcblxuICByZXR1cm4gT3JkZXJlZFNldDtcbn0oU2V0KSk7XG5cbmZ1bmN0aW9uIGlzT3JkZXJlZFNldChtYXliZU9yZGVyZWRTZXQpIHtcbiAgcmV0dXJuIGlzU2V0KG1heWJlT3JkZXJlZFNldCkgJiYgaXNPcmRlcmVkKG1heWJlT3JkZXJlZFNldCk7XG59XG5cbk9yZGVyZWRTZXQuaXNPcmRlcmVkU2V0ID0gaXNPcmRlcmVkU2V0O1xuXG52YXIgT3JkZXJlZFNldFByb3RvdHlwZSA9IE9yZGVyZWRTZXQucHJvdG90eXBlO1xuT3JkZXJlZFNldFByb3RvdHlwZVtJU19PUkRFUkVEX1NFTlRJTkVMXSA9IHRydWU7XG5PcmRlcmVkU2V0UHJvdG90eXBlLnppcCA9IEluZGV4ZWRDb2xsZWN0aW9uUHJvdG90eXBlLnppcDtcbk9yZGVyZWRTZXRQcm90b3R5cGUuemlwV2l0aCA9IEluZGV4ZWRDb2xsZWN0aW9uUHJvdG90eXBlLnppcFdpdGg7XG5cbk9yZGVyZWRTZXRQcm90b3R5cGUuX19lbXB0eSA9IGVtcHR5T3JkZXJlZFNldDtcbk9yZGVyZWRTZXRQcm90b3R5cGUuX19tYWtlID0gbWFrZU9yZGVyZWRTZXQ7XG5cbmZ1bmN0aW9uIG1ha2VPcmRlcmVkU2V0KG1hcCwgb3duZXJJRCkge1xuICB2YXIgc2V0ID0gT2JqZWN0LmNyZWF0ZShPcmRlcmVkU2V0UHJvdG90eXBlKTtcbiAgc2V0LnNpemUgPSBtYXAgPyBtYXAuc2l6ZSA6IDA7XG4gIHNldC5fbWFwID0gbWFwO1xuICBzZXQuX19vd25lcklEID0gb3duZXJJRDtcbiAgcmV0dXJuIHNldDtcbn1cblxudmFyIEVNUFRZX09SREVSRURfU0VUO1xuZnVuY3Rpb24gZW1wdHlPcmRlcmVkU2V0KCkge1xuICByZXR1cm4gRU1QVFlfT1JERVJFRF9TRVQgfHxcbiAgICAoRU1QVFlfT1JERVJFRF9TRVQgPSBtYWtlT3JkZXJlZFNldChlbXB0eU9yZGVyZWRNYXAoKSkpO1xufVxuXG52YXIgUmVjb3JkID0gZnVuY3Rpb24gUmVjb3JkKGRlZmF1bHRWYWx1ZXMsIG5hbWUpIHtcbiAgdmFyIGhhc0luaXRpYWxpemVkO1xuXG4gIHZhciBSZWNvcmRUeXBlID0gZnVuY3Rpb24gUmVjb3JkKHZhbHVlcykge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIFJlY29yZFR5cGUpIHtcbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZWNvcmRUeXBlKSkge1xuICAgICAgcmV0dXJuIG5ldyBSZWNvcmRUeXBlKHZhbHVlcyk7XG4gICAgfVxuICAgIGlmICghaGFzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIGhhc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZGVmYXVsdFZhbHVlcyk7XG4gICAgICB2YXIgaW5kaWNlcyA9IChSZWNvcmRUeXBlUHJvdG90eXBlLl9pbmRpY2VzID0ge30pO1xuICAgICAgUmVjb3JkVHlwZVByb3RvdHlwZS5fbmFtZSA9IG5hbWU7XG4gICAgICBSZWNvcmRUeXBlUHJvdG90eXBlLl9rZXlzID0ga2V5cztcbiAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuX2RlZmF1bHRWYWx1ZXMgPSBkZWZhdWx0VmFsdWVzO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwcm9wTmFtZSA9IGtleXNbaV07XG4gICAgICAgIGluZGljZXNbcHJvcE5hbWVdID0gaTtcbiAgICAgICAgaWYgKFJlY29yZFR5cGVQcm90b3R5cGVbcHJvcE5hbWVdKSB7XG4gICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgICAgICAgIHR5cGVvZiBjb25zb2xlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgY29uc29sZS53YXJuICYmXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICdDYW5ub3QgZGVmaW5lICcgK1xuICAgICAgICAgICAgICAgIHJlY29yZE5hbWUodGhpcyQxKSArXG4gICAgICAgICAgICAgICAgJyB3aXRoIHByb3BlcnR5IFwiJyArXG4gICAgICAgICAgICAgICAgcHJvcE5hbWUgK1xuICAgICAgICAgICAgICAgICdcIiBzaW5jZSB0aGF0IHByb3BlcnR5IG5hbWUgaXMgcGFydCBvZiB0aGUgUmVjb3JkIEFQSS4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldFByb3AoUmVjb3JkVHlwZVByb3RvdHlwZSwgcHJvcE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX19vd25lcklEID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3ZhbHVlcyA9IExpc3QoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChsKSB7XG4gICAgICBsLnNldFNpemUodGhpcyQxLl9rZXlzLmxlbmd0aCk7XG4gICAgICBLZXllZENvbGxlY3Rpb24odmFsdWVzKS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICAgIGwuc2V0KHRoaXMkMS5faW5kaWNlc1trXSwgdiA9PT0gdGhpcyQxLl9kZWZhdWx0VmFsdWVzW2tdID8gdW5kZWZpbmVkIDogdik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgUmVjb3JkVHlwZVByb3RvdHlwZSA9IChSZWNvcmRUeXBlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoXG4gICAgUmVjb3JkUHJvdG90eXBlXG4gICkpO1xuICBSZWNvcmRUeXBlUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVjb3JkVHlwZTtcblxuICByZXR1cm4gUmVjb3JkVHlwZTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIHN0ciA9IHJlY29yZE5hbWUodGhpcykgKyAnIHsgJztcbiAgdmFyIGtleXMgPSB0aGlzLl9rZXlzO1xuICB2YXIgaztcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSAhPT0gbDsgaSsrKSB7XG4gICAgayA9IGtleXNbaV07XG4gICAgc3RyICs9IChpID8gJywgJyA6ICcnKSArIGsgKyAnOiAnICsgcXVvdGVTdHJpbmcodGhpcyQxLmdldChrKSk7XG4gIH1cbiAgcmV0dXJuIHN0ciArICcgfSc7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAob3RoZXIpIHtcbiAgcmV0dXJuIHRoaXMgPT09IG90aGVyIHx8XG4gICAgKHRoaXMuX2tleXMgPT09IG90aGVyLl9rZXlzICYmIHJlY29yZFNlcSh0aGlzKS5lcXVhbHMocmVjb3JkU2VxKG90aGVyKSkpO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uIGhhc2hDb2RlICgpIHtcbiAgcmV0dXJuIHJlY29yZFNlcSh0aGlzKS5oYXNoQ29kZSgpO1xufTtcblxuLy8gQHByYWdtYSBBY2Nlc3NcblxuUmVjb3JkLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBoYXMgKGspIHtcbiAgcmV0dXJuIHRoaXMuX2luZGljZXMuaGFzT3duUHJvcGVydHkoayk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoaywgbm90U2V0VmFsdWUpIHtcbiAgaWYgKCF0aGlzLmhhcyhrKSkge1xuICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgfVxuICB2YXIgaW5kZXggPSB0aGlzLl9pbmRpY2VzW2tdO1xuICB2YXIgdmFsdWUgPSB0aGlzLl92YWx1ZXMuZ2V0KGluZGV4KTtcbiAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB0aGlzLl9kZWZhdWx0VmFsdWVzW2tdIDogdmFsdWU7XG59O1xuXG4vLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG5SZWNvcmQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCAoaywgdikge1xuICBpZiAodGhpcy5oYXMoaykpIHtcbiAgICB2YXIgbmV3VmFsdWVzID0gdGhpcy5fdmFsdWVzLnNldChcbiAgICAgIHRoaXMuX2luZGljZXNba10sXG4gICAgICB2ID09PSB0aGlzLl9kZWZhdWx0VmFsdWVzW2tdID8gdW5kZWZpbmVkIDogdlxuICAgICk7XG4gICAgaWYgKG5ld1ZhbHVlcyAhPT0gdGhpcy5fdmFsdWVzICYmICF0aGlzLl9fb3duZXJJRCkge1xuICAgICAgcmV0dXJuIG1ha2VSZWNvcmQodGhpcywgbmV3VmFsdWVzKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSAoaykge1xuICByZXR1cm4gdGhpcy5zZXQoayk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICB2YXIgbmV3VmFsdWVzID0gdGhpcy5fdmFsdWVzLmNsZWFyKCkuc2V0U2l6ZSh0aGlzLl9rZXlzLmxlbmd0aCk7XG4gIHJldHVybiB0aGlzLl9fb3duZXJJRCA/IHRoaXMgOiBtYWtlUmVjb3JkKHRoaXMsIG5ld1ZhbHVlcyk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLndhc0FsdGVyZWQgPSBmdW5jdGlvbiB3YXNBbHRlcmVkICgpIHtcbiAgcmV0dXJuIHRoaXMuX3ZhbHVlcy53YXNBbHRlcmVkKCk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLnRvU2VxID0gZnVuY3Rpb24gdG9TZXEgKCkge1xuICByZXR1cm4gcmVjb3JkU2VxKHRoaXMpO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS50b0pTID0gZnVuY3Rpb24gdG9KUyAoKSB7XG4gIHJldHVybiByZWNvcmRTZXEodGhpcykudG9KUygpO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICByZXR1cm4gcmVjb3JkU2VxKHRoaXMpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgcmV0dXJuIHJlY29yZFNlcSh0aGlzKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24gX19lbnN1cmVPd25lciAob3duZXJJRCkge1xuICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB2YXIgbmV3VmFsdWVzID0gdGhpcy5fdmFsdWVzLl9fZW5zdXJlT3duZXIob3duZXJJRCk7XG4gIGlmICghb3duZXJJRCkge1xuICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICB0aGlzLl92YWx1ZXMgPSBuZXdWYWx1ZXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcmV0dXJuIG1ha2VSZWNvcmQodGhpcywgbmV3VmFsdWVzLCBvd25lcklEKTtcbn07XG5cblJlY29yZC5pc1JlY29yZCA9IGlzUmVjb3JkO1xuUmVjb3JkLmdldERlc2NyaXB0aXZlTmFtZSA9IHJlY29yZE5hbWU7XG52YXIgUmVjb3JkUHJvdG90eXBlID0gUmVjb3JkLnByb3RvdHlwZTtcblJlY29yZFByb3RvdHlwZVtJU19SRUNPUkRfU0VOVElORUxdID0gdHJ1ZTtcblJlY29yZFByb3RvdHlwZVtERUxFVEVdID0gUmVjb3JkUHJvdG90eXBlLnJlbW92ZTtcblJlY29yZFByb3RvdHlwZS5nZXRJbiA9IENvbGxlY3Rpb25Qcm90b3R5cGUuZ2V0SW47XG5SZWNvcmRQcm90b3R5cGUuaGFzSW4gPSBDb2xsZWN0aW9uUHJvdG90eXBlLmhhc0luO1xuUmVjb3JkUHJvdG90eXBlLm1lcmdlID0gTWFwUHJvdG90eXBlLm1lcmdlO1xuUmVjb3JkUHJvdG90eXBlLm1lcmdlV2l0aCA9IE1hcFByb3RvdHlwZS5tZXJnZVdpdGg7XG5SZWNvcmRQcm90b3R5cGUubWVyZ2VJbiA9IE1hcFByb3RvdHlwZS5tZXJnZUluO1xuUmVjb3JkUHJvdG90eXBlLm1lcmdlRGVlcCA9IE1hcFByb3RvdHlwZS5tZXJnZURlZXA7XG5SZWNvcmRQcm90b3R5cGUubWVyZ2VEZWVwV2l0aCA9IE1hcFByb3RvdHlwZS5tZXJnZURlZXBXaXRoO1xuUmVjb3JkUHJvdG90eXBlLm1lcmdlRGVlcEluID0gTWFwUHJvdG90eXBlLm1lcmdlRGVlcEluO1xuUmVjb3JkUHJvdG90eXBlLnNldEluID0gTWFwUHJvdG90eXBlLnNldEluO1xuUmVjb3JkUHJvdG90eXBlLnVwZGF0ZSA9IE1hcFByb3RvdHlwZS51cGRhdGU7XG5SZWNvcmRQcm90b3R5cGUudXBkYXRlSW4gPSBNYXBQcm90b3R5cGUudXBkYXRlSW47XG5SZWNvcmRQcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IE1hcFByb3RvdHlwZS53aXRoTXV0YXRpb25zO1xuUmVjb3JkUHJvdG90eXBlLmFzTXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc011dGFibGU7XG5SZWNvcmRQcm90b3R5cGUuYXNJbW11dGFibGUgPSBNYXBQcm90b3R5cGUuYXNJbW11dGFibGU7XG5SZWNvcmRQcm90b3R5cGVbSVRFUkFUT1JfU1lNQk9MXSA9IENvbGxlY3Rpb25Qcm90b3R5cGUuZW50cmllcztcblJlY29yZFByb3RvdHlwZS50b0pTT04gPSAoUmVjb3JkUHJvdG90eXBlLnRvT2JqZWN0ID0gQ29sbGVjdGlvblByb3RvdHlwZS50b09iamVjdCk7XG5SZWNvcmRQcm90b3R5cGUuaW5zcGVjdCA9IChSZWNvcmRQcm90b3R5cGUudG9Tb3VyY2UgPSBDb2xsZWN0aW9uUHJvdG90eXBlLnRvU291cmNlKTtcblxuZnVuY3Rpb24gbWFrZVJlY29yZChsaWtlUmVjb3JkLCB2YWx1ZXMsIG93bmVySUQpIHtcbiAgdmFyIHJlY29yZCA9IE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKGxpa2VSZWNvcmQpKTtcbiAgcmVjb3JkLl92YWx1ZXMgPSB2YWx1ZXM7XG4gIHJlY29yZC5fX293bmVySUQgPSBvd25lcklEO1xuICByZXR1cm4gcmVjb3JkO1xufVxuXG5mdW5jdGlvbiByZWNvcmROYW1lKHJlY29yZCkge1xuICByZXR1cm4gcmVjb3JkLl9uYW1lIHx8IHJlY29yZC5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdSZWNvcmQnO1xufVxuXG5mdW5jdGlvbiByZWNvcmRTZXEocmVjb3JkKSB7XG4gIHJldHVybiBrZXllZFNlcUZyb21WYWx1ZShyZWNvcmQuX2tleXMubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBbaywgcmVjb3JkLmdldChrKV07IH0pKTtcbn1cblxuZnVuY3Rpb24gc2V0UHJvcChwcm90b3R5cGUsIG5hbWUpIHtcbiAgdHJ5IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG90eXBlLCBuYW1lLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQobmFtZSk7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpbnZhcmlhbnQodGhpcy5fX293bmVySUQsICdDYW5ub3Qgc2V0IG9uIGFuIGltbXV0YWJsZSByZWNvcmQuJyk7XG4gICAgICAgIHRoaXMuc2V0KG5hbWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBPYmplY3QuZGVmaW5lUHJvcGVydHkgZmFpbGVkLiBQcm9iYWJseSBJRTguXG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbGF6eSBTZXEgb2YgYHZhbHVlYCByZXBlYXRlZCBgdGltZXNgIHRpbWVzLiBXaGVuIGB0aW1lc2AgaXNcbiAqIHVuZGVmaW5lZCwgcmV0dXJucyBhbiBpbmZpbml0ZSBzZXF1ZW5jZSBvZiBgdmFsdWVgLlxuICovXG52YXIgUmVwZWF0ID0gKGZ1bmN0aW9uIChJbmRleGVkU2VxJCQxKSB7XG4gIGZ1bmN0aW9uIFJlcGVhdCh2YWx1ZSwgdGltZXMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVwZWF0KSkge1xuICAgICAgcmV0dXJuIG5ldyBSZXBlYXQodmFsdWUsIHRpbWVzKTtcbiAgICB9XG4gICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLnNpemUgPSB0aW1lcyA9PT0gdW5kZWZpbmVkID8gSW5maW5pdHkgOiBNYXRoLm1heCgwLCB0aW1lcyk7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgaWYgKEVNUFRZX1JFUEVBVCkge1xuICAgICAgICByZXR1cm4gRU1QVFlfUkVQRUFUO1xuICAgICAgfVxuICAgICAgRU1QVFlfUkVQRUFUID0gdGhpcztcbiAgICB9XG4gIH1cblxuICBpZiAoIEluZGV4ZWRTZXEkJDEgKSBSZXBlYXQuX19wcm90b19fID0gSW5kZXhlZFNlcSQkMTtcbiAgUmVwZWF0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEluZGV4ZWRTZXEkJDEgJiYgSW5kZXhlZFNlcSQkMS5wcm90b3R5cGUgKTtcbiAgUmVwZWF0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlcGVhdDtcblxuICBSZXBlYXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiAnUmVwZWF0IFtdJztcbiAgICB9XG4gICAgcmV0dXJuICdSZXBlYXQgWyAnICsgdGhpcy5fdmFsdWUgKyAnICcgKyB0aGlzLnNpemUgKyAnIHRpbWVzIF0nO1xuICB9O1xuXG4gIFJlcGVhdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5oYXMoaW5kZXgpID8gdGhpcy5fdmFsdWUgOiBub3RTZXRWYWx1ZTtcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHNlYXJjaFZhbHVlKSB7XG4gICAgcmV0dXJuIGlzKHRoaXMuX3ZhbHVlLCBzZWFyY2hWYWx1ZSk7XG4gIH07XG5cbiAgUmVwZWF0LnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChiZWdpbiwgZW5kKSB7XG4gICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgcmV0dXJuIHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgc2l6ZSlcbiAgICAgID8gdGhpc1xuICAgICAgOiBuZXcgUmVwZWF0KFxuICAgICAgICAgIHRoaXMuX3ZhbHVlLFxuICAgICAgICAgIHJlc29sdmVFbmQoZW5kLCBzaXplKSAtIHJlc29sdmVCZWdpbihiZWdpbiwgc2l6ZSlcbiAgICAgICAgKTtcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbiByZXZlcnNlICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mIChzZWFyY2hWYWx1ZSkge1xuICAgIGlmIChpcyh0aGlzLl92YWx1ZSwgc2VhcmNoVmFsdWUpKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuXG4gIFJlcGVhdC5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAoc2VhcmNoVmFsdWUpIHtcbiAgICBpZiAoaXModGhpcy5fdmFsdWUsIHNlYXJjaFZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2l6ZTtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuXG4gIFJlcGVhdC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpICE9PSBzaXplKSB7XG4gICAgICBpZiAoZm4odGhpcyQxLl92YWx1ZSwgcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKyssIHRoaXMkMSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICB2YXIgaSA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihcbiAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGkgPT09IHNpemVcbiAgICAgICAgICA/IGl0ZXJhdG9yRG9uZSgpXG4gICAgICAgICAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIHJldmVyc2UgPyBzaXplIC0gKytpIDogaSsrLCB0aGlzJDEuX3ZhbHVlKTsgfVxuICAgICk7XG4gIH07XG5cbiAgUmVwZWF0LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKG90aGVyKSB7XG4gICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgUmVwZWF0XG4gICAgICA/IGlzKHRoaXMuX3ZhbHVlLCBvdGhlci5fdmFsdWUpXG4gICAgICA6IGRlZXBFcXVhbChvdGhlcik7XG4gIH07XG5cbiAgcmV0dXJuIFJlcGVhdDtcbn0oSW5kZXhlZFNlcSkpO1xuXG52YXIgRU1QVFlfUkVQRUFUO1xuXG52YXIgSW1tdXRhYmxlID0ge1xuICBDb2xsZWN0aW9uOiBDb2xsZWN0aW9uLFxuICAvLyBOb3RlOiBJdGVyYWJsZSBpcyBkZXByZWNhdGVkXG4gIEl0ZXJhYmxlOiBDb2xsZWN0aW9uLFxuXG4gIFNlcTogU2VxLFxuICBNYXA6IE1hcCxcbiAgT3JkZXJlZE1hcDogT3JkZXJlZE1hcCxcbiAgTGlzdDogTGlzdCxcbiAgU3RhY2s6IFN0YWNrLFxuICBTZXQ6IFNldCxcbiAgT3JkZXJlZFNldDogT3JkZXJlZFNldCxcblxuICBSZWNvcmQ6IFJlY29yZCxcbiAgUmFuZ2U6IFJhbmdlLFxuICBSZXBlYXQ6IFJlcGVhdCxcblxuICBpczogaXMsXG4gIGZyb21KUzogZnJvbUpTLFxuICBoYXNoOiBoYXNoLFxuXG4gIGlzSW1tdXRhYmxlOiBpc0ltbXV0YWJsZSxcbiAgaXNDb2xsZWN0aW9uOiBpc0NvbGxlY3Rpb24sXG4gIGlzS2V5ZWQ6IGlzS2V5ZWQsXG4gIGlzSW5kZXhlZDogaXNJbmRleGVkLFxuICBpc0Fzc29jaWF0aXZlOiBpc0Fzc29jaWF0aXZlLFxuICBpc09yZGVyZWQ6IGlzT3JkZXJlZCxcbiAgaXNWYWx1ZU9iamVjdDogaXNWYWx1ZU9iamVjdFxufTtcblxuLy8gTm90ZTogSXRlcmFibGUgaXMgZGVwcmVjYXRlZFxudmFyIEl0ZXJhYmxlID0gQ29sbGVjdGlvbjtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gSW1tdXRhYmxlO1xuZXhwb3J0cy5Db2xsZWN0aW9uID0gQ29sbGVjdGlvbjtcbmV4cG9ydHMuSXRlcmFibGUgPSBJdGVyYWJsZTtcbmV4cG9ydHMuU2VxID0gU2VxO1xuZXhwb3J0cy5NYXAgPSBNYXA7XG5leHBvcnRzLk9yZGVyZWRNYXAgPSBPcmRlcmVkTWFwO1xuZXhwb3J0cy5MaXN0ID0gTGlzdDtcbmV4cG9ydHMuU3RhY2sgPSBTdGFjaztcbmV4cG9ydHMuU2V0ID0gU2V0O1xuZXhwb3J0cy5PcmRlcmVkU2V0ID0gT3JkZXJlZFNldDtcbmV4cG9ydHMuUmVjb3JkID0gUmVjb3JkO1xuZXhwb3J0cy5SYW5nZSA9IFJhbmdlO1xuZXhwb3J0cy5SZXBlYXQgPSBSZXBlYXQ7XG5leHBvcnRzLmlzID0gaXM7XG5leHBvcnRzLmZyb21KUyA9IGZyb21KUztcbmV4cG9ydHMuaGFzaCA9IGhhc2g7XG5leHBvcnRzLmlzSW1tdXRhYmxlID0gaXNJbW11dGFibGU7XG5leHBvcnRzLmlzQ29sbGVjdGlvbiA9IGlzQ29sbGVjdGlvbjtcbmV4cG9ydHMuaXNLZXllZCA9IGlzS2V5ZWQ7XG5leHBvcnRzLmlzSW5kZXhlZCA9IGlzSW5kZXhlZDtcbmV4cG9ydHMuaXNBc3NvY2lhdGl2ZSA9IGlzQXNzb2NpYXRpdmU7XG5leHBvcnRzLmlzT3JkZXJlZCA9IGlzT3JkZXJlZDtcbmV4cG9ydHMuaXNWYWx1ZU9iamVjdCA9IGlzVmFsdWVPYmplY3Q7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pKSk7XG4iLCJpbXBvcnQge1xuICAgIERhbmdsZSxcbiAgICBEaXJlY3Rpb24sXG4gICAgRWRnZSxcbiAgICBFZGdlT3BlcmF0aW9uLFxuICAgIEZhY2UsXG4gICAgZmFjZXMsXG4gICAgTWF0cml4MixcbiAgICBtYWtlX21hdHJpeDIsXG4gICAgUGFydGl0aW9uLFxuICAgIFBvaW50MixcbiB9IGZyb20gJy4vZGF0YXR5cGVzJztcblxuaW1wb3J0IHtpcywgTGlzdCwgTWFwLCBTZXR9IGZyb20gJ2ltbXV0YWJsZSc7XG5cbmxldCBmYWNlX3ZlcnRpY2VzID0gTWFwPEZhY2UsIE1hdHJpeDI+KFtcbiAgICBbRmFjZS50LCBtYWtlX21hdHJpeDIoW1xuICAgICAgICBbMCwgIDEsICAyIF0sXG4gICAgICAgIFs5LCAgMjUsIDE1XSxcbiAgICAgICAgWzE2LCAyNCwgMjJdXSldLFxuICAgIFtGYWNlLmIsIG1ha2VfbWF0cml4MihbXG4gICAgICAgIFsyMCwgMTksIDE4XSxcbiAgICAgICAgWzEzLCAxMiwgMTFdLFxuICAgICAgICBbOCwgIDcsICA2IF1dKV0sXG4gICAgW0ZhY2UubiwgbWFrZV9tYXRyaXgyKFtcbiAgICAgICAgWzIsICAxLCAgMCBdLFxuICAgICAgICBbNSwgIDQsICAzIF0sXG4gICAgICAgIFs4LCAgNywgIDYgXV0pXSxcbiAgICBbRmFjZS5lLCBtYWtlX21hdHJpeDIoW1xuICAgICAgICBbMjIsIDE1LCAyIF0sXG4gICAgICAgIFsyMSwgMTQsIDUgXSxcbiAgICAgICAgWzIwLCAxMywgOCBdXSldLFxuICAgIFtGYWNlLnMsIG1ha2VfbWF0cml4MihbXG4gICAgICAgIFsxNiwgMjQsIDIyXSxcbiAgICAgICAgWzE3LCAyMywgMjFdLFxuICAgICAgICBbMTgsIDE5LCAyMF1dKV0sXG4gICAgW0ZhY2UudywgbWFrZV9tYXRyaXgyKFtcbiAgICAgICAgWzAsICA5LCAgMTZdLFxuICAgICAgICBbMywgIDEwLCAxN10sXG4gICAgICAgIFs2LCAgMTEsIDE4XV0pXVxuXSk7XG5cbmxldCBmYWNlX3F1YWRyYW50cyA9IE1hcDxGYWNlLCBNYXRyaXgyPihbXG4gICAgW0ZhY2UudCwgbWFrZV9tYXRyaXgyKFtcbiAgICAgICAgWzAsICAxIF0sXG4gICAgICAgIFsyLCAgMyBdXSldLFxuICAgIFtGYWNlLmIsIG1ha2VfbWF0cml4MihbXG4gICAgICAgIFs0LCAgNSBdLFxuICAgICAgICBbNiwgIDcgXV0pXSxcbiAgICBbRmFjZS5uLCBtYWtlX21hdHJpeDIoW1xuICAgICAgICBbOCwgIDkgXSxcbiAgICAgICAgWzEwLCAxMV1dKV0sXG4gICAgW0ZhY2UuZSwgbWFrZV9tYXRyaXgyKFtcbiAgICAgICAgWzEyLCAxM10sXG4gICAgICAgIFsxNCwgMTVdXSldLFxuICAgIFtGYWNlLnMsIG1ha2VfbWF0cml4MihbXG4gICAgICAgIFsxNiwgMTddLFxuICAgICAgICBbMTgsIDE5XV0pXSxcbiAgICBbRmFjZS53LCBtYWtlX21hdHJpeDIoW1xuICAgICAgICBbMjAsIDIxXSxcbiAgICAgICAgWzIyLCAyM11dKV0sXG5dKTtcblxuZnVuY3Rpb24gYnVpbGRfZWRnZV9xdWFkcmFudF9tYXBwaW5ncygpOiBbTWFwPG51bWJlciwgTGlzdDxFZGdlPj4sIE1hcDxFZGdlLCBMaXN0PG51bWJlcj4+XSB7XG4gICAgbGV0IHF1YWRyYW50XzJfZWRnZXMgPSBNYXA8bnVtYmVyLCBMaXN0PEVkZ2U+PigpO1xuICAgIGxldCBlZGdlXzJfcXVhZHJhbnRzID0gTWFwPEVkZ2UsIExpc3Q8bnVtYmVyPj4oKTtcblxuICAgIGZvciAobGV0IGYgb2YgZmFjZXMpe1xuICAgICAgICBsZXQgdnMgPSBmYWNlX3ZlcnRpY2VzLmdldChmKTtcbiAgICAgICAgbGV0IHFzID0gZmFjZV9xdWFkcmFudHMuZ2V0KGYpO1xuICAgICAgICBmb3IgKGxldCBbeCwgeV0gb2YgW1swLDBdLCBbMSwwXSwgWzAsMV0sIFsxLDFdXSl7XG4gICAgICAgICAgICBsZXQgcV9lZGdlcyA9IGdldF9xdWFkcmFudF9lZGdlcyh2cywgeCwgeSk7XG4gICAgICAgICAgICBxdWFkcmFudF8yX2VkZ2VzID0gcXVhZHJhbnRfMl9lZGdlcy5zZXQocXMuZ2V0KHgsIHkpLCBxX2VkZ2VzKTtcbiAgICAgICAgICAgIHFfZWRnZXMuZm9yRWFjaChmdW5jdGlvbiAocWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgcSA9IHFzLmdldCh4LCB5KTtcbiAgICAgICAgICAgICAgICBpZiAoZWRnZV8yX3F1YWRyYW50cy5oYXMocWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVkZ2VfMl9xdWFkcmFudHMgPSBlZGdlXzJfcXVhZHJhbnRzLnVwZGF0ZShxZSwgKHhzKSA9PiB4cy5wdXNoKHEpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlZGdlXzJfcXVhZHJhbnRzID0gZWRnZV8yX3F1YWRyYW50cy5zZXQocWUsIExpc3Q8bnVtYmVyPihbcV0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBbcXVhZHJhbnRfMl9lZGdlcywgZWRnZV8yX3F1YWRyYW50c107XG59XG5cbmZ1bmN0aW9uIGdldF9xdWFkcmFudF9lZGdlcyhtOiBNYXRyaXgyLCB4OiBudW1iZXIsIHk6IG51bWJlcik6IExpc3Q8RWRnZT4ge1xuICAgIGxldCBvZmZzZXRzID0gW1xuICAgICAgICBbMCwwLDAsMV0sXG4gICAgICAgIFswLDAsMSwwXSxcbiAgICAgICAgWzEsMSwwLDFdLFxuICAgICAgICBbMSwxLDEsMF1cbiAgICBdO1xuICAgIGxldCBlZGdlcyA9IExpc3Q8RWRnZT4oKTtcbiAgICBmb3IgKGxldCBbeDEsIHkxLCB4MiwgeTJdIG9mIG9mZnNldHMpe1xuICAgICAgICBsZXQgZTEgPSBtLmdldCh4K3gxLCB5K3kxKTtcbiAgICAgICAgbGV0IGUyID0gbS5nZXQoeCt4MiwgeSt5Mik7XG4gICAgICAgIGlmIChlMiA8IGUxKXtcbiAgICAgICAgICAgIGVkZ2VzID0gZWRnZXMucHVzaChuZXcgRWRnZShlMiwgZTEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVkZ2VzID0gZWRnZXMucHVzaChuZXcgRWRnZShlMSwgZTIpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWRnZXM7XG59XG5cbmV4cG9ydCBsZXQgW3F1YWRyYW50XzJfZWRnZXMsIGVkZ2VfMl9xdWFkcmFudHNdID0gYnVpbGRfZWRnZV9xdWFkcmFudF9tYXBwaW5ncygpO1xuXG5mdW5jdGlvbiBnZXRfcXVhZHJhbnRfcGFydGl0aW9uKHF1YWRyYW50OiBudW1iZXIsIGN1dF9lZGdlczogTGlzdDxFZGdlPikge1xuICAgIGxldCBjdXJyZW50X3BhcnRpdGlvbiA9IFNldDxudW1iZXI+KFtxdWFkcmFudF0pLmFzTXV0YWJsZSgpO1xuICAgIGxldCBob3Jpem9uID0gTGlzdDxFZGdlPihxdWFkcmFudF8yX2VkZ2VzLmdldChxdWFkcmFudCkpLmFzTXV0YWJsZSgpO1xuXG4gICAgd2hpbGUgKGhvcml6b24uc2l6ZSA+IDApe1xuICAgICAgICBsZXQgZSA9IGhvcml6b24uZmlyc3QoKTsgaG9yaXpvbiA9IGhvcml6b24uc2hpZnQoKTtcbiAgICAgICAgaWYgKGN1dF9lZGdlcy5jb250YWlucyhlKSl7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmV4dF9xcyA9IFNldDxudW1iZXI+KGVkZ2VfMl9xdWFkcmFudHMuZ2V0KGUpKTtcbiAgICAgICAgbGV0IG5ld19xcyA9IG5leHRfcXMuc3VidHJhY3QoY3VycmVudF9wYXJ0aXRpb24pO1xuICAgICAgICBpZiAobmV3X3FzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICBuZXdfcXMuZm9yRWFjaChmdW5jdGlvbiAocSl7XG4gICAgICAgICAgICAgICAgaG9yaXpvbi5wdXNoKC4uLnF1YWRyYW50XzJfZWRnZXMuZ2V0KHEpLnRvQXJyYXkoKSk7XG4gICAgICAgICAgICAgICAgY3VycmVudF9wYXJ0aXRpb24uYWRkKHEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRfcGFydGl0aW9uLmFzSW1tdXRhYmxlKCk7XG59XG5cbmZ1bmN0aW9uIHJhbmdlKHg6IG51bWJlcil7XG4gICAgbGV0IGFycjogbnVtYmVyW10gPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHg7IGkrKyl7XG4gICAgICAgICBhcnIucHVzaChpKTtcbiAgICB9IFxuICAgIHJldHVybiBhcnI7XG59XG5cbmZ1bmN0aW9uIGdldF9wYXJ0aXRpb25zKGN1dF9lZGdlczogTGlzdDxFZGdlPil7XG4gICAgbGV0IHBhcnRpdGlvbnMgPSBMaXN0PFBhcnRpdGlvbj4oKS5hc011dGFibGUoKTtcbiAgICBsZXQgcXVhZHJhbnRzID0gU2V0PG51bWJlcj4ocmFuZ2UoMjQpKS5hc011dGFibGUoKTtcbiAgICB3aGlsZSAocXVhZHJhbnRzLnNpemUgPiAwKXtcbiAgICAgICAgbGV0IHEgPSBxdWFkcmFudHMuZmlyc3QoKTsgcXVhZHJhbnRzLnJlbW92ZShxKTtcbiAgICAgICAgbGV0IHBhcnRpdGlvbiA9IGdldF9xdWFkcmFudF9wYXJ0aXRpb24ocSwgY3V0X2VkZ2VzKTtcbiAgICAgICAgcGFydGl0aW9ucy5wdXNoKHBhcnRpdGlvbik7XG4gICAgICAgIHF1YWRyYW50cy5zdWJ0cmFjdChwYXJ0aXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gcGFydGl0aW9ucy5hc0ltbXV0YWJsZSgpO1xufVxuXG5leHBvcnQgY2xhc3MgRmFjZU1lc2gge1xuICAgIHJlYWRvbmx5IHZlcnRpY2VzOiBNYXRyaXgyO1xuICAgIHJlYWRvbmx5IHF1YWRyYW50czogTWF0cml4MjtcblxuICAgIGNvbnN0cnVjdG9yKHZlcnRpY2VzOiBNYXRyaXgyLCBxdWFkcmFudHM6IE1hdHJpeDIpe1xuICAgICAgICB0aGlzLnZlcnRpY2VzID0gdmVydGljZXM7XG4gICAgICAgIHRoaXMucXVhZHJhbnRzID0gcXVhZHJhbnRzO1xuICAgIH1cblxuICAgIHJvdGF0ZShkZWdyZWVzOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGYWNlTWVzaCh0aGlzLnZlcnRpY2VzLnJvdGF0ZShkZWdyZWVzKSwgdGhpcy5xdWFkcmFudHMucm90YXRlKGRlZ3JlZXMpKTtcbiAgICB9XG59XG5cbmludGVyZmFjZSBCb3hNZXNoUGFyYW1zIHtcbiAgICBkaW1lbnNpb25zPzogW251bWJlciwgbnVtYmVyLCBudW1iZXJdLFxuICAgIGZhY2VfbWVzaGVzPzogTWFwPEZhY2UsIEZhY2VNZXNoPixcbiAgICBjdXRfZWRnZXM/OiBMaXN0PEVkZ2U+XG59XG5cbmV4cG9ydCBjbGFzcyBCb3hNZXNoe1xuICAgIHJlYWRvbmx5IGRpbWVuc2lvbnM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcbiAgICByZWFkb25seSBmYWNlX21lc2hlczogTWFwPEZhY2UsIEZhY2VNZXNoPjtcbiAgICByZWFkb25seSBjdXRfZWRnZXM6IExpc3Q8RWRnZT47XG5cbiAgICBjb25zdHJ1Y3Rvcih7ZGltZW5zaW9ucywgZmFjZV9tZXNoZXMsIGN1dF9lZGdlc306IEJveE1lc2hQYXJhbXMpe1xuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBkaW1lbnNpb25zO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZhY2VfbWVzaGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZhY2VfbWVzaGVzID0gTWFwPEZhY2UsIEZhY2VNZXNoPigpO1xuICAgICAgICAgICAgZm9yIChsZXQgZiBvZiBmYWNlcyl7XG4gICAgICAgICAgICAgICAgZmFjZV9tZXNoZXMgPSBmYWNlX21lc2hlcy5zZXQoZixcbiAgICAgICAgICAgICAgICAgICAgbmV3IEZhY2VNZXNoKGZhY2VfdmVydGljZXMuZ2V0KGYpLCBmYWNlX3F1YWRyYW50cy5nZXQoZikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZhY2VfbWVzaGVzID0gZmFjZV9tZXNoZXM7XG5cbiAgICAgICAgaWYgKGN1dF9lZGdlcyA9PT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgIGN1dF9lZGdlcyA9IExpc3Q8RWRnZT4oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1dF9lZGdlcyA9IGN1dF9lZGdlcztcbiAgICB9XG5cbiAgICB1cGRhdGUoe2RpbWVuc2lvbnMsIGZhY2VfbWVzaGVzLCBjdXRfZWRnZXN9OiBCb3hNZXNoUGFyYW1zKXtcbiAgICAgICAgaWYgKGRpbWVuc2lvbnMgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICBkaW1lbnNpb25zID0gdGhpcy5kaW1lbnNpb25zO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZhY2VfbWVzaGVzID09PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgZmFjZV9tZXNoZXMgPSB0aGlzLmZhY2VfbWVzaGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1dF9lZGdlcyA9PT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgIGN1dF9lZGdlcyA9IHRoaXMuY3V0X2VkZ2VzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQm94TWVzaCh7ZGltZW5zaW9ucywgZmFjZV9tZXNoZXMsIGN1dF9lZGdlc30pO1xuICAgIH1cblxuICAgIGN1dChmYWNlOiBGYWNlLCBzdGFydDogUG9pbnQyLCBlbmQ6IFBvaW50Mil7XG4gICAgICAgIHJldHVybiB0aGlzLmN1dF9vcl90YXBlKEVkZ2VPcGVyYXRpb24uY3V0LCBmYWNlLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICB0YXBlKGZhY2U6IEZhY2UsIHN0YXJ0OiBQb2ludDIsIGVuZDogUG9pbnQyKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3V0X29yX3RhcGUoRWRnZU9wZXJhdGlvbi50YXBlLCBmYWNlLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICBjdXRfb3JfdGFwZShvcGVyYXRpb246IEVkZ2VPcGVyYXRpb24sIGZhY2U6IEZhY2UsIHN0YXJ0OiBQb2ludDIsIGVuZDogUG9pbnQyKTogQm94TWVzaCB7XG4gICAgICAgIGxldCBbeDEsIHkxXSA9IHN0YXJ0O1xuICAgICAgICBsZXQgW3gyLCB5Ml0gPSBlbmQ7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHgyIC0geDEpICsgTWF0aC5hYnMoeTIgLSB5MSkgIT0gMSl7XG4gICAgICAgICAgICB0aHJvdyBgc3RhcnQgYW5kIGVuZCBwb2ludHMgb2YgY3V0L3RhcGUgYXJlIG5vdCBhZGphY2VudDogJHtzdGFydH0gYW5kICR7ZW5kfWA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZiA9IHRoaXMuZmFjZV9tZXNoZXMuZ2V0KGZhY2UpLnZlcnRpY2VzO1xuICAgICAgICBsZXQgZnMgPSBmLmdldCh4MSwgeTEpO1xuICAgICAgICBsZXQgZmUgPSBmLmdldCh4MiwgeTIpO1xuXG4gICAgICAgIGxldCBuZXdfZWRnZSA9IG5ldyBFZGdlKGZzLCBmZSk7XG5cbiAgICAgICAgbGV0IG5ld19jdXRfZWRnZXMgPSB0aGlzLmN1dF9lZGdlcztcbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PSBFZGdlT3BlcmF0aW9uLmN1dCAmJiAhbmV3X2N1dF9lZGdlcy5jb250YWlucyhuZXdfZWRnZSkpIHtcbiAgICAgICAgICAgIG5ld19jdXRfZWRnZXMgPSBuZXdfY3V0X2VkZ2VzLnB1c2gobmV3X2VkZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PSBFZGdlT3BlcmF0aW9uLnRhcGUgJiYgbmV3X2N1dF9lZGdlcy5jb250YWlucyhuZXdfZWRnZSkpIHtcbiAgICAgICAgICAgIG5ld19jdXRfZWRnZXMgPSBuZXdfY3V0X2VkZ2VzLnJlbW92ZShuZXdfY3V0X2VkZ2VzLmluZGV4T2YobmV3X2VkZ2UpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZSh7Y3V0X2VkZ2VzOiBuZXdfY3V0X2VkZ2VzfSk7XG4gICAgfVxuXG4gICAgZ2V0X3JlbmRzKCkge1xuICAgICAgICByZXR1cm4gZ2V0X3BhcnRpdGlvbnModGhpcy5jdXRfZWRnZXMpO1xuICAgIH1cblxuICAgIGdldF9mcmVlX3JlbmRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRfcmVuZHMoKS5maWx0ZXIoeCA9PiAhdGhpcy5pc19wYXJ0aXRpb25fZml4ZWQoeCkpO1xuICAgIH1cblxuICAgIGlzX3BhcnRpdGlvbl9maXhlZChwYXJ0aXRpb246IFNldDxudW1iZXI+KSB7XG4gICAgICAgIGxldCBmYWNlX21lbWJlcnNoaXAgPSB0aGlzLmdldF9wYXJ0aXRpb25fZmFjZV9tZW1iZXJzaGlwKHBhcnRpdGlvbik7XG4gICAgICAgIHJldHVybiBmYWNlX21lbWJlcnNoaXAuZ2V0KEZhY2UuYikgPiAwO1xuICAgIH1cblxuICAgIGdldF9wYXJ0aXRpb25fZmFjZV9tZW1iZXJzaGlwKHBhcnRpdGlvbjogUGFydGl0aW9uKSB7XG4gICAgICAgIGxldCBmYWNlX21lbWJlcnNoaXAgPSBNYXA8RmFjZSwgbnVtYmVyPigpLmFzTXV0YWJsZSgpO1xuICAgICAgICBmb3IgKGxldCBmIG9mIGZhY2VzKSB7XG4gICAgICAgICAgICBsZXQgdG90YWwgPSAwO1xuICAgICAgICAgICAgbGV0IHF1YWRyYW50cyA9IHRoaXMuZmFjZV9tZXNoZXMuZ2V0KGYpLnF1YWRyYW50cztcbiAgICAgICAgICAgIHBhcnRpdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHF1YWRyYW50cy5jb250YWlucyhxKSl7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmYWNlX21lbWJlcnNoaXAuc2V0KGYsIHRvdGFsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFjZV9tZW1iZXJzaGlwLmFzSW1tdXRhYmxlKCk7XG4gICAgfVxuXG4gICAgZ2V0X3F1YWRyYW50X2ZhY2UocXVhZHJhbnQ6IG51bWJlcil7XG4gICAgICAgIGZvciAobGV0IGYgb2YgZmFjZXMpe1xuICAgICAgICAgICAgaWYgKHRoaXMuZmFjZV9tZXNoZXMuZ2V0KGYpLnF1YWRyYW50cy5jb250YWlucyhxdWFkcmFudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldF9kYW5nbGVzKCkge1xuICAgICAgICBsZXQgcmVuZHMgPSB0aGlzLmdldF9yZW5kcygpO1xuICAgICAgICBsZXQgZml4ZWRfcmVuZHMgPSByZW5kcy5maWx0ZXIoeCA9PiB0aGlzLmlzX3BhcnRpdGlvbl9maXhlZCh4KSk7XG5cbiAgICAgICAgbGV0IGRhbmdsZXMgPSBMaXN0PERhbmdsZT4oKS5hc011dGFibGUoKTtcbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuZ2V0X2JveF9lZGdlcygpLmZvckVhY2goZnVuY3Rpb24gKFtlMSwgZTJdKSB7XG4gICAgICAgICAgICBsZXQgZV8yX3FfMl9mID0gTWFwPEVkZ2UsIE1hcDxudW1iZXIsIEZhY2U+PigpLmFzTXV0YWJsZSgpO1xuICAgICAgICAgICAgZm9yIChsZXQgZSBvZiBbZTEsIGUyXSl7IC8vaW5pdGlhbGl6ZSBlXzJfcV8yX2ZcbiAgICAgICAgICAgICAgICBsZXQgaW5uZXJfbWFwID0gTWFwPG51bWJlciwgRmFjZT4oKS5hc011dGFibGUoKTtcbiAgICAgICAgICAgICAgICBlZGdlXzJfcXVhZHJhbnRzLmdldChlKS5mb3JFYWNoKGZ1bmN0aW9uIChxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlubmVyX21hcC5zZXQocSwgaW5uZXJfdGhpcy5nZXRfcXVhZHJhbnRfZmFjZShxKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgIGlubmVyX21hcCA9IGlubmVyX21hcC5hc0ltbXV0YWJsZSgpXG4gICAgICAgICAgICAgICAgZV8yX3FfMl9mLnNldChlLCBpbm5lcl9tYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZV8yX3FfMl9mID0gZV8yX3FfMl9mLmFzSW1tdXRhYmxlKCk7XG5cbiAgICAgICAgICAgIGxldCBlZGdlX2RhbmdsZXMgPSBMaXN0PERhbmdsZT4oKS5hc011dGFibGUoKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgZXMgb2YgW1tlMSwgZTJdLCBbZTFdLCBbZTJdXSkge1xuICAgICAgICAgICAgICAgIGxldCBuZXdfY3V0X2VkZ2VzID0gaW5uZXJfdGhpcy5jdXRfZWRnZXMucHVzaCguLi5lcyk7XG4gICAgICAgICAgICAgICAgbGV0IG5ld19wYXJ0aXRpb25zID0gZ2V0X3BhcnRpdGlvbnMobmV3X2N1dF9lZGdlcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV3X3BhcnRpdGlvbnMuc2l6ZSAhPSByZW5kcy5zaXplKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbmV3X3BhcnRpdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobnApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW5kcy5jb250YWlucyhucCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyX3RoaXMuaXNfcGFydGl0aW9uX2ZpeGVkKG5wKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFueV9pbnRlcnNlY3Rpb25zID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXhlZF9yZW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChmaXhlZF9yZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5wLmludGVyc2VjdChmaXhlZF9yZW5kKS5zaXplID4gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFueV9pbnRlcnNlY3Rpb25zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYW55X2ludGVyc2VjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbnlfZGFuZ2xlX21hdGNoZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VfZGFuZ2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpcyhucCwgZWQucGFydGl0aW9uKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFueV9kYW5nbGVfbWF0Y2hlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbnlfZGFuZ2xlX21hdGNoZXMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHFfMl9mcyA9IExpc3Q8TWFwPG51bWJlciwgRmFjZT4+KCkuYXNNdXRhYmxlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBlIG9mIGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcV8yX2ZzLnB1c2goZV8yX3FfMl9mLmdldChlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBxXzJfZnMgPSBxXzJfZnMuYXNJbW11dGFibGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpeGVkX2ZzID0gTGlzdDxGYWNlPigpLmFzTXV0YWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhbmdsZV9mcyA9IExpc3Q8RmFjZT4oKS5hc011dGFibGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcV8yX2ZzLmZvckVhY2goZnVuY3Rpb24gKHFfMl9mKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcV8yX2YuZW50cnlTZXEoKS5mb3JFYWNoKGZ1bmN0aW9uIChbcSwgZl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5wLmNvbnRhaW5zKHEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYW5nbGVfZnMgPSBkYW5nbGVfZnMucHVzaChmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpeGVkX2ZzID0gZml4ZWRfZnMucHVzaChmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXhlZF9mcyA9IGZpeGVkX2ZzLmFzSW1tdXRhYmxlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYW5nbGVfZnMgPSBkYW5nbGVfZnMuYXNJbW11dGFibGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpeGVkX2ZzLnRvU2V0KCkuc2l6ZSAhPSAxIHx8IGRhbmdsZV9mcy50b1NldCgpLnNpemUgIT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWRnZV9kYW5nbGVzLnB1c2gobmV3IERhbmdsZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBucCwgTGlzdDxFZGdlPihlcyksIGZpeGVkX2ZzLmdldCgwKSwgZGFuZ2xlX2ZzLmdldCgwKSkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlZGdlX2RhbmdsZXMgPSBlZGdlX2RhbmdsZXMuYXNJbW11dGFibGUoKTtcbiAgICAgICAgICAgIGRhbmdsZXMucHVzaCguLi5lZGdlX2RhbmdsZXMudG9BcnJheSgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRhbmdsZXMgPSBMaXN0PERhbmdsZT4oZGFuZ2xlcy5zb3J0QnkoeCA9PiB4LnBhcnRpdGlvbi5zaXplKSk7XG5cbiAgICAgICAgbGV0IGZpbmFsX2RhbmdsZXMgPSBMaXN0PERhbmdsZT4oKS5hc011dGFibGUoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhbmdsZXMuc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcCA9IGRhbmdsZXMuZ2V0KGkpLnBhcnRpdGlvbjtcblxuICAgICAgICAgICAgbGV0IGFueV9zdXBlcnNldHMgPSBmYWxzZTtcbiAgICAgICAgICAgIGRhbmdsZXMuc2tpcChpKzEpLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICBpZiAocC5pc1N1YnNldChkLnBhcnRpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgYW55X3N1cGVyc2V0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGlmICghYW55X3N1cGVyc2V0cykge1xuICAgICAgICAgICAgICAgIGZpbmFsX2RhbmdsZXMucHVzaChkYW5nbGVzLmdldChpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxfZGFuZ2xlcyA9IGZpbmFsX2RhbmdsZXMuYXNJbW11dGFibGUoKTtcblxuICAgICAgICByZXR1cm4gZmluYWxfZGFuZ2xlcztcbiAgICB9XG5cbiAgICBnZXRfYm94X2VkZ2VzKCkge1xuICAgICAgICBsZXQgZWRnZXMgPSBMaXN0PFtFZGdlLCBFZGdlXT4oKTtcblxuICAgICAgICBsZXQgdF9iX2VkZ2VfY29vcmRzOiBbbnVtYmVyLCBudW1iZXJdW11bXSA9IFtcbiAgICAgICAgICAgIFtbMCwwXSwgWzAsMV0sIFswLDJdXSxcbiAgICAgICAgICAgIFtbMCwwXSwgWzEsMF0sIFsyLDBdXSxcbiAgICAgICAgICAgIFtbMiwwXSwgWzIsMV0sIFsyLDJdXSxcbiAgICAgICAgICAgIFtbMCwyXSwgWzEsMl0sIFsyLDJdXVxuICAgICAgICBdO1xuXG4gICAgICAgIGZvciAobGV0IGYgb2YgW0ZhY2UudCwgRmFjZS5iXSkge1xuICAgICAgICAgICAgbGV0IG0gPSB0aGlzLmZhY2VfbWVzaGVzLmdldChmKS52ZXJ0aWNlcztcblxuICAgICAgICAgICAgZm9yIChsZXQgW1twMXgsIHAxeV0sIFtwMngsIHAyeV0sIFtwM3gsIHAzeV1dIG9mIHRfYl9lZGdlX2Nvb3Jkcykge1xuICAgICAgICAgICAgICAgIGxldCB2MSA9IG0uZ2V0KHAxeCwgcDF5KTtcbiAgICAgICAgICAgICAgICBsZXQgdjIgPSBtLmdldChwMngsIHAyeSk7XG4gICAgICAgICAgICAgICAgbGV0IHYzID0gbS5nZXQocDN4LCBwM3kpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGUxID0gbmV3IEVkZ2UodjEsIHYyKTtcblxuICAgICAgICAgICAgICAgIGxldCBlMiA9IG5ldyBFZGdlKHYyLCB2Myk7XG5cbiAgICAgICAgICAgICAgICBlZGdlcyA9IGVkZ2VzLnB1c2goW2UxLCBlMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgZiBvZiBbRmFjZS5uLCBGYWNlLmUsIEZhY2UucywgRmFjZS53XSkge1xuICAgICAgICAgICAgbGV0IG0gPSB0aGlzLmZhY2VfbWVzaGVzLmdldChmKS52ZXJ0aWNlcztcblxuICAgICAgICAgICAgbGV0IHYxID0gbS5nZXQoMCwwKTtcbiAgICAgICAgICAgIGxldCB2MiA9IG0uZ2V0KDAsMSk7XG4gICAgICAgICAgICBsZXQgdjMgPSBtLmdldCgwLDIpO1xuXG4gICAgICAgICAgICBsZXQgZTEgPSBuZXcgRWRnZSh2MSwgdjIpO1xuXG4gICAgICAgICAgICBsZXQgZTIgPSBuZXcgRWRnZSh2MiwgdjMpO1xuXG4gICAgICAgICAgICBlZGdlcyA9IGVkZ2VzLnB1c2goW2UxLCBlMl0pO1xuXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVkZ2VzO1xuICAgIH0gICAgXG5cbiAgICByb3RhdGVfeShkZWdyZWVzOiBudW1iZXIpIHtcbiAgICAgICAgLy92YWxpZGF0ZSBkZWdyZWVzIHNvbWVob3dcblxuICAgICAgICBpZiAoZGVncmVlcyA9PSAwIHx8IGRlZ3JlZXMgPT0gMzYwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuZXdfZmFjZXMgPSByb3RhdGVfeV9mYWNlcyh0aGlzLmZhY2VfbWVzaGVzLCBkZWdyZWVzKTtcbiAgICBcbiAgICAgICAgaWYgKGRlZ3JlZXMgPSAxODApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZSh7ZmFjZV9tZXNoZXM6IG5ld19mYWNlc30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IFt4LCB5LCB6XSA9IHRoaXMuZGltZW5zaW9ucztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZSh7ZGltZW5zaW9uczogW3osIHksIHhdLCBmYWNlX21lc2hlczogbmV3X2ZhY2VzfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByb2xsKGRpcmVjdGlvbjogRGlyZWN0aW9uKXtcbiAgICAgICAgbGV0IFt4LCB5LCB6XSA9IHRoaXMuZGltZW5zaW9ucztcbiAgICAgICAgbGV0IG5ld194LCBuZXdfeSwgbmV3X3o7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT0gRGlyZWN0aW9uLm4gfHwgZGlyZWN0aW9uID09IERpcmVjdGlvbi5zKSB7XG4gICAgICAgICAgICBbbmV3X3gsIG5ld195LCBuZXdfel0gPSBbeCwgeSwgel07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBbbmV3X3gsIG5ld195LCBuZXdfel0gPSBbeSwgeCwgel07XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmV3X2ZhY2VzID0gcm9sbF9mYWNlcyh0aGlzLmZhY2VfbWVzaGVzLCBkaXJlY3Rpb24pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZSh7ZGltZW5zaW9uczogW25ld194LCBuZXdfeSwgbmV3X3pdLCBmYWNlX21lc2hlczogbmV3X2ZhY2VzfSk7XG4gICAgfVxuXG4gICAgZGVzY3JpcHRpb24oKXtcbiAgICAgICAgbGV0IGZhY2VfZGVzY3IgPSBNYXA8RmFjZSwgc3RyaW5nPihbXG4gICAgICAgICAgICBbRmFjZS50LCAndG9wJ10sXG4gICAgICAgICAgICBbRmFjZS5iLCAnYm90dG9tJ10sXG4gICAgICAgICAgICBbRmFjZS5uLCAnYmFjayddLFxuICAgICAgICAgICAgW0ZhY2UuZSwgJ3JpZ2h0J10sXG4gICAgICAgICAgICBbRmFjZS5zLCAnZnJvbnQnXSxcbiAgICAgICAgICAgIFtGYWNlLncsICdsZWZ0J11cbiAgICAgICAgXSk7XG5cbiAgICAgICAgbGV0IFt4LCB5LCB6XSA9IHRoaXMuZGltZW5zaW9ucztcblxuICAgICAgICBsZXQgcmVzdWx0ID0gYFRoZSBib3gncyBkaW1lbnNpb25zIG1lYXN1cmUgJHt4fSBieSAke3l9IGJ5ICR7en1gO1xuXG4gICAgICAgIGxldCByZW5kcyA9IHRoaXMuZ2V0X2ZyZWVfcmVuZHMoKTtcbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIHJlbmRzLmZvckVhY2goZnVuY3Rpb24gKGZyKSB7XG4gICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gaW5uZXJfdGhpcy5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChmcik7XG4gICAgICAgICAgICBsZXQgZmFjZXNfcHJlc2VudDogRmFjZVtdID1bXTtcbiAgICAgICAgICAgIGZvciAobGV0IGYgb2YgZmFjZXMpe1xuICAgICAgICAgICAgICAgIGlmIChmYWNlX21lbWJlcnNoaXAuZ2V0KGYpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmYWNlc19wcmVzZW50LnB1c2goZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZmFjZXNfdGV4dDogc3RyaW5nO1xuICAgICAgICAgICAgaWYgKGZhY2VzX3ByZXNlbnQubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICBmYWNlc190ZXh0ID0gZmFjZV9kZXNjci5nZXQoZmFjZXNfcHJlc2VudFswXSkgKyAnIGZhY2UnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNlc190ZXh0ID0gZmFjZXNfcHJlc2VudC5zbGljZSgwLCAtMSkubWFwKGYgPT4gZmFjZV9kZXNjci5nZXQoZikpLmpvaW4oJywgJyk7XG4gICAgICAgICAgICAgICAgZmFjZXNfdGV4dCArPSBgIGFuZCAke2ZhY2VfZGVzY3IuZ2V0KGZhY2VzX3ByZXNlbnRbZmFjZXNfcHJlc2VudC5sZW5ndGgtMV0pfSBmYWNlc2A7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdCArPSBgXFxuQSBwb3J0aW9uIG9mIHRoZSBib3gncyAke2ZhY2VzX3RleHR9IGhhcyBiZWVuIHJlbmRlZCBmcmVlOyBpdCBsaWVzIG9uIHRoZSBmbG9vciBvZmYgdG8gdGhlIHNpZGUuYDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGRhbmdsZXMgPSB0aGlzLmdldF9kYW5nbGVzKCk7XG5cbiAgICAgICAgZGFuZ2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gaW5uZXJfdGhpcy5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChkLnBhcnRpdGlvbik7XG4gICAgICAgICAgICBsZXQgZmFjZXNfcHJlc2VudDogRmFjZVtdID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBmIG9mIGZhY2VzKXtcbiAgICAgICAgICAgICAgICBpZiAoZmFjZV9tZW1iZXJzaGlwLmdldChmKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjZXNfcHJlc2VudC5wdXNoKGYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGZhY2VzX3RleHQ6IHN0cmluZztcbiAgICAgICAgICAgIGlmIChmYWNlc19wcmVzZW50Lmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgZmFjZXNfdGV4dCA9IGZhY2VfZGVzY3IuZ2V0KGZhY2VzX3ByZXNlbnRbMF0pICsgJyBmYWNlJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjZXNfdGV4dCA9IGZhY2VzX3ByZXNlbnQuc2xpY2UoMCwgLTEpLm1hcChmID0+IGZhY2VfZGVzY3IuZ2V0KGYpKS5qb2luKCcsICcpO1xuICAgICAgICAgICAgICAgIGZhY2VzX3RleHQgKz0gYCBhbmQgJHtmYWNlX2Rlc2NyLmdldChmYWNlc19wcmVzZW50W2ZhY2VzX3ByZXNlbnQubGVuZ3RoLTFdKX0gZmFjZXNgO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHQgKz0gYFxcbkEgcG9ydGlvbiBvZiB0aGUgYm94J3MgJHtmYWNlc190ZXh0fSBzaXRzIG9uIGEgZnJlZSBoaW5nZTsgZnJvbSB0aGUgJHtmYWNlX2Rlc2NyLmdldChkLmZyZWVfZmFjZSl9IGZhY2UgaXQgY2FuIGJlIHN3dW5nIHRvIHRoZSAke2ZhY2VfZGVzY3IuZ2V0KGQuZml4ZWRfZmFjZSl9LmA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByb3RhdGVfeV9mYWNlcyhmczogTWFwPEZhY2UsIEZhY2VNZXNoPiwgZGVncmVlczogbnVtYmVyKSB7XG4gICAgaWYgKGRlZ3JlZXMgPT0gMCB8fCBkZWdyZWVzID09IDM2MCkge1xuICAgICAgICByZXR1cm4gZnM7XG4gICAgfVxuXG4gICAgbGV0IHNoaWZ0ID0gZGVncmVlcyAvIDkwO1xuICAgIGxldCBmYWNlX2N5Y2xlID0gW0ZhY2UubiwgRmFjZS53LCBGYWNlLnMsIEZhY2UuZSwgRmFjZS5uLCBGYWNlLncsIEZhY2UucywgRmFjZS5lXTtcblxuICAgIGxldCBuZXdfZmFjZXMgPSBNYXA8RmFjZSwgRmFjZU1lc2g+KCk7XG5cbiAgICBmb3IgKGxldCBmIG9mIFtGYWNlLm4sIEZhY2UuZSwgRmFjZS5zLCBGYWNlLnddKXtcbiAgICAgICAgbGV0IGluZCA9IGZhY2VfY3ljbGUuaW5kZXhPZihmKTtcbiAgICAgICAgbmV3X2ZhY2VzID0gbmV3X2ZhY2VzLnNldChmLCBmcy5nZXQoZmFjZV9jeWNsZVtpbmQgKyBzaGlmdF0pKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBmIG9mIFtGYWNlLnQsIEZhY2UuYl0pe1xuICAgICAgICBuZXdfZmFjZXMgPSBuZXdfZmFjZXMuc2V0KGYsIGZzLmdldChmKS5yb3RhdGUoZGVncmVlcykpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdfZmFjZXM7XG59XG5cbmZ1bmN0aW9uIHJvbGxfZmFjZXMoZnM6IE1hcDxGYWNlLCBGYWNlTWVzaD4sIGRpcmVjdGlvbjogRGlyZWN0aW9uKXtcbiAgICBsZXQgbmV3X2ZhY2VzID0gTWFwPEZhY2UsIEZhY2VNZXNoPigpLmFzTXV0YWJsZSgpO1xuXG4gICAgaWYgKGRpcmVjdGlvbiA9PSBEaXJlY3Rpb24ubikge1xuICAgICAgICBuZXdfZmFjZXMuc2V0KFxuICAgICAgICAgICAgRmFjZS5uLCBmcy5nZXQoRmFjZS50KS5yb3RhdGUoMTgwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS50LCBmcy5nZXQoRmFjZS5zKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS5zLCBmcy5nZXQoRmFjZS5iKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS5iLCBmcy5nZXQoRmFjZS5uKS5yb3RhdGUoMTgwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS5lLCBmcy5nZXQoRmFjZS5lKS5yb3RhdGUoOTApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLncsIGZzLmdldChGYWNlLncpLnJvdGF0ZSgyNzApKTtcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBEaXJlY3Rpb24ucykge1xuICAgICAgICBuZXdfZmFjZXMuc2V0KFxuICAgICAgICAgICAgRmFjZS5zLCBmcy5nZXQoRmFjZS50KSkuc2V0KFxuICAgICAgICAgICAgRmFjZS50LCBmcy5nZXQoRmFjZS5uKS5yb3RhdGUoMTgwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS5uLCBmcy5nZXQoRmFjZS5iKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS5iLCBmcy5nZXQoRmFjZS5zKS5yb3RhdGUoMTgwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS5lLCBmcy5nZXQoRmFjZS5lKS5yb3RhdGUoMjcwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS53LCBmcy5nZXQoRmFjZS53KS5yb3RhdGUoOTApKTtcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBEaXJlY3Rpb24uZSkge1xuICAgICAgICBuZXdfZmFjZXMuc2V0KFxuICAgICAgICAgICAgRmFjZS5lLCBmcy5nZXQoRmFjZS50KS5yb3RhdGUoOTApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLnQsIGZzLmdldChGYWNlLncpLnJvdGF0ZSg5MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UudywgZnMuZ2V0KEZhY2UuYikucm90YXRlKDI3MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UuYiwgZnMuZ2V0KEZhY2UuZSkucm90YXRlKDI3MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UubiwgZnMuZ2V0KEZhY2Uubikucm90YXRlKDI3MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UucywgZnMuZ2V0KEZhY2Uucykucm90YXRlKDkwKSk7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRGlyZWN0aW9uLncpIHtcbiAgICAgICAgbmV3X2ZhY2VzLnNldChcbiAgICAgICAgICAgIEZhY2UudywgZnMuZ2V0KEZhY2UudCkucm90YXRlKDI3MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UudCwgZnMuZ2V0KEZhY2UuZSkucm90YXRlKDI3MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UuZSwgZnMuZ2V0KEZhY2UuYikucm90YXRlKDkwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS5iLCBmcy5nZXQoRmFjZS53KS5yb3RhdGUoOTApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLm4sIGZzLmdldChGYWNlLm4pLnJvdGF0ZSg5MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UucywgZnMuZ2V0KEZhY2Uucykucm90YXRlKDI3MCkpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdfZmFjZXMuYXNJbW11dGFibGUoKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gdGVzdCgpe1xuICAgIGxldCBibSA9IG5ldyBCb3hNZXNoKHtkaW1lbnNpb25zOiBbMiwzLDRdfSk7XG5cbiAgICBsZXQgYm0yID0gYm0uY3V0KEZhY2UudCwgWzAsMF0sIFsxLDBdKS5jdXQoRmFjZS50LCBbMSwwXSwgWzEsMV0pLmN1dChGYWNlLnQsIFsxLDFdLCBbMCwxXSkuY3V0KEZhY2UudCwgWzAsMV0sIFswLDBdKTtcbiAgICBsZXQgYm0zID0gYm0yLmN1dChGYWNlLnQsIFswLDFdLCBbMCwyXSkuY3V0KEZhY2UucywgWzAsIDBdLCBbMCwgMV0pLmN1dChGYWNlLnMsIFswLDFdLCBbMSwxXSkuY3V0KEZhY2UucywgWzEsMV0sIFsxLDBdKS5jdXQoRmFjZS50LCBbMSwgMl0sIFsxLDFdKVxuXG4gICAgbGV0IGJtNCA9IGJtLmN1dChGYWNlLnQsIFswLDBdLCBbMSwwXSkucm9sbChEaXJlY3Rpb24ucykuY3V0KEZhY2UudCwgWzAsMl0sIFswLDFdKS5jdXQoRmFjZS50LCBbMCwxXSwgWzEsMV0pLmN1dChGYWNlLnQsIFsxLDFdLCBbMSwyXSk7XG5cbiAgICBsZXQgYm01ID0gYm0uY3V0KEZhY2UubiwgWzAsMF0sIFsxLDBdKS5jdXQoRmFjZS5uLCBbMSwwXSwgWzIsMF0pLmN1dChGYWNlLm4sIFsyLDBdLCBbMiwxXSkuY3V0KEZhY2UubiwgWzIsMV0sIFsxLDFdKS5jdXQoRmFjZS5uLCBbMSwxXSwgWzAsMV0pLmN1dChGYWNlLm4sIFsxLDFdLCBbMSwgMF0pLmN1dChGYWNlLm4sIFswLDFdLCBbMCwwXSk7XG5cbiAgICBsZXQgYm02ID0gYm0uY3V0KEZhY2UudCwgWzAsMF0sIFswLDFdKS5jdXQoRmFjZS50LCBbMCwxXSwgWzEsMV0pLmN1dChGYWNlLnQsIFsxLDFdLCBbMSwwXSk7XG4gICAgbGV0IGJtNyA9IGJtMi5jdXQoRmFjZS50LCBbMCwxXSwgWzAsMl0pLmN1dChGYWNlLnQsIFsxLDFdLCBbMSwyXSk7XG5cbiAgICBsZXQgYm04ID0gKGJtLmN1dChGYWNlLnQsIFswLDBdLCBbMSwwXSkuY3V0KEZhY2UudCwgWzEsMF0sIFsyLDBdKS5jdXQoRmFjZS50LCBbMiwwXSwgWzIsMV0pLmN1dChGYWNlLnQsIFsyLDFdLCBbMiwyXSlcbiAgICAgICAgICAgICAuY3V0KEZhY2UudCwgWzAsMl0sIFswLDFdKS5jdXQoRmFjZS50LCBbMCwxXSwgWzEsMV0pLmN1dChGYWNlLnQsIFsxLDFdLCBbMSwyXSlcbiAgICAgICAgICAgICAuY3V0KEZhY2UucywgWzEsMF0sIFsxLDFdKS5jdXQoRmFjZS5zLCBbMSwxXSwgWzAsMV0pXG4gICAgICAgICAgICAgLmN1dChGYWNlLncsIFswLDBdLCBbMCwxXSkuY3V0KEZhY2UudywgWzAsMV0sIFsxLDFdKS5jdXQoRmFjZS53LCBbMSwxXSwgWzIsMV0pKTtcblxuICAgIGxldCBibXM6IEJveE1lc2hbXSA9IFtibSwgYm0yLCBibTMsIGJtNCwgYm01LCBibTYsIGJtNywgYm04XTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgYiA9IGJtc1tpXTtcblxuICAgICAgICBjb25zb2xlLmxvZygnQm94ICMnLCBpKzEpO1xuICAgICAgICBjb25zb2xlLmxvZygpO1xuICAgICAgICBjb25zb2xlLmxvZyhiLmRlc2NyaXB0aW9uKCkpO1xuICAgICAgICBjb25zb2xlLmxvZygpO1xuICAgICAgICBjb25zb2xlLmxvZygpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7TWFwfSBmcm9tICdpbW11dGFibGUnO1xuaW1wb3J0IHtEaXJlY3Rpb24sIEVkZ2VPcGVyYXRpb24sIEVkZ2VEaXJlY3Rpb24sIEZhY2UsIFJlbGF0aXZlUG9zaXRpb24sIFJlbmRPcGVyYXRpb259IGZyb20gJy4vZGF0YXR5cGVzJztcblxuZXhwb3J0IHR5cGUgVG9rZW4gPSBzdHJpbmc7XG5cbmV4cG9ydCB0eXBlIEhvcml6UG9zaXRpb25Xb3JkID0gJ2xlZnQnIHwgJ2NlbnRlcicgfCAncmlnaHQnO1xuZXhwb3J0IHR5cGUgVmVydFBvc2l0aW9uV29yZCA9ICd0b3AnIHwgJ21pZGRsZScgfCAnYm90dG9tJztcblxuZXhwb3J0IHR5cGUgUG9zaXRpb25Xb3JkID0gSG9yaXpQb3NpdGlvbldvcmQgfCBWZXJ0UG9zaXRpb25Xb3JkO1xuZXhwb3J0IGxldCB3b3JkXzJfcmVsYXRpdmVfcG9zaXRpb24gPSBNYXA8UG9zaXRpb25Xb3JkLCBSZWxhdGl2ZVBvc2l0aW9uPihbXG4gICAgWydsZWZ0JywgUmVsYXRpdmVQb3NpdGlvbi5sZWZ0XSxcbiAgICBbJ2NlbnRlcicsIFJlbGF0aXZlUG9zaXRpb24uY2VudGVyXSxcbiAgICBbJ3JpZ2h0JywgUmVsYXRpdmVQb3NpdGlvbi5yaWdodF0sXG4gICAgWyd0b3AnLCBSZWxhdGl2ZVBvc2l0aW9uLnRvcF0sXG4gICAgWydtaWRkbGUnLCBSZWxhdGl2ZVBvc2l0aW9uLm1pZGRsZV0sXG4gICAgWydib3R0b20nLCBSZWxhdGl2ZVBvc2l0aW9uLmJvdHRvbV1cbl0pO1xuXG5leHBvcnQgdHlwZSBGYWNlV29yZCA9ICdiYWNrJyB8ICdmcm9udCcgfCAncmlnaHQnIHwgJ2xlZnQnIHwgJ3RvcCcgfCAnYm90dG9tJztcbmV4cG9ydCBsZXQgd29yZF8yX2ZhY2UgPSBNYXA8RmFjZVdvcmQsIEZhY2U+KFtcbiAgICBbJ2JhY2snLCBGYWNlLm5dLFxuICAgIFsnZnJvbnQnLCBGYWNlLnNdLFxuICAgIFsncmlnaHQnLCBGYWNlLmVdLFxuICAgIFsnbGVmdCcsIEZhY2Uud10sXG4gICAgWyd0b3AnLCBGYWNlLnRdLFxuICAgIFsnYm90dG9tJywgRmFjZS5iXVxuXSk7XG5cbmV4cG9ydCB0eXBlIFJlbmRPcFdvcmQgPSAnb3BlbicgfCAnY2xvc2UnO1xuZXhwb3J0IGxldCB3b3JkXzJfcmVuZF9vcCA9IE1hcDxSZW5kT3BXb3JkLCBSZW5kT3BlcmF0aW9uPihbXG4gICAgWydvcGVuJywgUmVuZE9wZXJhdGlvbi5vcGVuXSxcbiAgICBbJ2Nsb3NlJywgUmVuZE9wZXJhdGlvbi5jbG9zZV1cbl0pO1xuXG5leHBvcnQgdHlwZSBFZGdlT3BXb3JkID0gJ2N1dCcgfCAndGFwZSc7XG5leHBvcnQgbGV0IHdvcmRfMl9lZGdlX29wID0gTWFwPEVkZ2VPcFdvcmQsIEVkZ2VPcGVyYXRpb24+KFtcbiAgICBbJ2N1dCcsIEVkZ2VPcGVyYXRpb24uY3V0XSxcbiAgICBbJ3RhcGUnLCBFZGdlT3BlcmF0aW9uLnRhcGVdXG5dKTtcblxuZXhwb3J0IHR5cGUgRWRnZURpcldvcmQgPSAnaG9yaXpvbnRhbGx5JyB8ICd2ZXJ0aWNhbGx5JztcbmV4cG9ydCBsZXQgd29yZF8yX2VkZ2VfZGlyID0gTWFwPEVkZ2VEaXJXb3JkLCBFZGdlRGlyZWN0aW9uPihbXG4gICAgWydob3Jpem9udGFsbHknLCBFZGdlRGlyZWN0aW9uLmhvcml6b250YWxdLFxuICAgIFsndmVydGljYWxseScsIEVkZ2VEaXJlY3Rpb24udmVydGljYWxdXG5dKTtcblxuZXhwb3J0IHR5cGUgUm90YXRlWURpcldvcmQgPSBcImxlZnRcIiB8IFwicmlnaHRcIjtcbmV4cG9ydCBsZXQgd29yZF8yX2RlZ3JlZXMgPSBNYXA8Um90YXRlWURpcldvcmQsIG51bWJlcj4oW1xuICAgIFsnbGVmdCcsIDI3MF0sXG4gICAgWydyaWdodCcsIDkwXVxuXSk7XG5cbmV4cG9ydCB0eXBlIFJvbGxEaXJXb3JkID0gXCJmb3J3YXJkXCIgfCBcImJhY2t3YXJkXCIgfCBcImxlZnRcIiB8IFwicmlnaHRcIjtcbmV4cG9ydCBsZXQgd29yZF8yX2RpciA9IE1hcDxSb2xsRGlyV29yZCwgRGlyZWN0aW9uPihbXG4gICAgWydmb3J3YXJkJywgRGlyZWN0aW9uLm5dLFxuICAgIFsnYmFja3dhcmQnLCBEaXJlY3Rpb24uc10sXG4gICAgWydsZWZ0JywgRGlyZWN0aW9uLnddLFxuICAgIFsncmlnaHQnLCBEaXJlY3Rpb24uZV1cbl0pOyIsImltcG9ydCB7XG4gICAgQ29sbGVjdGlvbixcbiAgICBoYXNoLFxuICAgIGlzSW1tdXRhYmxlLFxuICAgIExpc3QsXG4gICAgTWFwLFxuICAgIFNldFxufSBmcm9tICdpbW11dGFibGUnO1xuXG5leHBvcnQgdHlwZSBQYXJ0aXRpb24gPSBTZXQ8bnVtYmVyPjtcblxuZXhwb3J0IGNsYXNzIEVkZ2Uge1xuICAgIHJlYWRvbmx5IHN0YXJ0OiBudW1iZXI7XG4gICAgcmVhZG9ubHkgZW5kOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcil7XG4gICAgICAgIGlmIChlbmQgPCBzdGFydCl7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gZW5kO1xuICAgICAgICAgICAgdGhpcy5lbmQgPSBzdGFydDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgIHRoaXMuZW5kID0gZW5kO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXF1YWxzKG90aGVyOkVkZ2Upe1xuICAgICAgICByZXR1cm4gKHRoaXMuc3RhcnQgPT0gb3RoZXIuc3RhcnQgJiYgdGhpcy5lbmQgPT0gb3RoZXIuZW5kKTtcbiAgICB9XG5cbiAgICBoYXNoQ29kZSgpIHtcbiAgICAgICAgcmV0dXJuIGhhc2goaGFzaCh0aGlzLnN0YXJ0KSArIGhhc2godGhpcy5lbmQpKTtcbiAgICAgICAgLy8gZnVja1xuICAgICAgICAvLyByZXR1cm4gKCB0aGlzLmVuZCA8PCAxNiApIF4gdGhpcy5zdGFydDtcbiAgICB9XG59XG5cbmV4cG9ydCBlbnVtIEZhY2Uge1xuICAgIG4gPSAwLFxuICAgIHMgPSAxLFxuICAgIGUgPSAyLFxuICAgIHcgPSAzLFxuICAgIHQgPSA0LFxuICAgIGIgPSA1XG59XG5cbmV4cG9ydCBsZXQgZmFjZXMgPSBbRmFjZS5uLCBGYWNlLnMsIEZhY2UuZSwgRmFjZS53LCBGYWNlLnQsIEZhY2UuYl07XG5cbmV4cG9ydCBlbnVtIERpcmVjdGlvbiB7XG4gICAgbiA9IDAsXG4gICAgcyA9IDEsXG4gICAgZSA9IDIsXG4gICAgdyA9IDNcbn1cblxuZXhwb3J0IGxldCBkaXJlY3Rpb25zID0gW0RpcmVjdGlvbi5uLCBEaXJlY3Rpb24ucywgRGlyZWN0aW9uLmUsIERpcmVjdGlvbi53XTtcblxuZXhwb3J0IGxldCBkaXJlY3Rpb25fMl9mYWNlID0gTWFwPERpcmVjdGlvbiwgRmFjZT4oW1xuICAgIFtEaXJlY3Rpb24ubiwgRmFjZS5uXSxcbiAgICBbRGlyZWN0aW9uLnMsIEZhY2Uuc10sXG4gICAgW0RpcmVjdGlvbi5lLCBGYWNlLmVdLFxuICAgIFtEaXJlY3Rpb24udywgRmFjZS53XVxuXSk7XG5cbmV4cG9ydCBjbGFzcyBEYW5nbGUge1xuICAgIHJlYWRvbmx5IHBhcnRpdGlvbjogUGFydGl0aW9uO1xuICAgIHJlYWRvbmx5IGVkZ2VzOiBMaXN0PEVkZ2U+O1xuICAgIHJlYWRvbmx5IGZpeGVkX2ZhY2U6IEZhY2U7XG4gICAgcmVhZG9ubHkgZnJlZV9mYWNlOiBGYWNlO1xuXG4gICAgY29uc3RydWN0b3IocGFydGl0aW9uOiBQYXJ0aXRpb24sIGVkZ2VzOiBMaXN0PEVkZ2U+LCBmaXhlZF9mYWNlOiBGYWNlLCBmcmVlX2ZhY2U6IEZhY2UpIHtcbiAgICAgICAgdGhpcy5wYXJ0aXRpb24gPSBwYXJ0aXRpb247XG4gICAgICAgIHRoaXMuZWRnZXMgPSBlZGdlcztcbiAgICAgICAgdGhpcy5maXhlZF9mYWNlID0gZml4ZWRfZmFjZTtcbiAgICAgICAgdGhpcy5mcmVlX2ZhY2UgPSBmcmVlX2ZhY2U7XG4gICAgfVxuXG4gICAgZXF1YWxzKG90aGVyOiBEYW5nbGUpe1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy5wYXJ0aXRpb24uZXF1YWxzKG90aGVyLnBhcnRpdGlvbilcbiAgICAgICAgICAgICYmIHRoaXMuZWRnZXMuZXF1YWxzKG90aGVyLmVkZ2VzKVxuICAgICAgICAgICAgJiYgdGhpcy5maXhlZF9mYWNlID09PSBvdGhlci5maXhlZF9mYWNlXG4gICAgICAgICAgICAmJiB0aGlzLmZyZWVfZmFjZSA9PT0gb3RoZXIuZnJlZV9mYWNlKTtcbiAgICB9XG5cbiAgICBoYXNoQ29kZSgpIHtcbiAgICAgICAgcmV0dXJuIGhhc2goaGFzaCh0aGlzLnBhcnRpdGlvbikgKyBoYXNoKHRoaXMuZWRnZXMpICsgaGFzaCh0aGlzLmZpeGVkX2ZhY2UpICsgaGFzaCh0aGlzLmZyZWVfZmFjZSkpO1xuICAgICAgICAvL2xldCBmYWNlc19oYXNoID0gKHRoaXMuZml4ZWRfZmFjZSA8PCAxNikgXiB0aGlzLmZyZWVfZmFjZTsgLy9mdWNrIVxuICAgICAgICAvL3JldHVybiB0aGlzLnBhcnRpdGlvbi5oYXNoQ29kZSgpICsgdGhpcy5lZGdlcy5oYXNoQ29kZSgpICsgZmFjZXNfaGFzaDtcbiAgICB9XG59XG5cbmV4cG9ydCB0eXBlIFBvaW50MiA9IFtudW1iZXIsIG51bWJlcl07XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlX21hdHJpeDIoZGF0YV9vYmo6IG51bWJlcltdW10pIHtcbiAgICBsZXQgZGltX3kgPSBkYXRhX29iai5sZW5ndGg7XG4gICAgbGV0IGRpbV94ID0gZGF0YV9vYmpbMF0ubGVuZ3RoO1xuXG4gICAgbGV0IGRhdGEgPSBuZXcgSW50MTZBcnJheShkYXRhX29iai5yZWR1Y2UoKHgsIHkpID0+IHguY29uY2F0KHkpKSk7XG4gICAgLy8gVE9ETyBjb21wbGFpbiBpZiB0aGUgdG90YWwgbGVuZ3RoIGlzIHdyb25nXG4gICAgcmV0dXJuIG5ldyBNYXRyaXgyKGRhdGEsIGRpbV94LCBkaW1feSk7XG59XG5cbmV4cG9ydCBjbGFzcyBNYXRyaXgyIHtcbiAgICByZWFkb25seSBkaW1feDogbnVtYmVyO1xuICAgIHJlYWRvbmx5IGRpbV95OiBudW1iZXI7XG4gICAgcmVhZG9ubHkgZGF0YTogSW50MTZBcnJheTtcbiAgICBcbiAgICBjb25zdHJ1Y3RvciAoZGF0YTogSW50MTZBcnJheSwgZGltX3g6IG51bWJlciwgZGltX3k6IG51bWJlcikge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLmRpbV94ID0gZGltX3g7XG4gICAgICAgIHRoaXMuZGltX3kgPSBkaW1feTtcbiAgICB9XG5cbiAgICBnZXQoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhW3kgKiB0aGlzLmRpbV94ICsgeF07XG4gICAgfVxuXG4gICAgc2V0KHg6IG51bWJlciwgeTogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZGF0YVt5ICogdGhpcy5kaW1feCArIHhdID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcm90YXRlKGRlZ3JlZXM6IG51bWJlcik6IE1hdHJpeDIge1xuICAgICAgICAvL3ZhbGlkYXRlIGlucHV0IGJldHRlclxuXG4gICAgICAgIGlmIChkZWdyZWVzID09IDM2MCB8fCBkZWdyZWVzID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgbl9yb3RhdGlvbnMgPSBkZWdyZWVzIC8gOTA7XG4gICAgICAgIGxldCBtOiBNYXRyaXgyID0gdGhpcztcbiAgICAgICAgY29uc3QgZGltX3ggPSB0aGlzLmRpbV94O1xuICAgICAgICBjb25zdCBkaW1feSA9IHRoaXMuZGltX3k7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbl9yb3RhdGlvbnM7IGkrKyl7XG4gICAgICAgICAgICBsZXQgbmV3X2RhdGEgPSBuZXcgSW50MTZBcnJheShkaW1feCAqIGRpbV95KTtcbiAgICAgICAgICAgIGxldCBuZXdfbWF0MiA9IG5ldyBNYXRyaXgyKG5ld19kYXRhLCBkaW1feSwgZGltX3gpO1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBkaW1feTsgeSsrKXtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGRpbV94OyB4Kyspe1xuICAgICAgICAgICAgICAgICAgICBuZXdfbWF0Mi5zZXQoZGltX3kgLSAxIC0geSwgeCwgbS5nZXQoeCwgeSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG0gPSBuZXdfbWF0MjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbVxuICAgIH1cblxuICAgIGNvbnRhaW5zKHZhbHVlOiBudW1iZXIpOiBib29sZWFue1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmluZGV4T2YodmFsdWUpICE9PSAtMTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGVudW0gQ2FyZGJvYXJkRWRnZSB7XG4gICAgaW50YWN0ID0gMCxcbiAgICBjdXQgPSAxLFxufVxuXG5leHBvcnQgZW51bSBUYXBlRWRnZSB7XG4gICAgdW50YXBlZCA9IDAsXG4gICAgdGFwZWQgPSAxLFxuICAgIGN1dCA9IDJcbn1cblxuZXhwb3J0IGNsYXNzIEVkZ2VTdGF0ZSB7XG4gICAgcmVhZG9ubHkgY2FyZGJvYXJkOiBDYXJkYm9hcmRFZGdlO1xuICAgIHJlYWRvbmx5IHRhcGU6IFRhcGVFZGdlO1xuXG4gICAgY29uc3RydWN0b3IgKGNhcmRib2FyZD86IENhcmRib2FyZEVkZ2UsIHRhcGU/OiBUYXBlRWRnZSl7XG4gICAgICAgIGlmIChjYXJkYm9hcmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2FyZGJvYXJkID0gQ2FyZGJvYXJkRWRnZS5pbnRhY3Q7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYXJkYm9hcmQgPSBjYXJkYm9hcmQ7XG5cbiAgICAgICAgaWYgKHRhcGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGFwZSA9IFRhcGVFZGdlLnVudGFwZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50YXBlID0gdGFwZTtcbiAgICB9XG5cbiAgICBjdXQoKSB7XG4gICAgICAgIGxldCBuZXdfdGFwZTogVGFwZUVkZ2U7XG4gICAgICAgIGlmICh0aGlzLnRhcGUgPT0gVGFwZUVkZ2UudGFwZWQpIHtcbiAgICAgICAgICAgIG5ld190YXBlID0gVGFwZUVkZ2UuY3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3X3RhcGUgPSB0aGlzLnRhcGVcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgRWRnZVN0YXRlKENhcmRib2FyZEVkZ2UuY3V0LCBuZXdfdGFwZSk7XG4gICAgfVxuXG5cbiAgICBhcHBseV90YXBlKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVkZ2VTdGF0ZSh0aGlzLmNhcmRib2FyZCwgVGFwZUVkZ2UudGFwZWQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGVudW0gRWRnZU9wZXJhdGlvbiB7XG4gICAgY3V0ID0gMCxcbiAgICB0YXBlID0gMVxufVxuXG5leHBvcnQgZW51bSBFZGdlRGlyZWN0aW9uIHtcbiAgICBob3Jpem9udGFsID0gMCxcbiAgICB2ZXJ0aWNhbCA9IDFcbn1cblxuZXhwb3J0IGVudW0gUmVuZFN0YXRlIHtcbiAgICBjbG9zZWQgPSAwLFxuICAgIG9wZW4gPSAxXG59XG5cbmV4cG9ydCBlbnVtIFJlbmRPcGVyYXRpb24ge1xuICAgIGNsb3NlID0gMCxcbiAgICBvcGVuID0gMVxufVxuXG5leHBvcnQgZW51bSBTcGlsbGFnZUxldmVsIHtcbiAgICBub25lID0gMCxcbiAgICBsaWdodCA9IDEsXG4gICAgaGVhdnkgPSAyXG59XG5cbmV4cG9ydCBlbnVtIFdlaWdodCB7XG4gICAgZW1wdHkgPSAwLFxuICAgIHZlcnlfbGlnaHQgPSAxLFxuICAgIGxpZ2h0ID0gMixcbiAgICBtZWRpdW0gPSAzLFxuICAgIGhlYXZ5ID0gNCxcbiAgICB2ZXJ5X2hlYXZ5ID0gNVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSXRlbSB7XG4gICAgYWJzdHJhY3Qgd2VpZ2h0KCk6IFdlaWdodDtcbiAgICBhYnN0cmFjdCBuYW1lKCk6IHN0cmluZztcbiAgICBhYnN0cmFjdCBwcmVfZ2VzdGFsdCgpOiBzdHJpbmc7XG4gICAgYWJzdHJhY3QgcG9zdF9nZXN0YWx0KCk6IHN0cmluZztcbiAgICBhcnRpY2xlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnYSc7XG4gICAgfVxufVxuXG5cbmV4cG9ydCB0eXBlIENvdW50ZXI8VD4gPSBNYXA8VCwgbnVtYmVyPjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50ZXJfYWRkPFQ+KGNvdW50ZXI6IENvdW50ZXI8VD4sIGtleTogVCwgaW5jOiBudW1iZXIpe1xuICAgIGxldCBjdXJfdmFsID0gMDtcbiAgICBpZiAoY291bnRlci5oYXMoa2V5KSl7XG4gICAgICAgIGN1cl92YWwgPSBjb3VudGVyLmdldChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gY291bnRlci5zZXQoa2V5LCBjdXJfdmFsICsgaW5jKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50ZXJfZ2V0PFQ+KGNvdW50ZXI6IENvdW50ZXI8VD4sIGtleTogVCl7XG4gICAgbGV0IGN1cl92YWwgPSAwO1xuICAgIGlmIChjb3VudGVyLmhhcyhrZXkpKXtcbiAgICAgICAgY3VyX3ZhbCA9IGNvdW50ZXIuZ2V0KGtleSk7XG4gICAgfVxuICAgIHJldHVybiBjdXJfdmFsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY291bnRlcl91cGRhdGU8VD4oY291bnRlcjE6IENvdW50ZXI8VD4sIGNvdW50ZXIyOiBDb3VudGVyPFQ+KXtcbiAgICBsZXQgc3dpdGNoX3RvX2ltbXV0YWJsZSA9IGlzSW1tdXRhYmxlKGNvdW50ZXIxKTtcbiAgICBsZXQgcmVzdWx0ID0gY291bnRlcjEuYXNNdXRhYmxlKCk7XG5cbiAgICBjb3VudGVyMi5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKXtcbiAgICAgICAgY291bnRlcl9hZGQocmVzdWx0LCBrLCB2KTtcbiAgICB9KTtcblxuICAgIGlmIChzd2l0Y2hfdG9faW1tdXRhYmxlKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5hc0ltbXV0YWJsZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY291bnRlcl9vcmRlcjxUPihjb3VudGVyOiBDb3VudGVyPFQ+LCBpbmNsdWRlX3plcm89ZmFsc2Upe1xuICAgIGxldCByZXN1bHQgPSBjb3VudGVyLnNvcnQoKTtcbiAgICBpZiAoIWluY2x1ZGVfemVybykge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuZmlsdGVyKChjb3VudCkgPT4gY291bnQgPiAwKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5rZXlTZXEoKS50b0xpc3QoKS5yZXZlcnNlKCk7XG59XG5cbmV4cG9ydCBlbnVtIFJlbGF0aXZlUG9zaXRpb24ge1xuICAgIGxlZnQgPSAwLCBjZW50ZXIgPSAxLCByaWdodCA9IDIsXG4gICAgdG9wID0gMywgbWlkZGxlID0gNCwgYm90dG9tID0gNVxufVxuXG5leHBvcnQgY2xhc3MgV3JlY2tFcnJvciBleHRlbmRzIEVycm9yIHt9XG5cbi8vIHVzZWQgdG8gc2lnbmFsIGVycm9ycyBjYXVzZWQgYnkgdHJ5aW5nIHRvIHVwZGF0ZSB3b3JsZCBzdGF0ZSBpbiBhIHdheSB0aGF0IGJyZWFrcyB0aGUgcmVhbGl0eSBvZiB0aGUgd29ybGRcbi8vIHNvIGFzc3VtZXMgdGhhdCBjb21tYW5kcyBhcmUgYWxyZWFkeSB2YWxpZCwgdGhlIGF0dGVtcHRlZCB1cGRhdGUgKmNvdWxkIHdvcmsqIGlmIHRoZSBzdGF0ZSB3ZXJlIGRpZmZlcmVudFxuZXhwb3J0IGNsYXNzIFdvcmxkVXBkYXRlRXJyb3IgZXh0ZW5kcyBXcmVja0Vycm9yIHt9XG5cbi8vIHVzZWQgdG8gc2lnbmFsIHRoYXQgYSBjb21tYW5kL3BzZXVkbyBjb21tYW5kIGlzIG5vdCBzcGVjaWZpZWQgbGVnYWxseVxuLy8gdGhlIGNvbW1hbmQgY2Fubm90IGJlIGV4ZWN1dGVkIGJlY2F1c2UgaXQgKmNhbm5vdCBiZSBpbnRlcnByZXRlZCpcbmV4cG9ydCBjbGFzcyBDb21tYW5kRXJyb3IgZXh0ZW5kcyBXcmVja0Vycm9yIHt9IiwiaW1wb3J0IHtJdGVtLCBXZWlnaHR9IGZyb20gJy4vZGF0YXR5cGVzJ1xuXG5leHBvcnQgY2xhc3MgQ29kZXggZXh0ZW5kcyBJdGVtIHtcbiAgICB3ZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiBXZWlnaHQubWVkaXVtO1xuICAgIH1cblxuICAgIG5hbWUoKSB7XG4gICAgICAgIHJldHVybiAnY29kZXgnO1xuICAgIH1cblxuICAgIHByZV9nZXN0YWx0KCkge1xuICAgICAgICByZXR1cm4gJ3NvbWV0aGluZyB0aGljayBhbmQgYWdlZCc7XG4gICAgfVxuXG4gICAgcG9zdF9nZXN0YWx0KCkge1xuICAgICAgICByZXR1cm4gJ2EgdGhpY2ssIHJvdHRlbiBjb2RleCB3aXRoIHN0cmFuZ2UgbWFya2luZ3Mgb24gdGhlIGZyb250JztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaXR5S2V5IGV4dGVuZHMgSXRlbSB7XG4gICAgd2VpZ2h0KCkge1xuICAgICAgICByZXR1cm4gV2VpZ2h0LmxpZ2h0O1xuICAgIH1cblxuICAgIG5hbWUoKSB7XG4gICAgICAgIHJldHVybiAnS2V5IHRvIHRoZSBDaXR5JztcbiAgICB9XG5cbiAgICBwcmVfZ2VzdGFsdCgpIHtcbiAgICAgICAgcmV0dXJuICdzb21ldGhpbmcgZ2xpc3RlbmluZyBhbmQgZ29sZGVuJztcbiAgICB9XG5cbiAgICBwb3N0X2dlc3RhbHQoKSB7XG4gICAgICAgIHJldHVybiAnYSBsYXJnZSwgaGVhdnkgZ29sZGVuIGtleSc7XG4gICAgfVxuXG4gICAgYXJ0aWNsZSgpIHtcbiAgICAgICAgcmV0dXJuICd0aGUnO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBpbmVjb25lIGV4dGVuZHMgSXRlbSB7XG4gICAgd2VpZ2h0KCkge1xuICAgICAgICByZXR1cm4gV2VpZ2h0LnZlcnlfbGlnaHQ7XG4gICAgfVxuXG4gICAgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdwaW5lY29uZSc7XG4gICAgfVxuXG4gICAgcHJlX2dlc3RhbHQoKSB7XG4gICAgICAgIHJldHVybiAnc29tZXRoaW5nIHNtYWxsLCBicm93biBhbmQgZmxha3knO1xuICAgIH1cblxuICAgIHBvc3RfZ2VzdGFsdCgpIHtcbiAgICAgICAgcmV0dXJuICdhIHNtYWxsLCBicm93biBwaW5lY29uZSB0aGF0IHNtZWxscyBvZiB0aGUgb3V0ZG9vcnMnO1xuICAgIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYlhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWlJc0ltWnBiR1VpT2lKcWNYVmxjbmt1ZEdWeWJXbHVZV3d1WkM1MGN5SXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJYWDA9IiwiaW1wb3J0IHtMaXN0fSBmcm9tICdpbW11dGFibGUnO1xuaW1wb3J0IHtDaXR5S2V5LCBDb2RleCwgUGluZWNvbmV9IGZyb20gJy4vaXRlbXMnO1xuaW1wb3J0IHtJdGVtfSBmcm9tICcuL2RhdGF0eXBlcyc7XG5pbXBvcnQge0JveCwgU2luZ2xlQm94V29ybGQsIFdvcmxkRHJpdmVyfSBmcm9tICcuL3dvcmxkJztcblxuZGVjbGFyZSB2YXIgalF1ZXJ5OiBhbnk7XG5cbmpRdWVyeShmdW5jdGlvbigkOiBhbnkpIHtcbiAgICBsZXQgY29udGVudHMgPSBMaXN0PEl0ZW0+KFtuZXcgQ29kZXgoKSwgbmV3IFBpbmVjb25lKCksIG5ldyBDaXR5S2V5KCldKTtcbiAgICBsZXQgd29ybGQgPSBuZXcgU2luZ2xlQm94V29ybGQoe2JveDogbmV3IEJveCh7Y29udGVudHM6IGNvbnRlbnRzfSl9KTtcbiAgICBsZXQgd29ybGRfZHJpdmVyID0gbmV3IFdvcmxkRHJpdmVyKHdvcmxkKTtcblxuICAgICQoJyN0ZXJtJykudGVybWluYWwoZnVuY3Rpb24oY29tbWFuZDogc3RyaW5nKSB7XG4gICAgICAgIGlmIChjb21tYW5kICE9PSAnJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gd29ybGRfZHJpdmVyLnJ1bihjb21tYW5kKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lY2hvKG5ldyBTdHJpbmcocmVzdWx0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvcihuZXcgU3RyaW5nKGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgdGhpcy5lY2hvKCcnKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgZ3JlZXRpbmdzOiAnRGVtbyBQYXJzZXIgSW50ZXJmYWNlIGZvciBUaGUgV3JlY2snLFxuICAgICAgICBuYW1lOiAnd3JlY2tfZGVtbycsXG4gICAgICAgIGhlaWdodDogNTAwLFxuICAgICAgICBwcm9tcHQ6ICc+ICdcbiAgICB9KTtcbn0pOyIsImltcG9ydCB7RmFjZX0gZnJvbSAnLi9kYXRhdHlwZXMnO1xuXG5pbXBvcnQge0xpc3QsIE1hcH0gZnJvbSAnaW1tdXRhYmxlJztcblxuZXhwb3J0IGZ1bmN0aW9uIHVuY2FwaXRhbGl6ZShtc2c6IHN0cmluZykge1xuICAgIHJldHVybiBtc2dbMF0udG9Mb3dlckNhc2UoKSArIG1zZy5zbGljZSgxKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemUobXNnOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbXNnWzBdLnRvVXBwZXJDYXNlKCkgKyBtc2cuc2xpY2UoMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmYWNlX21lc3NhZ2UoZmFjZV9vcmRlcjogTGlzdDxGYWNlPiwgZl9jb2RlXzJfbmFtZT86IE1hcDxGYWNlLCBzdHJpbmc+KXtcbiAgICBpZiAoZl9jb2RlXzJfbmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZfY29kZV8yX25hbWUgPSBNYXA8RmFjZSwgc3RyaW5nPihbXG4gICAgICAgICAgICBbRmFjZS5uLCAnYmFjayddLFxuICAgICAgICAgICAgW0ZhY2UucywgJ2Zyb250J10sXG4gICAgICAgICAgICBbRmFjZS5lLCAncmlnaHQnXSxcbiAgICAgICAgICAgIFtGYWNlLncsICdsZWZ0J10sXG4gICAgICAgICAgICBbRmFjZS50LCAndG9wJ10sXG4gICAgICAgICAgICBbRmFjZS5iLCAnYm90dG9tJ11cbiAgICAgICAgXSk7XG4gICAgfVxuXG4gICAgaWYgKGZhY2Vfb3JkZXIuc2l6ZSA9PSAxKSB7XG4gICAgICAgIHJldHVybiBmX2NvZGVfMl9uYW1lLmdldChmYWNlX29yZGVyLmZpcnN0KCkpICsgJyBmYWNlJztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFjZV9vcmRlci5idXRMYXN0KCkubWFwKGZfY29kZV8yX25hbWUuZ2V0KS5qb2luKCcsICcpICsgJyBhbmQgJyArIGZfY29kZV8yX25hbWUuZ2V0KGZhY2Vfb3JkZXIubGFzdCgpKSArICcgZmFjZXMnO1xuICAgIH1cbn0iLCJpbXBvcnQge0JveE1lc2gsIGVkZ2VfMl9xdWFkcmFudHMsIEZhY2VNZXNofSBmcm9tICcuL2JveF9nZW9tZXRyeSc7XG5cbmltcG9ydCB7XG4gICAgQ2FyZGJvYXJkRWRnZSxcbiAgICBDb21tYW5kRXJyb3IsXG4gICAgQ291bnRlcixcbiAgICBjb3VudGVyX29yZGVyLFxuICAgIGNvdW50ZXJfdXBkYXRlLFxuICAgIERhbmdsZSxcbiAgICBEaXJlY3Rpb24sXG4gICAgZGlyZWN0aW9ucyxcbiAgICBkaXJlY3Rpb25fMl9mYWNlLFxuICAgIEVkZ2UsXG4gICAgRWRnZURpcmVjdGlvbixcbiAgICBFZGdlT3BlcmF0aW9uLFxuICAgIEVkZ2VTdGF0ZSxcbiAgICBGYWNlLFxuICAgIEl0ZW0sXG4gICAgUGFydGl0aW9uLFxuICAgIFBvaW50MixcbiAgICBSZWxhdGl2ZVBvc2l0aW9uLFxuICAgIFJlbmRPcGVyYXRpb24sXG4gICAgUmVuZFN0YXRlLFxuICAgIFNwaWxsYWdlTGV2ZWwsXG4gICAgVGFwZUVkZ2UsXG4gICAgV2VpZ2h0LFxuICAgIFdvcmxkVXBkYXRlRXJyb3Jcbn0gZnJvbSAnLi9kYXRhdHlwZXMnO1xuXG5pbXBvcnQge1xuICAgIEVkZ2VEaXJXb3JkLFxuICAgIEVkZ2VPcFdvcmQsXG4gICAgRmFjZVdvcmQsXG4gICAgUG9zaXRpb25Xb3JkLFxuICAgIFJlbmRPcFdvcmQsXG4gICAgUm9sbERpcldvcmQsXG4gICAgUm90YXRlWURpcldvcmQsXG4gICAgVG9rZW4sXG4gICAgd29yZF8yX2RlZ3JlZXMsXG4gICAgd29yZF8yX2RpcixcbiAgICB3b3JkXzJfZWRnZV9kaXIsXG4gICAgd29yZF8yX2VkZ2Vfb3AsXG4gICAgd29yZF8yX2ZhY2UsXG4gICAgd29yZF8yX3JlbGF0aXZlX3Bvc2l0aW9uLFxuICAgIHdvcmRfMl9yZW5kX29wXG59IGZyb20gJy4vY29tbWFuZHMnXG5cbmltcG9ydCB7V29ybGRVcGRhdGVFZmZlY3RzLCB3aXRoX3dvcmxkX3VwZGF0ZSwgd29ybGRfdXBkYXRlfSBmcm9tICcuL3dvcmxkX3VwZGF0ZV9lZmZlY3RzJztcblxuaW1wb3J0IHtDaXR5S2V5LCBDb2RleCwgUGluZWNvbmV9IGZyb20gJy4vaXRlbXMnO1xuXG5pbXBvcnQge2NhcGl0YWxpemUsIGZhY2VfbWVzc2FnZSwgdW5jYXBpdGFsaXplfSBmcm9tICcuL3RleHRfdG9vbHMnO1xuXG5pbXBvcnQge0xpc3QsIE1hcCwgU2V0fSBmcm9tICdpbW11dGFibGUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJveFBhcmFtcyB7XG4gICAgYm94X21lc2g/OiBCb3hNZXNoLFxuICAgIHJlbmRfc3RhdGU/OiBNYXA8UGFydGl0aW9uLCBSZW5kU3RhdGU+LFxuICAgIGRhbmdsZV9zdGF0ZT86IE1hcDxEYW5nbGUsIFJlbmRTdGF0ZT4sXG4gICAgZWRnZV9zdGF0ZT86IE1hcDxFZGdlLCBFZGdlU3RhdGU+LFxuICAgIGNvbnRlbnRzPzogTGlzdDxJdGVtPlxufVxuXG5leHBvcnQgY2xhc3MgQm94IHtcbiAgICByZWFkb25seSBib3hfbWVzaDogQm94TWVzaDtcbiAgICByZWFkb25seSByZW5kX3N0YXRlOiBNYXA8UGFydGl0aW9uLCBSZW5kU3RhdGU+O1xuICAgIHJlYWRvbmx5IGRhbmdsZV9zdGF0ZTogTWFwPERhbmdsZSwgUmVuZFN0YXRlPjtcbiAgICByZWFkb25seSBlZGdlX3N0YXRlOiBNYXA8RWRnZSwgRWRnZVN0YXRlPjtcbiAgICByZWFkb25seSBjb250ZW50czogTGlzdDxJdGVtPjtcblxuICAgIGNvbnN0cnVjdG9yKHtib3hfbWVzaCwgcmVuZF9zdGF0ZSwgZGFuZ2xlX3N0YXRlLCBlZGdlX3N0YXRlLCBjb250ZW50c306IEJveFBhcmFtcyl7XG4gICAgICAgIGlmIChib3hfbWVzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBib3hfbWVzaCA9IG5ldyBCb3hNZXNoKHtkaW1lbnNpb25zOiBbMiwgMiwgMl19KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJveF9tZXNoID0gYm94X21lc2g7XG5cbiAgICAgICAgaWYgKHJlbmRfc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVuZF9zdGF0ZSA9IHRoaXMuZGVmYXVsdF9yZW5kX3N0YXRlKHRoaXMuYm94X21lc2gpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZF9zdGF0ZSA9IHJlbmRfc3RhdGU7XG5cbiAgICAgICAgaWYgKGRhbmdsZV9zdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkYW5nbGVfc3RhdGUgPSB0aGlzLmRlZmF1bHRfZGFuZ2xlX3N0YXRlKHRoaXMuYm94X21lc2gpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGFuZ2xlX3N0YXRlID0gZGFuZ2xlX3N0YXRlO1xuXG4gICAgICAgIGlmIChlZGdlX3N0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGVkZ2Vfc3RhdGUgPSBNYXA8RWRnZSwgRWRnZVN0YXRlPigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWRnZV9zdGF0ZSA9IGVkZ2Vfc3RhdGU7XG5cbiAgICAgICAgaWYgKGNvbnRlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnRlbnRzID0gTGlzdDxJdGVtPigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGVudHMgPSBjb250ZW50cztcbiAgICB9XG5cbiAgICB1cGRhdGUoe2JveF9tZXNoLCByZW5kX3N0YXRlLCBkYW5nbGVfc3RhdGUsIGVkZ2Vfc3RhdGUsIGNvbnRlbnRzfTogQm94UGFyYW1zKXtcbiAgICAgICAgaWYgKGJveF9tZXNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJveF9tZXNoID0gdGhpcy5ib3hfbWVzaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kX3N0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlbmRfc3RhdGUgPSB0aGlzLnJlbmRfc3RhdGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGFuZ2xlX3N0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhbmdsZV9zdGF0ZSA9IHRoaXMuZGFuZ2xlX3N0YXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVkZ2Vfc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZWRnZV9zdGF0ZSA9IHRoaXMuZWRnZV9zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGNvbnRlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnRlbnRzID0gdGhpcy5jb250ZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQm94KHtib3hfbWVzaCwgcmVuZF9zdGF0ZSwgZGFuZ2xlX3N0YXRlLCBlZGdlX3N0YXRlLCBjb250ZW50c30pO1xuICAgIH1cblxuICAgIGRlZmF1bHRfcmVuZF9zdGF0ZShib3hfbWVzaDogQm94TWVzaCkge1xuICAgICAgICBsZXQgcmVuZHMgPSBib3hfbWVzaC5nZXRfZnJlZV9yZW5kcygpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gTWFwPFBhcnRpdGlvbiwgUmVuZFN0YXRlPigpLmFzTXV0YWJsZSgpO1xuICAgICAgICByZW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICByZXN1bHQuc2V0KHIsIFJlbmRTdGF0ZS5jbG9zZWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5hc0ltbXV0YWJsZSgpO1xuICAgIH1cblxuICAgIGRlZmF1bHRfZGFuZ2xlX3N0YXRlKGJveF9tZXNoOiBCb3hNZXNoKSB7XG4gICAgICAgIGxldCBkYW5nbGVzID0gYm94X21lc2guZ2V0X2RhbmdsZXMoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IE1hcDxEYW5nbGUsIFJlbmRTdGF0ZT4oKS5hc011dGFibGUoKTtcbiAgICAgICAgZGFuZ2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXN1bHQuc2V0KGQsIFJlbmRTdGF0ZS5jbG9zZWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5hc0ltbXV0YWJsZSgpO1xuICAgIH1cblxuICAgIG9wZW5fb3JfY2xvc2VfcmVuZChvcGVyYXRpb246IFJlbmRPcGVyYXRpb24sIHJlbmQ6IFBhcnRpdGlvbikge1xuICAgICAgICBsZXQgYm94X3JlbmRzID0gdGhpcy5ib3hfbWVzaC5nZXRfcmVuZHMoKTtcblxuICAgICAgICBpZiAoIWJveF9yZW5kcy5jb250YWlucyhyZW5kKSl7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ29tbWFuZEVycm9yKCdyZW5kIGRvZXMgbm90IGV4aXN0IG9uIHRoZSBib3gnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmJveF9tZXNoLmlzX3BhcnRpdGlvbl9maXhlZChyZW5kKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFdvcmxkVXBkYXRlRXJyb3IoJ2Nhbm5vdCBvcGVuIG9yIGNsb3NlIGEgZml4ZWQgcmVuZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld19yZW5kX3N0YXRlID0gdGhpcy5yZW5kX3N0YXRlO1xuICAgICAgICBsZXQgaW50ZW5kZWRfbmV3X3N0YXRlID0gb3BlcmF0aW9uID09IFJlbmRPcGVyYXRpb24uY2xvc2UgPyBSZW5kU3RhdGUuY2xvc2VkIDogUmVuZFN0YXRlLm9wZW47XG4gICAgICAgIGlmIChpbnRlbmRlZF9uZXdfc3RhdGUgPT0gbmV3X3JlbmRfc3RhdGUuZ2V0KHJlbmQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV29ybGRVcGRhdGVFcnJvcihgY2Fubm90ICR7UmVuZE9wZXJhdGlvbltvcGVyYXRpb25dfSBhIHJlbmQgdGhhdCBpcyBhbHJlYWR5ICR7UmVuZFN0YXRlW2ludGVuZGVkX25ld19zdGF0ZV19YCk7XG4gICAgICAgIH1cblxuICAgICAgICBuZXdfcmVuZF9zdGF0ZSA9IG5ld19yZW5kX3N0YXRlLnNldChyZW5kLCBpbnRlbmRlZF9uZXdfc3RhdGUpO1xuXG4gICAgICAgIGxldCBuZXdfYm94ID0gdGhpcy51cGRhdGUoe3JlbmRfc3RhdGU6IG5ld19yZW5kX3N0YXRlfSk7XG5cbiAgICAgICAgaWYgKG5ld19ib3guaXNfY29sbGFwc2VkKCkpIHtcbiAgICAgICAgICAgIGxldCBlZmZlY3RzID0gd29ybGRfdXBkYXRlLmVmZmVjdHM7XG4gICAgICAgICAgICBlZmZlY3RzLmJveF9jb2xsYXBzZWQgPSB0cnVlO1xuICAgICAgICAgICAgZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zID0gZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zLnB1c2goLi4ubmV3X2JveC5jb250ZW50cy50b0FycmF5KCkpO1xuICAgICAgICAgICAgbGV0IG5ld19jb250ZW50cyA9IExpc3Q8SXRlbT4oKTtcbiAgICAgICAgICAgIG5ld19ib3ggPSBuZXdfYm94LnVwZGF0ZSh7Y29udGVudHM6IG5ld19jb250ZW50c30pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld19ib3g7XG4gICAgfVxuXG4gICAgb3Blbl9vcl9jbG9zZV9kYW5nbGUob3BlcmF0aW9uOiBSZW5kT3BlcmF0aW9uLCBkYW5nbGU6IERhbmdsZSkge1xuICAgICAgICBpZiAodGhpcy5ib3hfbWVzaC5pc19wYXJ0aXRpb25fZml4ZWQoZGFuZ2xlLnBhcnRpdGlvbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKCdjYW5ub3Qgb3BlbiBvciBjbG9zZSBhIGZpeGVkIGRhbmdsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJveF9kYW5nbGVzID0gdGhpcy5ib3hfbWVzaC5nZXRfZGFuZ2xlcygpO1xuXG4gICAgICAgIGlmIChib3hfZGFuZ2xlcy5zb21lKChkKSA9PiBkYW5nbGUgPT0gZCkpe1xuICAgICAgICAgICAgdGhyb3cgbmV3IENvbW1hbmRFcnJvcignZGFuZ2xlIGRvZXMgbm90IGV4aXN0IG9uIHRoZSBib3gnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbnRlbmRlZF9uZXdfc3RhdGUgPSBvcGVyYXRpb24gPT0gUmVuZE9wZXJhdGlvbi5jbG9zZSA/IFJlbmRTdGF0ZS5jbG9zZWQgOiBSZW5kU3RhdGUub3BlbjtcbiAgICAgICAgaWYgKHRoaXMuZGFuZ2xlX3N0YXRlLmdldChkYW5nbGUpID09IGludGVuZGVkX25ld19zdGF0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFdvcmxkVXBkYXRlRXJyb3IoYGNhbm5vdCAke1JlbmRPcGVyYXRpb25bb3BlcmF0aW9uXX0gYSBkYW5nbGUgdGhhdCBpcyBhbHJlYWR5ICR7UmVuZFN0YXRlW2ludGVuZGVkX25ld19zdGF0ZV19YCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmV3X2RhbmdsZV9zdGF0ZSA9IHRoaXMuZGFuZ2xlX3N0YXRlLnNldChkYW5nbGUsIGludGVuZGVkX25ld19zdGF0ZSk7XG5cbiAgICAgICAgbGV0IG5ld19ib3ggPSB0aGlzLnVwZGF0ZSh7ZGFuZ2xlX3N0YXRlOiBuZXdfZGFuZ2xlX3N0YXRlfSk7XG4gICAgICAgIGlmIChuZXdfYm94LmlzX2NvbGxhcHNlZCgpKSB7XG4gICAgICAgICAgICBsZXQgZWZmZWN0cyA9IHdvcmxkX3VwZGF0ZS5lZmZlY3RzO1xuICAgICAgICAgICAgZWZmZWN0cy5ib3hfY29sbGFwc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGVmZmVjdHMuY29sbGFwc2Vfc3BpbGxlZF9pdGVtcyA9IGVmZmVjdHMuY29sbGFwc2Vfc3BpbGxlZF9pdGVtcy5wdXNoKC4uLm5ld19ib3guY29udGVudHMudG9BcnJheSgpKTtcbiAgICAgICAgICAgIGxldCBuZXdfY29udGVudHMgPSBMaXN0PEl0ZW0+KCk7XG4gICAgICAgICAgICBuZXdfYm94ID0gbmV3X2JveC51cGRhdGUoe2NvbnRlbnRzOiBuZXdfY29udGVudHN9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3X2JveDtcbiAgICB9XG5cbiAgICByb3RhdGVfeShkZWdyZWVzOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IG5ld19ib3hfbWVzaCA9IHRoaXMuYm94X21lc2gucm90YXRlX3koZGVncmVlcyk7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZShuZXdfYm94X21lc2gpO1xuICAgIH1cblxuICAgIHJvbGwoZGlyZWN0aW9uOiBEaXJlY3Rpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuZGFuZ2xlX3N0YXRlLnNvbWUoKHN0YXRlKSA9PiBzdGF0ZSA9PSBSZW5kU3RhdGUub3BlbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKCdjYW5ub3Qgcm9sbCBhIGJveCB3aXRoIG9wZW4gZGFuZ2xlcycpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld19ib3hfbWVzaCA9IHRoaXMuYm94X21lc2gucm9sbChkaXJlY3Rpb24pO1xuICAgICAgICBsZXQgZGlyX2ZhY2U6IEZhY2UgPSBkaXJlY3Rpb25fMl9mYWNlLmdldChkaXJlY3Rpb24pO1xuXG4gICAgICAgIGxldCBuZXdfY29udGVudHMgPSB0aGlzLmNvbnRlbnRzO1xuICAgICAgICBsZXQgcmVuZF9zdGF0ZV91cGRhdGVzID0gdGhpcy5yZW5kX3N0YXRlO1xuICAgICAgICBsZXQgZGFuZ2xlX3N0YXRlX3VwZGF0ZXMgPSB0aGlzLmRhbmdsZV9zdGF0ZTtcblxuICAgICAgICBsZXQgaW5uZXJfdGhpcyA9IHRoaXM7XG4gICAgICAgIGxldCBlZmZlY3RzID0gd29ybGRfdXBkYXRlLmVmZmVjdHM7XG5cbiAgICAgICAgaWYgKG5ld19jb250ZW50cy5zaXplID4gMCl7XG4gICAgICAgICAgICBsZXQgZGlyXzJfb3Bwb3NpdGUgPSBNYXA8RmFjZSwgRmFjZT4oW1xuICAgICAgICAgICAgICAgIFtGYWNlLm4sIEZhY2Uuc10sXG4gICAgICAgICAgICAgICAgW0ZhY2UucywgRmFjZS5uXSxcbiAgICAgICAgICAgICAgICBbRmFjZS5lLCBGYWNlLnddLFxuICAgICAgICAgICAgICAgIFtGYWNlLncsIEZhY2UuZV1dKTtcbiBcbiAgICAgICAgICAgIGxldCBoZWF2eV9zcGlsbF9mYWNlczogW0ZhY2UsIEZhY2VdW10gPSBbXG4gICAgICAgICAgICAgICAgW2Rpcl9mYWNlLCBGYWNlLmJdLFxuICAgICAgICAgICAgICAgIFtGYWNlLnQsIGRpcl9mYWNlXSxcbiAgICAgICAgICAgICAgICBbRmFjZS5iLCBkaXJfMl9vcHBvc2l0ZS5nZXQoZGlyX2ZhY2UpXV07XG4gICAgICAgICAgICBsZXQgbGlnaHRfc3BpbGxfZmFjZXMgPSAoW0ZhY2UubiwgRmFjZS5zLCBGYWNlLmUsIEZhY2Uud11cbiAgICAgICAgICAgICAgICAuZmlsdGVyKChkKSA9PiBkICE9PSBkaXJfZmFjZSAmJiBkICE9PSBkaXJfMl9vcHBvc2l0ZS5nZXQoZGlyX2ZhY2UpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMucmVuZF9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgcikge1xuICAgICAgICAgICAgICAgIGxldCBmYWNlX21lbWJlcnNoaXAgPSBpbm5lcl90aGlzLmJveF9tZXNoLmdldF9wYXJ0aXRpb25fZmFjZV9tZW1iZXJzaGlwKHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgW3Rlc3RfZmFjZSwgc3BpbGxfZmFjZV0gb2YgaGVhdnlfc3BpbGxfZmFjZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhY2VfbWVtYmVyc2hpcC5nZXQodGVzdF9mYWNlKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxfZmFjZXMgPSBlZmZlY3RzLnNwaWxsX2ZhY2VzLnB1c2goc3BpbGxfZmFjZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsYWdlX2xldmVsID0gU3BpbGxhZ2VMZXZlbC5oZWF2eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9pdGVtcyA9IGVmZmVjdHMuc3BpbGxlZF9pdGVtcy5wdXNoKC4uLm5ld19jb250ZW50cy50b0FycmF5KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3X2NvbnRlbnRzID0gTGlzdDxJdGVtPigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gUmVuZFN0YXRlLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9yZW5kcyA9PSBlZmZlY3RzLnNwaWxsZWRfcmVuZHMuYWRkKHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRfc3RhdGVfdXBkYXRlcyA9IHJlbmRfc3RhdGVfdXBkYXRlcy5zZXQociwgUmVuZFN0YXRlLm9wZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzcGlsbF9mYWNlIG9mIGxpZ2h0X3NwaWxsX2ZhY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWNlX21lbWJlcnNoaXAuZ2V0KHNwaWxsX2ZhY2UpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbF9mYWNlcyA9IGVmZmVjdHMuc3BpbGxfZmFjZXMucHVzaChzcGlsbF9mYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZmZlY3RzLnNwaWxsYWdlX2xldmVsIDwgU3BpbGxhZ2VMZXZlbC5saWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxhZ2VfbGV2ZWwgPSBTcGlsbGFnZUxldmVsLmxpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld19jb250ZW50cy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9pdGVtcyA9IGVmZmVjdHMuc3BpbGxlZF9pdGVtcy5wdXNoKG5ld19jb250ZW50cy5maXJzdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdfY29udGVudHMgPSBuZXdfY29udGVudHMucmVzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuYm94X21lc2guZ2V0X2RhbmdsZXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNwaWxsYWdlX2xldmVsID0gU3BpbGxhZ2VMZXZlbC5ub25lO1xuICAgICAgICAgICAgICAgIGxldCBzcGlsbF9mYWNlOiBGYWNlO1xuICAgICAgICAgICAgICAgIGlmIChkLmZyZWVfZmFjZSA9PSBGYWNlLnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BpbGxhZ2VfbGV2ZWwgPSBTcGlsbGFnZUxldmVsLmhlYXZ5O1xuICAgICAgICAgICAgICAgICAgICBzcGlsbF9mYWNlID0gZGlyX2ZhY2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkLmZyZWVfZmFjZSA9PSBkaXJfZmFjZSkge1xuICAgICAgICAgICAgICAgICAgICBzcGlsbGFnZV9sZXZlbCA9IFNwaWxsYWdlTGV2ZWwuaGVhdnk7XG4gICAgICAgICAgICAgICAgICAgIHNwaWxsX2ZhY2UgPSBGYWNlLmI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaWdodF9zcGlsbF9mYWNlcy5pbmRleE9mKGQuZnJlZV9mYWNlKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BpbGxhZ2VfbGV2ZWwgPSBTcGlsbGFnZUxldmVsLmxpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBzcGlsbF9mYWNlID0gZC5mcmVlX2ZhY2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNwaWxsYWdlX2xldmVsICE9PSBTcGlsbGFnZUxldmVsLm5vbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwaWxsYWdlX2xldmVsID4gZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCA9IHNwaWxsYWdlX2xldmVsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxfZmFjZXMgPSBlZmZlY3RzLnNwaWxsX2ZhY2VzLnB1c2goc3BpbGxfZmFjZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwaWxsYWdlX2xldmVsID09IFNwaWxsYWdlTGV2ZWwubGlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdfY29udGVudHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLnNwaWxsZWRfaXRlbXMucHVzaChuZXdfY29udGVudHMuZmlyc3QoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3X2NvbnRlbnRzID0gbmV3X2NvbnRlbnRzLnJlc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcGlsbGFnZV9sZXZlbCA9PSBTcGlsbGFnZUxldmVsLmhlYXZ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLnNwaWxsZWRfaXRlbXMucHVzaCguLi5uZXdfY29udGVudHMudG9BcnJheSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld19jb250ZW50cyA9IExpc3Q8SXRlbT4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9kYW5nbGVzID0gZWZmZWN0cy5zcGlsbGVkX2RhbmdsZXMuYWRkKGQpO1xuICAgICAgICAgICAgICAgICAgICBkYW5nbGVfc3RhdGVfdXBkYXRlcyA9IGRhbmdsZV9zdGF0ZV91cGRhdGVzLnNldChkLCBSZW5kU3RhdGUub3Blbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG5ld19ib3hfbWVzaC5nZXRfZGFuZ2xlcygpLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZC5mcmVlX2ZhY2UgPT0gZGlyXzJfb3Bwb3NpdGUuZ2V0KGRpcl9mYWNlKSkge1xuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsYWdlX2xldmVsID0gU3BpbGxhZ2VMZXZlbC5oZWF2eTtcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbF9mYWNlcyA9IGVmZmVjdHMuc3BpbGxfZmFjZXMucHVzaChkaXJfMl9vcHBvc2l0ZS5nZXQoZGlyX2ZhY2UpKTtcblxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLnNwaWxsZWRfaXRlbXMucHVzaCguLi5uZXdfY29udGVudHMudG9BcnJheSgpKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3X2NvbnRlbnRzID0gTGlzdDxJdGVtPigpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9kYW5nbGVzID0gZWZmZWN0cy5zcGlsbGVkX2RhbmdsZXMuYWRkKGQpO1xuICAgICAgICAgICAgICAgICAgICBkYW5nbGVfc3RhdGVfdXBkYXRlcyA9IGRhbmdsZV9zdGF0ZV91cGRhdGVzLnNldChkLCBSZW5kU3RhdGUub3Blbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5ld19ib3ggPSB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICAgICBib3hfbWVzaDogbmV3X2JveF9tZXNoLFxuICAgICAgICAgICAgcmVuZF9zdGF0ZTogcmVuZF9zdGF0ZV91cGRhdGVzLFxuICAgICAgICAgICAgZGFuZ2xlX3N0YXRlOiBkYW5nbGVfc3RhdGVfdXBkYXRlcyxcbiAgICAgICAgICAgIGNvbnRlbnRzOiBuZXdfY29udGVudHNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG5ld19ib3guaXNfY29sbGFwc2VkKCkpIHtcbiAgICAgICAgICAgIGVmZmVjdHMuYm94X2NvbGxhcHNlZCA9IHRydWU7XG4gICAgICAgICAgICBlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMucHVzaCguLi5uZXdfY29udGVudHMudG9BcnJheSgpKTtcbiAgICAgICAgICAgIG5ld19jb250ZW50cyA9IExpc3Q8SXRlbT4oKTtcbiAgICAgICAgICAgIG5ld19ib3ggPSBuZXdfYm94LnVwZGF0ZSh7Y29udGVudHM6IG5ld19jb250ZW50c30pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld19ib3g7XG4gICAgfVxuXG4gICAgbGlmdCgpIHtcbiAgICAgICAgbGV0IGVmZmVjdHMgPSB3b3JsZF91cGRhdGUuZWZmZWN0cztcbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGxldCBuZXdfY29udGVudHMgPSB0aGlzLmNvbnRlbnRzO1xuICAgICAgICBsZXQgbmV3X3JlbmRfc3RhdGUgPSB0aGlzLnJlbmRfc3RhdGU7XG4gICAgICAgIGxldCBuZXdfZGFuZ2xlX3N0YXRlID0gdGhpcy5kYW5nbGVfc3RhdGU7XG5cbiAgICAgICAgaWYgKG5ld19jb250ZW50cy5zaXplID4gMCkge1xuICAgICAgICAgICAgbGV0IHRlc3RfYm94X21lc2ggPSB0aGlzLmJveF9tZXNoLnJvbGwoRGlyZWN0aW9uLnMpLnJvbGwoRGlyZWN0aW9uLnMpO1xuXG4gICAgICAgICAgICB0ZXN0X2JveF9tZXNoLmdldF9mcmVlX3JlbmRzKCkuZm9yRWFjaChmdW5jdGlvbiAocikge1xuICAgICAgICAgICAgICAgIGxldCBmYWNlX21lbWJlcnNoaXAgPSB0ZXN0X2JveF9tZXNoLmdldF9wYXJ0aXRpb25fZmFjZV9tZW1iZXJzaGlwKHIpO1xuICAgICAgICAgICAgICAgIGxldCB0ZXN0X2ZhY2VzID0gW0ZhY2UuYiwgRmFjZS5uLCBGYWNlLnMsIEZhY2UuZSwgRmFjZS53XTtcbiAgICAgICAgICAgICAgICBsZXQgY291bnQgPSB0ZXN0X2ZhY2VzLm1hcChmYWNlX21lbWJlcnNoaXAuZ2V0KS5yZWR1Y2UoKHgsIHkpID0+IHggKyB5KTtcbiAgICAgICAgICAgICAgICBpZiAoZmFjZV9tZW1iZXJzaGlwLmdldChGYWNlLnQpID4gY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCA9IFNwaWxsYWdlTGV2ZWwuaGVhdnk7XG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxfZmFjZXMgPSBlZmZlY3RzLnNwaWxsX2ZhY2VzLnB1c2goRmFjZS5iKTtcblxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLnNwaWxsZWRfaXRlbXMucHVzaCguLi5uZXdfY29udGVudHMudG9BcnJheSgpKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3X2NvbnRlbnRzID0gTGlzdDxJdGVtPigpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdfcmVuZF9zdGF0ZS5nZXQociwgUmVuZFN0YXRlLmNsb3NlZCkgPT0gUmVuZFN0YXRlLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX3JlbmRzID0gZWZmZWN0cy5zcGlsbGVkX3JlbmRzLmFkZChyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld19yZW5kX3N0YXRlID0gbmV3X3JlbmRfc3RhdGUuc2V0KHIsIFJlbmRTdGF0ZS5vcGVuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0ZXN0X2JveF9tZXNoLmdldF9kYW5nbGVzKCkuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIGlmIChkLmZyZWVfZmFjZSA9PSBGYWNlLnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCA9IFNwaWxsYWdlTGV2ZWwuaGVhdnk7XG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxfZmFjZXMgPSBlZmZlY3RzLnNwaWxsX2ZhY2VzLnB1c2goRmFjZS5iKTtcblxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLnNwaWxsZWRfaXRlbXMucHVzaCguLi5uZXdfY29udGVudHMudG9BcnJheSgpKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3X2NvbnRlbnRzID0gTGlzdDxJdGVtPigpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9kYW5nbGVzID0gZWZmZWN0cy5zcGlsbGVkX2RhbmdsZXMuYWRkKGQpO1xuICAgICAgICAgICAgICAgICAgICBuZXdfZGFuZ2xlX3N0YXRlID0gbmV3X2RhbmdsZV9zdGF0ZS5zZXQoZCwgUmVuZFN0YXRlLm9wZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRfc3RhdGUuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUsIHIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gaW5uZXJfdGhpcy5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChyKTtcbiAgICAgICAgICAgICAgICBsZXQgbGlnaHRfc3BpbGxfZmFjZXMgPSBbRmFjZS5uLCBGYWNlLnMsIEZhY2UuZSwgRmFjZS53XS5maWx0ZXIoKGYpID0+IGZhY2VfbWVtYmVyc2hpcC5nZXQoZikgPiAwKTtcbiAgICAgICAgICAgICAgICBpZiAobGlnaHRfc3BpbGxfZmFjZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCA8IFNwaWxsYWdlTGV2ZWwubGlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxhZ2VfbGV2ZWwgPSBTcGlsbGFnZUxldmVsLmxpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxfZmFjZXMucHVzaCguLi5saWdodF9zcGlsbF9mYWNlcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld19jb250ZW50cy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX2l0ZW1zID0gZWZmZWN0cy5zcGlsbGVkX2l0ZW1zLnB1c2gobmV3X2NvbnRlbnRzLmZpcnN0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3X2NvbnRlbnRzID0gbmV3X2NvbnRlbnRzLnJlc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gUmVuZFN0YXRlLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX3JlbmRzLmFkZChyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld19yZW5kX3N0YXRlID0gbmV3X3JlbmRfc3RhdGUuc2V0KHIsIFJlbmRTdGF0ZS5vcGVuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmRhbmdsZV9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgZCkge1xuICAgICAgICAgICAgICAgIGlmIChbRmFjZS5uLCBGYWNlLnMsIEZhY2UuZSwgRmFjZS53XS5pbmRleE9mKGQuZnJlZV9mYWNlKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVmZmVjdHMuc3BpbGxhZ2VfbGV2ZWwgPCBTcGlsbGFnZUxldmVsLmxpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsYWdlX2xldmVsID0gU3BpbGxhZ2VMZXZlbC5saWdodDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsX2ZhY2VzLnB1c2goZC5mcmVlX2ZhY2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdfY29udGVudHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9pdGVtcyA9IGVmZmVjdHMuc3BpbGxlZF9pdGVtcy5wdXNoKG5ld19jb250ZW50cy5maXJzdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld19jb250ZW50cyA9IG5ld19jb250ZW50cy5yZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuZXdfYm94ID0gdGhpcy51cGRhdGUoe3JlbmRfc3RhdGU6IG5ld19yZW5kX3N0YXRlLCBkYW5nbGVfc3RhdGU6IG5ld19kYW5nbGVfc3RhdGUsIGNvbnRlbnRzOiBuZXdfY29udGVudHN9KTtcblxuICAgICAgICBpZiAobmV3X2JveC5pc19jb2xsYXBzZWQoKSkge1xuICAgICAgICAgICAgZWZmZWN0cy5ib3hfY29sbGFwc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGVmZmVjdHMuY29sbGFwc2Vfc3BpbGxlZF9pdGVtcyA9IGVmZmVjdHMuY29sbGFwc2Vfc3BpbGxlZF9pdGVtcy5wdXNoKC4uLm5ld19jb250ZW50cy50b0FycmF5KCkpO1xuICAgICAgICAgICAgbmV3X2NvbnRlbnRzID0gTGlzdDxJdGVtPigpO1xuICAgICAgICAgICAgbmV3X2JveCA9IG5ld19ib3gudXBkYXRlKHtjb250ZW50czogbmV3X2NvbnRlbnRzfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3X2JveDtcbiAgICB9XG5cbiAgICBjdXQoZmFjZTogRmFjZSwgc3RhcnQ6IFBvaW50MiwgZW5kOiBQb2ludDIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3V0X29yX3RhcGUoRWRnZU9wZXJhdGlvbi5jdXQsIGZhY2UsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIHRhcGUoZmFjZTogRmFjZSwgc3RhcnQ6IFBvaW50MiwgZW5kOiBQb2ludDIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3V0X29yX3RhcGUoRWRnZU9wZXJhdGlvbi50YXBlLCBmYWNlLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICBjdXRfb3JfdGFwZShvcGVyYXRpb246IEVkZ2VPcGVyYXRpb24sIGZhY2U6IEZhY2UsIHN0YXJ0OiBQb2ludDIsIGVuZDogUG9pbnQyKSB7XG4gICAgICAgIGxldCBlZmZlY3RzID0gd29ybGRfdXBkYXRlLmVmZmVjdHM7XG4gICAgICAgIGxldCBpbm5lcl90aGlzID0gdGhpcztcblxuICAgICAgICBpZiAoZmFjZSAhPT0gRmFjZS5zICYmIGZhY2UgIT09IEZhY2UudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFdvcmxkVXBkYXRlRXJyb3IoJ2Nhbm5vdCBjdXQgb3IgdGFwZSBzaWRlcyBvdGhlciB0aGFuIHRvcCBvciBmcm9udCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IFt4MSwgeTFdID0gc3RhcnQ7XG4gICAgICAgIGxldCBbeDIsIHkyXSA9IGVuZDtcbiAgICAgICAgbGV0IHYxID0gdGhpcy5ib3hfbWVzaC5mYWNlX21lc2hlcy5nZXQoZmFjZSkudmVydGljZXMuZ2V0KHgxLCB5MSk7XG4gICAgICAgIGxldCB2MiA9IHRoaXMuYm94X21lc2guZmFjZV9tZXNoZXMuZ2V0KGZhY2UpLnZlcnRpY2VzLmdldCh4MiwgeTIpO1xuXG4gICAgICAgIGxldCBlZGdlID0gbmV3IEVkZ2UodjEsIHYyKTtcblxuICAgICAgICBsZXQgcXVhZHJhbnRzID0gZWRnZV8yX3F1YWRyYW50cy5nZXQoZWRnZSk7XG5cbiAgICAgICAgdGhpcy5yZW5kX3N0YXRlLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlLCByKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT0gUmVuZFN0YXRlLm9wZW4gJiYgcXVhZHJhbnRzLmV2ZXJ5KHIuY29udGFpbnMpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFdvcmxkVXBkYXRlRXJyb3IoJ2Nhbm5vdCBjdXQgb3IgdGFwZSBvbiBhbiBvcGVuIHJlbmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5kYW5nbGVfc3RhdGUuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUsIGQpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PSBSZW5kU3RhdGUub3BlbiAmJiBxdWFkcmFudHMuZXZlcnkoZC5wYXJ0aXRpb24uY29udGFpbnMpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFdvcmxkVXBkYXRlRXJyb3IoJ2Nhbm5vdCBjdXQgb3IgdGFwZSBvbiBhbiBvcGVuIGRhbmdsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgbmV3X2JveF9tZXNoOiBCb3hNZXNoO1xuICAgICAgICBpZiAob3BlcmF0aW9uID09IEVkZ2VPcGVyYXRpb24uY3V0KSB7XG4gICAgICAgICAgICBuZXdfYm94X21lc2ggPSB0aGlzLmJveF9tZXNoLmN1dChmYWNlLCBzdGFydCwgZW5kKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld19ib3hfbWVzaCA9IHRoaXMuYm94X21lc2gudGFwZShmYWNlLCBzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuZXdfcmVuZF9zdGF0ZSA9IHRoaXMuZGVmYXVsdF9yZW5kX3N0YXRlKG5ld19ib3hfbWVzaCk7XG4gICAgICAgIHRoaXMucmVuZF9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgcikge1xuICAgICAgICAgICAgaWYgKG5ld19yZW5kX3N0YXRlLmhhcyhyKSkge1xuICAgICAgICAgICAgICAgIG5ld19yZW5kX3N0YXRlID0gbmV3X3JlbmRfc3RhdGUuc2V0KHIsIHN0YXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWZmZWN0cy5yZXBhaXJlZF9yZW5kcyA9IGVmZmVjdHMucmVwYWlyZWRfcmVuZHMucHVzaChyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbmV3X3JlbmRfc3RhdGUuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUsIG5ld19yKSB7XG4gICAgICAgICAgICBpZiAoIWlubmVyX3RoaXMucmVuZF9zdGF0ZS5oYXMobmV3X3IpKSB7XG4gICAgICAgICAgICAgICAgZWZmZWN0cy5uZXdfcmVuZHMgPSBlZmZlY3RzLm5ld19yZW5kcy5wdXNoKG5ld19yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IG5ld19kYW5nbGVfc3RhdGUgPSB0aGlzLmRlZmF1bHRfZGFuZ2xlX3N0YXRlKG5ld19ib3hfbWVzaCk7XG4gICAgICAgIHRoaXMuZGFuZ2xlX3N0YXRlLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlLCBkKSB7XG4gICAgICAgICAgICBpZiAobmV3X2RhbmdsZV9zdGF0ZS5oYXMoZCkpIHtcbiAgICAgICAgICAgICAgICBuZXdfZGFuZ2xlX3N0YXRlID0gbmV3X2RhbmdsZV9zdGF0ZS5zZXQoZCwgc3RhdGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlZmZlY3RzLnJlcGFpcmVkX2RhbmdsZXMgPSBlZmZlY3RzLnJlcGFpcmVkX2RhbmdsZXMucHVzaChkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbmV3X2RhbmdsZV9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgbmV3X2QpIHtcbiAgICAgICAgICAgIGlmICghaW5uZXJfdGhpcy5kYW5nbGVfc3RhdGUuaGFzKG5ld19kKSkge1xuICAgICAgICAgICAgICAgIGVmZmVjdHMubmV3X2RhbmdsZXMgPSBlZmZlY3RzLm5ld19kYW5nbGVzLnB1c2gobmV3X2QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgbmV3X2VkZ2Vfc3RhdGUgPSB0aGlzLmVkZ2Vfc3RhdGU7XG4gICAgICAgIGlmIChvcGVyYXRpb24gPT0gRWRnZU9wZXJhdGlvbi5jdXQpIHtcbiAgICAgICAgICAgIG5ld19lZGdlX3N0YXRlID0gbmV3X2VkZ2Vfc3RhdGUuc2V0KGVkZ2UsIG5ld19lZGdlX3N0YXRlLmdldChlZGdlLCBuZXcgRWRnZVN0YXRlKCkpLmN1dCgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld19lZGdlX3N0YXRlID0gbmV3X2VkZ2Vfc3RhdGUuc2V0KGVkZ2UsIG5ld19lZGdlX3N0YXRlLmdldChlZGdlLCBuZXcgRWRnZVN0YXRlKCkpLmFwcGx5X3RhcGUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGUoe2JveF9tZXNoOiBuZXdfYm94X21lc2gsIHJlbmRfc3RhdGU6IG5ld19yZW5kX3N0YXRlLCBkYW5nbGVfc3RhdGU6IG5ld19kYW5nbGVfc3RhdGUsIGVkZ2Vfc3RhdGU6IG5ld19lZGdlX3N0YXRlfSk7XG4gICAgfVxuXG4gICAgdGFrZV9uZXh0X2l0ZW0oKSB7XG4gICAgICAgIGxldCBlZmZlY3RzID0gd29ybGRfdXBkYXRlLmVmZmVjdHM7XG5cbiAgICAgICAgaWYgKHRoaXMuY29udGVudHMuc2l6ZSA9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV29ybGRVcGRhdGVFcnJvcignY2Fubm90IHRha2UgYW4gaXRlbSBmcm9tIGFuIGVtcHR5IGJveCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmFwcGVhcnNfb3BlbigpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV29ybGRVcGRhdGVFcnJvcignY2Fubm90IHRha2UgYW4gaXRlbSBmcm9tIGEgYm94IHdpdGggbm8gdmlzaWJsZSBvcGVuaW5ncycpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld19jb250ZW50cyA9IHRoaXMuY29udGVudHM7XG4gICAgICAgIGVmZmVjdHMudGFrZW5faXRlbXMgPSBlZmZlY3RzLnRha2VuX2l0ZW1zLnB1c2gobmV3X2NvbnRlbnRzLmZpcnN0KCkpO1xuICAgICAgICBuZXdfY29udGVudHMgPSBuZXdfY29udGVudHMucmVzdCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZSh7Y29udGVudHM6IG5ld19jb250ZW50c30pO1xuICAgIH1cblxuICAgIG5leHRfaXRlbSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudHMuc2l6ZSA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50cy5maXJzdCgpO1xuICAgIH1cblxuICAgIGFwcGVhcnNfb3BlbigpIHtcbiAgICAgICAgaWYgKHRoaXMucmVuZF9zdGF0ZS5zb21lKChzdGF0ZSkgPT4gc3RhdGUgPT0gUmVuZFN0YXRlLm9wZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kYW5nbGVfc3RhdGUuc29tZSgoc3RhdGUpID0+IHN0YXRlID09IFJlbmRTdGF0ZS5vcGVuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGFwcGVhcnNfZW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGVhcnNfb3BlbigpICYmIHRoaXMuY29udGVudHMuc2l6ZSA9PSAwO1xuICAgIH1cblxuICAgIGlzX2NvbGxhcHNlZCgpe1xuICAgICAgICBsZXQgb3Blbl9mYWNlcyA9IE1hcDxGYWNlLCBudW1iZXI+KCkuYXNNdXRhYmxlKCk7XG4gICAgICAgIGxldCBpbm5lcl90aGlzID0gdGhpcztcbiAgICAgICAgXG4gICAgICAgIHRoaXMucmVuZF9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgcikge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09IFJlbmRTdGF0ZS5vcGVuKXtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gaW5uZXJfdGhpcy5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChyKTtcbiAgICAgICAgICAgICAgICBjb3VudGVyX3VwZGF0ZShvcGVuX2ZhY2VzLCBmYWNlX21lbWJlcnNoaXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRhbmdsZV9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgZCkge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09IFJlbmRTdGF0ZS5vcGVuKXtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gaW5uZXJfdGhpcy5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChkLnBhcnRpdGlvbik7XG4gICAgICAgICAgICAgICAgY291bnRlcl91cGRhdGUob3Blbl9mYWNlcywgZmFjZV9tZW1iZXJzaGlwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IHRvdGFsX29wZW5fc2lkZXMgPSAwO1xuICAgICAgICBvcGVuX2ZhY2VzLmZvckVhY2goZnVuY3Rpb24gKGNvdW50LCBmYWNlKSB7XG4gICAgICAgICAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdG90YWxfb3Blbl9zaWRlcyArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdG90YWxfb3Blbl9zaWRlcyA+PSAzO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaW5nbGVCb3hXb3JsZFBhcmFtcyB7XG4gICAgYm94PzogQm94LFxuICAgIHRha2VuX2l0ZW1zPzogTGlzdDxJdGVtPixcbiAgICBzcGlsbGVkX2l0ZW1zPzogTGlzdDxJdGVtPlxufVxuXG5leHBvcnQgdHlwZSBDb21tYW5kUmVzdWx0ID0gW1NpbmdsZUJveFdvcmxkLCBzdHJpbmddO1xuXG5leHBvcnQgY2xhc3MgU2luZ2xlQm94V29ybGQge1xuICAgIHJlYWRvbmx5IGJveDogQm94O1xuICAgIHJlYWRvbmx5IHRha2VuX2l0ZW1zOiBMaXN0PEl0ZW0+O1xuICAgIHJlYWRvbmx5IHNwaWxsZWRfaXRlbXM6IExpc3Q8SXRlbT47XG5cbiAgICBjb25zdHJ1Y3Rvcih7Ym94LCB0YWtlbl9pdGVtcywgc3BpbGxlZF9pdGVtc306IFNpbmdsZUJveFdvcmxkUGFyYW1zKSB7XG4gICAgICAgIGlmIChib3ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYm94ID0gbmV3IEJveCh7fSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ib3ggPSBib3g7XG5cbiAgICAgICAgaWYgKHRha2VuX2l0ZW1zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRha2VuX2l0ZW1zID0gTGlzdDxJdGVtPigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFrZW5faXRlbXMgPSB0YWtlbl9pdGVtcztcblxuICAgICAgICBpZiAoc3BpbGxlZF9pdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzcGlsbGVkX2l0ZW1zID0gTGlzdDxJdGVtPigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3BpbGxlZF9pdGVtcyA9IHNwaWxsZWRfaXRlbXM7XG4gICAgfVxuXG4gICAgdXBkYXRlKHtib3gsIHRha2VuX2l0ZW1zLCBzcGlsbGVkX2l0ZW1zfTogU2luZ2xlQm94V29ybGRQYXJhbXMpIHtcbiAgICAgICAgaWYgKGJveCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBib3ggPSB0aGlzLmJveDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YWtlbl9pdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0YWtlbl9pdGVtcyA9IHRoaXMudGFrZW5faXRlbXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3BpbGxlZF9pdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzcGlsbGVkX2l0ZW1zID0gdGhpcy5zcGlsbGVkX2l0ZW1zO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVCb3hXb3JsZCh7Ym94LCB0YWtlbl9pdGVtcywgc3BpbGxlZF9pdGVtc30pO1xuICAgIH1cblxuICAgIGNvbW1hbmRfcm90YXRlX3lfYm94KGRpcjogUm90YXRlWURpcldvcmQpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgbGV0IGRlZ3JlZXMgPSBkaXIgPT0gJ3JpZ2h0JyA/IDkwIDogMjcwO1xuICAgICAgICBsZXQgbmV3X2JveCA9IHRoaXMuYm94LnJvdGF0ZV95KGRlZ3JlZXMpO1xuICAgICAgICBsZXQgbmV3X3dvcmxkID0gdGhpcy51cGRhdGUoe2JveDogbmV3X2JveH0pO1xuXG4gICAgICAgIGxldCBtZXNzYWdlID0gYFlvdSB0dXJuIHRoZSBib3ggOTAgZGVncmVlcyB0byB0aGUgJHtkaXJ9YDtcblxuICAgICAgICByZXR1cm4gW25ld193b3JsZCwgbWVzc2FnZV07XG4gICAgfVxuXG4gICAgY29tbWFuZF9yb2xsX2JveChjbWQ6IFJvbGxEaXJXb3JkKTogQ29tbWFuZFJlc3VsdCB7XG4gICAgICAgIGxldCBpbm5lcl90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHdpdGhfd29ybGRfdXBkYXRlKGZ1bmN0aW9uIChlZmZlY3RzKSB7XG4gICAgICAgICAgICBsZXQgZGlyZWN0aW9uID0gd29yZF8yX2Rpci5nZXQoY21kKTtcbiAgICAgICAgICAgIGxldCBuZXdfYm94ID0gaW5uZXJfdGhpcy5ib3gucm9sbChkaXJlY3Rpb24pO1xuXG4gICAgICAgICAgICBsZXQgZGlyX21zZyA9IChjbWQgPT0gJ2xlZnQnIHx8IGNtZCA9PSAncmlnaHQnKSA/IGBvdmVyIHRvIHRoZSAke2NtZH1gIDogY21kO1xuXG4gICAgICAgICAgICBsZXQgbWVzc2FnZTogc3RyaW5nO1xuICAgICAgICAgICAgbGV0IG5ld193b3JsZDogU2luZ2xlQm94V29ybGQ7XG4gICAgICAgICAgICBpZiAoZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCA9PSBTcGlsbGFnZUxldmVsLm5vbmUpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFlvdSByb2xsIHRoZSBib3ggJHtkaXJfbXNnfS5gO1xuICAgICAgICAgICAgICAgIG5ld193b3JsZCA9IGlubmVyX3RoaXMudXBkYXRlKHtib3g6IG5ld19ib3h9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHNwaWxsX21zZyA9IHVuY2FwaXRhbGl6ZShpbm5lcl90aGlzLnNwaWxsX21lc3NhZ2UobmV3X2JveCkpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXMgeW91IHJvbGwgdGhlIGJveCAke2Rpcl9tc2d9LCAke3NwaWxsX21zZ31gO1xuXG4gICAgICAgICAgICAgICAgbmV3X3dvcmxkID0gaW5uZXJfdGhpcy51cGRhdGUoe2JveDogbmV3X2JveCwgc3BpbGxlZF9pdGVtczogZWZmZWN0cy5zcGlsbGVkX2l0ZW1zfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlZmZlY3RzLmJveF9jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlICs9ICdcXG5UaGUgYWRkZWQgc3RyZXNzIG9uIHRoZSBib3ggY2F1c2VzIGl0IHRvIGNvbGxhcHNlIGluIG9uIGl0c2VsZi4nO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnICc7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gaW5uZXJfdGhpcy5pdGVtX3NwaWxsX21lc3NhZ2UoZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbbmV3X3dvcmxkLCBtZXNzYWdlXTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29tbWFuZF9saWZ0X2JveCgpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gd2l0aF93b3JsZF91cGRhdGUoZnVuY3Rpb24gKGVmZmVjdHMpIHtcbiAgICAgICAgICAgIGxldCBuZXdfYm94ID0gaW5uZXJfdGhpcy5ib3gubGlmdCgpO1xuXG4gICAgICAgICAgICBsZXQgbXNnOiBzdHJpbmc7XG4gICAgICAgICAgICBsZXQgbmV3X3dvcmxkOiBTaW5nbGVCb3hXb3JsZDtcbiAgICAgICAgICAgIGlmIChlZmZlY3RzLnNwaWxsYWdlX2xldmVsID09IFNwaWxsYWdlTGV2ZWwubm9uZSkge1xuICAgICAgICAgICAgICAgIG1zZyA9ICdZb3UgbGlmdCB1cCB0aGUgYm94IGluIHBsYWNlLic7XG4gICAgICAgICAgICAgICAgbmV3X3dvcmxkID0gaW5uZXJfdGhpcy51cGRhdGUoe2JveDogbmV3X2JveH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgc3BpbGxfbXNnID0gdW5jYXBpdGFsaXplKGlubmVyX3RoaXMuc3BpbGxfbWVzc2FnZShuZXdfYm94KSk7XG4gICAgICAgICAgICAgICAgbXNnID0gJ0FzIHlvdSBzdGFydCB0byBsaWZ0IHVwIHRoZSBib3gsICcgKyBzcGlsbF9tc2c7XG4gICAgICAgICAgICAgICAgbmV3X3dvcmxkID0gaW5uZXJfdGhpcy51cGRhdGUoe2JveDogbmV3X2JveCwgc3BpbGxlZF9pdGVtczogZWZmZWN0cy5zcGlsbGVkX2l0ZW1zfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlZmZlY3RzLnNwaWxsYWdlX2xldmVsIDw9IFNwaWxsYWdlTGV2ZWwuaGVhdnkgJiYgIWVmZmVjdHMuYm94X2NvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIGxldCB0b3RhbF93ZWlnaHQgPSBuZXdfYm94LmNvbnRlbnRzLnJlZHVjZSgoeCwgaSkgPT4geCArIGkud2VpZ2h0KCksIDApO1xuICAgICAgICAgICAgICAgIHRvdGFsX3dlaWdodCA9IE1hdGguZmxvb3IodG90YWxfd2VpZ2h0IC8gMi45KTsgLy9ydWxlIG9mIHRodW1iIGZvciB0cmFuc2xhdGluZyBcIm5vcm1hbCBpdGVtIHdlaWdodHNcIiB0byBcIm5vcm1hbCBib3ggd2VpZ2h0c1wiXG5cbiAgICAgICAgICAgICAgICBpZiAodG90YWxfd2VpZ2h0ID4gV2VpZ2h0LnZlcnlfaGVhdnkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfd2VpZ2h0ID0gV2VpZ2h0LnZlcnlfaGVhdnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCB3ZWlnaHRfMl9tc2cgPSBNYXA8V2VpZ2h0LCBzdHJpbmc+KFtcbiAgICAgICAgICAgICAgICAgICAgW1dlaWdodC5lbXB0eSwgJ3NvIGxpZ2h0IGFzIHRvIGJlIGVtcHR5J10sXG4gICAgICAgICAgICAgICAgICAgIFtXZWlnaHQudmVyeV9saWdodCwgJ3F1aXRlIGxpZ2h0J10sXG4gICAgICAgICAgICAgICAgICAgIFtXZWlnaHQubGlnaHQsICdsaWdodCddLFxuICAgICAgICAgICAgICAgICAgICBbV2VpZ2h0Lm1lZGl1bSwgJ21lZGl1bSddLFxuICAgICAgICAgICAgICAgICAgICBbV2VpZ2h0LmhlYXZ5LCAnc29tZXdoYXQgaGVhdnknXSxcbiAgICAgICAgICAgICAgICAgICAgW1dlaWdodC52ZXJ5X2hlYXZ5LCAndmVyeSBoZWF2eSddXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgbGV0IHdlaWdodF9tc2cgPSB3ZWlnaHRfMl9tc2cuZ2V0KHRvdGFsX3dlaWdodCk7XG4gICAgICAgICAgICAgICAgbGV0IHN1YmplY3QgPSBlZmZlY3RzLnNwaWxsYWdlX2xldmVsID09IFNwaWxsYWdlTGV2ZWwubm9uZSA/ICdJdCcgOiAnVGhlIGJveCc7XG4gICAgICAgICAgICAgICAgbXNnICs9IGBcXG4ke3N1YmplY3R9IGZlZWxzICR7d2VpZ2h0X21zZ30uIFlvdSBzZXQgaXQgYmFjayBkb3duLmA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlZmZlY3RzLmJveF9jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICBtc2cgKz0gJ1xcblRoZSBhZGRlZCBzdHJlc3Mgb24gdGhlIGJveCBjYXVzZXMgaXQgdG8gY29sbGFwc2UgaW4gb24gaXRzZWxmLic7XG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdHMuY29sbGFwc2Vfc3BpbGxlZF9pdGVtcy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBtc2cgKz0gJyAnICsgaW5uZXJfdGhpcy5pdGVtX3NwaWxsX21lc3NhZ2UoZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbbmV3X3dvcmxkLCBtc2ddO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjdXRfb3JfdGFwZV9ib3gob3BlcmF0aW9uOiBFZGdlT3BXb3JkLCBmYWNlX3c6IEZhY2VXb3JkLCBkaXI6IEVkZ2VEaXJXb3JkLCBzdGFydF9wb3NfYTogUG9zaXRpb25Xb3JkLCBzdGFydF9wb3NfYjogUG9zaXRpb25Xb3JkLCBlbmRfcG9zX2I6IFBvc2l0aW9uV29yZCk6IENvbW1hbmRSZXN1bHQge1xuICAgICAgICBsZXQgaW5uZXJfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiB3aXRoX3dvcmxkX3VwZGF0ZShmdW5jdGlvbiAoZWZmZWN0cykge1xuICAgICAgICAgICAgbGV0IGZhY2UgPSB3b3JkXzJfZmFjZS5nZXQoZmFjZV93KTtcbiAgICAgICAgICAgIGlmIChmYWNlICE9PSBGYWNlLnQgJiYgZmFjZSAhPT0gRmFjZS5zKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENvbW1hbmRFcnJvcihgZmFjZSBtdXN0IGJlIGVpdGhlciB0b3Agb3IgZnJvbnQuIGdvdCAke2ZhY2Vfd31gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGRpbV8yX3BvcyA9IFtcbiAgICAgICAgICAgICAgICBbJ2xlZnQnLCAnY2VudGVyJywgJ3JpZ2h0J10sXG4gICAgICAgICAgICAgICAgWyd0b3AnLCdtaWRkbGUnLCAnYm90dG9tJ11cbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGxldCBkaW1fYTogbnVtYmVyO1xuICAgICAgICAgICAgbGV0IGRpbV9iOiBudW1iZXI7XG5cbiAgICAgICAgICAgIGlmIChkaXIgPT0gJ3ZlcnRpY2FsbHknKSB7XG4gICAgICAgICAgICAgICAgZGltX2EgPSAwO1xuICAgICAgICAgICAgICAgIGRpbV9iID0gMVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaW1fYSA9IDE7XG4gICAgICAgICAgICAgICAgZGltX2IgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGltXzJfcG9zW2RpbV9hXS5pbmRleE9mKHN0YXJ0X3Bvc19hKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb21tYW5kRXJyb3IoYGludmFsaWQgc3RhcnRfcG9zX2EgZm9yICR7ZGlyfSAke29wZXJhdGlvbn06ICR7c3RhcnRfcG9zX2F9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGltXzJfcG9zW2RpbV9iXS5pbmRleE9mKHN0YXJ0X3Bvc19iKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb21tYW5kRXJyb3IoYGludmFsaWQgc3RhcnRfcG9zX2IgZm9yICR7ZGlyfSAke29wZXJhdGlvbn06ICR7c3RhcnRfcG9zX2J9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGltXzJfcG9zW2RpbV9iXS5pbmRleE9mKGVuZF9wb3NfYikgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29tbWFuZEVycm9yKGBpbnZhbGlkIGVuZF9wb3NfYiBmb3IgJHtkaXJ9ICR7b3BlcmF0aW9ufTogJHtlbmRfcG9zX2J9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBwdDE6IFBvaW50MiA9IFtudWxsLCBudWxsXTtcbiAgICAgICAgICAgIGxldCBwdDI6IFBvaW50MiA9IFtudWxsLCBudWxsXTtcblxuICAgICAgICAgICAgcHQxW2RpbV9hXSA9IHB0MltkaW1fYV0gPSBkaW1fMl9wb3NbZGltX2FdLmluZGV4T2Yoc3RhcnRfcG9zX2EpO1xuXG4gICAgICAgICAgICBwdDFbZGltX2JdID0gZGltXzJfcG9zW2RpbV9iXS5pbmRleE9mKHN0YXJ0X3Bvc19iKTtcbiAgICAgICAgICAgIHB0MltkaW1fYl0gPSBkaW1fMl9wb3NbZGltX2JdLmluZGV4T2YoZW5kX3Bvc19iKTtcblxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHB0MVtkaW1fYl0gLSBwdDJbZGltX2JdKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENvbW1hbmRFcnJvcignbm8gY2hhbmdlIGJldHdlZW4gc3RhcnRfcG9zX2IgYW5kIGVuZF9wb3NfYi4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGN1dF9wb2ludHM6IFtQb2ludDIsIFBvaW50Ml1bXTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhwdDFbZGltX2JdIC0gcHQyW2RpbV9iXSkgPT0gMikge1xuICAgICAgICAgICAgICAgIGxldCBwdDM6IFBvaW50MiA9IFtudWxsLCBudWxsXTtcbiAgICAgICAgICAgICAgICBwdDNbZGltX2FdID0gZGltXzJfcG9zW2RpbV9hXS5pbmRleE9mKHN0YXJ0X3Bvc19hKTtcbiAgICAgICAgICAgICAgICBwdDNbZGltX2JdID0gMTtcblxuICAgICAgICAgICAgICAgIGN1dF9wb2ludHMgPSBbW3B0MSwgcHQzXSwgW3B0MywgcHQyXV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1dF9wb2ludHMgPSBbW3B0MSwgcHQyXV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjdXRfZWRnZV9zdGF0ZXMgPSBMaXN0PEVkZ2VTdGF0ZT4oKTtcblxuICAgICAgICAgICAgbGV0IG5ld19ib3ggPSBpbm5lcl90aGlzLmJveDtcblxuICAgICAgICAgICAgY3V0X3BvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChbcDEsIHAyXSkge1xuICAgICAgICAgICAgICAgIGxldCB2ZXJ0aWNlcyA9IG5ld19ib3guYm94X21lc2guZmFjZV9tZXNoZXMuZ2V0KGZhY2UpLnZlcnRpY2VzO1xuICAgICAgICAgICAgICAgIGxldCB2MSA9IHZlcnRpY2VzLmdldChwMVswXSwgcDFbMV0pO1xuICAgICAgICAgICAgICAgIGxldCB2MiA9IHZlcnRpY2VzLmdldChwMlswXSwgcDJbMV0pO1xuICAgICAgICAgICAgICAgIGxldCBlZGdlID0gbmV3IEVkZ2UodjEsIHYyKTtcblxuICAgICAgICAgICAgICAgIGN1dF9lZGdlX3N0YXRlcyA9IGN1dF9lZGdlX3N0YXRlcy5wdXNoKG5ld19ib3guZWRnZV9zdGF0ZS5nZXQoZWRnZSwgbmV3IEVkZ2VTdGF0ZSgpKSk7XG4gICAgICAgICAgICAgICAgbmV3X2JveCA9IG5ld19ib3guY3V0X29yX3RhcGUod29yZF8yX2VkZ2Vfb3AuZ2V0KG9wZXJhdGlvbiksIGZhY2UsIHAxLCBwMik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWZmZWN0cy5uZXdfZGFuZ2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChuZCkge1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3RzLm5ld19yZW5kcy5jb250YWlucyhuZC5wYXJ0aXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMubmV3X2RhbmdsZXMgPSBlZmZlY3RzLm5ld19kYW5nbGVzLnJlbW92ZShlZmZlY3RzLm5ld19kYW5nbGVzLmluZGV4T2YobmQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWZmZWN0cy5yZXBhaXJlZF9kYW5nbGVzLmZvckVhY2goZnVuY3Rpb24gKHJkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdHMubmV3X3JlbmRzLmNvbnRhaW5zKHJkLnBhcnRpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5yZXBhaXJlZF9kYW5nbGVzID0gZWZmZWN0cy5yZXBhaXJlZF9kYW5nbGVzLnJlbW92ZShlZmZlY3RzLnJlcGFpcmVkX2RhbmdsZXMuaW5kZXhPZihyZCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgbWVzc2FnZTogc3RyaW5nO1xuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PSAnY3V0Jykge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBpbm5lcl90aGlzLmN1dF9tZXNzYWdlKG5ld19ib3gsIGN1dF9lZGdlX3N0YXRlcywgZWZmZWN0cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBpbm5lcl90aGlzLnRhcGVfbWVzc2FnZShuZXdfYm94LCBjdXRfZWRnZV9zdGF0ZXMsIGVmZmVjdHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gW2lubmVyX3RoaXMudXBkYXRlKHtib3g6IG5ld19ib3h9KSwgbWVzc2FnZV07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGN1dF9tZXNzYWdlKG5ld19ib3g6IEJveCwgY3V0X2VkZ2Vfc3RhdGVzOiBMaXN0PEVkZ2VTdGF0ZT4sIGVmZmVjdHM6IFdvcmxkVXBkYXRlRWZmZWN0cykge1xuICAgICAgICBsZXQgY3V0X21lc3NhZ2U6IHN0cmluZztcbiAgICAgICAgaWYgKGN1dF9lZGdlX3N0YXRlcy5nZXQoMCkuY2FyZGJvYXJkID09IENhcmRib2FyZEVkZ2UuaW50YWN0KSB7XG4gICAgICAgICAgICBjdXRfbWVzc2FnZSA9ICdZb3Ugc2xpZGUgeW91ciBibGFkZSBhbG9uZyB0aGUgY2FyZGJvYXJkJztcbiAgICAgICAgICAgIGlmIChjdXRfZWRnZV9zdGF0ZXMuZ2V0KDApLnRhcGUgPT0gVGFwZUVkZ2UudGFwZWQpIHtcbiAgICAgICAgICAgICAgICBjdXRfbWVzc2FnZSArPSAnIGFuZCB0YXBlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1dF9tZXNzYWdlICs9ICcuJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjdXRfZWRnZV9zdGF0ZXMuZ2V0KDApLnRhcGUgPT0gVGFwZUVkZ2UudGFwZWQpIHtcbiAgICAgICAgICAgICAgICBjdXRfbWVzc2FnZSA9ICdZb3UgZHJhdyB5b3VyIGJsYWRlIGVhc2lseSBhbG9uZyB0aGUgbGluZS4gSXQgc2xpdHMgb3BlbiB0aGUgdGhpbiBsYXllciBvZiB0YXBlIGNvdmVyaW5nIHRoZSBnYXAgaW4gdGhlIGNhcmRib2FyZC4nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXRfbWVzc2FnZSA9ICdZb3Ugc2xpZGUgeW91ciBibGFkZSBhbG9uZyB0aGUgbGluZSwgYnV0IG5vdGhpbmcgaXMgdGhlcmUgdG8gcmVzaXN0IGl0Lic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3V0X2VkZ2Vfc3RhdGVzLnNpemUgPiAxKSB7XG4gICAgICAgICAgICBpZiAoY3V0X2VkZ2Vfc3RhdGVzLmdldCgxKS5jYXJkYm9hcmQgIT0gY3V0X2VkZ2Vfc3RhdGVzLmdldCgwKS5jYXJkYm9hcmQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3V0X2VkZ2Vfc3RhdGVzLmdldCgxKS5jYXJkYm9hcmQgPT0gQ2FyZGJvYXJkRWRnZS5pbnRhY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY3V0X21lc3NhZ2UgKz0gJyBIYWxmd2F5IGFjcm9zcywgaXQgY2F0Y2hlcyBvbiBzb2xpZCBjYXJkYm9hcmQsIGFuZCB5b3UgcHVsbCBpdCBhbG9uZyB0aGUgcmVzdCBvZiB0aGUgd2F5Lic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1dF9lZGdlX3N0YXRlcy5nZXQoMSkudGFwZSA9PSBUYXBlRWRnZS50YXBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3V0X21lc3NhZ2UgKz0gJyBIYWxmd2F5IGFjcm9zcywgeW91IHJlYWNoIGEgZ2FwIGluIHRoZSBjYXJkYm9hcmQsIGFuZCB5b3VyIGJsYWRlIHNsaWRlcyBlYXNpbHkgYWxvbmcgdGhlIHRoaW4gbGF5ZXIgb2YgdGFwZS4nO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3V0X21lc3NhZ2UgKz0gJyBIYWxmd2F5IGFjcm9zcywgeW91IHJlYWNoIGEgZ2FwIGluIHRoZSBjYXJkYm9hcmQsIGFuZCB5b3VyIGJsYWRlIGlzIG1ldCB3aXRoIG5vIGZ1cnRoZXIgcmVzaXN0YW5jZS4nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBjdXRfbWVzc2FnZTtcbiAgICAgICAgaWYgKGVmZmVjdHMubmV3X3JlbmRzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICBsZXQgdG90YWxfZmFjZV9tZW1iZXJzaGlwID0gTWFwPEZhY2UsIG51bWJlcj4oKTtcbiAgICAgICAgICAgIGVmZmVjdHMubmV3X3JlbmRzLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gbmV3X2JveC5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChyKTtcbiAgICAgICAgICAgICAgICB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSBjb3VudGVyX3VwZGF0ZSh0b3RhbF9mYWNlX21lbWJlcnNoaXAsIGZhY2VfbWVtYmVyc2hpcCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgbGV0IGZhY2Vfb3JkZXIgPSBjb3VudGVyX29yZGVyKHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCk7XG4gICAgICAgICAgICBsZXQgZmFjZV9tc2cgPSBmYWNlX21lc3NhZ2UoZmFjZV9vcmRlcik7XG5cbiAgICAgICAgICAgIGxldCBuZXdfcmVuZHNfbWVzc2FnZTogc3RyaW5nO1xuICAgICAgICAgICAgaWYgKGVmZmVjdHMubmV3X3JlbmRzLnNpemUgPT0gMSkge1xuICAgICAgICAgICAgICAgIG5ld19yZW5kc19tZXNzYWdlID0gYEEgbmV3IHNlY3Rpb24gb2YgY2FyZGJvYXJkIGNvbWVzIGZyZWUgb24gdGhlICR7ZmFjZV9tc2d9LmA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld19yZW5kc19tZXNzYWdlID0gYCR7ZWZmZWN0cy5uZXdfcmVuZHMuc2l6ZX0gbmV3IHNlY3Rpb25zIG9mIGNhcmRib2FyZCBjb21lIGZyZWUgb24gdGhlICR7ZmFjZV9tc2d9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1xcbicgKyBuZXdfcmVuZHNfbWVzc2FnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlZmZlY3RzLm5ld19kYW5nbGVzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICBsZXQgdG90YWxfZmFjZV9tZW1iZXJzaGlwID0gTWFwPEZhY2UsIG51bWJlcj4oKTtcbiAgICAgICAgICAgIGVmZmVjdHMubmV3X2RhbmdsZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIGxldCBmYWNlX21lbWJlcnNoaXAgPSBuZXdfYm94LmJveF9tZXNoLmdldF9wYXJ0aXRpb25fZmFjZV9tZW1iZXJzaGlwKGQucGFydGl0aW9uKTtcbiAgICAgICAgICAgICAgICB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSBjb3VudGVyX3VwZGF0ZSh0b3RhbF9mYWNlX21lbWJlcnNoaXAsIGZhY2VfbWVtYmVyc2hpcCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgbGV0IGZhY2Vfb3JkZXIgPSBjb3VudGVyX29yZGVyKHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCk7XG4gICAgICAgICAgICBsZXQgZmFjZV9tc2cgPSBmYWNlX21lc3NhZ2UoZmFjZV9vcmRlcik7XG5cbiAgICAgICAgICAgIGxldCBuZXdfcmVuZHNfbWVzc2FnZTogc3RyaW5nO1xuICAgICAgICAgICAgaWYgKGVmZmVjdHMubmV3X2RhbmdsZXMuc2l6ZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgbmV3X3JlbmRzX21lc3NhZ2UgPSBgQSBuZXcgc2VjdGlvbiBvZiBjYXJkYm9hcmQgb24gdGhlICR7ZmFjZV9tc2d9IGNhbiBiZSBzd3VuZyBmcmVlbHkgb24gYSBoaW5nZS5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdfcmVuZHNfbWVzc2FnZSA9IGAke2VmZmVjdHMubmV3X2RhbmdsZXMuc2l6ZX0gbmV3IHNlY3Rpb25zIG9mIGNhcmRib2FyZCBvbiB0aGUgJHtmYWNlX21zZ30gY2FuIGJlIHN3dW5nIGZyZWVseSBvbiBhIGhpbmdlYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1xcbicgKyBuZXdfcmVuZHNfbWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG5cbiAgICB0YXBlX21lc3NhZ2UobmV3X2JveDogQm94LCBjdXRfZWRnZV9zdGF0ZXM6IExpc3Q8RWRnZVN0YXRlPiwgZWZmZWN0czogV29ybGRVcGRhdGVFZmZlY3RzKSB7XG4gICAgICAgIGxldCB0YXBlX21lc3NhZ2U6IHN0cmluZztcbiAgICAgICAgaWYgKGN1dF9lZGdlX3N0YXRlcy5zb21lKChjZXMpID0+IGNlcy5jYXJkYm9hcmQgPT0gQ2FyZGJvYXJkRWRnZS5pbnRhY3QpKSB7XG4gICAgICAgICAgICB0YXBlX21lc3NhZ2UgPSAnWW91IGRyYXcgb3V0IGEgbGVuZ3RoIG9mIHRhcGUgYW5kIGZhc3RlbiBpdCB0byB0aGUgY2FyZGJvYXJkLic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoY3V0X2VkZ2Vfc3RhdGVzLnNvbWUoKGNlcykgPT4gY2VzLnRhcGUgPT0gVGFwZUVkZ2UudGFwZWQpKSB7XG4gICAgICAgICAgICAgICAgdGFwZV9tZXNzYWdlID0gJ1lvdSBsYXkgYW5vdGhlciBsZW5ndGggb2YgdGFwZSBvdmVyIHRoZSBjdXQgZWRnZS4nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXBlX21lc3NhZ2UgPSAnWW91IHNlYWwgdGhlIGdhcCBpbiB0aGUgY2FyZGJvYXJkIHdpdGggYSBsZW5ndGggb2YgdGFwZS4nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB0YXBlX21lc3NhZ2U7XG4gICAgICAgIGlmIChlZmZlY3RzLnJlcGFpcmVkX2RhbmdsZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGxldCB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSBNYXA8RmFjZSwgbnVtYmVyPigpO1xuICAgICAgICAgICAgZWZmZWN0cy5yZXBhaXJlZF9kYW5nbGVzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gbmV3X2JveC5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChkLnBhcnRpdGlvbik7XG4gICAgICAgICAgICAgICAgdG90YWxfZmFjZV9tZW1iZXJzaGlwID0gY291bnRlcl91cGRhdGUodG90YWxfZmFjZV9tZW1iZXJzaGlwLCBmYWNlX21lbWJlcnNoaXApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGxldCBmYWNlX29yZGVyID0gY291bnRlcl9vcmRlcih0b3RhbF9mYWNlX21lbWJlcnNoaXApO1xuICAgICAgICAgICAgbGV0IGZhY2VfbXNnID0gZmFjZV9tZXNzYWdlKGZhY2Vfb3JkZXIpO1xuXG4gICAgICAgICAgICBsZXQgcmVwYWlyZWRfZGFuZ2xlc19tZXNzYWdlOiBzdHJpbmc7XG4gICAgICAgICAgICBpZiAoZWZmZWN0cy5uZXdfcmVuZHMuc2l6ZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVwYWlyZWRfZGFuZ2xlc19tZXNzYWdlID0gYEEgZm9ybWVybHkgZnJlZWx5LXN3aW5naW5nIHNlY3Rpb24gb2YgY2FyZGJvYXJkIG9uIHRoZSAke2ZhY2VfbXNnfSBjYW4gbm8gbG9uZ2VyIHN3aW5nIG9uIGl0cyBoaW5nZS5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXBhaXJlZF9kYW5nbGVzX21lc3NhZ2UgPSBgJHtmYWNlX29yZGVyLnNpemV9IGZvcm1lcmx5IGZyZWVseS1zd2luZ2luZyBzZWN0aW9ucyBvZiBjYXJkYm9hcmQgb24gdGhlICR7ZmFjZV9tc2d9IGNhbiBubyBsb25nZXIgc3dpbmcgb24gdGhlaXIgaGluZ2VzLmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXNzYWdlICs9ICdcXG4nICsgcmVwYWlyZWRfZGFuZ2xlc19tZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cblxuICAgIGNvbW1hbmRfY3V0X2JveChmYWNlX3c6IEZhY2VXb3JkLCBkaXI6IEVkZ2VEaXJXb3JkLCBzdGFydF9wb3NfYTogUG9zaXRpb25Xb3JkLCBzdGFydF9wb3NfYjogUG9zaXRpb25Xb3JkLCBlbmRfcG9zX2I6IFBvc2l0aW9uV29yZCk6IENvbW1hbmRSZXN1bHQge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXRfb3JfdGFwZV9ib3goJ2N1dCcsIGZhY2VfdywgZGlyLCBzdGFydF9wb3NfYSwgc3RhcnRfcG9zX2IsIGVuZF9wb3NfYik7XG4gICAgfVxuXG4gICAgY29tbWFuZF90YXBlX2JveChmYWNlX3c6IEZhY2VXb3JkLCBkaXI6IEVkZ2VEaXJXb3JkLCBzdGFydF9wb3NfYTogUG9zaXRpb25Xb3JkLCBzdGFydF9wb3NfYjogUG9zaXRpb25Xb3JkLCBlbmRfcG9zX2I6IFBvc2l0aW9uV29yZCk6IENvbW1hbmRSZXN1bHQge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXRfb3JfdGFwZV9ib3goJ3RhcGUnLCBmYWNlX3csIGRpciwgc3RhcnRfcG9zX2EsIHN0YXJ0X3Bvc19iLCBlbmRfcG9zX2IpO1xuICAgIH1cblxuICAgIGl0ZW1fc3BpbGxfbWVzc2FnZShzcGlsbGVkX2l0ZW1zOiBMaXN0PEl0ZW0+KXtcbiAgICAgICAgbGV0IHNpID0gc3BpbGxlZF9pdGVtcztcbiAgICAgICAgbGV0IGR1cmluZ19zcGlsbF9tc2c6IHN0cmluZztcbiAgICAgICAgbGV0IGFmdGVyX3NwaWxsX21zZzogc3RyaW5nO1xuXG4gICAgICAgIGlmIChzaS5zaXplID09IDEpIHtcbiAgICAgICAgICAgIGxldCBpdGVtX21zZyA9IHNpLmdldCgwKS5wcmVfZ2VzdGFsdCgpO1xuICAgICAgICAgICAgZHVyaW5nX3NwaWxsX21zZyA9IGAke2NhcGl0YWxpemUoaXRlbV9tc2cpfSBzcGlsbHMgb3V0IGJlZm9yZSB5b3UuYDtcbiAgICAgICAgICAgIGFmdGVyX3NwaWxsX21zZyA9IGBJdCdzICR7c2kuZ2V0KDApLmFydGljbGUoKX0gJHtzaS5nZXQoMCkubmFtZSgpfSAtICR7c2kuZ2V0KDApLnBvc3RfZ2VzdGFsdCgpfS5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGl0ZW1fbXNnID0gc2kuYnV0TGFzdCgpLm1hcCgoaSkgPT4gaS5wcmVfZ2VzdGFsdCgpKS5qb2luKCcsICcpICsgJyBhbmQgJyArIHNpLmxhc3QoKS5wcmVfZ2VzdGFsdCgpO1xuICAgICAgICAgICAgZHVyaW5nX3NwaWxsX21zZyA9IGNhcGl0YWxpemUoYCR7aXRlbV9tc2d9IHNwaWxsIG91dCBiZWZvcmUgeW91LmApO1xuXG4gICAgICAgICAgICBsZXQgYWZ0ZXJfbXNncyA9IHNpLm1hcCgoaSkgPT4gYCR7aS5hcnRpY2xlKCl9ICR7aS5uYW1lKCl9IC0gJHtpLnBvc3RfZ2VzdGFsdCgpfWApO1xuICAgICAgICAgICAgYWZ0ZXJfc3BpbGxfbXNnID0gXCJJdCdzIFwiICsgYWZ0ZXJfbXNncy5idXRMYXN0KCkuam9pbignLCAnKSArICcgYW5kICcgKyBhZnRlcl9tc2dzLmxhc3QoKSArICcuJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzcGlsbF9tc2cgPSBkdXJpbmdfc3BpbGxfbXNnICsgJyAnICsgYWZ0ZXJfc3BpbGxfbXNnO1xuICAgICAgICByZXR1cm4gc3BpbGxfbXNnO1xuICAgIH1cblxuICAgIHNwaWxsX21lc3NhZ2UobmV3X2JveDogQm94KSB7XG4gICAgICAgIGxldCBlZmZlY3RzID0gd29ybGRfdXBkYXRlLmVmZmVjdHM7XG5cbiAgICAgICAgbGV0IHN0cnVjdHVyYWxfZG1nX21zZ3MgPSBMaXN0PHN0cmluZz4oKTtcblxuICAgICAgICBpZiAoZWZmZWN0cy5zcGlsbGVkX3JlbmRzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICBsZXQgdG90YWxfZmFjZV9tZW1iZXJzaGlwID0gTWFwPEZhY2UsIG51bWJlcj4oKTtcbiAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9yZW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChzcikge1xuICAgICAgICAgICAgICAgIGxldCBzcl9tZW0gPSBuZXdfYm94LmJveF9tZXNoLmdldF9wYXJ0aXRpb25fZmFjZV9tZW1iZXJzaGlwKHNyKTtcbiAgICAgICAgICAgICAgICB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSBjb3VudGVyX3VwZGF0ZSh0b3RhbF9mYWNlX21lbWJlcnNoaXAsIHNyX21lbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCBzcl9mYWNlcyA9IGNvdW50ZXJfb3JkZXIodG90YWxfZmFjZV9tZW1iZXJzaGlwKTtcbiAgICAgICAgICAgIGxldCBmX21zZyA9IGZhY2VfbWVzc2FnZShzcl9mYWNlcyk7XG4gICAgICAgICAgICBsZXQgc3BpbGxlZF9yZW5kc19tc2cgPSBgZnJlZSBjYXJkYm9hcmQgb24gdGhlICR7Zl9tc2d9IGZhbGxzIGF3YXlgO1xuICAgICAgICAgICAgc3RydWN0dXJhbF9kbWdfbXNncyA9IHN0cnVjdHVyYWxfZG1nX21zZ3MucHVzaChzcGlsbGVkX3JlbmRzX21zZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWZmZWN0cy5zcGlsbGVkX2RhbmdsZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGxldCB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSBNYXA8RmFjZSwgbnVtYmVyPigpO1xuICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX2RhbmdsZXMuZm9yRWFjaChmdW5jdGlvbiAoc2QpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2RfbWVtID0gbmV3X2JveC5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChzZC5wYXJ0aXRpb24pO1xuICAgICAgICAgICAgICAgIHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCA9IGNvdW50ZXJfdXBkYXRlKHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCwgc2RfbWVtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGV0IHNkX2ZhY2VzID0gY291bnRlcl9vcmRlcih0b3RhbF9mYWNlX21lbWJlcnNoaXApO1xuICAgICAgICAgICAgbGV0IGZfbXNnID0gZmFjZV9tZXNzYWdlKHNkX2ZhY2VzKTtcbiAgICAgICAgICAgIGxldCBzcGlsbGVkX2RhbmdsZXNfbXNnID0gYGRhbmdsaW5nIGNhcmRib2FyZCBvbiB0aGUgJHtmX21zZ30gc3dpbmdzIG9wZW5gO1xuICAgICAgICAgICAgc3RydWN0dXJhbF9kbWdfbXNncyA9IHN0cnVjdHVyYWxfZG1nX21zZ3MucHVzaChzcGlsbGVkX2RhbmdsZXNfbXNnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzcGlsbF9tc2cgPSB0aGlzLml0ZW1fc3BpbGxfbWVzc2FnZShlZmZlY3RzLnNwaWxsZWRfaXRlbXMpO1xuICAgICAgICBsZXQgcmVzdWx0OiBzdHJpbmc7XG5cbiAgICAgICAgaWYgKHN0cnVjdHVyYWxfZG1nX21zZ3Muc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGxldCBzdHJ1Y3R1cmVfZG1nX21zZyA9IHN0cnVjdHVyYWxfZG1nX21zZ3Muam9pbignIGFuZCAnKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGAke3N0cnVjdHVyZV9kbWdfbXNnfS4gJHtzcGlsbF9tc2d9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHNwaWxsX21zZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGNvbW1hbmRfb3Blbl9kYW5nbGUoZmFjZTogRmFjZVdvcmQpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3Blbl9vcl9jbG9zZV9kYW5nbGUoJ29wZW4nLCBmYWNlKTtcbiAgICB9XG5cbiAgICBjb21tYW5kX2Nsb3NlX2RhbmdsZShmYWNlOiBGYWNlV29yZCk6IENvbW1hbmRSZXN1bHQge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuX29yX2Nsb3NlX2RhbmdsZSgnY2xvc2UnLCBmYWNlKTtcbiAgICB9XG5cbiAgICBvcGVuX29yX2Nsb3NlX2RhbmdsZShvcGVyYXRpb246IFJlbmRPcFdvcmQsIGZhY2VfdzogRmFjZVdvcmQpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gd2l0aF93b3JsZF91cGRhdGUoZnVuY3Rpb24gKGVmZmVjdHMpIHtcbiAgICAgICAgICAgIGxldCBmYWNlID0gd29yZF8yX2ZhY2UuZ2V0KGZhY2VfdylcbiAgICAgICAgICAgIGxldCBhcHBsaWNhYmxlX2RhbmdsZXMgPSBpbm5lcl90aGlzLmJveC5kYW5nbGVfc3RhdGUua2V5U2VxKCkuZmlsdGVyKChkKSA9PiBkLmZyZWVfZmFjZSA9PSBmYWNlKTtcbiAgICAgICAgICAgIGxldCBuZXdfYm94ID0gaW5uZXJfdGhpcy5ib3g7XG4gICAgICAgICAgICBsZXQgdXBkYXRlZCA9IExpc3Q8RGFuZ2xlPigpO1xuICAgICAgICAgICAgYXBwbGljYWJsZV9kYW5nbGVzLmZvckVhY2goZnVuY3Rpb24gKGQpe1xuICAgICAgICAgICAgICAgIGxldCBlcnIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXdfYm94ID0gbmV3X2JveC5vcGVuX29yX2Nsb3NlX2RhbmdsZSh3b3JkXzJfcmVuZF9vcC5nZXQob3BlcmF0aW9uKSwgZCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgV29ybGRVcGRhdGVFcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZCA9IHVwZGF0ZWQucHVzaChkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh1cGRhdGVkLnNpemUgPT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKGBObyBkYW5nbGVzIHRvICR7b3BlcmF0aW9ufSBvbiAke2ZhY2Vfd30gZmFjZWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgc3dpbmdfZGlyX21zZyA9IG9wZXJhdGlvbiA9PSAnY2xvc2UnID8gJ2luJyA6ICdvdXQnO1xuICAgICAgICAgICAgbGV0IG51bV9oaW5nZXMgPSB1cGRhdGVkLm1hcCgoZCkgPT4gZC5maXhlZF9mYWNlKS50b1NldCgpLnNpemU7XG4gICAgICAgICAgICBsZXQgaGluZ2VfbXNnOiBzdHJpbmc7XG4gICAgICAgICAgICBpZiAobnVtX2hpbmdlcyA9PSAxKSB7XG4gICAgICAgICAgICAgICAgaGluZ2VfbXNnID0gJ2hpbmdlJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGluZ2VfbXNnID0gJ2hpbmdlcyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBtZXNzYWdlID0gYFlvdSBzd2luZyB0aGUgY2FyZGJvYXJkIG9uIHRoZSAke2ZhY2Vfd30gb2YgdGhlIGJveCAke3N3aW5nX2Rpcl9tc2d9IG9uIGl0cyAke2hpbmdlX21zZ31gO1xuICAgICAgICAgICAgaWYgKCFpbm5lcl90aGlzLmJveC5hcHBlYXJzX29wZW4oKSAmJiBuZXdfYm94LmFwcGVhcnNfb3BlbigpKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnXFxuWW91IGdldCBhIGdsaW1wc2UgaW5zaWRlIHRoZSBib3ggdGhyb3VnaCB0aGUgb3BlbmluZy4nO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5ld19ib3guYXBwZWFyc19lbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCIgSXQncyBlbXB0eS5cIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IGAgWW91IGNhbiBzZWUgJHtuZXdfYm94Lm5leHRfaXRlbSgpLnByZV9nZXN0YWx0KCl9IGluc2lkZS5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlZmZlY3RzLmJveF9jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlICs9ICdcXG5UaGUgYWRkZWQgc3RyZXNzIG9uIHRoZSBib3ggY2F1c2VzIGl0IHRvIGNvbGxhcHNlIGluIG9uIGl0c2VsZi4nO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnICcgKyBpbm5lcl90aGlzLml0ZW1fc3BpbGxfbWVzc2FnZShlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbaW5uZXJfdGhpcy51cGRhdGUoe2JveDogbmV3X2JveH0pLCBtZXNzYWdlXTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29tbWFuZF9vcGVuX3JlbmQoZmFjZV93OiBGYWNlV29yZCk6IENvbW1hbmRSZXN1bHQge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuX29yX2Nsb3NlX3JlbmQoJ29wZW4nLCBmYWNlX3cpO1xuICAgIH1cblxuICAgIGNvbW1hbmRfY2xvc2VfcmVuZChmYWNlX3c6IEZhY2VXb3JkKTogQ29tbWFuZFJlc3VsdCB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wZW5fb3JfY2xvc2VfcmVuZCgnY2xvc2UnLCBmYWNlX3cpO1xuICAgIH1cblxuICAgIG9wZW5fb3JfY2xvc2VfcmVuZChvcGVyYXRpb246IFJlbmRPcFdvcmQsIGZhY2VfdzogRmFjZVdvcmQpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gd2l0aF93b3JsZF91cGRhdGUoZnVuY3Rpb24gKGVmZmVjdHMpIHtcbiAgICAgICAgICAgIGxldCBmYWNlID0gd29yZF8yX2ZhY2UuZ2V0KGZhY2Vfdyk7XG4gICAgICAgICAgICBsZXQgYXBwbGljYWJsZV9yZW5kcyA9IExpc3Q8UGFydGl0aW9uPigpO1xuICAgICAgICAgICAgaW5uZXJfdGhpcy5ib3gucmVuZF9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzLCByKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZhY2VfbWVtYmVyc2hpcCA9IGlubmVyX3RoaXMuYm94LmJveF9tZXNoLmdldF9wYXJ0aXRpb25fZmFjZV9tZW1iZXJzaGlwKHIpO1xuICAgICAgICAgICAgICAgIGlmIChmYWNlX21lbWJlcnNoaXAuZ2V0KGZhY2UpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhcHBsaWNhYmxlX3JlbmRzID0gYXBwbGljYWJsZV9yZW5kcy5wdXNoKHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgbmV3X2JveCA9IGlubmVyX3RoaXMuYm94O1xuICAgICAgICAgICAgbGV0IHVwZGF0ZWQgPSBMaXN0PFBhcnRpdGlvbj4oKTtcbiAgICAgICAgICAgIGFwcGxpY2FibGVfcmVuZHMuZm9yRWFjaChmdW5jdGlvbiAocil7XG4gICAgICAgICAgICAgICAgbGV0IGVyciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld19ib3ggPSBuZXdfYm94Lm9wZW5fb3JfY2xvc2VfcmVuZCh3b3JkXzJfcmVuZF9vcC5nZXQob3BlcmF0aW9uKSwgcik7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgV29ybGRVcGRhdGVFcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZCA9IHVwZGF0ZWQucHVzaChyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh1cGRhdGVkLnNpemUgPT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKGBObyByZW5kcyB0byAke29wZXJhdGlvbn0gb24gJHtmYWNlX3d9IGZhY2VgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCA9IE1hcDxGYWNlLCBudW1iZXI+KCk7XG4gICAgICAgICAgICB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSB1cGRhdGVkLnJlZHVjZShcbiAgICAgICAgICAgICAgICAodG90YWwsIHIpID0+IGNvdW50ZXJfdXBkYXRlKFxuICAgICAgICAgICAgICAgICAgICB0b3RhbCxcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJfdGhpcy5ib3guYm94X21lc2guZ2V0X3BhcnRpdGlvbl9mYWNlX21lbWJlcnNoaXAocikpLFxuICAgICAgICAgICAgICAgIHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCk7XG5cbiAgICAgICAgICAgIGxldCBmYWNlX21zZyA9IGZhY2VfbWVzc2FnZShjb3VudGVyX29yZGVyKHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCkpO1xuXG4gICAgICAgICAgICBsZXQgbWVzc2FnZTogc3RyaW5nO1xuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PSAnb3BlbicpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFlvdSByZW1vdmUgdGhlIGZyZWUgY2FyZGJvYXJkIGZyb20gdGhlICR7ZmFjZV9tc2d9IGFuZCBwbGFjZSBpdCB0byB0aGUgc2lkZS5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBgWW91IHJlcGxhY2UgdGhlIG1pc3NpbmcgY2FyZGJvYXJkIGZyb20gdGhlICR7ZmFjZV9tc2d9LmA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaW5uZXJfdGhpcy5ib3guYXBwZWFyc19vcGVuKCkgJiYgbmV3X2JveC5hcHBlYXJzX29wZW4oKSkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1xcbllvdSBnZXQgYSBnbGltcHNlIGluc2lkZSB0aGUgYm94IHRocm91Z2ggdGhlIG9wZW5pbmcuJztcblxuICAgICAgICAgICAgICAgIGlmIChuZXdfYm94LmFwcGVhcnNfZW1wdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IFwiIEl0J3MgZW1wdHkuXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBgIFlvdSBjYW4gc2VlICR7bmV3X2JveC5uZXh0X2l0ZW0oKS5wcmVfZ2VzdGFsdCgpfSBpbnNpZGUuYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZWZmZWN0cy5ib3hfY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnXFxuVGhlIGFkZGVkIHN0cmVzcyBvbiB0aGUgYm94IGNhdXNlcyBpdCB0byBjb2xsYXBzZSBpbiBvbiBpdHNlbGYuJztcbiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gJyAnICsgaW5uZXJfdGhpcy5pdGVtX3NwaWxsX21lc3NhZ2UoZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW2lubmVyX3RoaXMudXBkYXRlKHtib3g6IG5ld19ib3h9KSwgbWVzc2FnZV07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbW1hbmRfdGFrZV9pdGVtX2JveCgpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gd2l0aF93b3JsZF91cGRhdGUoZnVuY3Rpb24gKGVmZmVjdHMpIHtcbiAgICAgICAgICAgIGxldCBuZXdfYm94ID0gaW5uZXJfdGhpcy5ib3gudGFrZV9uZXh0X2l0ZW0oKTtcblxuICAgICAgICAgICAgbGV0IG5ld190YWtlbl9pdGVtcyA9IGlubmVyX3RoaXMudGFrZW5faXRlbXM7XG4gICAgICAgICAgICBuZXdfdGFrZW5faXRlbXMucHVzaCguLi5lZmZlY3RzLnRha2VuX2l0ZW1zLnRvQXJyYXkoKSk7XG5cbiAgICAgICAgICAgIGxldCBpdGVtID0gZWZmZWN0cy50YWtlbl9pdGVtcy5nZXQoMCk7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZSA9IGBZb3UgcmVhY2ggaW4gYW5kIHRha2UgJHtpdGVtLnByZV9nZXN0YWx0KCl9LiBJdCdzICR7aXRlbS5wb3N0X2dlc3RhbHQoKX07ICR7aXRlbS5hcnRpY2xlKCl9ICR7aXRlbS5uYW1lKCl9LmA7XG4gICAgICAgIFxuICAgICAgICAgICAgaWYgKG5ld19ib3guYXBwZWFyc19lbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnXFxuVGhlIGJveCBpcyBlbXB0eSBub3cuJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPSBgXFxuWW91IGNhbiBub3cgc2VlICR7bmV3X2JveC5uZXh0X2l0ZW0oKS5wcmVfZ2VzdGFsdCgpfSBpbnNpZGUgdGhlIGJveC5gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gW2lubmVyX3RoaXMudXBkYXRlKHtib3g6IG5ld19ib3gsIHRha2VuX2l0ZW1zOiBuZXdfdGFrZW5faXRlbXN9KSwgbWVzc2FnZV07XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFdvcmxkRHJpdmVyIHtcbiAgICB3b3JsZDogU2luZ2xlQm94V29ybGQ7XG5cbiAgICBjb25zdHJ1Y3RvciAoaW5pdGlhbF93b3JsZDogU2luZ2xlQm94V29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IGluaXRpYWxfd29ybGQ7XG4gICAgfVxuXG4gICAgYXBwbHlfY29tbWFuZChjbWRfbmFtZTogVG9rZW4sIC4uLmNtZF9hcmdzOiBUb2tlbltdKSB7XG4gICAgICAgIGxldCBjbWRfbWV0aG9kOiAoLi4uY21kX2FyZ3M6IFRva2VuW10pID0+IENvbW1hbmRSZXN1bHQ7XG4gICAgICAgIHN3aXRjaCAoY21kX25hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JvdGF0ZV95X2JveCc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9yb3RhdGVfeV9ib3g7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyb2xsX2JveCc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9yb2xsX2JveDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xpZnRfYm94JzpcbiAgICAgICAgICAgICAgICBjbWRfbWV0aG9kID0gdGhpcy53b3JsZC5jb21tYW5kX2xpZnRfYm94O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY3V0X2JveCc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9jdXRfYm94O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndGFwZV9ib3gnOlxuICAgICAgICAgICAgICAgIGNtZF9tZXRob2QgPSB0aGlzLndvcmxkLmNvbW1hbmRfdGFwZV9ib3g7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdvcGVuX2RhbmdsZSc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9vcGVuX2RhbmdsZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Nsb3NlX2RhbmdsZSc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9jbG9zZV9kYW5nbGU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdvcGVuX3JlbmQnOlxuICAgICAgICAgICAgICAgIGNtZF9tZXRob2QgPSB0aGlzLndvcmxkLmNvbW1hbmRfb3Blbl9yZW5kO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY2xvc2VfcmVuZCc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9jbG9zZV9yZW5kO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndGFrZV9pdGVtX2JveCc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF90YWtlX2l0ZW1fYm94O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29tbWFuZEVycm9yKGBpbnZhbGlkIGNtZF9uYW1lIGdpdmVuOiAke2NtZF9uYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBbbmV3X3dvcmxkLCBtc2ddID0gY21kX21ldGhvZC5hcHBseSh0aGlzLndvcmxkLCBjbWRfYXJncyk7XG4gICAgICAgIGxldCB0b2tlbnM6IFRva2VuW10gPSBbY21kX25hbWVdO1xuICAgICAgICB0b2tlbnMucHVzaCguLi5jbWRfYXJncyk7XG4gICAgICAgIC8vY29uc29sZS5sb2coJz4gJyArIHRva2Vucy5qb2luKCcgJykgKyAnXFxuJyk7XG4gICAgICAgIC8vY29uc29sZS5sb2cobXNnICsgJ1xcbicpO1xuICAgICAgICB0aGlzLndvcmxkID0gbmV3X3dvcmxkO1xuICAgICAgICByZXR1cm4gbXNnXG4gICAgfVxuXG4gICAgcnVuKGNtZDogc3RyaW5nKSB7XG4gICAgICAgIGxldCBbY21kX25hbWUsIGNtZF9hcmdzXTogW1Rva2VuLCBUb2tlbltdXSA9IHBhcnNlX2NvbW1hbmQoY21kKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHlfY29tbWFuZChjbWRfbmFtZSwgLi4uY21kX2FyZ3MpICsgJ1xcbic7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VfY29tbWFuZChjbWQ6IHN0cmluZyk6IFtUb2tlbiwgVG9rZW5bXV0ge1xuICAgIGxldCB0b2tlbnMgPSBjbWQuc3BsaXQoL1xccysvKTtcbiAgICBjb25zb2xlLmxvZyh0b2tlbnMpO1xuICAgIHJldHVybiBbdG9rZW5zWzBdLCB0b2tlbnMuc2xpY2UoMSldO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGVzdCgpIHtcbiAgICBsZXQgY29udGVudHMgPSBMaXN0PEl0ZW0+KFtuZXcgQ29kZXgoKSwgbmV3IFBpbmVjb25lKCksIG5ldyBDaXR5S2V5KCldKTtcbiAgICBsZXQgd29ybGQgPSBuZXcgU2luZ2xlQm94V29ybGQoe2JveDogbmV3IEJveCh7Y29udGVudHM6IGNvbnRlbnRzfSl9KTtcblxuICAgIGNvbnNvbGUubG9nKCdORVcgV09STEQ6IHRlc3QgaGVhdnkgc3BpbGxhZ2Ugd2hlbiByb2xsaW5nXFxuXFxuXFxuJyk7XG5cbiAgICBsZXQgZCA9IG5ldyBXb3JsZERyaXZlcih3b3JsZCk7XG4gICAgZC5hcHBseV9jb21tYW5kKCdsaWZ0X2JveCcpO1xuICAgIGQuYXBwbHlfY29tbWFuZCgncm9sbF9ib3gnLCAnZm9yd2FyZCcpO1xuICAgIGQuYXBwbHlfY29tbWFuZCgncm90YXRlX3lfYm94JywgJ2xlZnQnKTtcblxuICAgIC8vIGN1dCB0aGUgdG9wIGZhY2UgdmVydGljYWxseSBhbG9uZyB0aGUgY2VudGVyIGZyb20gdG9wIHRvIGJvdHRvbVxuICAgIGQuYXBwbHlfY29tbWFuZCgnY3V0X2JveCcsICd0b3AnLCAndmVydGljYWxseScsICdjZW50ZXInLCAndG9wJywgJ2JvdHRvbScpO1xuXG4gICAgLy8gY3V0IHRoZSB0b3AgZmFjZSB2ZXJ0aWNhbGx5IGFsb25nIHRoZSByaWdodCBlZGdlIGZyb20gdG9wIHRvIGJvdHRvbVxuICAgIGQuYXBwbHlfY29tbWFuZCgnY3V0X2JveCcsICd0b3AnLCAndmVydGljYWxseScsICdyaWdodCcsICd0b3AnLCAnYm90dG9tJyk7XG5cbiAgICAvLyBzaG91bGQgcmVzdWx0IGluIGEgZGFuZ2xlXG4gICAgLy8gY3V0IHRoZSB0b3AgZmFjZSBob3Jpem9udGFsbHkgYWxvbmcgdGhlIHRvcCBlZGdlIGZyb20gY2VudGVyIHRvIHJpZ2h0XG4gICAgZC5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ3RvcCcsICdob3Jpem9udGFsbHknLCAndG9wJywgJ2NlbnRlcicsICdyaWdodCcpO1xuXG4gICAgLy8gc2hvdWxkIHJlc3VsdCBpbiBhIHJlbmRcbiAgICAvLyBjdXQgdGhlIHRvcCBmYWNlIGhvcml6b250YWxseSBhbG9uZyB0aGUgYm90dG9tIGVkZ2UgZnJvbSBjZW50ZXIgdG8gcmlnaHRcbiAgICBkLmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAndG9wJywgJ2hvcml6b250YWxseScsICdib3R0b20nLCAnY2VudGVyJywgJ3JpZ2h0Jyk7XG5cbiAgICBkLmFwcGx5X2NvbW1hbmQoJ3JvbGxfYm94JywgJ2ZvcndhcmQnKTtcblxuICAgIC8vIHNob3VsZCByZXN1bHQgaW4gdGhlIHJlbmQgZmFjaW5nIHN0cmFpZ2h0IGRvd24sIG1heWJlIHNwaWxsaW5nXG4gICAgZC5hcHBseV9jb21tYW5kKCdyb2xsX2JveCcsICdmb3J3YXJkJyk7XG5cbiAgICBkLmFwcGx5X2NvbW1hbmQoJ2xpZnRfYm94Jyk7XG5cbiAgICBjb25zb2xlLmxvZygnXFxuXFxuXFxuTkVXIFdPUkxEOiB0ZXN0IGhlYXZ5IHNwaWxsYWdlIGFuZCBjb2xsYXBzZSBmcm9tIGJvdHRvbSB3aGVuIGxpZnRpbmdcXG5cXG5cXG4nKTtcbiAgICBsZXQgZDIgPSBuZXcgV29ybGREcml2ZXIod29ybGQpO1xuXG4gICAgZDIuYXBwbHlfY29tbWFuZCgnY3V0X2JveCcsICdmcm9udCcsICdob3Jpem9udGFsbHknLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnKTtcbiAgICBkMi5hcHBseV9jb21tYW5kKCdyb3RhdGVfeV9ib3gnLCAnbGVmdCcpO1xuICAgIGQyLmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAnZnJvbnQnLCAnaG9yaXpvbnRhbGx5JywgJ2JvdHRvbScsICdsZWZ0JywgJ3JpZ2h0Jyk7XG4gICAgZDIuYXBwbHlfY29tbWFuZCgncm90YXRlX3lfYm94JywgJ2xlZnQnKTtcbiAgICBkMi5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ2Zyb250JywgJ2hvcml6b250YWxseScsICdib3R0b20nLCAnbGVmdCcsICdyaWdodCcpO1xuICAgIGQyLmFwcGx5X2NvbW1hbmQoJ3JvdGF0ZV95X2JveCcsICdsZWZ0Jyk7XG4gICAgZDIuYXBwbHlfY29tbWFuZCgnY3V0X2JveCcsICdmcm9udCcsICdob3Jpem9udGFsbHknLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnKTtcbiAgICBkMi5hcHBseV9jb21tYW5kKCdsaWZ0X2JveCcpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdcXG5cXG5cXG5ORVcgV09STEQ6IHRlc3QgdGFwaW5nXFxuXFxuXFxuJyk7XG4gICAgbGV0IGQzID0gbmV3IFdvcmxkRHJpdmVyKHdvcmxkKTtcblxuICAgIGQzLmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAndG9wJywgJ2hvcml6b250YWxseScsICd0b3AnLCAnbGVmdCcsICdyaWdodCcpO1xuICAgIGQzLmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAndG9wJywgJ2hvcml6b250YWxseScsICdib3R0b20nLCAnbGVmdCcsICdyaWdodCcpO1xuICAgIGQzLmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAndG9wJywgJ3ZlcnRpY2FsbHknLCAnbGVmdCcsICd0b3AnLCAnYm90dG9tJyk7XG5cbiAgICBkMy5hcHBseV9jb21tYW5kKCdvcGVuX2RhbmdsZScsICd0b3AnKTtcbiAgICBkMy5hcHBseV9jb21tYW5kKCd0YWtlX2l0ZW1fYm94Jyk7XG5cbiAgICBkMy5hcHBseV9jb21tYW5kKCdjbG9zZV9kYW5nbGUnLCAndG9wJyk7XG5cbiAgICBkMy5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ3RvcCcsICd2ZXJ0aWNhbGx5JywgJ3JpZ2h0JywgJ3RvcCcsICdib3R0b20nKTtcbiAgICBkMy5hcHBseV9jb21tYW5kKCdvcGVuX3JlbmQnLCAndG9wJyk7XG4gICAgZDMuYXBwbHlfY29tbWFuZCgndGFrZV9pdGVtX2JveCcpO1xuICAgIGQzLmFwcGx5X2NvbW1hbmQoJ3Rha2VfaXRlbV9ib3gnKTtcbiAgICBkMy5hcHBseV9jb21tYW5kKCdjbG9zZV9yZW5kJywgJ3RvcCcpO1xuXG4gICAgZDMuYXBwbHlfY29tbWFuZCgndGFwZV9ib3gnLCAndG9wJywgJ3ZlcnRpY2FsbHknLCAncmlnaHQnLCAndG9wJywgJ2JvdHRvbScpO1xuICAgIGQzLmFwcGx5X2NvbW1hbmQoJ3RhcGVfYm94JywgJ3RvcCcsICd2ZXJ0aWNhbGx5JywgJ2xlZnQnLCAndG9wJywgJ21pZGRsZScpO1xuXG4gICAgY29uc29sZS5sb2coJ1xcblxcblxcbk5FVyBXT1JMRDogdGVzdCBsaWdodCBzcGlsbGFnZSB3aGVuIHJvbGxpbmcgYW5kIGxpZnRpbmdcXG5cXG5cXG4nKTtcbiAgICBsZXQgZDQgPSBuZXcgV29ybGREcml2ZXIod29ybGQpO1xuXG4gICAgZDQuYXBwbHlfY29tbWFuZCgnY3V0X2JveCcsICdmcm9udCcsICdob3Jpem9udGFsbHknLCAndG9wJywgJ2xlZnQnLCAncmlnaHQnKTtcbiAgICBkNC5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ2Zyb250JywgJ2hvcml6b250YWxseScsICdib3R0b20nLCAnbGVmdCcsICdyaWdodCcpO1xuICAgIGQ0LmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAnZnJvbnQnLCAndmVydGljYWxseScsICdsZWZ0JywgJ3RvcCcsICdib3R0b20nKTtcblxuICAgIGQ0LmFwcGx5X2NvbW1hbmQoJ2xpZnRfYm94Jyk7XG5cbiAgICBkNC5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ2Zyb250JywgJ3ZlcnRpY2FsbHknLCAncmlnaHQnLCAndG9wJywgJ2JvdHRvbScpO1xuXG4gICAgZDQuYXBwbHlfY29tbWFuZCgncm9sbF9ib3gnLCAncmlnaHQnKTtcbn1cbiIsImltcG9ydCB7TWF0cml4MiwgbWFrZV9tYXRyaXgyLCBEYW5nbGUsIEZhY2UsIEVkZ2UsIFBhcnRpdGlvbiwgZmFjZXMsIEVkZ2VPcGVyYXRpb24sIFBvaW50MiwgRGlyZWN0aW9uLCBJdGVtLCBTcGlsbGFnZUxldmVsfSBmcm9tICcuL2RhdGF0eXBlcyc7XG5cbmltcG9ydCB7TWFwLCBMaXN0LCBTZXQsIE9yZGVyZWRTZXQsIGlzfSBmcm9tICdpbW11dGFibGUnO1xuXG5leHBvcnQgY2xhc3MgV29ybGRVcGRhdGVFZmZlY3RzIHtcbiAgICBzcGlsbF9mYWNlcyA9IExpc3Q8RmFjZT4oKTtcbiAgICBzcGlsbGVkX2l0ZW1zID0gTGlzdDxJdGVtPigpO1xuICAgIHNwaWxsZWRfcmVuZHMgPSBTZXQ8UGFydGl0aW9uPigpO1xuICAgIHNwaWxsZWRfZGFuZ2xlcyA9IFNldDxEYW5nbGU+KCk7XG4gICAgc3BpbGxhZ2VfbGV2ZWwgPSBTcGlsbGFnZUxldmVsLm5vbmU7XG4gICAgdGFrZW5faXRlbXMgPSBMaXN0PEl0ZW0+KCk7XG4gICAgbmV3X3JlbmRzID0gTGlzdDxQYXJ0aXRpb24+KCk7XG4gICAgbmV3X2RhbmdsZXMgPSBMaXN0PERhbmdsZT4oKTtcbiAgICByZXBhaXJlZF9yZW5kcyA9IExpc3Q8UGFydGl0aW9uPigpO1xuICAgIHJlcGFpcmVkX2RhbmdsZXMgPSBMaXN0PERhbmdsZT4oKTtcbiAgICBib3hfY29sbGFwc2VkID0gZmFsc2U7XG4gICAgY29sbGFwc2Vfc3BpbGxlZF9pdGVtcyA9IExpc3Q8SXRlbT4oKTtcbn1cblxuaW50ZXJmYWNlIFdvcmxkVXBkYXRlRWZmZWN0c1JlZiB7XG4gICAgZWZmZWN0cz86IFdvcmxkVXBkYXRlRWZmZWN0c1xufVxuXG5leHBvcnQgbGV0IHdvcmxkX3VwZGF0ZTogV29ybGRVcGRhdGVFZmZlY3RzUmVmID0ge307XG5cbmV4cG9ydCBmdW5jdGlvbiB3aXRoX3dvcmxkX3VwZGF0ZShmOiAoZWZmZWN0czogV29ybGRVcGRhdGVFZmZlY3RzKSA9PiBhbnkpIHtcbiAgICAvL1RPRE8gdmFsaWRhdGU6IGVycm9yIGlmIHdvcmxkX3VwZGF0ZS5lZmZlY3RzIGlzbid0IG51bGwvdW5kZWZpbmVkXG4gICAgd29ybGRfdXBkYXRlLmVmZmVjdHMgPSBuZXcgV29ybGRVcGRhdGVFZmZlY3RzKCk7XG4gICAgbGV0IHJlc3VsdCA9IGYod29ybGRfdXBkYXRlLmVmZmVjdHMpO1xuICAgIHdvcmxkX3VwZGF0ZS5lZmZlY3RzID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8vVE9ETyBkZWZpbmUgd29ybGQgdXBkYXRlIGV4Y2VwdGlvbnMiXX0="}