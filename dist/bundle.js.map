{"version":3,"sources":["../../node_modules/browser-pack/_prelude.js","../../node_modules/immutable/dist/immutable.js","box_geometry.ts","commands.ts","datatypes.ts","items.ts","jquery.terminal.d.ts","main.ts","text_tools.ts","world.ts","world_update_effects.ts"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n *  Copyright (c) 2014-2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.Immutable = global.Immutable || {})));\n}(this, (function (exports) { 'use strict';\n\n// Used for setting prototype methods that IE8 chokes on.\nvar DELETE = 'delete';\n\n// Constants describing the size of trie nodes.\nvar SHIFT = 5; // Resulted in best performance after ______?\nvar SIZE = 1 << SHIFT;\nvar MASK = SIZE - 1;\n\n// A consistent shared value representing \"not set\" which equals nothing other\n// than itself, and nothing that could be provided externally.\nvar NOT_SET = {};\n\n// Boolean references, Rough equivalent of `bool &`.\nvar CHANGE_LENGTH = { value: false };\nvar DID_ALTER = { value: false };\n\nfunction MakeRef(ref) {\n  ref.value = false;\n  return ref;\n}\n\nfunction SetRef(ref) {\n  ref && (ref.value = true);\n}\n\n// A function which returns a value representing an \"owner\" for transient writes\n// to tries. The return value will only ever equal itself, and will not equal\n// the return of any subsequent call of this function.\nfunction OwnerID() {}\n\n// http://jsperf.com/copy-array-inline\nfunction arrCopy(arr, offset) {\n  offset = offset || 0;\n  var len = Math.max(0, arr.length - offset);\n  var newArr = new Array(len);\n  for (var ii = 0; ii < len; ii++) {\n    newArr[ii] = arr[ii + offset];\n  }\n  return newArr;\n}\n\nfunction ensureSize(iter) {\n  if (iter.size === undefined) {\n    iter.size = iter.__iterate(returnTrue);\n  }\n  return iter.size;\n}\n\nfunction wrapIndex(iter, index) {\n  // This implements \"is array index\" which the ECMAString spec defines as:\n  //\n  //     A String property name P is an array index if and only if\n  //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n  //     to 2^321.\n  //\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n  if (typeof index !== 'number') {\n    var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n    if ('' + uint32Index !== index || uint32Index === 4294967295) {\n      return NaN;\n    }\n    index = uint32Index;\n  }\n  return index < 0 ? ensureSize(iter) + index : index;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction wholeSlice(begin, end, size) {\n  return (begin === 0 || (size !== undefined && begin <= -size)) &&\n    (end === undefined || (size !== undefined && end >= size));\n}\n\nfunction resolveBegin(begin, size) {\n  return resolveIndex(begin, size, 0);\n}\n\nfunction resolveEnd(end, size) {\n  return resolveIndex(end, size, size);\n}\n\nfunction resolveIndex(index, size, defaultIndex) {\n  // Sanitize indices using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  return index === undefined\n    ? defaultIndex\n    : index < 0\n        ? size === Infinity ? size : Math.max(0, size + index) | 0\n        : size === undefined || size === index\n            ? index\n            : Math.min(size, index) | 0;\n}\n\nfunction isImmutable(maybeImmutable) {\n  return (isCollection(maybeImmutable) || isRecord(maybeImmutable)) &&\n    !maybeImmutable.__ownerID;\n}\n\nfunction isCollection(maybeCollection) {\n  return !!(maybeCollection && maybeCollection[IS_ITERABLE_SENTINEL]);\n}\n\nfunction isKeyed(maybeKeyed) {\n  return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n}\n\nfunction isIndexed(maybeIndexed) {\n  return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n}\n\nfunction isAssociative(maybeAssociative) {\n  return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n}\n\nfunction isOrdered(maybeOrdered) {\n  return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n}\n\nfunction isRecord(maybeRecord) {\n  return !!(maybeRecord && maybeRecord[IS_RECORD_SENTINEL]);\n}\n\nfunction isValueObject(maybeValue) {\n  return !!(maybeValue &&\n    typeof maybeValue.equals === 'function' &&\n    typeof maybeValue.hashCode === 'function');\n}\n\nvar IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\nvar IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\nvar IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\nvar IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\nvar IS_RECORD_SENTINEL = '@@__IMMUTABLE_RECORD__@@';\n\nvar Collection = function Collection(value) {\n  return isCollection(value) ? value : Seq(value);\n};\n\nvar KeyedCollection = (function (Collection) {\n  function KeyedCollection(value) {\n    return isKeyed(value) ? value : KeyedSeq(value);\n  }\n\n  if ( Collection ) KeyedCollection.__proto__ = Collection;\n  KeyedCollection.prototype = Object.create( Collection && Collection.prototype );\n  KeyedCollection.prototype.constructor = KeyedCollection;\n\n  return KeyedCollection;\n}(Collection));\n\nvar IndexedCollection = (function (Collection) {\n  function IndexedCollection(value) {\n    return isIndexed(value) ? value : IndexedSeq(value);\n  }\n\n  if ( Collection ) IndexedCollection.__proto__ = Collection;\n  IndexedCollection.prototype = Object.create( Collection && Collection.prototype );\n  IndexedCollection.prototype.constructor = IndexedCollection;\n\n  return IndexedCollection;\n}(Collection));\n\nvar SetCollection = (function (Collection) {\n  function SetCollection(value) {\n    return isCollection(value) && !isAssociative(value) ? value : SetSeq(value);\n  }\n\n  if ( Collection ) SetCollection.__proto__ = Collection;\n  SetCollection.prototype = Object.create( Collection && Collection.prototype );\n  SetCollection.prototype.constructor = SetCollection;\n\n  return SetCollection;\n}(Collection));\n\nCollection.Keyed = KeyedCollection;\nCollection.Indexed = IndexedCollection;\nCollection.Set = SetCollection;\n\nvar ITERATE_KEYS = 0;\nvar ITERATE_VALUES = 1;\nvar ITERATE_ENTRIES = 2;\n\nvar REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nvar ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\nvar Iterator = function Iterator(next) {\n  this.next = next;\n};\n\nIterator.prototype.toString = function toString () {\n  return '[Iterator]';\n};\n\nIterator.KEYS = ITERATE_KEYS;\nIterator.VALUES = ITERATE_VALUES;\nIterator.ENTRIES = ITERATE_ENTRIES;\n\nIterator.prototype.inspect = (Iterator.prototype.toSource = function() {\n  return this.toString();\n});\nIterator.prototype[ITERATOR_SYMBOL] = function() {\n  return this;\n};\n\nfunction iteratorValue(type, k, v, iteratorResult) {\n  var value = type === 0 ? k : type === 1 ? v : [k, v];\n  iteratorResult\n    ? (iteratorResult.value = value)\n    : (iteratorResult = {\n        value: value,\n        done: false\n      });\n  return iteratorResult;\n}\n\nfunction iteratorDone() {\n  return { value: undefined, done: true };\n}\n\nfunction hasIterator(maybeIterable) {\n  return !!getIteratorFn(maybeIterable);\n}\n\nfunction isIterator(maybeIterator) {\n  return maybeIterator && typeof maybeIterator.next === 'function';\n}\n\nfunction getIterator(iterable) {\n  var iteratorFn = getIteratorFn(iterable);\n  return iteratorFn && iteratorFn.call(iterable);\n}\n\nfunction getIteratorFn(iterable) {\n  var iteratorFn = iterable &&\n    ((REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nfunction isArrayLike(value) {\n  return value && typeof value.length === 'number';\n}\n\nvar Seq = (function (Collection$$1) {\n  function Seq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isCollection(value) || isRecord(value)\n          ? value.toSeq()\n          : seqFromValue(value);\n  }\n\n  if ( Collection$$1 ) Seq.__proto__ = Collection$$1;\n  Seq.prototype = Object.create( Collection$$1 && Collection$$1.prototype );\n  Seq.prototype.constructor = Seq;\n\n  Seq.of = function of (/*...values*/) {\n    return Seq(arguments);\n  };\n\n  Seq.prototype.toSeq = function toSeq () {\n    return this;\n  };\n\n  Seq.prototype.toString = function toString () {\n    return this.__toString('Seq {', '}');\n  };\n\n  Seq.prototype.cacheResult = function cacheResult () {\n    if (!this._cache && this.__iterateUncached) {\n      this._cache = this.entrySeq().toArray();\n      this.size = this._cache.length;\n    }\n    return this;\n  };\n\n  // abstract __iterateUncached(fn, reverse)\n\n  Seq.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      while (i !== size) {\n        var entry = cache[reverse ? size - ++i : i++];\n        if (fn(entry[1], entry[0], this$1) === false) {\n          break;\n        }\n      }\n      return i;\n    }\n    return this.__iterateUncached(fn, reverse);\n  };\n\n  // abstract __iteratorUncached(type, reverse)\n\n  Seq.prototype.__iterator = function __iterator (type, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      return new Iterator(function () {\n        if (i === size) {\n          return iteratorDone();\n        }\n        var entry = cache[reverse ? size - ++i : i++];\n        return iteratorValue(type, entry[0], entry[1]);\n      });\n    }\n    return this.__iteratorUncached(type, reverse);\n  };\n\n  return Seq;\n}(Collection));\n\nvar KeyedSeq = (function (Seq) {\n  function KeyedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence().toKeyedSeq()\n      : isCollection(value)\n          ? isKeyed(value) ? value.toSeq() : value.fromEntrySeq()\n          : isRecord(value) ? value.toSeq() : keyedSeqFromValue(value);\n  }\n\n  if ( Seq ) KeyedSeq.__proto__ = Seq;\n  KeyedSeq.prototype = Object.create( Seq && Seq.prototype );\n  KeyedSeq.prototype.constructor = KeyedSeq;\n\n  KeyedSeq.prototype.toKeyedSeq = function toKeyedSeq () {\n    return this;\n  };\n\n  return KeyedSeq;\n}(Seq));\n\nvar IndexedSeq = (function (Seq) {\n  function IndexedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isCollection(value)\n          ? isKeyed(value) ? value.entrySeq() : value.toIndexedSeq()\n          : isRecord(value)\n              ? value.toSeq().entrySeq()\n              : indexedSeqFromValue(value);\n  }\n\n  if ( Seq ) IndexedSeq.__proto__ = Seq;\n  IndexedSeq.prototype = Object.create( Seq && Seq.prototype );\n  IndexedSeq.prototype.constructor = IndexedSeq;\n\n  IndexedSeq.of = function of (/*...values*/) {\n    return IndexedSeq(arguments);\n  };\n\n  IndexedSeq.prototype.toIndexedSeq = function toIndexedSeq () {\n    return this;\n  };\n\n  IndexedSeq.prototype.toString = function toString () {\n    return this.__toString('Seq [', ']');\n  };\n\n  return IndexedSeq;\n}(Seq));\n\nvar SetSeq = (function (Seq) {\n  function SetSeq(value) {\n    return (isCollection(value) && !isAssociative(value)\n      ? value\n      : IndexedSeq(value)).toSetSeq();\n  }\n\n  if ( Seq ) SetSeq.__proto__ = Seq;\n  SetSeq.prototype = Object.create( Seq && Seq.prototype );\n  SetSeq.prototype.constructor = SetSeq;\n\n  SetSeq.of = function of (/*...values*/) {\n    return SetSeq(arguments);\n  };\n\n  SetSeq.prototype.toSetSeq = function toSetSeq () {\n    return this;\n  };\n\n  return SetSeq;\n}(Seq));\n\nSeq.isSeq = isSeq;\nSeq.Keyed = KeyedSeq;\nSeq.Set = SetSeq;\nSeq.Indexed = IndexedSeq;\n\nvar IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\nSeq.prototype[IS_SEQ_SENTINEL] = true;\n\n// #pragma Root Sequences\n\nvar ArraySeq = (function (IndexedSeq) {\n  function ArraySeq(array) {\n    this._array = array;\n    this.size = array.length;\n  }\n\n  if ( IndexedSeq ) ArraySeq.__proto__ = IndexedSeq;\n  ArraySeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  ArraySeq.prototype.constructor = ArraySeq;\n\n  ArraySeq.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n  };\n\n  ArraySeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    while (i !== size) {\n      var ii = reverse ? size - ++i : i++;\n      if (fn(array[ii], ii, this$1) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ArraySeq.prototype.__iterator = function __iterator (type, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var ii = reverse ? size - ++i : i++;\n      return iteratorValue(type, ii, array[ii]);\n    });\n  };\n\n  return ArraySeq;\n}(IndexedSeq));\n\nvar ObjectSeq = (function (KeyedSeq) {\n  function ObjectSeq(object) {\n    var keys = Object.keys(object);\n    this._object = object;\n    this._keys = keys;\n    this.size = keys.length;\n  }\n\n  if ( KeyedSeq ) ObjectSeq.__proto__ = KeyedSeq;\n  ObjectSeq.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  ObjectSeq.prototype.constructor = ObjectSeq;\n\n  ObjectSeq.prototype.get = function get (key, notSetValue) {\n    if (notSetValue !== undefined && !this.has(key)) {\n      return notSetValue;\n    }\n    return this._object[key];\n  };\n\n  ObjectSeq.prototype.has = function has (key) {\n    return this._object.hasOwnProperty(key);\n  };\n\n  ObjectSeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    while (i !== size) {\n      var key = keys[reverse ? size - ++i : i++];\n      if (fn(object[key], key, this$1) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ObjectSeq.prototype.__iterator = function __iterator (type, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var key = keys[reverse ? size - ++i : i++];\n      return iteratorValue(type, key, object[key]);\n    });\n  };\n\n  return ObjectSeq;\n}(KeyedSeq));\nObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\nvar CollectionSeq = (function (IndexedSeq) {\n  function CollectionSeq(collection) {\n    this._collection = collection;\n    this.size = collection.length || collection.size;\n  }\n\n  if ( IndexedSeq ) CollectionSeq.__proto__ = IndexedSeq;\n  CollectionSeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  CollectionSeq.prototype.constructor = CollectionSeq;\n\n  CollectionSeq.prototype.__iterateUncached = function __iterateUncached (fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    var iterations = 0;\n    if (isIterator(iterator)) {\n      var step;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this$1) === false) {\n          break;\n        }\n      }\n    }\n    return iterations;\n  };\n\n  CollectionSeq.prototype.__iteratorUncached = function __iteratorUncached (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    if (!isIterator(iterator)) {\n      return new Iterator(iteratorDone);\n    }\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value);\n    });\n  };\n\n  return CollectionSeq;\n}(IndexedSeq));\n\nvar IteratorSeq = (function (IndexedSeq) {\n  function IteratorSeq(iterator) {\n    this._iterator = iterator;\n    this._iteratorCache = [];\n  }\n\n  if ( IndexedSeq ) IteratorSeq.__proto__ = IndexedSeq;\n  IteratorSeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  IteratorSeq.prototype.constructor = IteratorSeq;\n\n  IteratorSeq.prototype.__iterateUncached = function __iterateUncached (fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterator = this._iterator;\n    var cache = this._iteratorCache;\n    var iterations = 0;\n    while (iterations < cache.length) {\n      if (fn(cache[iterations], iterations++, this$1) === false) {\n        return iterations;\n      }\n    }\n    var step;\n    while (!(step = iterator.next()).done) {\n      var val = step.value;\n      cache[iterations] = val;\n      if (fn(val, iterations++, this$1) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n\n  IteratorSeq.prototype.__iteratorUncached = function __iteratorUncached (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = this._iterator;\n    var cache = this._iteratorCache;\n    var iterations = 0;\n    return new Iterator(function () {\n      if (iterations >= cache.length) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        cache[iterations] = step.value;\n      }\n      return iteratorValue(type, iterations, cache[iterations++]);\n    });\n  };\n\n  return IteratorSeq;\n}(IndexedSeq));\n\n// # pragma Helper functions\n\nfunction isSeq(maybeSeq) {\n  return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n}\n\nvar EMPTY_SEQ;\n\nfunction emptySequence() {\n  return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n}\n\nfunction keyedSeqFromValue(value) {\n  var seq = Array.isArray(value)\n    ? new ArraySeq(value)\n    : isIterator(value)\n        ? new IteratorSeq(value)\n        : hasIterator(value) ? new CollectionSeq(value) : undefined;\n  if (seq) {\n    return seq.fromEntrySeq();\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of [k, v] entries, or keyed object: ' +\n      value\n  );\n}\n\nfunction indexedSeqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values: ' + value\n  );\n}\n\nfunction seqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values, or keyed object: ' + value\n  );\n}\n\nfunction maybeIndexedSeqFromValue(value) {\n  return isArrayLike(value)\n    ? new ArraySeq(value)\n    : isIterator(value)\n        ? new IteratorSeq(value)\n        : hasIterator(value) ? new CollectionSeq(value) : undefined;\n}\n\n/**\n * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n *\n * NaN is considered the same as NaN, however -0 and 0 are considered the same\n * value, which is different from the algorithm described by\n * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n *\n * This is extended further to allow Objects to describe the values they\n * represent, by way of `valueOf` or `equals` (and `hashCode`).\n *\n * Note: because of this extension, the key equality of Immutable.Map and the\n * value equality of Immutable.Set will differ from ES6 Map and Set.\n *\n * ### Defining custom values\n *\n * The easiest way to describe the value an object represents is by implementing\n * `valueOf`. For example, `Date` represents a value by returning a unix\n * timestamp for `valueOf`:\n *\n *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n *     var date2 = new Date(1234567890000);\n *     date1.valueOf(); // 1234567890000\n *     assert( date1 !== date2 );\n *     assert( Immutable.is( date1, date2 ) );\n *\n * Note: overriding `valueOf` may have other implications if you use this object\n * where JavaScript expects a primitive, such as implicit string coercion.\n *\n * For more complex types, especially collections, implementing `valueOf` may\n * not be performant. An alternative is to implement `equals` and `hashCode`.\n *\n * `equals` takes another object, presumably of similar type, and returns true\n * if it is equal. Equality is symmetrical, so the same result should be\n * returned if this and the argument are flipped.\n *\n *     assert( a.equals(b) === b.equals(a) );\n *\n * `hashCode` returns a 32bit integer number representing the object which will\n * be used to determine how to store the value object in a Map or Set. You must\n * provide both or neither methods, one must not exist without the other.\n *\n * Also, an important relationship between these methods must be upheld: if two\n * values are equal, they *must* return the same hashCode. If the values are not\n * equal, they might have the same hashCode; this is called a hash collision,\n * and while undesirable for performance reasons, it is acceptable.\n *\n *     if (a.equals(b)) {\n *       assert( a.hashCode() === b.hashCode() );\n *     }\n *\n * All Immutable collections are Value Objects: they implement `equals()`\n * and `hashCode()`.\n */\nfunction is(valueA, valueB) {\n  if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n    return true;\n  }\n  if (!valueA || !valueB) {\n    return false;\n  }\n  if (\n    typeof valueA.valueOf === 'function' && typeof valueB.valueOf === 'function'\n  ) {\n    valueA = valueA.valueOf();\n    valueB = valueB.valueOf();\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n  }\n  return !!(isValueObject(valueA) &&\n    isValueObject(valueB) &&\n    valueA.equals(valueB));\n}\n\nfunction fromJS(value, converter) {\n  return fromJSWith(\n    [],\n    converter || defaultConverter,\n    value,\n    '',\n    converter && converter.length > 2 ? [] : undefined,\n    { '': value }\n  );\n}\n\nfunction fromJSWith(stack, converter, value, key, keyPath, parentValue) {\n  var toSeq = Array.isArray(value)\n    ? IndexedSeq\n    : isPlainObj(value) ? KeyedSeq : null;\n  if (toSeq) {\n    if (~stack.indexOf(value)) {\n      throw new TypeError('Cannot convert circular structure to Immutable');\n    }\n    stack.push(value);\n    keyPath && key !== '' && keyPath.push(key);\n    var converted = converter.call(\n      parentValue,\n      key,\n      toSeq(value).map(function (v, k) { return fromJSWith(stack, converter, v, k, keyPath, value); }),\n      keyPath && keyPath.slice()\n    );\n    stack.pop();\n    keyPath && keyPath.pop();\n    return converted;\n  }\n  return value;\n}\n\nfunction defaultConverter(k, v) {\n  return isKeyed(v) ? v.toMap() : v.toList();\n}\n\nfunction isPlainObj(value) {\n  return value &&\n    (value.constructor === Object || value.constructor === undefined);\n}\n\nvar imul = typeof Math.imul === 'function' &&\n  Math.imul(0xffffffff, 2) === -2\n  ? Math.imul\n  : function imul(a, b) {\n      a |= 0; // int\n      b |= 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return c * d + ((a >>> 16) * d + c * (b >>> 16) << 16 >>> 0) | 0; // int\n    };\n\n// v8 has an optimization for storing 31-bit signed numbers.\n// Values which have either 00 or 11 as the high order bits qualify.\n// This function drops the highest order bit in a signed number, maintaining\n// the sign bit.\nfunction smi(i32) {\n  return i32 >>> 1 & 0x40000000 | i32 & 0xbfffffff;\n}\n\nfunction hash(o) {\n  if (o === false || o === null || o === undefined) {\n    return 0;\n  }\n  if (typeof o.valueOf === 'function') {\n    o = o.valueOf();\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n  }\n  if (o === true) {\n    return 1;\n  }\n  var type = typeof o;\n  if (type === 'number') {\n    if (o !== o || o === Infinity) {\n      return 0;\n    }\n    var h = o | 0;\n    if (h !== o) {\n      h ^= o * 0xffffffff;\n    }\n    while (o > 0xffffffff) {\n      o /= 0xffffffff;\n      h ^= o;\n    }\n    return smi(h);\n  }\n  if (type === 'string') {\n    return o.length > STRING_HASH_CACHE_MIN_STRLEN\n      ? cachedHashString(o)\n      : hashString(o);\n  }\n  if (typeof o.hashCode === 'function') {\n    return o.hashCode();\n  }\n  if (type === 'object') {\n    return hashJSObj(o);\n  }\n  if (typeof o.toString === 'function') {\n    return hashString(o.toString());\n  }\n  throw new Error('Value type ' + type + ' cannot be hashed.');\n}\n\nfunction cachedHashString(string) {\n  var hash = stringHashCache[string];\n  if (hash === undefined) {\n    hash = hashString(string);\n    if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n      STRING_HASH_CACHE_SIZE = 0;\n      stringHashCache = {};\n    }\n    STRING_HASH_CACHE_SIZE++;\n    stringHashCache[string] = hash;\n  }\n  return hash;\n}\n\n// http://jsperf.com/hashing-strings\nfunction hashString(string) {\n  // This is the hash from JVM\n  // The hash code for a string is computed as\n  // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n  // where s[i] is the ith character of the string and n is the length of\n  // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n  // (exclusive) by dropping high bits.\n  var hash = 0;\n  for (var ii = 0; ii < string.length; ii++) {\n    hash = 31 * hash + string.charCodeAt(ii) | 0;\n  }\n  return smi(hash);\n}\n\nfunction hashJSObj(obj) {\n  var hash;\n  if (usingWeakMap) {\n    hash = weakMap.get(obj);\n    if (hash !== undefined) {\n      return hash;\n    }\n  }\n\n  hash = obj[UID_HASH_KEY];\n  if (hash !== undefined) {\n    return hash;\n  }\n\n  if (!canDefineProperty) {\n    hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    hash = getIENodeHash(obj);\n    if (hash !== undefined) {\n      return hash;\n    }\n  }\n\n  hash = ++objHashUID;\n  if (objHashUID & 0x40000000) {\n    objHashUID = 0;\n  }\n\n  if (usingWeakMap) {\n    weakMap.set(obj, hash);\n  } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n    throw new Error('Non-extensible objects are not allowed as keys.');\n  } else if (canDefineProperty) {\n    Object.defineProperty(obj, UID_HASH_KEY, {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: hash\n    });\n  } else if (\n    obj.propertyIsEnumerable !== undefined &&\n    obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable\n  ) {\n    // Since we can't define a non-enumerable property on the object\n    // we'll hijack one of the less-used non-enumerable properties to\n    // save our hash on it. Since this is a function it will not show up in\n    // `JSON.stringify` which is what we want.\n    obj.propertyIsEnumerable = function() {\n      return this.constructor.prototype.propertyIsEnumerable.apply(\n        this,\n        arguments\n      );\n    };\n    obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n  } else if (obj.nodeType !== undefined) {\n    // At this point we couldn't get the IE `uniqueID` to use as a hash\n    // and we couldn't use a non-enumerable property to exploit the\n    // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n    // itself.\n    obj[UID_HASH_KEY] = hash;\n  } else {\n    throw new Error('Unable to set a non-enumerable property on object.');\n  }\n\n  return hash;\n}\n\n// Get references to ES5 object methods.\nvar isExtensible = Object.isExtensible;\n\n// True if Object.defineProperty works as expected. IE8 fails this test.\nvar canDefineProperty = (function() {\n  try {\n    Object.defineProperty({}, '@', {});\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\n// IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n// and avoid memory leaks from the IE cloneNode bug.\nfunction getIENodeHash(node) {\n  if (node && node.nodeType > 0) {\n    switch (node.nodeType) {\n      case 1: // Element\n        return node.uniqueID;\n      case 9: // Document\n        return node.documentElement && node.documentElement.uniqueID;\n    }\n  }\n}\n\n// If possible, use a WeakMap.\nvar usingWeakMap = typeof WeakMap === 'function';\nvar weakMap;\nif (usingWeakMap) {\n  weakMap = new WeakMap();\n}\n\nvar objHashUID = 0;\n\nvar UID_HASH_KEY = '__immutablehash__';\nif (typeof Symbol === 'function') {\n  UID_HASH_KEY = Symbol(UID_HASH_KEY);\n}\n\nvar STRING_HASH_CACHE_MIN_STRLEN = 16;\nvar STRING_HASH_CACHE_MAX_SIZE = 255;\nvar STRING_HASH_CACHE_SIZE = 0;\nvar stringHashCache = {};\n\nvar ToKeyedSequence = (function (KeyedSeq$$1) {\n  function ToKeyedSequence(indexed, useKeys) {\n    this._iter = indexed;\n    this._useKeys = useKeys;\n    this.size = indexed.size;\n  }\n\n  if ( KeyedSeq$$1 ) ToKeyedSequence.__proto__ = KeyedSeq$$1;\n  ToKeyedSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  ToKeyedSequence.prototype.constructor = ToKeyedSequence;\n\n  ToKeyedSequence.prototype.get = function get (key, notSetValue) {\n    return this._iter.get(key, notSetValue);\n  };\n\n  ToKeyedSequence.prototype.has = function has (key) {\n    return this._iter.has(key);\n  };\n\n  ToKeyedSequence.prototype.valueSeq = function valueSeq () {\n    return this._iter.valueSeq();\n  };\n\n  ToKeyedSequence.prototype.reverse = function reverse () {\n    var this$1 = this;\n\n    var reversedSequence = reverseFactory(this, true);\n    if (!this._useKeys) {\n      reversedSequence.valueSeq = function () { return this$1._iter.toSeq().reverse(); };\n    }\n    return reversedSequence;\n  };\n\n  ToKeyedSequence.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    var mappedSequence = mapFactory(this, mapper, context);\n    if (!this._useKeys) {\n      mappedSequence.valueSeq = function () { return this$1._iter.toSeq().map(mapper, context); };\n    }\n    return mappedSequence;\n  };\n\n  ToKeyedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v, k) { return fn(v, k, this$1); }, reverse);\n  };\n\n  ToKeyedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    return this._iter.__iterator(type, reverse);\n  };\n\n  return ToKeyedSequence;\n}(KeyedSeq));\nToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\nvar ToIndexedSequence = (function (IndexedSeq$$1) {\n  function ToIndexedSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( IndexedSeq$$1 ) ToIndexedSequence.__proto__ = IndexedSeq$$1;\n  ToIndexedSequence.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  ToIndexedSequence.prototype.constructor = ToIndexedSequence;\n\n  ToIndexedSequence.prototype.includes = function includes (value) {\n    return this._iter.includes(value);\n  };\n\n  ToIndexedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(this);\n    return this._iter.__iterate(\n      function (v) { return fn(v, reverse ? this$1.size - ++i : i++, this$1); },\n      reverse\n    );\n  };\n\n  ToIndexedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var i = 0;\n    reverse && ensureSize(this);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(\n            type,\n            reverse ? this$1.size - ++i : i++,\n            step.value,\n            step\n          );\n    });\n  };\n\n  return ToIndexedSequence;\n}(IndexedSeq));\n\nvar ToSetSequence = (function (SetSeq$$1) {\n  function ToSetSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( SetSeq$$1 ) ToSetSequence.__proto__ = SetSeq$$1;\n  ToSetSequence.prototype = Object.create( SetSeq$$1 && SetSeq$$1.prototype );\n  ToSetSequence.prototype.constructor = ToSetSequence;\n\n  ToSetSequence.prototype.has = function has (key) {\n    return this._iter.includes(key);\n  };\n\n  ToSetSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v) { return fn(v, v, this$1); }, reverse);\n  };\n\n  ToSetSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(type, step.value, step.value, step);\n    });\n  };\n\n  return ToSetSequence;\n}(SetSeq));\n\nvar FromEntriesSequence = (function (KeyedSeq$$1) {\n  function FromEntriesSequence(entries) {\n    this._iter = entries;\n    this.size = entries.size;\n  }\n\n  if ( KeyedSeq$$1 ) FromEntriesSequence.__proto__ = KeyedSeq$$1;\n  FromEntriesSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  FromEntriesSequence.prototype.constructor = FromEntriesSequence;\n\n  FromEntriesSequence.prototype.entrySeq = function entrySeq () {\n    return this._iter.toSeq();\n  };\n\n  FromEntriesSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(\n      function (entry) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedCollection = isCollection(entry);\n          return fn(\n            indexedCollection ? entry.get(1) : entry[1],\n            indexedCollection ? entry.get(0) : entry[0],\n            this$1\n          );\n        }\n      },\n      reverse\n    );\n  };\n\n  FromEntriesSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedCollection = isCollection(entry);\n          return iteratorValue(\n            type,\n            indexedCollection ? entry.get(0) : entry[0],\n            indexedCollection ? entry.get(1) : entry[1],\n            step\n          );\n        }\n      }\n    });\n  };\n\n  return FromEntriesSequence;\n}(KeyedSeq));\n\nToIndexedSequence.prototype.cacheResult = (ToKeyedSequence.prototype.cacheResult = (ToSetSequence.prototype.cacheResult = (FromEntriesSequence.prototype.cacheResult = cacheResultThrough)));\n\nfunction flipFactory(collection) {\n  var flipSequence = makeSequence(collection);\n  flipSequence._iter = collection;\n  flipSequence.size = collection.size;\n  flipSequence.flip = function () { return collection; };\n  flipSequence.reverse = function() {\n    var reversedSequence = collection.reverse.apply(this); // super.reverse()\n    reversedSequence.flip = function () { return collection.reverse(); };\n    return reversedSequence;\n  };\n  flipSequence.has = function (key) { return collection.includes(key); };\n  flipSequence.includes = function (key) { return collection.has(key); };\n  flipSequence.cacheResult = cacheResultThrough;\n  flipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(function (v, k) { return fn(k, v, this$1) !== false; }, reverse);\n  };\n  flipSequence.__iteratorUncached = function(type, reverse) {\n    if (type === ITERATE_ENTRIES) {\n      var iterator = collection.__iterator(type, reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        if (!step.done) {\n          var k = step.value[0];\n          step.value[0] = step.value[1];\n          step.value[1] = k;\n        }\n        return step;\n      });\n    }\n    return collection.__iterator(\n      type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n      reverse\n    );\n  };\n  return flipSequence;\n}\n\nfunction mapFactory(collection, mapper, context) {\n  var mappedSequence = makeSequence(collection);\n  mappedSequence.size = collection.size;\n  mappedSequence.has = function (key) { return collection.has(key); };\n  mappedSequence.get = function (key, notSetValue) {\n    var v = collection.get(key, NOT_SET);\n    return v === NOT_SET\n      ? notSetValue\n      : mapper.call(context, v, key, collection);\n  };\n  mappedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(\n      function (v, k, c) { return fn(mapper.call(context, v, k, c), k, this$1) !== false; },\n      reverse\n    );\n  };\n  mappedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var key = entry[0];\n      return iteratorValue(\n        type,\n        key,\n        mapper.call(context, entry[1], key, collection),\n        step\n      );\n    });\n  };\n  return mappedSequence;\n}\n\nfunction reverseFactory(collection, useKeys) {\n  var this$1 = this;\n\n  var reversedSequence = makeSequence(collection);\n  reversedSequence._iter = collection;\n  reversedSequence.size = collection.size;\n  reversedSequence.reverse = function () { return collection; };\n  if (collection.flip) {\n    reversedSequence.flip = function() {\n      var flipSequence = flipFactory(collection);\n      flipSequence.reverse = function () { return collection.flip(); };\n      return flipSequence;\n    };\n  }\n  reversedSequence.get = function (key, notSetValue) { return collection.get(useKeys ? key : -1 - key, notSetValue); };\n  reversedSequence.has = function (key) { return collection.has(useKeys ? key : -1 - key); };\n  reversedSequence.includes = function (value) { return collection.includes(value); };\n  reversedSequence.cacheResult = cacheResultThrough;\n  reversedSequence.__iterate = function(fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(collection);\n    return collection.__iterate(\n      function (v, k) { return fn(v, useKeys ? k : reverse ? this$1.size - ++i : i++, this$1); },\n      !reverse\n    );\n  };\n  reversedSequence.__iterator = function (type, reverse) {\n    var i = 0;\n    reverse && ensureSize(collection);\n    var iterator = collection.__iterator(ITERATE_ENTRIES, !reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      return iteratorValue(\n        type,\n        useKeys ? entry[0] : reverse ? this$1.size - ++i : i++,\n        entry[1],\n        step\n      );\n    });\n  };\n  return reversedSequence;\n}\n\nfunction filterFactory(collection, predicate, context, useKeys) {\n  var filterSequence = makeSequence(collection);\n  if (useKeys) {\n    filterSequence.has = function (key) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && !!predicate.call(context, v, key, collection);\n    };\n    filterSequence.get = function (key, notSetValue) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && predicate.call(context, v, key, collection)\n        ? v\n        : notSetValue;\n    };\n  }\n  filterSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(\n      function (v, k, c) {\n        if (predicate.call(context, v, k, c)) {\n          return fn(v, useKeys ? k : iterations++, this$1);\n        }\n      },\n      reverse\n    );\n    return iterations;\n  };\n  filterSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterations = 0;\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        var value = entry[1];\n        if (predicate.call(context, value, key, collection)) {\n          return iteratorValue(type, useKeys ? key : iterations++, value, step);\n        }\n      }\n    });\n  };\n  return filterSequence;\n}\n\nfunction countByFactory(collection, grouper, context) {\n  var groups = Map().asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(grouper.call(context, v, k, collection), 0, function (a) { return a + 1; });\n  });\n  return groups.asImmutable();\n}\n\nfunction groupByFactory(collection, grouper, context) {\n  var isKeyedIter = isKeyed(collection);\n  var groups = (isOrdered(collection) ? OrderedMap() : Map()).asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(\n      grouper.call(context, v, k, collection),\n      function (a) { return ((a = a || []), a.push(isKeyedIter ? [k, v] : v), a); }\n    );\n  });\n  var coerce = collectionClass(collection);\n  return groups.map(function (arr) { return reify(collection, coerce(arr)); });\n}\n\nfunction sliceFactory(collection, begin, end, useKeys) {\n  var originalSize = collection.size;\n\n  if (wholeSlice(begin, end, originalSize)) {\n    return collection;\n  }\n\n  var resolvedBegin = resolveBegin(begin, originalSize);\n  var resolvedEnd = resolveEnd(end, originalSize);\n\n  // begin or end will be NaN if they were provided as negative numbers and\n  // this collection's size is unknown. In that case, cache first so there is\n  // a known size and these do not resolve to NaN.\n  if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n    return sliceFactory(collection.toSeq().cacheResult(), begin, end, useKeys);\n  }\n\n  // Note: resolvedEnd is undefined when the original sequence's length is\n  // unknown and this slice did not supply an end and should contain all\n  // elements after resolvedBegin.\n  // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n  var resolvedSize = resolvedEnd - resolvedBegin;\n  var sliceSize;\n  if (resolvedSize === resolvedSize) {\n    sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n  }\n\n  var sliceSeq = makeSequence(collection);\n\n  // If collection.size is undefined, the size of the realized sliceSeq is\n  // unknown at this point unless the number of items to slice is 0\n  sliceSeq.size = sliceSize === 0\n    ? sliceSize\n    : (collection.size && sliceSize) || undefined;\n\n  if (!useKeys && isSeq(collection) && sliceSize >= 0) {\n    sliceSeq.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return index >= 0 && index < sliceSize\n        ? collection.get(index + resolvedBegin, notSetValue)\n        : notSetValue;\n    };\n  }\n\n  sliceSeq.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (sliceSize === 0) {\n      return 0;\n    }\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var skipped = 0;\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k) {\n      if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1) !== false &&\n          iterations !== sliceSize;\n      }\n    });\n    return iterations;\n  };\n\n  sliceSeq.__iteratorUncached = function(type, reverse) {\n    if (sliceSize !== 0 && reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    // Don't bother instantiating parent iterator if taking 0.\n    var iterator = sliceSize !== 0 && collection.__iterator(type, reverse);\n    var skipped = 0;\n    var iterations = 0;\n    return new Iterator(function () {\n      while (skipped++ < resolvedBegin) {\n        iterator.next();\n      }\n      if (++iterations > sliceSize) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (useKeys || type === ITERATE_VALUES) {\n        return step;\n      }\n      if (type === ITERATE_KEYS) {\n        return iteratorValue(type, iterations - 1, undefined, step);\n      }\n      return iteratorValue(type, iterations - 1, step.value[1], step);\n    });\n  };\n\n  return sliceSeq;\n}\n\nfunction takeWhileFactory(collection, predicate, context) {\n  var takeSequence = makeSequence(collection);\n  takeSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    collection.__iterate(\n      function (v, k, c) { return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$1); }\n    );\n    return iterations;\n  };\n  takeSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterating = true;\n    return new Iterator(function () {\n      if (!iterating) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var k = entry[0];\n      var v = entry[1];\n      if (!predicate.call(context, v, k, this$1)) {\n        iterating = false;\n        return iteratorDone();\n      }\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return takeSequence;\n}\n\nfunction skipWhileFactory(collection, predicate, context, useKeys) {\n  var skipSequence = makeSequence(collection);\n  skipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1);\n      }\n    });\n    return iterations;\n  };\n  skipSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var skipping = true;\n    var iterations = 0;\n    return new Iterator(function () {\n      var step;\n      var k;\n      var v;\n      do {\n        step = iterator.next();\n        if (step.done) {\n          if (useKeys || type === ITERATE_VALUES) {\n            return step;\n          }\n          if (type === ITERATE_KEYS) {\n            return iteratorValue(type, iterations++, undefined, step);\n          }\n          return iteratorValue(type, iterations++, step.value[1], step);\n        }\n        var entry = step.value;\n        k = entry[0];\n        v = entry[1];\n        skipping && (skipping = predicate.call(context, v, k, this$1));\n      } while (skipping);\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return skipSequence;\n}\n\nfunction concatFactory(collection, values) {\n  var isKeyedCollection = isKeyed(collection);\n  var iters = [collection]\n    .concat(values)\n    .map(function (v) {\n      if (!isCollection(v)) {\n        v = isKeyedCollection\n          ? keyedSeqFromValue(v)\n          : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedCollection) {\n        v = KeyedCollection(v);\n      }\n      return v;\n    })\n    .filter(function (v) { return v.size !== 0; });\n\n  if (iters.length === 0) {\n    return collection;\n  }\n\n  if (iters.length === 1) {\n    var singleton = iters[0];\n    if (\n      singleton === collection ||\n      (isKeyedCollection && isKeyed(singleton)) ||\n      (isIndexed(collection) && isIndexed(singleton))\n    ) {\n      return singleton;\n    }\n  }\n\n  var concatSeq = new ArraySeq(iters);\n  if (isKeyedCollection) {\n    concatSeq = concatSeq.toKeyedSeq();\n  } else if (!isIndexed(collection)) {\n    concatSeq = concatSeq.toSetSeq();\n  }\n  concatSeq = concatSeq.flatten(true);\n  concatSeq.size = iters.reduce(\n    function (sum, seq) {\n      if (sum !== undefined) {\n        var size = seq.size;\n        if (size !== undefined) {\n          return sum + size;\n        }\n      }\n    },\n    0\n  );\n  return concatSeq;\n}\n\nfunction flattenFactory(collection, depth, useKeys) {\n  var flatSequence = makeSequence(collection);\n  flatSequence.__iterateUncached = function(fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    var stopped = false;\n    function flatDeep(iter, currentDepth) {\n      iter.__iterate(\n        function (v, k) {\n          if ((!depth || currentDepth < depth) && isCollection(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (\n            fn(v, useKeys ? k : iterations++, flatSequence) === false\n          ) {\n            stopped = true;\n          }\n          return !stopped;\n        },\n        reverse\n      );\n    }\n    flatDeep(collection, 0);\n    return iterations;\n  };\n  flatSequence.__iteratorUncached = function(type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var stack = [];\n    var iterations = 0;\n    return new Iterator(function () {\n      while (iterator) {\n        var step = iterator.next();\n        if (step.done !== false) {\n          iterator = stack.pop();\n          continue;\n        }\n        var v = step.value;\n        if (type === ITERATE_ENTRIES) {\n          v = v[1];\n        }\n        if ((!depth || stack.length < depth) && isCollection(v)) {\n          stack.push(iterator);\n          iterator = v.__iterator(type, reverse);\n        } else {\n          return useKeys ? step : iteratorValue(type, iterations++, v, step);\n        }\n      }\n      return iteratorDone();\n    });\n  };\n  return flatSequence;\n}\n\nfunction flatMapFactory(collection, mapper, context) {\n  var coerce = collectionClass(collection);\n  return collection\n    .toSeq()\n    .map(function (v, k) { return coerce(mapper.call(context, v, k, collection)); })\n    .flatten(true);\n}\n\nfunction interposeFactory(collection, separator) {\n  var interposedSequence = makeSequence(collection);\n  interposedSequence.size = collection.size && collection.size * 2 - 1;\n  interposedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(\n      function (v) { return (!iterations || fn(separator, iterations++, this$1) !== false) &&\n        fn(v, iterations++, this$1) !== false; },\n      reverse\n    );\n    return iterations;\n  };\n  interposedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_VALUES, reverse);\n    var iterations = 0;\n    var step;\n    return new Iterator(function () {\n      if (!step || iterations % 2) {\n        step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n      }\n      return iterations % 2\n        ? iteratorValue(type, iterations++, separator)\n        : iteratorValue(type, iterations++, step.value, step);\n    });\n  };\n  return interposedSequence;\n}\n\nfunction sortFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  var isKeyedCollection = isKeyed(collection);\n  var index = 0;\n  var entries = collection\n    .toSeq()\n    .map(function (v, k) { return [k, v, index++, mapper ? mapper(v, k, collection) : v]; })\n    .toArray();\n  entries.sort(function (a, b) { return comparator(a[3], b[3]) || a[2] - b[2]; }).forEach(\n    isKeyedCollection\n      ? function (v, i) {\n          entries[i].length = 2;\n        }\n      : function (v, i) {\n          entries[i] = v[1];\n        }\n  );\n  return isKeyedCollection\n    ? KeyedSeq(entries)\n    : isIndexed(collection) ? IndexedSeq(entries) : SetSeq(entries);\n}\n\nfunction maxFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  if (mapper) {\n    var entry = collection\n      .toSeq()\n      .map(function (v, k) { return [v, mapper(v, k, collection)]; })\n      .reduce(function (a, b) { return maxCompare(comparator, a[1], b[1]) ? b : a; });\n    return entry && entry[0];\n  }\n  return collection.reduce(function (a, b) { return maxCompare(comparator, a, b) ? b : a; });\n}\n\nfunction maxCompare(comparator, a, b) {\n  var comp = comparator(b, a);\n  // b is considered the new max if the comparator declares them equal, but\n  // they are not equal and b is in fact a nullish value.\n  return (comp === 0 &&\n    b !== a &&\n    (b === undefined || b === null || b !== b)) ||\n    comp > 0;\n}\n\nfunction zipWithFactory(keyIter, zipper, iters) {\n  var zipSequence = makeSequence(keyIter);\n  zipSequence.size = new ArraySeq(iters).map(function (i) { return i.size; }).min();\n  // Note: this a generic base implementation of __iterate in terms of\n  // __iterator which may be more generically useful in the future.\n  zipSequence.__iterate = function(fn, reverse) {\n    var this$1 = this;\n\n    /* generic:\n    var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      iterations++;\n      if (fn(step.value[1], step.value[0], this) === false) {\n        break;\n      }\n    }\n    return iterations;\n    */\n    // indexed:\n    var iterator = this.__iterator(ITERATE_VALUES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      if (fn(step.value, iterations++, this$1) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n  zipSequence.__iteratorUncached = function(type, reverse) {\n    var iterators = iters.map(\n      function (i) { return ((i = Collection(i)), getIterator(reverse ? i.reverse() : i)); }\n    );\n    var iterations = 0;\n    var isDone = false;\n    return new Iterator(function () {\n      var steps;\n      if (!isDone) {\n        steps = iterators.map(function (i) { return i.next(); });\n        isDone = steps.some(function (s) { return s.done; });\n      }\n      if (isDone) {\n        return iteratorDone();\n      }\n      return iteratorValue(\n        type,\n        iterations++,\n        zipper.apply(null, steps.map(function (s) { return s.value; }))\n      );\n    });\n  };\n  return zipSequence;\n}\n\n// #pragma Helper Functions\n\nfunction reify(iter, seq) {\n  return iter === seq ? iter : isSeq(iter) ? seq : iter.constructor(seq);\n}\n\nfunction validateEntry(entry) {\n  if (entry !== Object(entry)) {\n    throw new TypeError('Expected [K, V] tuple: ' + entry);\n  }\n}\n\nfunction collectionClass(collection) {\n  return isKeyed(collection)\n    ? KeyedCollection\n    : isIndexed(collection) ? IndexedCollection : SetCollection;\n}\n\nfunction makeSequence(collection) {\n  return Object.create(\n    (isKeyed(collection)\n      ? KeyedSeq\n      : isIndexed(collection) ? IndexedSeq : SetSeq).prototype\n  );\n}\n\nfunction cacheResultThrough() {\n  if (this._iter.cacheResult) {\n    this._iter.cacheResult();\n    this.size = this._iter.size;\n    return this;\n  }\n  return Seq.prototype.cacheResult.call(this);\n}\n\nfunction defaultComparator(a, b) {\n  if (a === undefined && b === undefined) {\n    return 0;\n  }\n\n  if (a === undefined) {\n    return 1;\n  }\n\n  if (b === undefined) {\n    return -1;\n  }\n\n  return a > b ? 1 : a < b ? -1 : 0;\n}\n\nfunction coerceKeyPath(keyPath) {\n  if (isArrayLike(keyPath) && typeof keyPath !== 'string') {\n    return keyPath;\n  }\n  if (isOrdered(keyPath)) {\n    return keyPath.toArray();\n  }\n  throw new TypeError(\n    'Invalid keyPath: expected Ordered Collection or Array: ' + keyPath\n  );\n}\n\nfunction invariant(condition, error) {\n  if (!condition) { throw new Error(error); }\n}\n\nfunction assertNotInfinite(size) {\n  invariant(\n    size !== Infinity,\n    'Cannot perform this action with an infinite size.'\n  );\n}\n\n/**\n * Converts a value to a string, adding quotes if a string was provided.\n */\nfunction quoteString(value) {\n  return typeof value === 'string' ? JSON.stringify(value) : String(value);\n}\n\nvar Map = (function (KeyedCollection$$1) {\n  function Map(value) {\n    return value === null || value === undefined\n      ? emptyMap()\n      : isMap(value) && !isOrdered(value)\n          ? value\n          : emptyMap().withMutations(function (map) {\n              var iter = KeyedCollection$$1(value);\n              assertNotInfinite(iter.size);\n              iter.forEach(function (v, k) { return map.set(k, v); });\n            });\n  }\n\n  if ( KeyedCollection$$1 ) Map.__proto__ = KeyedCollection$$1;\n  Map.prototype = Object.create( KeyedCollection$$1 && KeyedCollection$$1.prototype );\n  Map.prototype.constructor = Map;\n\n  Map.of = function of () {\n    var keyValues = [], len = arguments.length;\n    while ( len-- ) keyValues[ len ] = arguments[ len ];\n\n    return emptyMap().withMutations(function (map) {\n      for (var i = 0; i < keyValues.length; i += 2) {\n        if (i + 1 >= keyValues.length) {\n          throw new Error('Missing value for key: ' + keyValues[i]);\n        }\n        map.set(keyValues[i], keyValues[i + 1]);\n      }\n    });\n  };\n\n  Map.prototype.toString = function toString () {\n    return this.__toString('Map {', '}');\n  };\n\n  // @pragma Access\n\n  Map.prototype.get = function get (k, notSetValue) {\n    return this._root\n      ? this._root.get(0, undefined, k, notSetValue)\n      : notSetValue;\n  };\n\n  // @pragma Modification\n\n  Map.prototype.set = function set (k, v) {\n    return updateMap(this, k, v);\n  };\n\n  Map.prototype.setIn = function setIn (keyPath, v) {\n    return this.updateIn(keyPath, NOT_SET, function () { return v; });\n  };\n\n  Map.prototype.remove = function remove (k) {\n    return updateMap(this, k, NOT_SET);\n  };\n\n  Map.prototype.deleteIn = function deleteIn (keyPath) {\n    keyPath = [].concat( coerceKeyPath(keyPath) );\n    if (keyPath.length) {\n      var lastKey = keyPath.pop();\n      return this.updateIn(keyPath, function (c) { return c && c.remove(lastKey); });\n    }\n  };\n\n  Map.prototype.deleteAll = function deleteAll (keys) {\n    var collection = Collection(keys);\n\n    if (collection.size === 0) {\n      return this;\n    }\n\n    return this.withMutations(function (map) {\n      collection.forEach(function (key) { return map.remove(key); });\n    });\n  };\n\n  Map.prototype.update = function update (k, notSetValue, updater) {\n    return arguments.length === 1\n      ? k(this)\n      : this.updateIn([k], notSetValue, updater);\n  };\n\n  Map.prototype.updateIn = function updateIn (keyPath, notSetValue, updater) {\n    if (!updater) {\n      updater = notSetValue;\n      notSetValue = undefined;\n    }\n    var updatedValue = updateInDeepMap(\n      this,\n      coerceKeyPath(keyPath),\n      0,\n      notSetValue,\n      updater\n    );\n    return updatedValue === NOT_SET ? notSetValue : updatedValue;\n  };\n\n  Map.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._root = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyMap();\n  };\n\n  // @pragma Composition\n\n  Map.prototype.merge = function merge (/*...iters*/) {\n    return mergeIntoMapWith(this, undefined, arguments);\n  };\n\n  Map.prototype.mergeWith = function mergeWith (merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return mergeIntoMapWith(this, merger, iters);\n  };\n\n  Map.prototype.mergeIn = function mergeIn (keyPath) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return this.updateIn(\n      keyPath,\n      emptyMap(),\n      function (m) { return typeof m.merge === 'function'\n          ? m.merge.apply(m, iters)\n          : iters[iters.length - 1]; }\n    );\n  };\n\n  Map.prototype.mergeDeep = function mergeDeep (/*...iters*/) {\n    return mergeIntoMapWith(this, deepMerger, arguments);\n  };\n\n  Map.prototype.mergeDeepWith = function mergeDeepWith (merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n  };\n\n  Map.prototype.mergeDeepIn = function mergeDeepIn (keyPath) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return this.updateIn(\n      keyPath,\n      emptyMap(),\n      function (m) { return typeof m.mergeDeep === 'function'\n          ? m.mergeDeep.apply(m, iters)\n          : iters[iters.length - 1]; }\n    );\n  };\n\n  Map.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator));\n  };\n\n  Map.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator, mapper));\n  };\n\n  // @pragma Mutability\n\n  Map.prototype.withMutations = function withMutations (fn) {\n    var mutable = this.asMutable();\n    fn(mutable);\n    return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n  };\n\n  Map.prototype.asMutable = function asMutable () {\n    return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n  };\n\n  Map.prototype.asImmutable = function asImmutable () {\n    return this.__ensureOwner();\n  };\n\n  Map.prototype.wasAltered = function wasAltered () {\n    return this.__altered;\n  };\n\n  Map.prototype.__iterator = function __iterator (type, reverse) {\n    return new MapIterator(this, type, reverse);\n  };\n\n  Map.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    this._root &&\n      this._root.iterate(\n        function (entry) {\n          iterations++;\n          return fn(entry[1], entry[0], this$1);\n        },\n        reverse\n      );\n    return iterations;\n  };\n\n  Map.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyMap();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeMap(this.size, this._root, ownerID, this.__hash);\n  };\n\n  return Map;\n}(KeyedCollection));\n\nfunction isMap(maybeMap) {\n  return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n}\n\nMap.isMap = isMap;\n\nvar IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\nvar MapPrototype = Map.prototype;\nMapPrototype[IS_MAP_SENTINEL] = true;\nMapPrototype[DELETE] = MapPrototype.remove;\nMapPrototype.removeIn = MapPrototype.deleteIn;\nMapPrototype.removeAll = MapPrototype.deleteAll;\n\n// #pragma Trie Nodes\n\nvar ArrayMapNode = function ArrayMapNode(ownerID, entries) {\n  this.ownerID = ownerID;\n  this.entries = entries;\n};\n\nArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && entries.length === 1) {\n    return; // undefined\n  }\n\n  if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n    return createNodes(ownerID, entries, key, value);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new ArrayMapNode(ownerID, newEntries);\n};\n\nvar BitmapIndexedNode = function BitmapIndexedNode(ownerID, bitmap, nodes) {\n  this.ownerID = ownerID;\n  this.bitmap = bitmap;\n  this.nodes = nodes;\n};\n\nBitmapIndexedNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);\n  var bitmap = this.bitmap;\n  return (bitmap & bit) === 0\n    ? notSetValue\n    : this.nodes[popCount(bitmap & bit - 1)].get(\n        shift + SHIFT,\n        keyHash,\n        key,\n        notSetValue\n      );\n};\n\nBitmapIndexedNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var bit = 1 << keyHashFrag;\n  var bitmap = this.bitmap;\n  var exists = (bitmap & bit) !== 0;\n\n  if (!exists && value === NOT_SET) {\n    return this;\n  }\n\n  var idx = popCount(bitmap & bit - 1);\n  var nodes = this.nodes;\n  var node = exists ? nodes[idx] : undefined;\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n\n  if (newNode === node) {\n    return this;\n  }\n\n  if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n    return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n  }\n\n  if (\n    exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])\n  ) {\n    return nodes[idx ^ 1];\n  }\n\n  if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n    return newNode;\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n  var newNodes = exists\n    ? newNode\n        ? setIn(nodes, idx, newNode, isEditable)\n        : spliceOut(nodes, idx, isEditable)\n    : spliceIn(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.bitmap = newBitmap;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n};\n\nvar HashArrayMapNode = function HashArrayMapNode(ownerID, count, nodes) {\n  this.ownerID = ownerID;\n  this.count = count;\n  this.nodes = nodes;\n};\n\nHashArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var node = this.nodes[idx];\n  return node\n    ? node.get(shift + SHIFT, keyHash, key, notSetValue)\n    : notSetValue;\n};\n\nHashArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var removed = value === NOT_SET;\n  var nodes = this.nodes;\n  var node = nodes[idx];\n\n  if (removed && !node) {\n    return this;\n  }\n\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n  if (newNode === node) {\n    return this;\n  }\n\n  var newCount = this.count;\n  if (!node) {\n    newCount++;\n  } else if (!newNode) {\n    newCount--;\n    if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n      return packNodes(ownerID, nodes, newCount, idx);\n    }\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.count = newCount;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new HashArrayMapNode(ownerID, newCount, newNodes);\n};\n\nvar HashCollisionNode = function HashCollisionNode(ownerID, keyHash, entries) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entries = entries;\n};\n\nHashCollisionNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nHashCollisionNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n\n  var removed = value === NOT_SET;\n\n  if (keyHash !== this.keyHash) {\n    if (removed) {\n      return this;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n  }\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && len === 2) {\n    return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n};\n\nvar ValueNode = function ValueNode(ownerID, keyHash, entry) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entry = entry;\n};\n\nValueNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n};\n\nValueNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n  var keyMatch = is(key, this.entry[0]);\n  if (keyMatch ? value === this.entry[1] : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n\n  if (removed) {\n    SetRef(didChangeSize);\n    return; // undefined\n  }\n\n  if (keyMatch) {\n    if (ownerID && ownerID === this.ownerID) {\n      this.entry[1] = value;\n      return this;\n    }\n    return new ValueNode(ownerID, this.keyHash, [key, value]);\n  }\n\n  SetRef(didChangeSize);\n  return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n};\n\n// #pragma Iterators\n\nArrayMapNode.prototype.iterate = (HashCollisionNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var entries = this.entries;\n  for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n    if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n      return false;\n    }\n  }\n});\n\nBitmapIndexedNode.prototype.iterate = (HashArrayMapNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var nodes = this.nodes;\n  for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n    var node = nodes[reverse ? maxIndex - ii : ii];\n    if (node && node.iterate(fn, reverse) === false) {\n      return false;\n    }\n  }\n});\n\n// eslint-disable-next-line no-unused-vars\nValueNode.prototype.iterate = function(fn, reverse) {\n  return fn(this.entry);\n};\n\nvar MapIterator = (function (Iterator$$1) {\n  function MapIterator(map, type, reverse) {\n    this._type = type;\n    this._reverse = reverse;\n    this._stack = map._root && mapIteratorFrame(map._root);\n  }\n\n  if ( Iterator$$1 ) MapIterator.__proto__ = Iterator$$1;\n  MapIterator.prototype = Object.create( Iterator$$1 && Iterator$$1.prototype );\n  MapIterator.prototype.constructor = MapIterator;\n\n  MapIterator.prototype.next = function next () {\n    var this$1 = this;\n\n    var type = this._type;\n    var stack = this._stack;\n    while (stack) {\n      var node = stack.node;\n      var index = stack.index++;\n      var maxIndex = (void 0);\n      if (node.entry) {\n        if (index === 0) {\n          return mapIteratorValue(type, node.entry);\n        }\n      } else if (node.entries) {\n        maxIndex = node.entries.length - 1;\n        if (index <= maxIndex) {\n          return mapIteratorValue(\n            type,\n            node.entries[this$1._reverse ? maxIndex - index : index]\n          );\n        }\n      } else {\n        maxIndex = node.nodes.length - 1;\n        if (index <= maxIndex) {\n          var subNode = node.nodes[this$1._reverse ? maxIndex - index : index];\n          if (subNode) {\n            if (subNode.entry) {\n              return mapIteratorValue(type, subNode.entry);\n            }\n            stack = (this$1._stack = mapIteratorFrame(subNode, stack));\n          }\n          continue;\n        }\n      }\n      stack = (this$1._stack = this$1._stack.__prev);\n    }\n    return iteratorDone();\n  };\n\n  return MapIterator;\n}(Iterator));\n\nfunction mapIteratorValue(type, entry) {\n  return iteratorValue(type, entry[0], entry[1]);\n}\n\nfunction mapIteratorFrame(node, prev) {\n  return {\n    node: node,\n    index: 0,\n    __prev: prev\n  };\n}\n\nfunction makeMap(size, root, ownerID, hash$$1) {\n  var map = Object.create(MapPrototype);\n  map.size = size;\n  map._root = root;\n  map.__ownerID = ownerID;\n  map.__hash = hash$$1;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_MAP;\nfunction emptyMap() {\n  return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n}\n\nfunction updateMap(map, k, v) {\n  var newRoot;\n  var newSize;\n  if (!map._root) {\n    if (v === NOT_SET) {\n      return map;\n    }\n    newSize = 1;\n    newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n  } else {\n    var didChangeSize = MakeRef(CHANGE_LENGTH);\n    var didAlter = MakeRef(DID_ALTER);\n    newRoot = updateNode(\n      map._root,\n      map.__ownerID,\n      0,\n      undefined,\n      k,\n      v,\n      didChangeSize,\n      didAlter\n    );\n    if (!didAlter.value) {\n      return map;\n    }\n    newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n  }\n  if (map.__ownerID) {\n    map.size = newSize;\n    map._root = newRoot;\n    map.__hash = undefined;\n    map.__altered = true;\n    return map;\n  }\n  return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n}\n\nfunction updateNode(\n  node,\n  ownerID,\n  shift,\n  keyHash,\n  key,\n  value,\n  didChangeSize,\n  didAlter\n) {\n  if (!node) {\n    if (value === NOT_SET) {\n      return node;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return new ValueNode(ownerID, keyHash, [key, value]);\n  }\n  return node.update(\n    ownerID,\n    shift,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n}\n\nfunction isLeafNode(node) {\n  return node.constructor === ValueNode ||\n    node.constructor === HashCollisionNode;\n}\n\nfunction mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n  if (node.keyHash === keyHash) {\n    return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n  }\n\n  var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n  var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n  var newNode;\n  var nodes = idx1 === idx2\n    ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)]\n    : ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2\n        ? [node, newNode]\n        : [newNode, node]);\n\n  return new BitmapIndexedNode(ownerID, 1 << idx1 | 1 << idx2, nodes);\n}\n\nfunction createNodes(ownerID, entries, key, value) {\n  if (!ownerID) {\n    ownerID = new OwnerID();\n  }\n  var node = new ValueNode(ownerID, hash(key), [key, value]);\n  for (var ii = 0; ii < entries.length; ii++) {\n    var entry = entries[ii];\n    node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n  }\n  return node;\n}\n\nfunction packNodes(ownerID, nodes, count, excluding) {\n  var bitmap = 0;\n  var packedII = 0;\n  var packedNodes = new Array(count);\n  for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, (bit <<= 1)) {\n    var node = nodes[ii];\n    if (node !== undefined && ii !== excluding) {\n      bitmap |= bit;\n      packedNodes[packedII++] = node;\n    }\n  }\n  return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n}\n\nfunction expandNodes(ownerID, nodes, bitmap, including, node) {\n  var count = 0;\n  var expandedNodes = new Array(SIZE);\n  for (var ii = 0; bitmap !== 0; ii++, (bitmap >>>= 1)) {\n    expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n  }\n  expandedNodes[including] = node;\n  return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n}\n\nfunction mergeIntoMapWith(map, merger, collections) {\n  var iters = [];\n  for (var ii = 0; ii < collections.length; ii++) {\n    var value = collections[ii];\n    var iter = KeyedCollection(value);\n    if (!isCollection(value)) {\n      iter = iter.map(function (v) { return fromJS(v); });\n    }\n    iters.push(iter);\n  }\n  return mergeIntoCollectionWith(map, merger, iters);\n}\n\nfunction deepMerger(oldVal, newVal) {\n  return oldVal && oldVal.mergeDeep && isCollection(newVal)\n    ? oldVal.mergeDeep(newVal)\n    : is(oldVal, newVal) ? oldVal : newVal;\n}\n\nfunction deepMergerWith(merger) {\n  return function (oldVal, newVal, key) {\n    if (oldVal && oldVal.mergeDeepWith && isCollection(newVal)) {\n      return oldVal.mergeDeepWith(merger, newVal);\n    }\n    var nextValue = merger(oldVal, newVal, key);\n    return is(oldVal, nextValue) ? oldVal : nextValue;\n  };\n}\n\nfunction mergeIntoCollectionWith(collection, merger, iters) {\n  iters = iters.filter(function (x) { return x.size !== 0; });\n  if (iters.length === 0) {\n    return collection;\n  }\n  if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n    return collection.constructor(iters[0]);\n  }\n  return collection.withMutations(function (collection) {\n    var mergeIntoMap = merger\n      ? function (value, key) {\n          collection.update(\n            key,\n            NOT_SET,\n            function (oldVal) { return oldVal === NOT_SET ? value : merger(oldVal, value, key); }\n          );\n        }\n      : function (value, key) {\n          collection.set(key, value);\n        };\n    for (var ii = 0; ii < iters.length; ii++) {\n      iters[ii].forEach(mergeIntoMap);\n    }\n  });\n}\n\nfunction updateInDeepMap(existing, keyPath, i, notSetValue, updater) {\n  var isNotSet = existing === NOT_SET;\n  if (i === keyPath.length) {\n    var existingValue = isNotSet ? notSetValue : existing;\n    var newValue = updater(existingValue);\n    return newValue === existingValue ? existing : newValue;\n  }\n  if (!(isNotSet || (existing && existing.set))) {\n    throw new TypeError(\n      'Invalid keyPath: Value at [' +\n        keyPath.slice(0, i).map(quoteString) +\n        '] does not have a .set() method and cannot be updated: ' +\n        existing\n    );\n  }\n  var key = keyPath[i];\n  var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n  var nextUpdated = updateInDeepMap(\n    nextExisting,\n    keyPath,\n    i + 1,\n    notSetValue,\n    updater\n  );\n  return nextUpdated === nextExisting\n    ? existing\n    : nextUpdated === NOT_SET\n        ? existing.remove(key)\n        : (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n}\n\nfunction popCount(x) {\n  x -= x >> 1 & 0x55555555;\n  x = (x & 0x33333333) + (x >> 2 & 0x33333333);\n  x = x + (x >> 4) & 0x0f0f0f0f;\n  x += x >> 8;\n  x += x >> 16;\n  return x & 0x7f;\n}\n\nfunction setIn(array, idx, val, canEdit) {\n  var newArray = canEdit ? array : arrCopy(array);\n  newArray[idx] = val;\n  return newArray;\n}\n\nfunction spliceIn(array, idx, val, canEdit) {\n  var newLen = array.length + 1;\n  if (canEdit && idx + 1 === newLen) {\n    array[idx] = val;\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      newArray[ii] = val;\n      after = -1;\n    } else {\n      newArray[ii] = array[ii + after];\n    }\n  }\n  return newArray;\n}\n\nfunction spliceOut(array, idx, canEdit) {\n  var newLen = array.length - 1;\n  if (canEdit && idx === newLen) {\n    array.pop();\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      after = 1;\n    }\n    newArray[ii] = array[ii + after];\n  }\n  return newArray;\n}\n\nvar MAX_ARRAY_MAP_SIZE = SIZE / 4;\nvar MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\nvar MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\nvar List = (function (IndexedCollection$$1) {\n  function List(value) {\n    var empty = emptyList();\n    if (value === null || value === undefined) {\n      return empty;\n    }\n    if (isList(value)) {\n      return value;\n    }\n    var iter = IndexedCollection$$1(value);\n    var size = iter.size;\n    if (size === 0) {\n      return empty;\n    }\n    assertNotInfinite(size);\n    if (size > 0 && size < SIZE) {\n      return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n    }\n    return empty.withMutations(function (list) {\n      list.setSize(size);\n      iter.forEach(function (v, i) { return list.set(i, v); });\n    });\n  }\n\n  if ( IndexedCollection$$1 ) List.__proto__ = IndexedCollection$$1;\n  List.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  List.prototype.constructor = List;\n\n  List.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  List.prototype.toString = function toString () {\n    return this.__toString('List [', ']');\n  };\n\n  // @pragma Access\n\n  List.prototype.get = function get (index, notSetValue) {\n    index = wrapIndex(this, index);\n    if (index >= 0 && index < this.size) {\n      index += this._origin;\n      var node = listNodeFor(this, index);\n      return node && node.array[index & MASK];\n    }\n    return notSetValue;\n  };\n\n  // @pragma Modification\n\n  List.prototype.set = function set (index, value) {\n    return updateList(this, index, value);\n  };\n\n  List.prototype.remove = function remove (index) {\n    return !this.has(index)\n      ? this\n      : index === 0\n          ? this.shift()\n          : index === this.size - 1 ? this.pop() : this.splice(index, 1);\n  };\n\n  List.prototype.insert = function insert (index, value) {\n    return this.splice(index, 0, value);\n  };\n\n  List.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = (this._origin = (this._capacity = 0));\n      this._level = SHIFT;\n      this._root = (this._tail = null);\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyList();\n  };\n\n  List.prototype.push = function push (/*...values*/) {\n    var values = arguments;\n    var oldSize = this.size;\n    return this.withMutations(function (list) {\n      setListBounds(list, 0, oldSize + values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(oldSize + ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.pop = function pop () {\n    return setListBounds(this, 0, -1);\n  };\n\n  List.prototype.unshift = function unshift (/*...values*/) {\n    var values = arguments;\n    return this.withMutations(function (list) {\n      setListBounds(list, -values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.shift = function shift () {\n    return setListBounds(this, 1);\n  };\n\n  // @pragma Composition\n\n  List.prototype.merge = function merge (/*...iters*/) {\n    return mergeIntoListWith(this, undefined, arguments);\n  };\n\n  List.prototype.mergeWith = function mergeWith (merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return mergeIntoListWith(this, merger, iters);\n  };\n\n  List.prototype.mergeDeep = function mergeDeep (/*...iters*/) {\n    return mergeIntoListWith(this, deepMerger, arguments);\n  };\n\n  List.prototype.mergeDeepWith = function mergeDeepWith (merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return mergeIntoListWith(this, deepMergerWith(merger), iters);\n  };\n\n  List.prototype.setSize = function setSize (size) {\n    return setListBounds(this, 0, size);\n  };\n\n  // @pragma Iteration\n\n  List.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    if (wholeSlice(begin, end, size)) {\n      return this;\n    }\n    return setListBounds(\n      this,\n      resolveBegin(begin, size),\n      resolveEnd(end, size)\n    );\n  };\n\n  List.prototype.__iterator = function __iterator (type, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    return new Iterator(function () {\n      var value = values();\n      return value === DONE\n        ? iteratorDone()\n        : iteratorValue(type, reverse ? --index : index++, value);\n    });\n  };\n\n  List.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    var value;\n    while ((value = values()) !== DONE) {\n      if (fn(value, reverse ? --index : index++, this$1) === false) {\n        break;\n      }\n    }\n    return index;\n  };\n\n  List.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyList();\n      }\n      this.__ownerID = ownerID;\n      return this;\n    }\n    return makeList(\n      this._origin,\n      this._capacity,\n      this._level,\n      this._root,\n      this._tail,\n      ownerID,\n      this.__hash\n    );\n  };\n\n  return List;\n}(IndexedCollection));\n\nfunction isList(maybeList) {\n  return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n}\n\nList.isList = isList;\n\nvar IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\nvar ListPrototype = List.prototype;\nListPrototype[IS_LIST_SENTINEL] = true;\nListPrototype[DELETE] = ListPrototype.remove;\nListPrototype.setIn = MapPrototype.setIn;\nListPrototype.deleteIn = (ListPrototype.removeIn = MapPrototype.removeIn);\nListPrototype.update = MapPrototype.update;\nListPrototype.updateIn = MapPrototype.updateIn;\nListPrototype.mergeIn = MapPrototype.mergeIn;\nListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\nListPrototype.withMutations = MapPrototype.withMutations;\nListPrototype.asMutable = MapPrototype.asMutable;\nListPrototype.asImmutable = MapPrototype.asImmutable;\nListPrototype.wasAltered = MapPrototype.wasAltered;\n\nvar VNode = function VNode(array, ownerID) {\n  this.array = array;\n  this.ownerID = ownerID;\n};\n\n// TODO: seems like these methods are very similar\n\nVNode.prototype.removeBefore = function removeBefore (ownerID, level, index) {\n  if (index === level ? 1 << level : 0 || this.array.length === 0) {\n    return this;\n  }\n  var originIndex = index >>> level & MASK;\n  if (originIndex >= this.array.length) {\n    return new VNode([], ownerID);\n  }\n  var removingFirst = originIndex === 0;\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[originIndex];\n    newChild = oldChild &&\n      oldChild.removeBefore(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && removingFirst) {\n      return this;\n    }\n  }\n  if (removingFirst && !newChild) {\n    return this;\n  }\n  var editable = editableVNode(this, ownerID);\n  if (!removingFirst) {\n    for (var ii = 0; ii < originIndex; ii++) {\n      editable.array[ii] = undefined;\n    }\n  }\n  if (newChild) {\n    editable.array[originIndex] = newChild;\n  }\n  return editable;\n};\n\nVNode.prototype.removeAfter = function removeAfter (ownerID, level, index) {\n  if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n    return this;\n  }\n  var sizeIndex = index - 1 >>> level & MASK;\n  if (sizeIndex >= this.array.length) {\n    return this;\n  }\n\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[sizeIndex];\n    newChild = oldChild &&\n      oldChild.removeAfter(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n      return this;\n    }\n  }\n\n  var editable = editableVNode(this, ownerID);\n  editable.array.splice(sizeIndex + 1);\n  if (newChild) {\n    editable.array[sizeIndex] = newChild;\n  }\n  return editable;\n};\n\nvar DONE = {};\n\nfunction iterateList(list, reverse) {\n  var left = list._origin;\n  var right = list._capacity;\n  var tailPos = getTailOffset(right);\n  var tail = list._tail;\n\n  return iterateNodeOrLeaf(list._root, list._level, 0);\n\n  function iterateNodeOrLeaf(node, level, offset) {\n    return level === 0\n      ? iterateLeaf(node, offset)\n      : iterateNode(node, level, offset);\n  }\n\n  function iterateLeaf(node, offset) {\n    var array = offset === tailPos ? tail && tail.array : node && node.array;\n    var from = offset > left ? 0 : left - offset;\n    var to = right - offset;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      if (from === to) {\n        return DONE;\n      }\n      var idx = reverse ? --to : from++;\n      return array && array[idx];\n    };\n  }\n\n  function iterateNode(node, level, offset) {\n    var values;\n    var array = node && node.array;\n    var from = offset > left ? 0 : left - offset >> level;\n    var to = (right - offset >> level) + 1;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      while (true) {\n        if (values) {\n          var value = values();\n          if (value !== DONE) {\n            return value;\n          }\n          values = null;\n        }\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        values = iterateNodeOrLeaf(\n          array && array[idx],\n          level - SHIFT,\n          offset + (idx << level)\n        );\n      }\n    };\n  }\n}\n\nfunction makeList(origin, capacity, level, root, tail, ownerID, hash) {\n  var list = Object.create(ListPrototype);\n  list.size = capacity - origin;\n  list._origin = origin;\n  list._capacity = capacity;\n  list._level = level;\n  list._root = root;\n  list._tail = tail;\n  list.__ownerID = ownerID;\n  list.__hash = hash;\n  list.__altered = false;\n  return list;\n}\n\nvar EMPTY_LIST;\nfunction emptyList() {\n  return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n}\n\nfunction updateList(list, index, value) {\n  index = wrapIndex(list, index);\n\n  if (index !== index) {\n    return list;\n  }\n\n  if (index >= list.size || index < 0) {\n    return list.withMutations(function (list) {\n      index < 0\n        ? setListBounds(list, index).set(0, value)\n        : setListBounds(list, 0, index + 1).set(index, value);\n    });\n  }\n\n  index += list._origin;\n\n  var newTail = list._tail;\n  var newRoot = list._root;\n  var didAlter = MakeRef(DID_ALTER);\n  if (index >= getTailOffset(list._capacity)) {\n    newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n  } else {\n    newRoot = updateVNode(\n      newRoot,\n      list.__ownerID,\n      list._level,\n      index,\n      value,\n      didAlter\n    );\n  }\n\n  if (!didAlter.value) {\n    return list;\n  }\n\n  if (list.__ownerID) {\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n}\n\nfunction updateVNode(node, ownerID, level, index, value, didAlter) {\n  var idx = index >>> level & MASK;\n  var nodeHas = node && idx < node.array.length;\n  if (!nodeHas && value === undefined) {\n    return node;\n  }\n\n  var newNode;\n\n  if (level > 0) {\n    var lowerNode = node && node.array[idx];\n    var newLowerNode = updateVNode(\n      lowerNode,\n      ownerID,\n      level - SHIFT,\n      index,\n      value,\n      didAlter\n    );\n    if (newLowerNode === lowerNode) {\n      return node;\n    }\n    newNode = editableVNode(node, ownerID);\n    newNode.array[idx] = newLowerNode;\n    return newNode;\n  }\n\n  if (nodeHas && node.array[idx] === value) {\n    return node;\n  }\n\n  SetRef(didAlter);\n\n  newNode = editableVNode(node, ownerID);\n  if (value === undefined && idx === newNode.array.length - 1) {\n    newNode.array.pop();\n  } else {\n    newNode.array[idx] = value;\n  }\n  return newNode;\n}\n\nfunction editableVNode(node, ownerID) {\n  if (ownerID && node && ownerID === node.ownerID) {\n    return node;\n  }\n  return new VNode(node ? node.array.slice() : [], ownerID);\n}\n\nfunction listNodeFor(list, rawIndex) {\n  if (rawIndex >= getTailOffset(list._capacity)) {\n    return list._tail;\n  }\n  if (rawIndex < 1 << list._level + SHIFT) {\n    var node = list._root;\n    var level = list._level;\n    while (node && level > 0) {\n      node = node.array[rawIndex >>> level & MASK];\n      level -= SHIFT;\n    }\n    return node;\n  }\n}\n\nfunction setListBounds(list, begin, end) {\n  // Sanitize begin & end using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  if (begin !== undefined) {\n    begin |= 0;\n  }\n  if (end !== undefined) {\n    end |= 0;\n  }\n  var owner = list.__ownerID || new OwnerID();\n  var oldOrigin = list._origin;\n  var oldCapacity = list._capacity;\n  var newOrigin = oldOrigin + begin;\n  var newCapacity = end === undefined\n    ? oldCapacity\n    : end < 0 ? oldCapacity + end : oldOrigin + end;\n  if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n    return list;\n  }\n\n  // If it's going to end after it starts, it's empty.\n  if (newOrigin >= newCapacity) {\n    return list.clear();\n  }\n\n  var newLevel = list._level;\n  var newRoot = list._root;\n\n  // New origin might need creating a higher root.\n  var offsetShift = 0;\n  while (newOrigin + offsetShift < 0) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [undefined, newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n    offsetShift += 1 << newLevel;\n  }\n  if (offsetShift) {\n    newOrigin += offsetShift;\n    oldOrigin += offsetShift;\n    newCapacity += offsetShift;\n    oldCapacity += offsetShift;\n  }\n\n  var oldTailOffset = getTailOffset(oldCapacity);\n  var newTailOffset = getTailOffset(newCapacity);\n\n  // New size might need creating a higher root.\n  while (newTailOffset >= 1 << newLevel + SHIFT) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n  }\n\n  // Locate or create the new tail.\n  var oldTail = list._tail;\n  var newTail = newTailOffset < oldTailOffset\n    ? listNodeFor(list, newCapacity - 1)\n    : newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n  // Merge Tail into tree.\n  if (\n    oldTail &&\n    newTailOffset > oldTailOffset &&\n    newOrigin < oldCapacity &&\n    oldTail.array.length\n  ) {\n    newRoot = editableVNode(newRoot, owner);\n    var node = newRoot;\n    for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n      var idx = oldTailOffset >>> level & MASK;\n      node = (node.array[idx] = editableVNode(node.array[idx], owner));\n    }\n    node.array[oldTailOffset >>> SHIFT & MASK] = oldTail;\n  }\n\n  // If the size has been reduced, there's a chance the tail needs to be trimmed.\n  if (newCapacity < oldCapacity) {\n    newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n  }\n\n  // If the new origin is within the tail, then we do not need a root.\n  if (newOrigin >= newTailOffset) {\n    newOrigin -= newTailOffset;\n    newCapacity -= newTailOffset;\n    newLevel = SHIFT;\n    newRoot = null;\n    newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n  } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n    offsetShift = 0;\n\n    // Identify the new top root node of the subtree of the old root.\n    while (newRoot) {\n      var beginIndex = newOrigin >>> newLevel & MASK;\n      if (beginIndex !== newTailOffset >>> newLevel & MASK) {\n        break;\n      }\n      if (beginIndex) {\n        offsetShift += (1 << newLevel) * beginIndex;\n      }\n      newLevel -= SHIFT;\n      newRoot = newRoot.array[beginIndex];\n    }\n\n    // Trim the new sides of the new root.\n    if (newRoot && newOrigin > oldOrigin) {\n      newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n    }\n    if (newRoot && newTailOffset < oldTailOffset) {\n      newRoot = newRoot.removeAfter(\n        owner,\n        newLevel,\n        newTailOffset - offsetShift\n      );\n    }\n    if (offsetShift) {\n      newOrigin -= offsetShift;\n      newCapacity -= offsetShift;\n    }\n  }\n\n  if (list.__ownerID) {\n    list.size = newCapacity - newOrigin;\n    list._origin = newOrigin;\n    list._capacity = newCapacity;\n    list._level = newLevel;\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n}\n\nfunction mergeIntoListWith(list, merger, collections) {\n  var iters = [];\n  var maxSize = 0;\n  for (var ii = 0; ii < collections.length; ii++) {\n    var value = collections[ii];\n    var iter = IndexedCollection(value);\n    if (iter.size > maxSize) {\n      maxSize = iter.size;\n    }\n    if (!isCollection(value)) {\n      iter = iter.map(function (v) { return fromJS(v); });\n    }\n    iters.push(iter);\n  }\n  if (maxSize > list.size) {\n    list = list.setSize(maxSize);\n  }\n  return mergeIntoCollectionWith(list, merger, iters);\n}\n\nfunction getTailOffset(size) {\n  return size < SIZE ? 0 : size - 1 >>> SHIFT << SHIFT;\n}\n\nvar OrderedMap = (function (Map$$1) {\n  function OrderedMap(value) {\n    return value === null || value === undefined\n      ? emptyOrderedMap()\n      : isOrderedMap(value)\n          ? value\n          : emptyOrderedMap().withMutations(function (map) {\n              var iter = KeyedCollection(value);\n              assertNotInfinite(iter.size);\n              iter.forEach(function (v, k) { return map.set(k, v); });\n            });\n  }\n\n  if ( Map$$1 ) OrderedMap.__proto__ = Map$$1;\n  OrderedMap.prototype = Object.create( Map$$1 && Map$$1.prototype );\n  OrderedMap.prototype.constructor = OrderedMap;\n\n  OrderedMap.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedMap.prototype.toString = function toString () {\n    return this.__toString('OrderedMap {', '}');\n  };\n\n  // @pragma Access\n\n  OrderedMap.prototype.get = function get (k, notSetValue) {\n    var index = this._map.get(k);\n    return index !== undefined ? this._list.get(index)[1] : notSetValue;\n  };\n\n  // @pragma Modification\n\n  OrderedMap.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._map.clear();\n      this._list.clear();\n      return this;\n    }\n    return emptyOrderedMap();\n  };\n\n  OrderedMap.prototype.set = function set (k, v) {\n    return updateOrderedMap(this, k, v);\n  };\n\n  OrderedMap.prototype.remove = function remove (k) {\n    return updateOrderedMap(this, k, NOT_SET);\n  };\n\n  OrderedMap.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered() || this._list.wasAltered();\n  };\n\n  OrderedMap.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._list.__iterate(\n      function (entry) { return entry && fn(entry[1], entry[0], this$1); },\n      reverse\n    );\n  };\n\n  OrderedMap.prototype.__iterator = function __iterator (type, reverse) {\n    return this._list.fromEntrySeq().__iterator(type, reverse);\n  };\n\n  OrderedMap.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    var newList = this._list.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyOrderedMap();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      this._list = newList;\n      return this;\n    }\n    return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n  };\n\n  return OrderedMap;\n}(Map));\n\nfunction isOrderedMap(maybeOrderedMap) {\n  return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n}\n\nOrderedMap.isOrderedMap = isOrderedMap;\n\nOrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\nOrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\nfunction makeOrderedMap(map, list, ownerID, hash) {\n  var omap = Object.create(OrderedMap.prototype);\n  omap.size = map ? map.size : 0;\n  omap._map = map;\n  omap._list = list;\n  omap.__ownerID = ownerID;\n  omap.__hash = hash;\n  return omap;\n}\n\nvar EMPTY_ORDERED_MAP;\nfunction emptyOrderedMap() {\n  return EMPTY_ORDERED_MAP ||\n    (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n}\n\nfunction updateOrderedMap(omap, k, v) {\n  var map = omap._map;\n  var list = omap._list;\n  var i = map.get(k);\n  var has = i !== undefined;\n  var newMap;\n  var newList;\n  if (v === NOT_SET) {\n    // removed\n    if (!has) {\n      return omap;\n    }\n    if (list.size >= SIZE && list.size >= map.size * 2) {\n      newList = list.filter(function (entry, idx) { return entry !== undefined && i !== idx; });\n      newMap = newList.toKeyedSeq().map(function (entry) { return entry[0]; }).flip().toMap();\n      if (omap.__ownerID) {\n        newMap.__ownerID = (newList.__ownerID = omap.__ownerID);\n      }\n    } else {\n      newMap = map.remove(k);\n      newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n    }\n  } else if (has) {\n    if (v === list.get(i)[1]) {\n      return omap;\n    }\n    newMap = map;\n    newList = list.set(i, [k, v]);\n  } else {\n    newMap = map.set(k, list.size);\n    newList = list.set(list.size, [k, v]);\n  }\n  if (omap.__ownerID) {\n    omap.size = newMap.size;\n    omap._map = newMap;\n    omap._list = newList;\n    omap.__hash = undefined;\n    return omap;\n  }\n  return makeOrderedMap(newMap, newList);\n}\n\nvar Stack = (function (IndexedCollection$$1) {\n  function Stack(value) {\n    return value === null || value === undefined\n      ? emptyStack()\n      : isStack(value) ? value : emptyStack().pushAll(value);\n  }\n\n  if ( IndexedCollection$$1 ) Stack.__proto__ = IndexedCollection$$1;\n  Stack.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  Stack.prototype.constructor = Stack;\n\n  Stack.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Stack.prototype.toString = function toString () {\n    return this.__toString('Stack [', ']');\n  };\n\n  // @pragma Access\n\n  Stack.prototype.get = function get (index, notSetValue) {\n    var head = this._head;\n    index = wrapIndex(this, index);\n    while (head && index--) {\n      head = head.next;\n    }\n    return head ? head.value : notSetValue;\n  };\n\n  Stack.prototype.peek = function peek () {\n    return this._head && this._head.value;\n  };\n\n  // @pragma Modification\n\n  Stack.prototype.push = function push (/*...values*/) {\n    var arguments$1 = arguments;\n\n    if (arguments.length === 0) {\n      return this;\n    }\n    var newSize = this.size + arguments.length;\n    var head = this._head;\n    for (var ii = arguments.length - 1; ii >= 0; ii--) {\n      head = {\n        value: arguments$1[ii],\n        next: head\n      };\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pushAll = function pushAll (iter) {\n    iter = IndexedCollection$$1(iter);\n    if (iter.size === 0) {\n      return this;\n    }\n    if (this.size === 0 && isStack(iter)) {\n      return iter;\n    }\n    assertNotInfinite(iter.size);\n    var newSize = this.size;\n    var head = this._head;\n    iter.__iterate(\n      function (value) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      },\n      /* reverse */ true\n    );\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pop = function pop () {\n    return this.slice(1);\n  };\n\n  Stack.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._head = undefined;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyStack();\n  };\n\n  Stack.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n    if (resolvedEnd !== this.size) {\n      // super.slice(begin, end);\n      return IndexedCollection$$1.prototype.slice.call(this, begin, end);\n    }\n    var newSize = this.size - resolvedBegin;\n    var head = this._head;\n    while (resolvedBegin--) {\n      head = head.next;\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  // @pragma Mutability\n\n  Stack.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyStack();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeStack(this.size, this._head, ownerID, this.__hash);\n  };\n\n  // @pragma Iteration\n\n  Stack.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterate(\n        function (v, k) { return fn(v, k, this$1); },\n        reverse\n      );\n    }\n    var iterations = 0;\n    var node = this._head;\n    while (node) {\n      if (fn(node.value, iterations++, this$1) === false) {\n        break;\n      }\n      node = node.next;\n    }\n    return iterations;\n  };\n\n  Stack.prototype.__iterator = function __iterator (type, reverse) {\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterator(type, reverse);\n    }\n    var iterations = 0;\n    var node = this._head;\n    return new Iterator(function () {\n      if (node) {\n        var value = node.value;\n        node = node.next;\n        return iteratorValue(type, iterations++, value);\n      }\n      return iteratorDone();\n    });\n  };\n\n  return Stack;\n}(IndexedCollection));\n\nfunction isStack(maybeStack) {\n  return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n}\n\nStack.isStack = isStack;\n\nvar IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\nvar StackPrototype = Stack.prototype;\nStackPrototype[IS_STACK_SENTINEL] = true;\nStackPrototype.withMutations = MapPrototype.withMutations;\nStackPrototype.asMutable = MapPrototype.asMutable;\nStackPrototype.asImmutable = MapPrototype.asImmutable;\nStackPrototype.wasAltered = MapPrototype.wasAltered;\nStackPrototype.shift = StackPrototype.pop;\nStackPrototype.unshift = StackPrototype.push;\nStackPrototype.unshiftAll = StackPrototype.pushAll;\n\nfunction makeStack(size, head, ownerID, hash) {\n  var map = Object.create(StackPrototype);\n  map.size = size;\n  map._head = head;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_STACK;\nfunction emptyStack() {\n  return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n}\n\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (\n    !isCollection(b) ||\n    (a.size !== undefined && b.size !== undefined && a.size !== b.size) ||\n    (a.__hash !== undefined &&\n      b.__hash !== undefined &&\n      a.__hash !== b.__hash) ||\n    isKeyed(a) !== isKeyed(b) ||\n    isIndexed(a) !== isIndexed(b) ||\n    isOrdered(a) !== isOrdered(b)\n  ) {\n    return false;\n  }\n\n  if (a.size === 0 && b.size === 0) {\n    return true;\n  }\n\n  var notAssociative = !isAssociative(a);\n\n  if (isOrdered(a)) {\n    var entries = a.entries();\n    return b.every(function (v, k) {\n      var entry = entries.next().value;\n      return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n    }) && entries.next().done;\n  }\n\n  var flipped = false;\n\n  if (a.size === undefined) {\n    if (b.size === undefined) {\n      if (typeof a.cacheResult === 'function') {\n        a.cacheResult();\n      }\n    } else {\n      flipped = true;\n      var _ = a;\n      a = b;\n      b = _;\n    }\n  }\n\n  var allEqual = true;\n  var bSize = b.__iterate(function (v, k) {\n    if (\n      notAssociative\n        ? !a.has(v)\n        : flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)\n    ) {\n      allEqual = false;\n      return false;\n    }\n  });\n\n  return allEqual && a.size === bSize;\n}\n\n/**\n * Contributes additional methods to a constructor\n */\nfunction mixin(ctor, methods) {\n  var keyCopier = function (key) {\n    ctor.prototype[key] = methods[key];\n  };\n  Object.keys(methods).forEach(keyCopier);\n  Object.getOwnPropertySymbols &&\n    Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n  return ctor;\n}\n\nvar Set = (function (SetCollection$$1) {\n  function Set(value) {\n    return value === null || value === undefined\n      ? emptySet()\n      : isSet(value) && !isOrdered(value)\n          ? value\n          : emptySet().withMutations(function (set) {\n              var iter = SetCollection$$1(value);\n              assertNotInfinite(iter.size);\n              iter.forEach(function (v) { return set.add(v); });\n            });\n  }\n\n  if ( SetCollection$$1 ) Set.__proto__ = SetCollection$$1;\n  Set.prototype = Object.create( SetCollection$$1 && SetCollection$$1.prototype );\n  Set.prototype.constructor = Set;\n\n  Set.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Set.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  Set.intersect = function intersect (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.intersect.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.union = function union (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.union.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.prototype.toString = function toString () {\n    return this.__toString('Set {', '}');\n  };\n\n  // @pragma Access\n\n  Set.prototype.has = function has (value) {\n    return this._map.has(value);\n  };\n\n  // @pragma Modification\n\n  Set.prototype.add = function add (value) {\n    return updateSet(this, this._map.set(value, true));\n  };\n\n  Set.prototype.remove = function remove (value) {\n    return updateSet(this, this._map.remove(value));\n  };\n\n  Set.prototype.clear = function clear () {\n    return updateSet(this, this._map.clear());\n  };\n\n  // @pragma Composition\n\n  Set.prototype.union = function union () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    iters = iters.filter(function (x) { return x.size !== 0; });\n    if (iters.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n      return this.constructor(iters[0]);\n    }\n    return this.withMutations(function (set) {\n      for (var ii = 0; ii < iters.length; ii++) {\n        SetCollection$$1(iters[ii]).forEach(function (value) { return set.add(value); });\n      }\n    });\n  };\n\n  Set.prototype.intersect = function intersect () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection$$1(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (!iters.every(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.subtract = function subtract () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (iters.some(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.merge = function merge () {\n    return this.union.apply(this, arguments);\n  };\n\n  Set.prototype.mergeWith = function mergeWith (merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return this.union.apply(this, iters);\n  };\n\n  Set.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator));\n  };\n\n  Set.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator, mapper));\n  };\n\n  Set.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered();\n  };\n\n  Set.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._map.__iterate(function (_, k) { return fn(k, k, this$1); }, reverse);\n  };\n\n  Set.prototype.__iterator = function __iterator (type, reverse) {\n    return this._map.map(function (_, k) { return k; }).__iterator(type, reverse);\n  };\n\n  Set.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptySet();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return this.__make(newMap, ownerID);\n  };\n\n  return Set;\n}(SetCollection));\n\nfunction isSet(maybeSet) {\n  return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n}\n\nSet.isSet = isSet;\n\nvar IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\nvar SetPrototype = Set.prototype;\nSetPrototype[IS_SET_SENTINEL] = true;\nSetPrototype[DELETE] = SetPrototype.remove;\nSetPrototype.mergeDeep = SetPrototype.merge;\nSetPrototype.mergeDeepWith = SetPrototype.mergeWith;\nSetPrototype.withMutations = MapPrototype.withMutations;\nSetPrototype.asMutable = MapPrototype.asMutable;\nSetPrototype.asImmutable = MapPrototype.asImmutable;\n\nSetPrototype.__empty = emptySet;\nSetPrototype.__make = makeSet;\n\nfunction updateSet(set, newMap) {\n  if (set.__ownerID) {\n    set.size = newMap.size;\n    set._map = newMap;\n    return set;\n  }\n  return newMap === set._map\n    ? set\n    : newMap.size === 0 ? set.__empty() : set.__make(newMap);\n}\n\nfunction makeSet(map, ownerID) {\n  var set = Object.create(SetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_SET;\nfunction emptySet() {\n  return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n}\n\n/**\n * Returns a lazy seq of nums from start (inclusive) to end\n * (exclusive), by step, where start defaults to 0, step to 1, and end to\n * infinity. When start is equal to end, returns empty list.\n */\nvar Range = (function (IndexedSeq$$1) {\n  function Range(start, end, step) {\n    if (!(this instanceof Range)) {\n      return new Range(start, end, step);\n    }\n    invariant(step !== 0, 'Cannot step a Range by 0');\n    start = start || 0;\n    if (end === undefined) {\n      end = Infinity;\n    }\n    step = step === undefined ? 1 : Math.abs(step);\n    if (end < start) {\n      step = -step;\n    }\n    this._start = start;\n    this._end = end;\n    this._step = step;\n    this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n    if (this.size === 0) {\n      if (EMPTY_RANGE) {\n        return EMPTY_RANGE;\n      }\n      EMPTY_RANGE = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Range.__proto__ = IndexedSeq$$1;\n  Range.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Range.prototype.constructor = Range;\n\n  Range.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Range []';\n    }\n    return 'Range [ ' +\n      this._start +\n      '...' +\n      this._end +\n      (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]';\n  };\n\n  Range.prototype.get = function get (index, notSetValue) {\n    return this.has(index)\n      ? this._start + wrapIndex(this, index) * this._step\n      : notSetValue;\n  };\n\n  Range.prototype.includes = function includes (searchValue) {\n    var possibleIndex = (searchValue - this._start) / this._step;\n    return possibleIndex >= 0 &&\n      possibleIndex < this.size &&\n      possibleIndex === Math.floor(possibleIndex);\n  };\n\n  Range.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    begin = resolveBegin(begin, this.size);\n    end = resolveEnd(end, this.size);\n    if (end <= begin) {\n      return new Range(0, 0);\n    }\n    return new Range(\n      this.get(begin, this._end),\n      this.get(end, this._end),\n      this._step\n    );\n  };\n\n  Range.prototype.indexOf = function indexOf (searchValue) {\n    var offsetValue = searchValue - this._start;\n    if (offsetValue % this._step === 0) {\n      var index = offsetValue / this._step;\n      if (index >= 0 && index < this.size) {\n        return index;\n      }\n    }\n    return -1;\n  };\n\n  Range.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    return this.indexOf(searchValue);\n  };\n\n  Range.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    while (i !== size) {\n      if (fn(value, reverse ? size - ++i : i++, this$1) === false) {\n        break;\n      }\n      value += reverse ? -step : step;\n    }\n    return i;\n  };\n\n  Range.prototype.__iterator = function __iterator (type, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var v = value;\n      value += reverse ? -step : step;\n      return iteratorValue(type, reverse ? size - ++i : i++, v);\n    });\n  };\n\n  Range.prototype.equals = function equals (other) {\n    return other instanceof Range\n      ? this._start === other._start &&\n          this._end === other._end &&\n          this._step === other._step\n      : deepEqual(this, other);\n  };\n\n  return Range;\n}(IndexedSeq));\n\nvar EMPTY_RANGE;\n\n// Note: all of these methods are deprecated.\nCollection.isIterable = isCollection;\nCollection.isKeyed = isKeyed;\nCollection.isIndexed = isIndexed;\nCollection.isAssociative = isAssociative;\nCollection.isOrdered = isOrdered;\n\nCollection.Iterator = Iterator;\n\nmixin(Collection, {\n  // ### Conversion to other types\n\n  toArray: function toArray() {\n    assertNotInfinite(this.size);\n    var array = new Array(this.size || 0);\n    this.valueSeq().__iterate(function (v, i) {\n      array[i] = v;\n    });\n    return array;\n  },\n\n  toIndexedSeq: function toIndexedSeq() {\n    return new ToIndexedSequence(this);\n  },\n\n  toJS: function toJS$1() {\n    return this.toSeq().map(toJS).toJSON();\n  },\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, true);\n  },\n\n  toMap: function toMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return Map(this.toKeyedSeq());\n  },\n\n  toObject: function toObject() {\n    assertNotInfinite(this.size);\n    var object = {};\n    this.__iterate(function (v, k) {\n      object[k] = v;\n    });\n    return object;\n  },\n\n  toOrderedMap: function toOrderedMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedMap(this.toKeyedSeq());\n  },\n\n  toOrderedSet: function toOrderedSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSet: function toSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return Set(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSetSeq: function toSetSeq() {\n    return new ToSetSequence(this);\n  },\n\n  toSeq: function toSeq() {\n    return isIndexed(this)\n      ? this.toIndexedSeq()\n      : isKeyed(this) ? this.toKeyedSeq() : this.toSetSeq();\n  },\n\n  toStack: function toStack() {\n    // Use Late Binding here to solve the circular dependency.\n    return Stack(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toList: function toList() {\n    // Use Late Binding here to solve the circular dependency.\n    return List(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  // ### Common JavaScript methods and properties\n\n  toString: function toString() {\n    return '[Collection]';\n  },\n\n  __toString: function __toString(head, tail) {\n    if (this.size === 0) {\n      return head + tail;\n    }\n    return head +\n      ' ' +\n      this.toSeq().map(this.__toStringMapper).join(', ') +\n      ' ' +\n      tail;\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  concat: function concat() {\n    var values = [], len = arguments.length;\n    while ( len-- ) values[ len ] = arguments[ len ];\n\n    return reify(this, concatFactory(this, values));\n  },\n\n  includes: function includes(searchValue) {\n    return this.some(function (value) { return is(value, searchValue); });\n  },\n\n  entries: function entries() {\n    return this.__iterator(ITERATE_ENTRIES);\n  },\n\n  every: function every(predicate, context) {\n    assertNotInfinite(this.size);\n    var returnValue = true;\n    this.__iterate(function (v, k, c) {\n      if (!predicate.call(context, v, k, c)) {\n        returnValue = false;\n        return false;\n      }\n    });\n    return returnValue;\n  },\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, true));\n  },\n\n  find: function find(predicate, context, notSetValue) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[1] : notSetValue;\n  },\n\n  forEach: function forEach(sideEffect, context) {\n    assertNotInfinite(this.size);\n    return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n  },\n\n  join: function join(separator) {\n    assertNotInfinite(this.size);\n    separator = separator !== undefined ? '' + separator : ',';\n    var joined = '';\n    var isFirst = true;\n    this.__iterate(function (v) {\n      isFirst ? (isFirst = false) : (joined += separator);\n      joined += v !== null && v !== undefined ? v.toString() : '';\n    });\n    return joined;\n  },\n\n  keys: function keys() {\n    return this.__iterator(ITERATE_KEYS);\n  },\n\n  map: function map(mapper, context) {\n    return reify(this, mapFactory(this, mapper, context));\n  },\n\n  reduce: function reduce$1(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      false\n    );\n  },\n\n  reduceRight: function reduceRight(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      true\n    );\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, true));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, true));\n  },\n\n  some: function some(predicate, context) {\n    return !this.every(not(predicate), context);\n  },\n\n  sort: function sort(comparator) {\n    return reify(this, sortFactory(this, comparator));\n  },\n\n  values: function values() {\n    return this.__iterator(ITERATE_VALUES);\n  },\n\n  // ### More sequential methods\n\n  butLast: function butLast() {\n    return this.slice(0, -1);\n  },\n\n  isEmpty: function isEmpty() {\n    return this.size !== undefined ? this.size === 0 : !this.some(function () { return true; });\n  },\n\n  count: function count(predicate, context) {\n    return ensureSize(\n      predicate ? this.toSeq().filter(predicate, context) : this\n    );\n  },\n\n  countBy: function countBy(grouper, context) {\n    return countByFactory(this, grouper, context);\n  },\n\n  equals: function equals(other) {\n    return deepEqual(this, other);\n  },\n\n  entrySeq: function entrySeq() {\n    var collection = this;\n    if (collection._cache) {\n      // We cache as an entries array, so we can just return the cache!\n      return new ArraySeq(collection._cache);\n    }\n    var entriesSequence = collection.toSeq().map(entryMapper).toIndexedSeq();\n    entriesSequence.fromEntrySeq = function () { return collection.toSeq(); };\n\n    // Entries are plain Array, which do not define toJS, so it must\n    // manually converts keys and values before conversion.\n    entriesSequence.toJS = function() {\n      return this.map(function (entry) { return [toJS(entry[0]), toJS(entry[1])]; }).toJSON();\n    };\n\n    return entriesSequence;\n  },\n\n  filterNot: function filterNot(predicate, context) {\n    return this.filter(not(predicate), context);\n  },\n\n  findEntry: function findEntry(predicate, context, notSetValue) {\n    var found = notSetValue;\n    this.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        found = [k, v];\n        return false;\n      }\n    });\n    return found;\n  },\n\n  findKey: function findKey(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry && entry[0];\n  },\n\n  findLast: function findLast(predicate, context, notSetValue) {\n    return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n  },\n\n  findLastEntry: function findLastEntry(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findEntry(predicate, context, notSetValue);\n  },\n\n  findLastKey: function findLastKey(predicate, context) {\n    return this.toKeyedSeq().reverse().findKey(predicate, context);\n  },\n\n  first: function first() {\n    return this.find(returnTrue);\n  },\n\n  flatMap: function flatMap(mapper, context) {\n    return reify(this, flatMapFactory(this, mapper, context));\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, true));\n  },\n\n  fromEntrySeq: function fromEntrySeq() {\n    return new FromEntriesSequence(this);\n  },\n\n  get: function get(searchKey, notSetValue) {\n    return this.find(function (_, key) { return is(key, searchKey); }, undefined, notSetValue);\n  },\n\n  getIn: function getIn(searchKeyPath, notSetValue) {\n    var nested = this;\n    var keyPath = coerceKeyPath(searchKeyPath);\n    var i = 0;\n    while (i !== keyPath.length) {\n      if (!nested || !nested.get) {\n        throw new TypeError(\n          'Invalid keyPath: Value at [' +\n            keyPath.slice(0, i).map(quoteString) +\n            '] does not have a .get() method: ' +\n            nested\n        );\n      }\n      nested = nested.get(keyPath[i++], NOT_SET);\n      if (nested === NOT_SET) {\n        return notSetValue;\n      }\n    }\n    return nested;\n    // var step;\n    // while (!(step = iter.next()).done) {\n    //   var key = step.value;\n    //   nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n    //   if (nested === NOT_SET) {\n    //     return notSetValue;\n    //   }\n    // }\n    // return nested;\n  },\n\n  groupBy: function groupBy(grouper, context) {\n    return groupByFactory(this, grouper, context);\n  },\n\n  has: function has(searchKey) {\n    return this.get(searchKey, NOT_SET) !== NOT_SET;\n  },\n\n  hasIn: function hasIn(searchKeyPath) {\n    return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n  },\n\n  isSubset: function isSubset(iter) {\n    iter = typeof iter.includes === 'function' ? iter : Collection(iter);\n    return this.every(function (value) { return iter.includes(value); });\n  },\n\n  isSuperset: function isSuperset(iter) {\n    iter = typeof iter.isSubset === 'function' ? iter : Collection(iter);\n    return iter.isSubset(this);\n  },\n\n  keyOf: function keyOf(searchValue) {\n    return this.findKey(function (value) { return is(value, searchValue); });\n  },\n\n  keySeq: function keySeq() {\n    return this.toSeq().map(keyMapper).toIndexedSeq();\n  },\n\n  last: function last() {\n    return this.toSeq().reverse().first();\n  },\n\n  lastKeyOf: function lastKeyOf(searchValue) {\n    return this.toKeyedSeq().reverse().keyOf(searchValue);\n  },\n\n  max: function max(comparator) {\n    return maxFactory(this, comparator);\n  },\n\n  maxBy: function maxBy(mapper, comparator) {\n    return maxFactory(this, comparator, mapper);\n  },\n\n  min: function min(comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator\n    );\n  },\n\n  minBy: function minBy(mapper, comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator,\n      mapper\n    );\n  },\n\n  rest: function rest() {\n    return this.slice(1);\n  },\n\n  skip: function skip(amount) {\n    return amount === 0 ? this : this.slice(Math.max(0, amount));\n  },\n\n  skipLast: function skipLast(amount) {\n    return amount === 0 ? this : this.slice(0, -Math.max(0, amount));\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, true));\n  },\n\n  skipUntil: function skipUntil(predicate, context) {\n    return this.skipWhile(not(predicate), context);\n  },\n\n  sortBy: function sortBy(mapper, comparator) {\n    return reify(this, sortFactory(this, comparator, mapper));\n  },\n\n  take: function take(amount) {\n    return this.slice(0, Math.max(0, amount));\n  },\n\n  takeLast: function takeLast(amount) {\n    return this.slice(-Math.max(0, amount));\n  },\n\n  takeWhile: function takeWhile(predicate, context) {\n    return reify(this, takeWhileFactory(this, predicate, context));\n  },\n\n  takeUntil: function takeUntil(predicate, context) {\n    return this.takeWhile(not(predicate), context);\n  },\n\n  update: function update(fn) {\n    return fn(this);\n  },\n\n  valueSeq: function valueSeq() {\n    return this.toIndexedSeq();\n  },\n\n  // ### Hashable Object\n\n  hashCode: function hashCode() {\n    return this.__hash || (this.__hash = hashCollection(this));\n  }\n\n  // ### Internal\n\n  // abstract __iterate(fn, reverse)\n\n  // abstract __iterator(type, reverse)\n});\n\nvar CollectionPrototype = Collection.prototype;\nCollectionPrototype[IS_ITERABLE_SENTINEL] = true;\nCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.values;\nCollectionPrototype.toJSON = CollectionPrototype.toArray;\nCollectionPrototype.__toStringMapper = quoteString;\nCollectionPrototype.inspect = (CollectionPrototype.toSource = function() {\n  return this.toString();\n});\nCollectionPrototype.chain = CollectionPrototype.flatMap;\nCollectionPrototype.contains = CollectionPrototype.includes;\n\nmixin(KeyedCollection, {\n  // ### More sequential methods\n\n  flip: function flip() {\n    return reify(this, flipFactory(this));\n  },\n\n  mapEntries: function mapEntries(mapper, context) {\n    var this$1 = this;\n\n    var iterations = 0;\n    return reify(\n      this,\n      this.toSeq()\n        .map(function (v, k) { return mapper.call(context, [k, v], iterations++, this$1); })\n        .fromEntrySeq()\n    );\n  },\n\n  mapKeys: function mapKeys(mapper, context) {\n    var this$1 = this;\n\n    return reify(\n      this,\n      this.toSeq().flip().map(function (k, v) { return mapper.call(context, k, v, this$1); }).flip()\n    );\n  }\n});\n\nvar KeyedCollectionPrototype = KeyedCollection.prototype;\nKeyedCollectionPrototype[IS_KEYED_SENTINEL] = true;\nKeyedCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.entries;\nKeyedCollectionPrototype.toJSON = CollectionPrototype.toObject;\nKeyedCollectionPrototype.__toStringMapper = function (v, k) { return quoteString(k) + ': ' + quoteString(v); };\n\nmixin(IndexedCollection, {\n  // ### Conversion to other types\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, false);\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, false));\n  },\n\n  findIndex: function findIndex(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  indexOf: function indexOf(searchValue) {\n    var key = this.keyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  lastIndexOf: function lastIndexOf(searchValue) {\n    var key = this.lastKeyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, false));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, false));\n  },\n\n  splice: function splice(index, removeNum /*, ...values*/) {\n    var numArgs = arguments.length;\n    removeNum = Math.max(removeNum || 0, 0);\n    if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n      return this;\n    }\n    // If index is negative, it should resolve relative to the size of the\n    // collection. However size may be expensive to compute if not cached, so\n    // only call count() if the number is in fact negative.\n    index = resolveBegin(index, index < 0 ? this.count() : this.size);\n    var spliced = this.slice(0, index);\n    return reify(\n      this,\n      numArgs === 1\n        ? spliced\n        : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n    );\n  },\n\n  // ### More collection methods\n\n  findLastIndex: function findLastIndex(predicate, context) {\n    var entry = this.findLastEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  first: function first() {\n    return this.get(0);\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, false));\n  },\n\n  get: function get(index, notSetValue) {\n    index = wrapIndex(this, index);\n    return index < 0 ||\n      (this.size === Infinity || (this.size !== undefined && index > this.size))\n      ? notSetValue\n      : this.find(function (_, key) { return key === index; }, undefined, notSetValue);\n  },\n\n  has: function has(index) {\n    index = wrapIndex(this, index);\n    return index >= 0 &&\n      (this.size !== undefined\n        ? this.size === Infinity || index < this.size\n        : this.indexOf(index) !== -1);\n  },\n\n  interpose: function interpose(separator) {\n    return reify(this, interposeFactory(this, separator));\n  },\n\n  interleave: function interleave(/*...collections*/) {\n    var collections = [this].concat(arrCopy(arguments));\n    var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, collections);\n    var interleaved = zipped.flatten(true);\n    if (zipped.size) {\n      interleaved.size = zipped.size * collections.length;\n    }\n    return reify(this, interleaved);\n  },\n\n  keySeq: function keySeq() {\n    return Range(0, this.size);\n  },\n\n  last: function last() {\n    return this.get(-1);\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, false));\n  },\n\n  zip: function zip(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections));\n  },\n\n  zipWith: function zipWith(zipper /*, ...collections */) {\n    var collections = arrCopy(arguments);\n    collections[0] = this;\n    return reify(this, zipWithFactory(this, zipper, collections));\n  }\n});\n\nvar IndexedCollectionPrototype = IndexedCollection.prototype;\nIndexedCollectionPrototype[IS_INDEXED_SENTINEL] = true;\nIndexedCollectionPrototype[IS_ORDERED_SENTINEL] = true;\n\nmixin(SetCollection, {\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  get: function get(value, notSetValue) {\n    return this.has(value) ? value : notSetValue;\n  },\n\n  includes: function includes(value) {\n    return this.has(value);\n  },\n\n  // ### More sequential methods\n\n  keySeq: function keySeq() {\n    return this.valueSeq();\n  }\n});\n\nSetCollection.prototype.has = CollectionPrototype.includes;\nSetCollection.prototype.contains = SetCollection.prototype.includes;\n\n// Mixin subclasses\n\nmixin(KeyedSeq, KeyedCollection.prototype);\nmixin(IndexedSeq, IndexedCollection.prototype);\nmixin(SetSeq, SetCollection.prototype);\n\n// #pragma Helper functions\n\nfunction reduce(collection, reducer, reduction, context, useFirst, reverse) {\n  assertNotInfinite(collection.size);\n  collection.__iterate(\n    function (v, k, c) {\n      if (useFirst) {\n        useFirst = false;\n        reduction = v;\n      } else {\n        reduction = reducer.call(context, reduction, v, k, c);\n      }\n    },\n    reverse\n  );\n  return reduction;\n}\n\nfunction keyMapper(v, k) {\n  return k;\n}\n\nfunction entryMapper(v, k) {\n  return [k, v];\n}\n\nfunction toJS(value) {\n  return value && typeof value.toJS === 'function' ? value.toJS() : value;\n}\n\nfunction not(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n\nfunction neg(predicate) {\n  return function() {\n    return -predicate.apply(this, arguments);\n  };\n}\n\nfunction defaultZipper() {\n  return arrCopy(arguments);\n}\n\nfunction defaultNegComparator(a, b) {\n  return a < b ? 1 : a > b ? -1 : 0;\n}\n\nfunction hashCollection(collection) {\n  if (collection.size === Infinity) {\n    return 0;\n  }\n  var ordered = isOrdered(collection);\n  var keyed = isKeyed(collection);\n  var h = ordered ? 1 : 0;\n  var size = collection.__iterate(\n    keyed\n      ? ordered\n          ? function (v, k) {\n              h = 31 * h + hashMerge(hash(v), hash(k)) | 0;\n            }\n          : function (v, k) {\n              h = h + hashMerge(hash(v), hash(k)) | 0;\n            }\n      : ordered\n          ? function (v) {\n              h = 31 * h + hash(v) | 0;\n            }\n          : function (v) {\n              h = h + hash(v) | 0;\n            }\n  );\n  return murmurHashOfSize(size, h);\n}\n\nfunction murmurHashOfSize(size, h) {\n  h = imul(h, 0xcc9e2d51);\n  h = imul(h << 15 | h >>> -15, 0x1b873593);\n  h = imul(h << 13 | h >>> -13, 5);\n  h = (h + 0xe6546b64 | 0) ^ size;\n  h = imul(h ^ h >>> 16, 0x85ebca6b);\n  h = imul(h ^ h >>> 13, 0xc2b2ae35);\n  h = smi(h ^ h >>> 16);\n  return h;\n}\n\nfunction hashMerge(a, b) {\n  return a ^ b + 0x9e3779b9 + (a << 6) + (a >> 2) | 0; // int\n}\n\nvar OrderedSet = (function (Set$$1) {\n  function OrderedSet(value) {\n    return value === null || value === undefined\n      ? emptyOrderedSet()\n      : isOrderedSet(value)\n          ? value\n          : emptyOrderedSet().withMutations(function (set) {\n              var iter = SetCollection(value);\n              assertNotInfinite(iter.size);\n              iter.forEach(function (v) { return set.add(v); });\n            });\n  }\n\n  if ( Set$$1 ) OrderedSet.__proto__ = Set$$1;\n  OrderedSet.prototype = Object.create( Set$$1 && Set$$1.prototype );\n  OrderedSet.prototype.constructor = OrderedSet;\n\n  OrderedSet.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedSet.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  OrderedSet.prototype.toString = function toString () {\n    return this.__toString('OrderedSet {', '}');\n  };\n\n  return OrderedSet;\n}(Set));\n\nfunction isOrderedSet(maybeOrderedSet) {\n  return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n}\n\nOrderedSet.isOrderedSet = isOrderedSet;\n\nvar OrderedSetPrototype = OrderedSet.prototype;\nOrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\nOrderedSetPrototype.zip = IndexedCollectionPrototype.zip;\nOrderedSetPrototype.zipWith = IndexedCollectionPrototype.zipWith;\n\nOrderedSetPrototype.__empty = emptyOrderedSet;\nOrderedSetPrototype.__make = makeOrderedSet;\n\nfunction makeOrderedSet(map, ownerID) {\n  var set = Object.create(OrderedSetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_ORDERED_SET;\nfunction emptyOrderedSet() {\n  return EMPTY_ORDERED_SET ||\n    (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n}\n\nvar Record = function Record(defaultValues, name) {\n  var hasInitialized;\n\n  var RecordType = function Record(values) {\n    var this$1 = this;\n\n    if (values instanceof RecordType) {\n      return values;\n    }\n    if (!(this instanceof RecordType)) {\n      return new RecordType(values);\n    }\n    if (!hasInitialized) {\n      hasInitialized = true;\n      var keys = Object.keys(defaultValues);\n      var indices = (RecordTypePrototype._indices = {});\n      RecordTypePrototype._name = name;\n      RecordTypePrototype._keys = keys;\n      RecordTypePrototype._defaultValues = defaultValues;\n      for (var i = 0; i < keys.length; i++) {\n        var propName = keys[i];\n        indices[propName] = i;\n        if (RecordTypePrototype[propName]) {\n          /* eslint-disable no-console */\n          typeof console === 'object' &&\n            console.warn &&\n            console.warn(\n              'Cannot define ' +\n                recordName(this$1) +\n                ' with property \"' +\n                propName +\n                '\" since that property name is part of the Record API.'\n            );\n          /* eslint-enable no-console */\n        } else {\n          setProp(RecordTypePrototype, propName);\n        }\n      }\n    }\n    this.__ownerID = undefined;\n    this._values = List().withMutations(function (l) {\n      l.setSize(this$1._keys.length);\n      KeyedCollection(values).forEach(function (v, k) {\n        l.set(this$1._indices[k], v === this$1._defaultValues[k] ? undefined : v);\n      });\n    });\n  };\n\n  var RecordTypePrototype = (RecordType.prototype = Object.create(\n    RecordPrototype\n  ));\n  RecordTypePrototype.constructor = RecordType;\n\n  return RecordType;\n};\n\nRecord.prototype.toString = function toString () {\n    var this$1 = this;\n\n  var str = recordName(this) + ' { ';\n  var keys = this._keys;\n  var k;\n  for (var i = 0, l = keys.length; i !== l; i++) {\n    k = keys[i];\n    str += (i ? ', ' : '') + k + ': ' + quoteString(this$1.get(k));\n  }\n  return str + ' }';\n};\n\nRecord.prototype.equals = function equals (other) {\n  return this === other ||\n    (this._keys === other._keys && recordSeq(this).equals(recordSeq(other)));\n};\n\nRecord.prototype.hashCode = function hashCode () {\n  return recordSeq(this).hashCode();\n};\n\n// @pragma Access\n\nRecord.prototype.has = function has (k) {\n  return this._indices.hasOwnProperty(k);\n};\n\nRecord.prototype.get = function get (k, notSetValue) {\n  if (!this.has(k)) {\n    return notSetValue;\n  }\n  var index = this._indices[k];\n  var value = this._values.get(index);\n  return value === undefined ? this._defaultValues[k] : value;\n};\n\n// @pragma Modification\n\nRecord.prototype.set = function set (k, v) {\n  if (this.has(k)) {\n    var newValues = this._values.set(\n      this._indices[k],\n      v === this._defaultValues[k] ? undefined : v\n    );\n    if (newValues !== this._values && !this.__ownerID) {\n      return makeRecord(this, newValues);\n    }\n  }\n  return this;\n};\n\nRecord.prototype.remove = function remove (k) {\n  return this.set(k);\n};\n\nRecord.prototype.clear = function clear () {\n  var newValues = this._values.clear().setSize(this._keys.length);\n  return this.__ownerID ? this : makeRecord(this, newValues);\n};\n\nRecord.prototype.wasAltered = function wasAltered () {\n  return this._values.wasAltered();\n};\n\nRecord.prototype.toSeq = function toSeq () {\n  return recordSeq(this);\n};\n\nRecord.prototype.toJS = function toJS () {\n  return recordSeq(this).toJS();\n};\n\nRecord.prototype.__iterator = function __iterator (type, reverse) {\n  return recordSeq(this).__iterator(type, reverse);\n};\n\nRecord.prototype.__iterate = function __iterate (fn, reverse) {\n  return recordSeq(this).__iterate(fn, reverse);\n};\n\nRecord.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n  if (ownerID === this.__ownerID) {\n    return this;\n  }\n  var newValues = this._values.__ensureOwner(ownerID);\n  if (!ownerID) {\n    this.__ownerID = ownerID;\n    this._values = newValues;\n    return this;\n  }\n  return makeRecord(this, newValues, ownerID);\n};\n\nRecord.isRecord = isRecord;\nRecord.getDescriptiveName = recordName;\nvar RecordPrototype = Record.prototype;\nRecordPrototype[IS_RECORD_SENTINEL] = true;\nRecordPrototype[DELETE] = RecordPrototype.remove;\nRecordPrototype.getIn = CollectionPrototype.getIn;\nRecordPrototype.hasIn = CollectionPrototype.hasIn;\nRecordPrototype.merge = MapPrototype.merge;\nRecordPrototype.mergeWith = MapPrototype.mergeWith;\nRecordPrototype.mergeIn = MapPrototype.mergeIn;\nRecordPrototype.mergeDeep = MapPrototype.mergeDeep;\nRecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\nRecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\nRecordPrototype.setIn = MapPrototype.setIn;\nRecordPrototype.update = MapPrototype.update;\nRecordPrototype.updateIn = MapPrototype.updateIn;\nRecordPrototype.withMutations = MapPrototype.withMutations;\nRecordPrototype.asMutable = MapPrototype.asMutable;\nRecordPrototype.asImmutable = MapPrototype.asImmutable;\nRecordPrototype[ITERATOR_SYMBOL] = CollectionPrototype.entries;\nRecordPrototype.toJSON = (RecordPrototype.toObject = CollectionPrototype.toObject);\nRecordPrototype.inspect = (RecordPrototype.toSource = CollectionPrototype.toSource);\n\nfunction makeRecord(likeRecord, values, ownerID) {\n  var record = Object.create(Object.getPrototypeOf(likeRecord));\n  record._values = values;\n  record.__ownerID = ownerID;\n  return record;\n}\n\nfunction recordName(record) {\n  return record._name || record.constructor.name || 'Record';\n}\n\nfunction recordSeq(record) {\n  return keyedSeqFromValue(record._keys.map(function (k) { return [k, record.get(k)]; }));\n}\n\nfunction setProp(prototype, name) {\n  try {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  } catch (error) {\n    // Object.defineProperty failed. Probably IE8.\n  }\n}\n\n/**\n * Returns a lazy Seq of `value` repeated `times` times. When `times` is\n * undefined, returns an infinite sequence of `value`.\n */\nvar Repeat = (function (IndexedSeq$$1) {\n  function Repeat(value, times) {\n    if (!(this instanceof Repeat)) {\n      return new Repeat(value, times);\n    }\n    this._value = value;\n    this.size = times === undefined ? Infinity : Math.max(0, times);\n    if (this.size === 0) {\n      if (EMPTY_REPEAT) {\n        return EMPTY_REPEAT;\n      }\n      EMPTY_REPEAT = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Repeat.__proto__ = IndexedSeq$$1;\n  Repeat.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Repeat.prototype.constructor = Repeat;\n\n  Repeat.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Repeat []';\n    }\n    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n  };\n\n  Repeat.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._value : notSetValue;\n  };\n\n  Repeat.prototype.includes = function includes (searchValue) {\n    return is(this._value, searchValue);\n  };\n\n  Repeat.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    return wholeSlice(begin, end, size)\n      ? this\n      : new Repeat(\n          this._value,\n          resolveEnd(end, size) - resolveBegin(begin, size)\n        );\n  };\n\n  Repeat.prototype.reverse = function reverse () {\n    return this;\n  };\n\n  Repeat.prototype.indexOf = function indexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return 0;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return this.size;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var size = this.size;\n    var i = 0;\n    while (i !== size) {\n      if (fn(this$1._value, reverse ? size - ++i : i++, this$1) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  Repeat.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var size = this.size;\n    var i = 0;\n    return new Iterator(\n      function () { return i === size\n          ? iteratorDone()\n          : iteratorValue(type, reverse ? size - ++i : i++, this$1._value); }\n    );\n  };\n\n  Repeat.prototype.equals = function equals (other) {\n    return other instanceof Repeat\n      ? is(this._value, other._value)\n      : deepEqual(other);\n  };\n\n  return Repeat;\n}(IndexedSeq));\n\nvar EMPTY_REPEAT;\n\nvar Immutable = {\n  Collection: Collection,\n  // Note: Iterable is deprecated\n  Iterable: Collection,\n\n  Seq: Seq,\n  Map: Map,\n  OrderedMap: OrderedMap,\n  List: List,\n  Stack: Stack,\n  Set: Set,\n  OrderedSet: OrderedSet,\n\n  Record: Record,\n  Range: Range,\n  Repeat: Repeat,\n\n  is: is,\n  fromJS: fromJS,\n  hash: hash,\n\n  isImmutable: isImmutable,\n  isCollection: isCollection,\n  isKeyed: isKeyed,\n  isIndexed: isIndexed,\n  isAssociative: isAssociative,\n  isOrdered: isOrdered,\n  isValueObject: isValueObject\n};\n\n// Note: Iterable is deprecated\nvar Iterable = Collection;\n\nexports['default'] = Immutable;\nexports.Collection = Collection;\nexports.Iterable = Iterable;\nexports.Seq = Seq;\nexports.Map = Map;\nexports.OrderedMap = OrderedMap;\nexports.List = List;\nexports.Stack = Stack;\nexports.Set = Set;\nexports.OrderedSet = OrderedSet;\nexports.Record = Record;\nexports.Range = Range;\nexports.Repeat = Repeat;\nexports.is = is;\nexports.fromJS = fromJS;\nexports.hash = hash;\nexports.isImmutable = isImmutable;\nexports.isCollection = isCollection;\nexports.isKeyed = isKeyed;\nexports.isIndexed = isIndexed;\nexports.isAssociative = isAssociative;\nexports.isOrdered = isOrdered;\nexports.isValueObject = isValueObject;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","import {\n    Dangle,\n    Direction,\n    Edge,\n    EdgeOperation,\n    Face,\n    faces,\n    Matrix2,\n    make_matrix2,\n    Partition,\n    Point2,\n } from './datatypes';\n\nimport {is, List, Map, Set} from 'immutable';\n\nlet face_vertices = Map<Face, Matrix2>([\n    [Face.t, make_matrix2([\n        [0,  1,  2 ],\n        [9,  25, 15],\n        [16, 24, 22]])],\n    [Face.b, make_matrix2([\n        [20, 19, 18],\n        [13, 12, 11],\n        [8,  7,  6 ]])],\n    [Face.n, make_matrix2([\n        [2,  1,  0 ],\n        [5,  4,  3 ],\n        [8,  7,  6 ]])],\n    [Face.e, make_matrix2([\n        [22, 15, 2 ],\n        [21, 14, 5 ],\n        [20, 13, 8 ]])],\n    [Face.s, make_matrix2([\n        [16, 24, 22],\n        [17, 23, 21],\n        [18, 19, 20]])],\n    [Face.w, make_matrix2([\n        [0,  9,  16],\n        [3,  10, 17],\n        [6,  11, 18]])]\n]);\n\nlet face_quadrants = Map<Face, Matrix2>([\n    [Face.t, make_matrix2([\n        [0,  1 ],\n        [2,  3 ]])],\n    [Face.b, make_matrix2([\n        [4,  5 ],\n        [6,  7 ]])],\n    [Face.n, make_matrix2([\n        [8,  9 ],\n        [10, 11]])],\n    [Face.e, make_matrix2([\n        [12, 13],\n        [14, 15]])],\n    [Face.s, make_matrix2([\n        [16, 17],\n        [18, 19]])],\n    [Face.w, make_matrix2([\n        [20, 21],\n        [22, 23]])],\n]);\n\nfunction build_edge_quadrant_mappings(): [Map<number, List<Edge>>, Map<Edge, List<number>>] {\n    let quadrant_2_edges = Map<number, List<Edge>>();\n    let edge_2_quadrants = Map<Edge, List<number>>();\n\n    for (let f of faces){\n        let vs = face_vertices.get(f);\n        let qs = face_quadrants.get(f);\n        for (let [x, y] of [[0,0], [1,0], [0,1], [1,1]]){\n            let q_edges = get_quadrant_edges(vs, x, y);\n            quadrant_2_edges = quadrant_2_edges.set(qs.get(x, y), q_edges);\n            q_edges.forEach(function (qe) {\n                let q = qs.get(x, y);\n                if (edge_2_quadrants.has(qe)) {\n                    edge_2_quadrants = edge_2_quadrants.update(qe, (xs) => xs.push(q));\n                } else {\n                    edge_2_quadrants = edge_2_quadrants.set(qe, List<number>([q]));\n                }\n            });\n        }\n    }\n\n    return [quadrant_2_edges, edge_2_quadrants];\n}\n\nfunction get_quadrant_edges(m: Matrix2, x: number, y: number): List<Edge> {\n    let offsets = [\n        [0,0,0,1],\n        [0,0,1,0],\n        [1,1,0,1],\n        [1,1,1,0]\n    ];\n    let edges = List<Edge>();\n    for (let [x1, y1, x2, y2] of offsets){\n        let e1 = m.get(x+x1, y+y1);\n        let e2 = m.get(x+x2, y+y2);\n        if (e2 < e1){\n            edges = edges.push(new Edge(e2, e1));\n        } else {\n            edges = edges.push(new Edge(e1, e2));\n        }\n    }\n    return edges;\n}\n\nexport let [quadrant_2_edges, edge_2_quadrants] = build_edge_quadrant_mappings();\n\nfunction get_quadrant_partition(quadrant: number, cut_edges: List<Edge>) {\n    let current_partition = Set<number>([quadrant]).asMutable();\n    let horizon = List<Edge>(quadrant_2_edges.get(quadrant)).asMutable();\n\n    while (horizon.size > 0){\n        let e = horizon.first(); horizon = horizon.shift();\n        if (cut_edges.contains(e)){\n            continue;\n        }\n        let next_qs = Set<number>(edge_2_quadrants.get(e));\n        let new_qs = next_qs.subtract(current_partition);\n        if (new_qs.size > 0) {\n            new_qs.forEach(function (q){\n                horizon.push(...quadrant_2_edges.get(q).toArray());\n                current_partition.add(q);\n            });\n        }\n    }\n    return current_partition.asImmutable();\n}\n\nfunction range(x: number){\n    let arr: number[] = [];\n    for (let i = 0; i < x; i++){\n         arr.push(i);\n    } \n    return arr;\n}\n\nfunction get_partitions(cut_edges: List<Edge>){\n    let partitions = List<Partition>().asMutable();\n    let quadrants = Set<number>(range(24)).asMutable();\n    while (quadrants.size > 0){\n        let q = quadrants.first(); quadrants.remove(q);\n        let partition = get_quadrant_partition(q, cut_edges);\n        partitions.push(partition);\n        quadrants.subtract(partition);\n    }\n    return partitions.asImmutable();\n}\n\nexport class FaceMesh {\n    readonly vertices: Matrix2;\n    readonly quadrants: Matrix2;\n\n    constructor(vertices: Matrix2, quadrants: Matrix2){\n        this.vertices = vertices;\n        this.quadrants = quadrants;\n    }\n\n    rotate(degrees: number) {\n        return new FaceMesh(this.vertices.rotate(degrees), this.quadrants.rotate(degrees));\n    }\n}\n\ninterface BoxMeshParams {\n    dimensions?: [number, number, number],\n    face_meshes?: Map<Face, FaceMesh>,\n    cut_edges?: List<Edge>\n}\n\nexport class BoxMesh{\n    readonly dimensions: [number, number, number];\n    readonly face_meshes: Map<Face, FaceMesh>;\n    readonly cut_edges: List<Edge>;\n\n    constructor({dimensions, face_meshes, cut_edges}: BoxMeshParams){\n        this.dimensions = dimensions;\n        \n        if (face_meshes === undefined) {\n            face_meshes = Map<Face, FaceMesh>();\n            for (let f of faces){\n                face_meshes = face_meshes.set(f,\n                    new FaceMesh(face_vertices.get(f), face_quadrants.get(f)));\n            }\n        }\n        this.face_meshes = face_meshes;\n\n        if (cut_edges === undefined){\n            cut_edges = List<Edge>();\n        }\n        this.cut_edges = cut_edges;\n    }\n\n    update({dimensions, face_meshes, cut_edges}: BoxMeshParams){\n        if (dimensions === undefined){\n            dimensions = this.dimensions;\n        }\n\n        if (face_meshes === undefined){\n            face_meshes = this.face_meshes;\n        }\n\n        if (cut_edges === undefined){\n            cut_edges = this.cut_edges;\n        }\n        return new BoxMesh({dimensions, face_meshes, cut_edges});\n    }\n\n    cut(face: Face, start: Point2, end: Point2){\n        return this.cut_or_tape(EdgeOperation.cut, face, start, end);\n    }\n\n    tape(face: Face, start: Point2, end: Point2){\n        return this.cut_or_tape(EdgeOperation.tape, face, start, end);\n    }\n\n    cut_or_tape(operation: EdgeOperation, face: Face, start: Point2, end: Point2): BoxMesh {\n        let [x1, y1] = start;\n        let [x2, y2] = end;\n\n        if (Math.abs(x2 - x1) + Math.abs(y2 - y1) != 1){\n            throw `start and end points of cut/tape are not adjacent: ${start} and ${end}`;\n        }\n\n        let f = this.face_meshes.get(face).vertices;\n        let fs = f.get(x1, y1);\n        let fe = f.get(x2, y2);\n\n        let new_edge = new Edge(fs, fe);\n\n        let new_cut_edges = this.cut_edges;\n        if (operation == EdgeOperation.cut && !new_cut_edges.contains(new_edge)) {\n            new_cut_edges = new_cut_edges.push(new_edge);\n        }\n\n        if (operation == EdgeOperation.tape && new_cut_edges.contains(new_edge)) {\n            new_cut_edges = new_cut_edges.remove(new_cut_edges.indexOf(new_edge));\n        }\n\n        return this.update({cut_edges: new_cut_edges});\n    }\n\n    get_rends() {\n        return get_partitions(this.cut_edges);\n    }\n\n    get_free_rends() {\n        return this.get_rends().filter(x => !this.is_partition_fixed(x));\n    }\n\n    is_partition_fixed(partition: Set<number>) {\n        let face_membership = this.get_partition_face_membership(partition);\n        return face_membership.get(Face.b) > 0;\n    }\n\n    get_partition_face_membership(partition: Partition) {\n        let face_membership = Map<Face, number>().asMutable();\n        for (let f of faces) {\n            let total = 0;\n            let quadrants = this.face_meshes.get(f).quadrants;\n            partition.forEach(function (q) {\n                if (quadrants.contains(q)){\n                    total += 1;\n                }\n            });\n            face_membership.set(f, total);\n        }\n        return face_membership.asImmutable();\n    }\n\n    get_quadrant_face(quadrant: number){\n        for (let f of faces){\n            if (this.face_meshes.get(f).quadrants.contains(quadrant)) {\n                return f;\n            }\n        }\n    }\n\n    get_dangles() {\n        let rends = this.get_rends();\n        let fixed_rends = rends.filter(x => this.is_partition_fixed(x));\n\n        let dangles = List<Dangle>().asMutable();\n        let inner_this = this;\n\n        this.get_box_edges().forEach(function ([e1, e2]) {\n            let e_2_q_2_f = Map<Edge, Map<number, Face>>().asMutable();\n            for (let e of [e1, e2]){ //initialize e_2_q_2_f\n                let inner_map = Map<number, Face>().asMutable();\n                edge_2_quadrants.get(e).forEach(function (q) {\n                    inner_map.set(q, inner_this.get_quadrant_face(q));\n                });\n                 inner_map = inner_map.asImmutable()\n                e_2_q_2_f.set(e, inner_map);\n            }\n            e_2_q_2_f = e_2_q_2_f.asImmutable();\n\n            let edge_dangles = List<Dangle>().asMutable();\n\n            for (let es of [[e1, e2], [e1], [e2]]) {\n                let new_cut_edges = inner_this.cut_edges.push(...es);\n                let new_partitions = get_partitions(new_cut_edges);\n\n                if (new_partitions.size != rends.size) {\n\n                    new_partitions.forEach(function (np) {\n                        if (rends.contains(np)){\n                            return;\n                        }\n\n                        if (inner_this.is_partition_fixed(np)) {\n                            return;\n                        }\n\n                        let any_intersections = false;\n                        fixed_rends.forEach(function (fixed_rend) {\n                            if (np.intersect(fixed_rend).size > 0){\n                                any_intersections = true;\n                            }\n                        });\n                        if (!any_intersections) {\n                            return;\n                        }\n\n                        let any_dangle_matches = false;\n                        edge_dangles.forEach(function (ed) {\n                            if (is(np, ed.partition)){\n                                any_dangle_matches = true;\n                                return;\n                            }\n                        });\n                        if (any_dangle_matches){\n                            return;\n                        }\n\n                        let q_2_fs = List<Map<number, Face>>().asMutable();\n                        for (let e of es) {\n                            q_2_fs.push(e_2_q_2_f.get(e));\n                        }\n                        q_2_fs = q_2_fs.asImmutable();\n\n                        let fixed_fs = List<Face>().asMutable();\n                        let dangle_fs = List<Face>().asMutable();\n\n                        q_2_fs.forEach(function (q_2_f) {\n                            q_2_f.entrySeq().forEach(function ([q, f]) {\n                                if (np.contains(q)) {\n                                    dangle_fs = dangle_fs.push(f);\n                                } else {\n                                    fixed_fs = fixed_fs.push(f);\n                                }\n                            });\n                        });\n                        fixed_fs = fixed_fs.asImmutable();\n                        dangle_fs = dangle_fs.asImmutable();\n\n                        if (fixed_fs.toSet().size != 1 || dangle_fs.toSet().size != 1) {\n                            return;\n                        }\n\n                        edge_dangles.push(new Dangle(\n                            np, List<Edge>(es), fixed_fs.get(0), dangle_fs.get(0)));\n                    });\n                }\n            }\n            edge_dangles = edge_dangles.asImmutable();\n            dangles.push(...edge_dangles.toArray());\n        });\n        dangles = List<Dangle>(dangles.sortBy(x => x.partition.size));\n\n        let final_dangles = List<Dangle>().asMutable();\n\n        for (let i = 0; i < dangles.size; i++) {\n            let p = dangles.get(i).partition;\n\n            let any_supersets = false;\n            dangles.skip(i+1).forEach(function (d) {\n                if (p.isSubset(d.partition)) {\n                    any_supersets = true;\n                }\n            })\n            if (!any_supersets) {\n                final_dangles.push(dangles.get(i));\n            }\n        }\n        final_dangles = final_dangles.asImmutable();\n\n        return final_dangles;\n    }\n\n    get_box_edges() {\n        let edges = List<[Edge, Edge]>();\n\n        let t_b_edge_coords: [number, number][][] = [\n            [[0,0], [0,1], [0,2]],\n            [[0,0], [1,0], [2,0]],\n            [[2,0], [2,1], [2,2]],\n            [[0,2], [1,2], [2,2]]\n        ];\n\n        for (let f of [Face.t, Face.b]) {\n            let m = this.face_meshes.get(f).vertices;\n\n            for (let [[p1x, p1y], [p2x, p2y], [p3x, p3y]] of t_b_edge_coords) {\n                let v1 = m.get(p1x, p1y);\n                let v2 = m.get(p2x, p2y);\n                let v3 = m.get(p3x, p3y);\n\n                let e1 = new Edge(v1, v2);\n\n                let e2 = new Edge(v2, v3);\n\n                edges = edges.push([e1, e2]);\n            }\n        }\n\n        for (let f of [Face.n, Face.e, Face.s, Face.w]) {\n            let m = this.face_meshes.get(f).vertices;\n\n            let v1 = m.get(0,0);\n            let v2 = m.get(0,1);\n            let v3 = m.get(0,2);\n\n            let e1 = new Edge(v1, v2);\n\n            let e2 = new Edge(v2, v3);\n\n            edges = edges.push([e1, e2]);\n\n        }\n        return edges;\n    }    \n\n    rotate_y(degrees: number) {\n        //validate degrees somehow\n\n        if (degrees == 0 || degrees == 360) {\n            return this;\n        }\n\n        let new_faces = rotate_y_faces(this.face_meshes, degrees);\n    \n        if (degrees = 180) {\n            return this.update({face_meshes: new_faces});\n        } else {\n            let [x, y, z] = this.dimensions;\n            return this.update({dimensions: [z, y, x], face_meshes: new_faces});\n        }\n    }\n\n    roll(direction: Direction){\n        let [x, y, z] = this.dimensions;\n        let new_x, new_y, new_z;\n        if (direction == Direction.n || direction == Direction.s) {\n            [new_x, new_y, new_z] = [x, y, z];\n        } else {\n            [new_x, new_y, new_z] = [y, x, z];\n        }\n\n        let new_faces = roll_faces(this.face_meshes, direction);\n\n        return this.update({dimensions: [new_x, new_y, new_z], face_meshes: new_faces});\n    }\n\n    description(){\n        let face_descr = Map<Face, string>([\n            [Face.t, 'top'],\n            [Face.b, 'bottom'],\n            [Face.n, 'back'],\n            [Face.e, 'right'],\n            [Face.s, 'front'],\n            [Face.w, 'left']\n        ]);\n\n        let [x, y, z] = this.dimensions;\n\n        let result = `The box's dimensions measure ${x} by ${y} by ${z}`;\n\n        let rends = this.get_free_rends();\n        let inner_this = this;\n\n        rends.forEach(function (fr) {\n            let face_membership = inner_this.get_partition_face_membership(fr);\n            let faces_present: Face[] =[];\n            for (let f of faces){\n                if (face_membership.get(f) > 0) {\n                    faces_present.push(f);\n                }\n            }\n\n            let faces_text: string;\n            if (faces_present.length == 1) {\n                faces_text = face_descr.get(faces_present[0]) + ' face';\n            } else {\n                faces_text = faces_present.slice(0, -1).map(f => face_descr.get(f)).join(', ');\n                faces_text += ` and ${face_descr.get(faces_present[faces_present.length-1])} faces`;\n            }\n\n            result += `\\nA portion of the box's ${faces_text} has been rended free; it lies on the floor off to the side.`;\n        });\n\n        let dangles = this.get_dangles();\n\n        dangles.forEach(function (d) {\n            let face_membership = inner_this.get_partition_face_membership(d.partition);\n            let faces_present: Face[] = [];\n            for (let f of faces){\n                if (face_membership.get(f) > 0) {\n                    faces_present.push(f);\n                }\n            }\n\n            let faces_text: string;\n            if (faces_present.length == 1) {\n                faces_text = face_descr.get(faces_present[0]) + ' face';\n            } else {\n                faces_text = faces_present.slice(0, -1).map(f => face_descr.get(f)).join(', ');\n                faces_text += ` and ${face_descr.get(faces_present[faces_present.length-1])} faces`;\n            }\n\n            result += `\\nA portion of the box's ${faces_text} sits on a free hinge; from the ${face_descr.get(d.free_face)} face it can be swung to the ${face_descr.get(d.fixed_face)}.`;\n        });\n\n        return result;\n    }\n}\n\nfunction rotate_y_faces(fs: Map<Face, FaceMesh>, degrees: number) {\n    if (degrees == 0 || degrees == 360) {\n        return fs;\n    }\n\n    let shift = degrees / 90;\n    let face_cycle = [Face.n, Face.w, Face.s, Face.e, Face.n, Face.w, Face.s, Face.e];\n\n    let new_faces = Map<Face, FaceMesh>();\n\n    for (let f of [Face.n, Face.e, Face.s, Face.w]){\n        let ind = face_cycle.indexOf(f);\n        new_faces = new_faces.set(f, fs.get(face_cycle[ind + shift]));\n    }\n\n    for (let f of [Face.t, Face.b]){\n        new_faces = new_faces.set(f, fs.get(f).rotate(degrees));\n    }\n\n    return new_faces;\n}\n\nfunction roll_faces(fs: Map<Face, FaceMesh>, direction: Direction){\n    let new_faces = Map<Face, FaceMesh>().asMutable();\n\n    if (direction == Direction.n) {\n        new_faces.set(\n            Face.n, fs.get(Face.t).rotate(180)).set(\n            Face.t, fs.get(Face.s)).set(\n            Face.s, fs.get(Face.b)).set(\n            Face.b, fs.get(Face.n).rotate(180)).set(\n            Face.e, fs.get(Face.e).rotate(90)).set(\n            Face.w, fs.get(Face.w).rotate(270));\n    } else if (direction == Direction.s) {\n        new_faces.set(\n            Face.s, fs.get(Face.t)).set(\n            Face.t, fs.get(Face.n).rotate(180)).set(\n            Face.n, fs.get(Face.b)).set(\n            Face.b, fs.get(Face.s).rotate(180)).set(\n            Face.e, fs.get(Face.e).rotate(270)).set(\n            Face.w, fs.get(Face.w).rotate(90));\n    } else if (direction == Direction.e) {\n        new_faces.set(\n            Face.e, fs.get(Face.t).rotate(90)).set(\n            Face.t, fs.get(Face.w).rotate(90)).set(\n            Face.w, fs.get(Face.b).rotate(270)).set(\n            Face.b, fs.get(Face.e).rotate(270)).set(\n            Face.n, fs.get(Face.n).rotate(270)).set(\n            Face.s, fs.get(Face.s).rotate(90));\n    } else if (direction == Direction.w) {\n        new_faces.set(\n            Face.w, fs.get(Face.t).rotate(270)).set(\n            Face.t, fs.get(Face.e).rotate(270)).set(\n            Face.e, fs.get(Face.b).rotate(90)).set(\n            Face.b, fs.get(Face.w).rotate(90)).set(\n            Face.n, fs.get(Face.n).rotate(90)).set(\n            Face.s, fs.get(Face.s).rotate(270));\n    }\n\n    return new_faces.asImmutable();\n}\n\n\nexport function test(){\n    let bm = new BoxMesh({dimensions: [2,3,4]});\n\n    let bm2 = bm.cut(Face.t, [0,0], [1,0]).cut(Face.t, [1,0], [1,1]).cut(Face.t, [1,1], [0,1]).cut(Face.t, [0,1], [0,0]);\n    let bm3 = bm2.cut(Face.t, [0,1], [0,2]).cut(Face.s, [0, 0], [0, 1]).cut(Face.s, [0,1], [1,1]).cut(Face.s, [1,1], [1,0]).cut(Face.t, [1, 2], [1,1])\n\n    let bm4 = bm.cut(Face.t, [0,0], [1,0]).roll(Direction.s).cut(Face.t, [0,2], [0,1]).cut(Face.t, [0,1], [1,1]).cut(Face.t, [1,1], [1,2]);\n\n    let bm5 = bm.cut(Face.n, [0,0], [1,0]).cut(Face.n, [1,0], [2,0]).cut(Face.n, [2,0], [2,1]).cut(Face.n, [2,1], [1,1]).cut(Face.n, [1,1], [0,1]).cut(Face.n, [1,1], [1, 0]).cut(Face.n, [0,1], [0,0]);\n\n    let bm6 = bm.cut(Face.t, [0,0], [0,1]).cut(Face.t, [0,1], [1,1]).cut(Face.t, [1,1], [1,0]);\n    let bm7 = bm2.cut(Face.t, [0,1], [0,2]).cut(Face.t, [1,1], [1,2]);\n\n    let bm8 = (bm.cut(Face.t, [0,0], [1,0]).cut(Face.t, [1,0], [2,0]).cut(Face.t, [2,0], [2,1]).cut(Face.t, [2,1], [2,2])\n             .cut(Face.t, [0,2], [0,1]).cut(Face.t, [0,1], [1,1]).cut(Face.t, [1,1], [1,2])\n             .cut(Face.s, [1,0], [1,1]).cut(Face.s, [1,1], [0,1])\n             .cut(Face.w, [0,0], [0,1]).cut(Face.w, [0,1], [1,1]).cut(Face.w, [1,1], [2,1]));\n\n    let bms: BoxMesh[] = [bm, bm2, bm3, bm4, bm5, bm6, bm7, bm8];\n    for (let i = 0; i < bms.length; i++) {\n        let b = bms[i];\n\n        console.log('Box #', i+1);\n        console.log();\n        console.log(b.description());\n        console.log();\n        console.log();\n    }\n}\n","import {Map} from 'immutable';\nimport {Direction, EdgeOperation, EdgeDirection, Face, RelativePosition, RendOperation} from './datatypes';\n\nexport type Token = string;\n\nexport type HorizPositionWord = 'left' | 'center' | 'right';\nexport type VertPositionWord = 'top' | 'middle' | 'bottom';\n\nexport type PositionWord = HorizPositionWord | VertPositionWord;\nexport let word_2_relative_position = Map<PositionWord, RelativePosition>([\n    ['left', RelativePosition.left],\n    ['center', RelativePosition.center],\n    ['right', RelativePosition.right],\n    ['top', RelativePosition.top],\n    ['middle', RelativePosition.middle],\n    ['bottom', RelativePosition.bottom]\n]);\n\nexport type FaceWord = 'back' | 'front' | 'right' | 'left' | 'top' | 'bottom';\nexport let word_2_face = Map<FaceWord, Face>([\n    ['back', Face.n],\n    ['front', Face.s],\n    ['right', Face.e],\n    ['left', Face.w],\n    ['top', Face.t],\n    ['bottom', Face.b]\n]);\n\nexport type RendOpWord = 'open' | 'close';\nexport let word_2_rend_op = Map<RendOpWord, RendOperation>([\n    ['open', RendOperation.open],\n    ['close', RendOperation.close]\n]);\n\nexport type EdgeOpWord = 'cut' | 'tape';\nexport let word_2_edge_op = Map<EdgeOpWord, EdgeOperation>([\n    ['cut', EdgeOperation.cut],\n    ['tape', EdgeOperation.tape]\n]);\n\nexport type EdgeDirWord = 'horizontally' | 'vertically';\nexport let word_2_edge_dir = Map<EdgeDirWord, EdgeDirection>([\n    ['horizontally', EdgeDirection.horizontal],\n    ['vertically', EdgeDirection.vertical]\n]);\n\nexport type RotateYDirWord = \"left\" | \"right\";\nexport let word_2_degrees = Map<RotateYDirWord, number>([\n    ['left', 270],\n    ['right', 90]\n]);\n\nexport type RollDirWord = \"forward\" | \"backward\" | \"left\" | \"right\";\nexport let word_2_dir = Map<RollDirWord, Direction>([\n    ['forward', Direction.n],\n    ['backward', Direction.s],\n    ['left', Direction.w],\n    ['right', Direction.e]\n]);","import {\n    Collection,\n    hash,\n    isImmutable,\n    List,\n    Map,\n    Set\n} from 'immutable';\n\nexport type Partition = Set<number>;\n\nexport class Edge {\n    readonly start: number;\n    readonly end: number;\n\n    constructor(start: number, end: number){\n        if (end < start){\n            this.start = end;\n            this.end = start;\n        } else {\n            this.start = start;\n            this.end = end;\n        }\n    }\n\n    equals(other:Edge){\n        return (this.start == other.start && this.end == other.end);\n    }\n\n    hashCode() {\n        return hash(hash(this.start) + hash(this.end));\n        // fuck\n        // return ( this.end << 16 ) ^ this.start;\n    }\n}\n\nexport enum Face {\n    n = 0,\n    s = 1,\n    e = 2,\n    w = 3,\n    t = 4,\n    b = 5\n}\n\nexport let faces = [Face.n, Face.s, Face.e, Face.w, Face.t, Face.b];\n\nexport enum Direction {\n    n = 0,\n    s = 1,\n    e = 2,\n    w = 3\n}\n\nexport let directions = [Direction.n, Direction.s, Direction.e, Direction.w];\n\nexport let direction_2_face = Map<Direction, Face>([\n    [Direction.n, Face.n],\n    [Direction.s, Face.s],\n    [Direction.e, Face.e],\n    [Direction.w, Face.w]\n]);\n\nexport class Dangle {\n    readonly partition: Partition;\n    readonly edges: List<Edge>;\n    readonly fixed_face: Face;\n    readonly free_face: Face;\n\n    constructor(partition: Partition, edges: List<Edge>, fixed_face: Face, free_face: Face) {\n        this.partition = partition;\n        this.edges = edges;\n        this.fixed_face = fixed_face;\n        this.free_face = free_face;\n    }\n\n    equals(other: Dangle){\n        return (\n            this.partition.equals(other.partition)\n            && this.edges.equals(other.edges)\n            && this.fixed_face === other.fixed_face\n            && this.free_face === other.free_face);\n    }\n\n    hashCode() {\n        return hash(hash(this.partition) + hash(this.edges) + hash(this.fixed_face) + hash(this.free_face));\n        //let faces_hash = (this.fixed_face << 16) ^ this.free_face; //fuck!\n        //return this.partition.hashCode() + this.edges.hashCode() + faces_hash;\n    }\n}\n\nexport type Point2 = [number, number];\n\nexport function make_matrix2(data_obj: number[][]) {\n    let dim_y = data_obj.length;\n    let dim_x = data_obj[0].length;\n\n    let data = new Int16Array(data_obj.reduce((x, y) => x.concat(y)));\n    // TODO complain if the total length is wrong\n    return new Matrix2(data, dim_x, dim_y);\n}\n\nexport class Matrix2 {\n    readonly dim_x: number;\n    readonly dim_y: number;\n    readonly data: Int16Array;\n    \n    constructor (data: Int16Array, dim_x: number, dim_y: number) {\n        this.data = data;\n        this.dim_x = dim_x;\n        this.dim_y = dim_y;\n    }\n\n    get(x: number, y: number): number {\n        return this.data[y * this.dim_x + x];\n    }\n\n    set(x: number, y: number, value: number) {\n        this.data[y * this.dim_x + x] = value;\n    }\n\n    rotate(degrees: number): Matrix2 {\n        //validate input better\n\n        if (degrees == 360 || degrees == 0) {\n            return this;\n        }\n\n        const n_rotations = degrees / 90;\n        let m: Matrix2 = this;\n        const dim_x = this.dim_x;\n        const dim_y = this.dim_y;\n        for (let i = 0; i < n_rotations; i++){\n            let new_data = new Int16Array(dim_x * dim_y);\n            let new_mat2 = new Matrix2(new_data, dim_y, dim_x);\n            for (let y = 0; y < dim_y; y++){\n                for (let x = 0; x < dim_x; x++){\n                    new_mat2.set(dim_y - 1 - y, x, m.get(x, y));\n                }\n            }\n            m = new_mat2;\n        }\n        return m\n    }\n\n    contains(value: number): boolean{\n        return this.data.indexOf(value) !== -1;\n    }\n}\n\n\nexport enum CardboardEdge {\n    intact = 0,\n    cut = 1,\n}\n\nexport enum TapeEdge {\n    untaped = 0,\n    taped = 1,\n    cut = 2\n}\n\nexport class EdgeState {\n    readonly cardboard: CardboardEdge;\n    readonly tape: TapeEdge;\n\n    constructor (cardboard?: CardboardEdge, tape?: TapeEdge){\n        if (cardboard === undefined) {\n            cardboard = CardboardEdge.intact;\n        }\n        this.cardboard = cardboard;\n\n        if (tape === undefined) {\n            tape = TapeEdge.untaped;\n        }\n        this.tape = tape;\n    }\n\n    cut() {\n        let new_tape: TapeEdge;\n        if (this.tape == TapeEdge.taped) {\n            new_tape = TapeEdge.cut;\n        } else {\n            new_tape = this.tape\n        }\n\n        return new EdgeState(CardboardEdge.cut, new_tape);\n    }\n\n\n    apply_tape() {\n        return new EdgeState(this.cardboard, TapeEdge.taped);\n    }\n}\n\nexport enum EdgeOperation {\n    cut = 0,\n    tape = 1\n}\n\nexport enum EdgeDirection {\n    horizontal = 0,\n    vertical = 1\n}\n\nexport enum RendState {\n    closed = 0,\n    open = 1\n}\n\nexport enum RendOperation {\n    close = 0,\n    open = 1\n}\n\nexport enum SpillageLevel {\n    none = 0,\n    light = 1,\n    heavy = 2\n}\n\nexport enum Weight {\n    empty = 0,\n    very_light = 1,\n    light = 2,\n    medium = 3,\n    heavy = 4,\n    very_heavy = 5\n}\n\nexport abstract class Item {\n    abstract weight(): Weight;\n    abstract name(): string;\n    abstract pre_gestalt(): string;\n    abstract post_gestalt(): string;\n    article(): string {\n        return 'a';\n    }\n}\n\n\nexport type Counter<T> = Map<T, number>;\n\nexport function counter_add<T>(counter: Counter<T>, key: T, inc: number){\n    let cur_val = 0;\n    if (counter.has(key)){\n        cur_val = counter.get(key);\n    }\n    return counter.set(key, cur_val + inc);\n}\n\nexport function counter_get<T>(counter: Counter<T>, key: T){\n    let cur_val = 0;\n    if (counter.has(key)){\n        cur_val = counter.get(key);\n    }\n    return cur_val;\n}\n\nexport function counter_update<T>(counter1: Counter<T>, counter2: Counter<T>){\n    let switch_to_immutable = isImmutable(counter1);\n    let result = counter1.asMutable();\n\n    counter2.forEach(function (v, k){\n        counter_add(result, k, v);\n    });\n\n    if (switch_to_immutable) {\n        result = result.asImmutable();\n    }\n    return result;\n}\n\nexport function counter_order<T>(counter: Counter<T>, include_zero=false){\n    let result = counter.sort();\n    if (!include_zero) {\n        result = result.filter((count) => count > 0);\n    }\n    return result.keySeq().toList().reverse();\n}\n\nexport enum RelativePosition {\n    left = 0, center = 1, right = 2,\n    top = 3, middle = 4, bottom = 5\n}\n\nexport class WreckError extends Error {}\n\n// used to signal errors caused by trying to update world state in a way that breaks the reality of the world\n// so assumes that commands are already valid, the attempted update *could work* if the state were different\nexport class WorldUpdateError extends WreckError {}\n\n// used to signal that a command/pseudo command is not specified legally\n// the command cannot be executed because it *cannot be interpreted*\nexport class CommandError extends WreckError {}","import {Item, Weight} from './datatypes'\n\nexport class Codex extends Item {\n    weight() {\n        return Weight.medium;\n    }\n\n    name() {\n        return 'codex';\n    }\n\n    pre_gestalt() {\n        return 'something thick and aged';\n    }\n\n    post_gestalt() {\n        return 'a thick, rotten codex with strange markings on the front';\n    }\n}\n\nexport class CityKey extends Item {\n    weight() {\n        return Weight.light;\n    }\n\n    name() {\n        return 'Key to the City';\n    }\n\n    pre_gestalt() {\n        return 'something glistening and golden';\n    }\n\n    post_gestalt() {\n        return 'a large, heavy golden key';\n    }\n\n    article() {\n        return 'the';\n    }\n}\n\nexport class Pinecone extends Item {\n    weight() {\n        return Weight.very_light;\n    }\n\n    name() {\n        return 'pinecone';\n    }\n\n    pre_gestalt() {\n        return 'something small, brown and flaky';\n    }\n\n    post_gestalt() {\n        return 'a small, brown pinecone that smells of the outdoors';\n    }\n}","\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJqcXVlcnkudGVybWluYWwuZC50cyIsInNvdXJjZXNDb250ZW50IjpbXX0=","import {List} from 'immutable';\nimport {CityKey, Codex, Pinecone} from './items';\nimport {Item} from './datatypes';\nimport {Box, SingleBoxWorld, WorldDriver} from './world';\n\ndeclare var jQuery: any;\n\njQuery(function($: any) {\n    let contents = List<Item>([new Codex(), new Pinecone(), new CityKey()]);\n    let world = new SingleBoxWorld({box: new Box({contents: contents})});\n    let world_driver = new WorldDriver(world);\n\n    $('#term').terminal(function(command: string) {\n        if (command !== '') {\n            try {\n                var result = world_driver.run(command);\n                if (result !== undefined) {\n                    this.echo(new String(result));\n                }\n            } catch(e) {\n                this.error(new String(e));\n            }\n        } else {\n           this.echo('');\n        }\n    }, {\n        greetings: 'Demo Parser Interface for The Wreck',\n        name: 'wreck_demo',\n        height: 500,\n        prompt: '> '\n    });\n});","import {Face} from './datatypes';\n\nimport {List, Map} from 'immutable';\n\nexport function uncapitalize(msg: string) {\n    return msg[0].toLowerCase() + msg.slice(1);\n}\n\nexport function capitalize(msg: string) {\n    return msg[0].toUpperCase() + msg.slice(1);\n}\n\nexport function face_message(face_order: List<Face>, f_code_2_name?: Map<Face, string>){\n    if (f_code_2_name === undefined) {\n        f_code_2_name = Map<Face, string>([\n            [Face.n, 'back'],\n            [Face.s, 'front'],\n            [Face.e, 'right'],\n            [Face.w, 'left'],\n            [Face.t, 'top'],\n            [Face.b, 'bottom']\n        ]);\n    }\n\n    if (face_order.size == 1) {\n        return f_code_2_name.get(face_order.first()) + ' face';\n    } else {\n        return face_order.butLast().map(f_code_2_name.get).join(', ') + ' and ' + f_code_2_name.get(face_order.last()) + ' faces';\n    }\n}","import {BoxMesh, edge_2_quadrants, FaceMesh} from './box_geometry';\n\nimport {\n    CardboardEdge,\n    CommandError,\n    Counter,\n    counter_order,\n    counter_update,\n    Dangle,\n    Direction,\n    directions,\n    direction_2_face,\n    Edge,\n    EdgeDirection,\n    EdgeOperation,\n    EdgeState,\n    Face,\n    Item,\n    Partition,\n    Point2,\n    RelativePosition,\n    RendOperation,\n    RendState,\n    SpillageLevel,\n    TapeEdge,\n    Weight,\n    WorldUpdateError\n} from './datatypes';\n\nimport {\n    EdgeDirWord,\n    EdgeOpWord,\n    FaceWord,\n    PositionWord,\n    RendOpWord,\n    RollDirWord,\n    RotateYDirWord,\n    Token,\n    word_2_degrees,\n    word_2_dir,\n    word_2_edge_dir,\n    word_2_edge_op,\n    word_2_face,\n    word_2_relative_position,\n    word_2_rend_op\n} from './commands'\n\nimport {WorldUpdateEffects, with_world_update, world_update} from './world_update_effects';\n\nimport {CityKey, Codex, Pinecone} from './items';\n\nimport {capitalize, face_message, uncapitalize} from './text_tools';\n\nimport {List, Map, Set} from 'immutable';\n\nexport interface BoxParams {\n    box_mesh?: BoxMesh,\n    rend_state?: Map<Partition, RendState>,\n    dangle_state?: Map<Dangle, RendState>,\n    edge_state?: Map<Edge, EdgeState>,\n    contents?: List<Item>\n}\n\nexport class Box {\n    readonly box_mesh: BoxMesh;\n    readonly rend_state: Map<Partition, RendState>;\n    readonly dangle_state: Map<Dangle, RendState>;\n    readonly edge_state: Map<Edge, EdgeState>;\n    readonly contents: List<Item>;\n\n    constructor({box_mesh, rend_state, dangle_state, edge_state, contents}: BoxParams){\n        if (box_mesh === undefined) {\n            box_mesh = new BoxMesh({dimensions: [2, 2, 2]});\n        }\n        this.box_mesh = box_mesh;\n\n        if (rend_state === undefined) {\n            rend_state = this.default_rend_state(this.box_mesh);\n        }\n        this.rend_state = rend_state;\n\n        if (dangle_state === undefined) {\n            dangle_state = this.default_dangle_state(this.box_mesh);\n        }\n        this.dangle_state = dangle_state;\n\n        if (edge_state === undefined) {\n            edge_state = Map<Edge, EdgeState>();\n        }\n        this.edge_state = edge_state;\n\n        if (contents === undefined) {\n            contents = List<Item>();\n        }\n        this.contents = contents;\n    }\n\n    update({box_mesh, rend_state, dangle_state, edge_state, contents}: BoxParams){\n        if (box_mesh === undefined) {\n            box_mesh = this.box_mesh;\n        }\n\n        if (rend_state === undefined) {\n            rend_state = this.rend_state;\n        }\n\n        if (dangle_state === undefined) {\n            dangle_state = this.dangle_state;\n        }\n\n        if (edge_state === undefined) {\n            edge_state = this.edge_state;\n        }\n        \n        if (contents === undefined) {\n            contents = this.contents;\n        }\n\n        return new Box({box_mesh, rend_state, dangle_state, edge_state, contents});\n    }\n\n    default_rend_state(box_mesh: BoxMesh) {\n        let rends = box_mesh.get_free_rends();\n        let result = Map<Partition, RendState>().asMutable();\n        rends.forEach(function (r) {\n            result.set(r, RendState.closed);\n        });\n        return result.asImmutable();\n    }\n\n    default_dangle_state(box_mesh: BoxMesh) {\n        let dangles = box_mesh.get_dangles();\n        let result = Map<Dangle, RendState>().asMutable();\n        dangles.forEach(function (d) {\n            result.set(d, RendState.closed);\n        });\n        return result.asImmutable();\n    }\n\n    open_or_close_rend(operation: RendOperation, rend: Partition) {\n        let box_rends = this.box_mesh.get_rends();\n\n        if (!box_rends.contains(rend)){\n            throw new CommandError('rend does not exist on the box');\n        }\n\n        if (this.box_mesh.is_partition_fixed(rend)) {\n            throw new WorldUpdateError('cannot open or close a fixed rend');\n        }\n\n        let new_rend_state = this.rend_state;\n        let intended_new_state = operation == RendOperation.close ? RendState.closed : RendState.open;\n        if (intended_new_state == new_rend_state.get(rend)) {\n            throw new WorldUpdateError(`cannot ${RendOperation[operation]} a rend that is already ${RendState[intended_new_state]}`);\n        }\n\n        new_rend_state = new_rend_state.set(rend, intended_new_state);\n\n        let new_box = this.update({rend_state: new_rend_state});\n\n        if (new_box.is_collapsed()) {\n            let effects = world_update.effects;\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items = effects.collapse_spilled_items.push(...new_box.contents.toArray());\n            let new_contents = List<Item>();\n            new_box = new_box.update({contents: new_contents});\n        }\n\n        return new_box;\n    }\n\n    open_or_close_dangle(operation: RendOperation, dangle: Dangle) {\n        if (this.box_mesh.is_partition_fixed(dangle.partition)) {\n            throw new WorldUpdateError('cannot open or close a fixed dangle');\n        }\n\n        let box_dangles = this.box_mesh.get_dangles();\n\n        if (box_dangles.some((d) => dangle == d)){\n            throw new CommandError('dangle does not exist on the box');\n        }\n\n        let intended_new_state = operation == RendOperation.close ? RendState.closed : RendState.open;\n        if (this.dangle_state.get(dangle) == intended_new_state) {\n            throw new WorldUpdateError('cannot ${RendOperation[operation]} a dangle that is already ${RendState[intended_new_state]}');\n        }\n\n        let new_dangle_state = this.dangle_state.set(dangle, intended_new_state);\n\n        let new_box = this.update({dangle_state: new_dangle_state});\n        if (new_box.is_collapsed()) {\n            let effects = world_update.effects;\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items = effects.collapse_spilled_items.push(...new_box.contents.toArray());\n            let new_contents = List<Item>();\n            new_box = new_box.update({contents: new_contents});\n        }\n        return new_box;\n    }\n\n    rotate_y(degrees: number) {\n        let new_box_mesh = this.box_mesh.rotate_y(degrees);\n        return this.update(new_box_mesh);\n    }\n\n    roll(direction: Direction) {\n        if (this.dangle_state.some((state) => state == RendState.open)) {\n            throw new WorldUpdateError('cannot roll a box with open dangles');\n        }\n\n        let new_box_mesh = this.box_mesh.roll(direction);\n        let dir_face: Face = direction_2_face.get(direction);\n\n        let new_contents = this.contents;\n        let rend_state_updates = this.rend_state;\n        let dangle_state_updates = this.dangle_state;\n\n        let inner_this = this;\n        let effects = world_update.effects;\n\n        if (new_contents.size > 0){\n            let dir_2_opposite = Map<Face, Face>([\n                [Face.n, Face.s],\n                [Face.s, Face.n],\n                [Face.e, Face.w],\n                [Face.w, Face.e]]);\n \n            let heavy_spill_faces: [Face, Face][] = [\n                [dir_face, Face.b],\n                [Face.t, dir_face],\n                [Face.b, dir_2_opposite.get(dir_face)]];\n            let light_spill_faces = ([Face.n, Face.s, Face.e, Face.w]\n                .filter((d) => d !== dir_face && d !== dir_2_opposite.get(dir_face))\n            );\n                \n            this.rend_state.forEach(function (state, r) {\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(r);\n                        \n                for (let [test_face, spill_face] of heavy_spill_faces) {\n                    if (face_membership.get(test_face) > 0) {\n                        effects.spill_faces = effects.spill_faces.push(spill_face);\n                        effects.spillage_level = SpillageLevel.heavy;\n                        effects.spilled_items = effects.spilled_items.push(...new_contents.toArray());\n                        new_contents = List<Item>();\n\n                        if (state == RendState.closed) {\n                            effects.spilled_rends == effects.spilled_rends.add(r);\n                            rend_state_updates = rend_state_updates.set(r, RendState.open);\n                        }\n\n                    }\n                }\n\n                for (let spill_face of light_spill_faces) {\n                    if (face_membership.get(spill_face) > 0) {\n                        effects.spill_faces = effects.spill_faces.push(spill_face);\n                        if (effects.spillage_level < SpillageLevel.light) {\n                            effects.spillage_level = SpillageLevel.light;\n                        }\n                        if (new_contents.size > 0) {\n                            effects.spilled_items = effects.spilled_items.push(new_contents.first());\n                            new_contents = new_contents.rest();\n                        }\n                    }\n                }\n            });\n\n            this.box_mesh.get_dangles().forEach(function (d) {\n                let spillage_level = SpillageLevel.none;\n                let spill_face: Face;\n                if (d.free_face == Face.t) {\n                    spillage_level = SpillageLevel.heavy;\n                    spill_face = dir_face;\n                } else if (d.free_face == dir_face) {\n                    spillage_level = SpillageLevel.heavy;\n                    spill_face = Face.b;\n                } else if (light_spill_faces.indexOf(d.free_face) !== -1) {\n                    spillage_level = SpillageLevel.light;\n                    spill_face = d.free_face;\n                }\n\n                if (spillage_level !== SpillageLevel.none) {\n                    if (spillage_level > effects.spillage_level) {\n                        effects.spillage_level = spillage_level;\n                    }\n                    effects.spill_faces = effects.spill_faces.push(spill_face);\n\n                    if (spillage_level == SpillageLevel.light) {\n                        if (new_contents.size > 0) {\n                            effects.spilled_items = effects.spilled_items.push(new_contents.first());\n                            new_contents = new_contents.rest();\n                        }\n                    } else if (spillage_level == SpillageLevel.heavy) {\n                        effects.spilled_items = effects.spilled_items.push(...new_contents.toArray());\n                        new_contents = List<Item>();\n                    }\n\n                    effects.spilled_dangles = effects.spilled_dangles.add(d);\n                    dangle_state_updates = dangle_state_updates.set(d, RendState.open);\n                }\n            });\n            \n            new_box_mesh.get_dangles().forEach(function (d) {\n                if (d.free_face == dir_2_opposite.get(dir_face)) {\n                    effects.spillage_level = SpillageLevel.heavy;\n                    effects.spill_faces = effects.spill_faces.push(dir_2_opposite.get(dir_face));\n\n                    effects.spilled_items = effects.spilled_items.push(...new_contents.toArray());\n                    new_contents = List<Item>();\n\n                    effects.spilled_dangles = effects.spilled_dangles.add(d);\n                    dangle_state_updates = dangle_state_updates.set(d, RendState.open);\n                }\n            });\n        }\n        let new_box = this.update({\n            box_mesh: new_box_mesh,\n            rend_state: rend_state_updates,\n            dangle_state: dangle_state_updates,\n            contents: new_contents\n        });\n\n        if (new_box.is_collapsed()) {\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items = effects.collapse_spilled_items.push(...new_contents.toArray());\n            new_contents = List<Item>();\n            new_box = new_box.update({contents: new_contents});\n        }\n\n        return new_box;\n    }\n\n    lift() {\n        let effects = world_update.effects;\n        let inner_this = this;\n\n        let new_contents = this.contents;\n        let new_rend_state = this.rend_state;\n        let new_dangle_state = this.dangle_state;\n\n        if (new_contents.size > 0) {\n            let test_box_mesh = this.box_mesh.roll(Direction.s).roll(Direction.s);\n\n            test_box_mesh.get_free_rends().forEach(function (r) {\n                let face_membership = test_box_mesh.get_partition_face_membership(r);\n                let test_faces = [Face.b, Face.n, Face.s, Face.e, Face.w];\n                let count = test_faces.map(face_membership.get).reduce((x, y) => x + y);\n                if (face_membership.get(Face.t) > count) {\n                    effects.spillage_level = SpillageLevel.heavy;\n                    effects.spill_faces = effects.spill_faces.push(Face.b);\n\n                    effects.spilled_items = effects.spilled_items.push(...new_contents.toArray());\n                    new_contents = List<Item>();\n\n                    if (new_rend_state.get(r, RendState.closed) == RendState.closed) {\n                        effects.spilled_rends = effects.spilled_rends.add(r);\n                        new_rend_state = new_rend_state.set(r, RendState.open);\n                    }\n                }\n            });\n\n            test_box_mesh.get_dangles().forEach(function (d) {\n                if (d.free_face == Face.t) {\n                    effects.spillage_level = SpillageLevel.heavy;\n                    effects.spill_faces = effects.spill_faces.push(Face.b);\n\n                    effects.spilled_items = effects.spilled_items.push(...new_contents.toArray());\n                    new_contents = List<Item>();\n\n                    effects.spilled_dangles = effects.spilled_dangles.add(d);\n                    new_dangle_state = new_dangle_state.set(d, RendState.open);\n                }\n            });\n\n            this.rend_state.forEach(function (state, r) {\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(r);\n                let light_spill_faces = [Face.n, Face.s, Face.e, Face.w].filter((f) => face_membership.get(f) > 0);\n                if (light_spill_faces.length > 0) {\n                    if (effects.spillage_level < SpillageLevel.light) {\n                        effects.spillage_level = SpillageLevel.light;\n                    }\n                    effects.spill_faces.push(...light_spill_faces);\n\n                    if (new_contents.size > 0) {\n                        effects.spilled_items = effects.spilled_items.push(new_contents.first());\n                        new_contents = new_contents.rest();\n                    }\n                    if (state == RendState.closed) {\n                        effects.spilled_rends.add(r);\n                        new_rend_state = new_rend_state.set(r, RendState.open);\n                    }\n                }\n            });\n\n            this.dangle_state.forEach(function (state, d) {\n                if ([Face.n, Face.s, Face.e, Face.w].indexOf(d.free_face) !== -1) {\n                    if (effects.spillage_level < SpillageLevel.light) {\n                        effects.spillage_level = SpillageLevel.light;\n                    }\n                    effects.spill_faces.push(d.free_face);\n\n                    if (new_contents.size > 0) {\n                        effects.spilled_items = effects.spilled_items.push(new_contents.first());\n                        new_contents = new_contents.rest();\n                    }\n                }\n            });\n        }\n\n        let new_box = this.update({rend_state: new_rend_state, dangle_state: new_dangle_state, contents: new_contents});\n\n        if (new_box.is_collapsed()) {\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items = effects.collapse_spilled_items.push(...new_contents.toArray());\n            new_contents = List<Item>();\n            new_box = new_box.update({contents: new_contents});\n        }\n\n        return new_box;\n    }\n\n    cut(face: Face, start: Point2, end: Point2) {\n        return this.cut_or_tape(EdgeOperation.cut, face, start, end);\n    }\n\n    tape(face: Face, start: Point2, end: Point2) {\n        return this.cut_or_tape(EdgeOperation.tape, face, start, end);\n    }\n\n    cut_or_tape(operation: EdgeOperation, face: Face, start: Point2, end: Point2) {\n        let effects = world_update.effects;\n        let inner_this = this;\n\n        if (face !== Face.s && face !== Face.t) {\n            throw new WorldUpdateError('cannot cut or tape sides other than top or front');\n        }\n\n        let [x1, y1] = start;\n        let [x2, y2] = end;\n        let v1 = this.box_mesh.face_meshes.get(face).vertices.get(x1, y1);\n        let v2 = this.box_mesh.face_meshes.get(face).vertices.get(x2, y2);\n\n        let edge = new Edge(v1, v2);\n\n        let quadrants = edge_2_quadrants.get(edge);\n\n        this.rend_state.forEach(function (state, r) {\n            if (state == RendState.open && quadrants.every(r.contains)) {\n                throw new WorldUpdateError('cannot cut or tape on an open rend');\n            }\n        });\n\n        this.dangle_state.forEach(function (state, d) {\n            if (state == RendState.open && quadrants.every(d.partition.contains)) {\n                throw new WorldUpdateError('cannot cut or tape on an open dangle');\n            }\n        });\n\n        let new_box_mesh: BoxMesh;\n        if (operation == EdgeOperation.cut) {\n            new_box_mesh = this.box_mesh.cut(face, start, end);\n        } else {\n            new_box_mesh = this.box_mesh.tape(face, start, end);\n        }\n\n        let new_rend_state = this.default_rend_state(new_box_mesh);\n        this.rend_state.forEach(function (state, r) {\n            if (new_rend_state.has(r)) {\n                new_rend_state = new_rend_state.set(r, state);\n            } else {\n                effects.repaired_rends = effects.repaired_rends.push(r);\n            }\n        });\n\n        new_rend_state.forEach(function (state, new_r) {\n            if (!inner_this.rend_state.has(new_r)) {\n                effects.new_rends = effects.new_rends.push(new_r);\n            }\n        });\n\n        let new_dangle_state = this.default_dangle_state(new_box_mesh);\n        this.dangle_state.forEach(function (state, d) {\n            if (new_dangle_state.has(d)) {\n                new_dangle_state = new_dangle_state.set(d, state);\n            } else {\n                effects.repaired_dangles = effects.repaired_dangles.push(d);\n            }\n        });\n\n        new_dangle_state.forEach(function (state, new_d) {\n            if (!inner_this.dangle_state.has(new_d)) {\n                effects.new_dangles = effects.new_dangles.push(new_d);\n            }\n        });\n\n        let new_edge_state = this.edge_state;\n        if (operation == EdgeOperation.cut) {\n            new_edge_state = new_edge_state.set(edge, new_edge_state.get(edge, new EdgeState()).cut());\n        } else {\n            new_edge_state = new_edge_state.set(edge, new_edge_state.get(edge, new EdgeState()).apply_tape());\n        }\n\n        return this.update({box_mesh: new_box_mesh, rend_state: new_rend_state, dangle_state: new_dangle_state});\n    }\n\n    take_next_item() {\n        let effects = world_update.effects;\n\n        if (this.contents.size == 0) {\n            throw new WorldUpdateError('cannot take an item from an empty box');\n        }\n\n        if (!this.appears_open()) {\n            throw new WorldUpdateError('cannot take an item from a box with no visible openings');\n        }\n\n        let new_contents = this.contents;\n        effects.taken_items = effects.taken_items.push(new_contents.first());\n        new_contents = new_contents.rest();\n\n        return this.update({contents: new_contents});\n    }\n\n    next_item() {\n        if (this.contents.size == 0) {\n            return null;\n        }\n        return this.contents.first();\n    }\n\n    appears_open() {\n        if (this.rend_state.some((state) => state == RendState.open)) {\n            return true;\n        }\n        if (this.dangle_state.some((state) => state == RendState.open)) {\n            return true;\n        }\n        return false;\n    }\n\n    appears_empty() {\n        return this.appears_open() && this.contents.size == 0;\n    }\n\n    is_collapsed(){\n        let open_faces = Map<Face, number>().asMutable();\n        let inner_this = this;\n        \n        this.rend_state.forEach(function (state, r) {\n            if (state == RendState.open){\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(r);\n                counter_update(open_faces, face_membership);\n            }\n        });\n\n        this.dangle_state.forEach(function (state, d) {\n            if (state == RendState.open){\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(d.partition);\n                counter_update(open_faces, face_membership);\n            }\n        });\n\n        let total_open_sides = 0;\n        open_faces.forEach(function (count, face) {\n            if (count > 0) {\n                total_open_sides += 1;\n            }\n        });\n\n        return total_open_sides >= 3;\n    }\n}\n\nexport interface SingleBoxWorldParams {\n    box?: Box,\n    taken_items?: List<Item>,\n    spilled_items?: List<Item>\n}\n\nexport type CommandResult = [SingleBoxWorld, string];\n\nexport class SingleBoxWorld {\n    readonly box: Box;\n    readonly taken_items: List<Item>;\n    readonly spilled_items: List<Item>;\n\n    constructor({box, taken_items, spilled_items}: SingleBoxWorldParams) {\n        if (box === undefined) {\n            box = new Box({});\n        }\n        this.box = box;\n\n        if (taken_items === undefined) {\n            taken_items = List<Item>();\n        }\n        this.taken_items = taken_items;\n\n        if (spilled_items === undefined) {\n            spilled_items = List<Item>();\n        }\n        this.spilled_items = spilled_items;\n    }\n\n    update({box, taken_items, spilled_items}: SingleBoxWorldParams) {\n        if (box === undefined) {\n            box = this.box;\n        }\n\n        if (taken_items === undefined) {\n            taken_items = this.taken_items;\n        }\n\n        if (spilled_items === undefined) {\n            spilled_items = this.spilled_items;\n        }\n\n        return new SingleBoxWorld({box, taken_items, spilled_items});\n    }\n\n    command_rotate_y_box(dir: RotateYDirWord): CommandResult {\n        let degrees = dir == 'right' ? 90 : 270;\n        let new_box = this.box.rotate_y(degrees);\n        let new_world = this.update({box: new_box});\n\n        let message = `You turn the box 90 degrees to the ${dir}`;\n\n        return [new_world, message];\n    }\n\n    command_roll_box(cmd: RollDirWord): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let direction = word_2_dir.get(cmd);\n            let new_box = inner_this.box.roll(direction);\n\n            let dir_msg = (cmd == 'left' || cmd == 'right') ? `over to the ${cmd}` : cmd;\n\n            let message: string;\n            let new_world: SingleBoxWorld;\n            if (effects.spillage_level == SpillageLevel.none) {\n                message = `You roll the box ${dir_msg}.`;\n                new_world = inner_this.update({box: new_box});\n            } else {\n                let spill_msg = uncapitalize(inner_this.spill_message(new_box));\n                message = `As you roll the box ${dir_msg}, ${spill_msg}`;\n\n                new_world = inner_this.update({box: new_box, spilled_items: effects.spilled_items});\n            }\n\n            if (effects.box_collapsed) {\n                message += '\\nThe added stress on the box causes it to collapse in on itself.';\n                if (effects.collapse_spilled_items.size > 0) {\n                    message += ' ';\n                    message += inner_this.item_spill_message(effects.collapse_spilled_items);\n                }\n            }\n\n            return [new_world, message];\n        });\n    }\n\n    command_lift_box(): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let new_box = inner_this.box.lift();\n\n            let msg: string;\n            let new_world: SingleBoxWorld;\n            if (effects.spillage_level == SpillageLevel.none) {\n                msg = 'You lift up the box in place.';\n                new_world = inner_this.update({box: new_box});\n            } else {\n                let spill_msg = uncapitalize(inner_this.spill_message(new_box));\n                msg = 'As you start to lift up the box, ' + spill_msg;\n                new_world = inner_this.update({box: new_box, spilled_items: effects.spilled_items});\n            }\n\n            if (effects.spillage_level <= SpillageLevel.heavy && !effects.box_collapsed) {\n                let total_weight = new_box.contents.reduce((x, i) => x + i.weight(), 0);\n                total_weight = Math.floor(total_weight / 2.9); //rule of thumb for translating \"normal item weights\" to \"normal box weights\"\n\n                if (total_weight > Weight.very_heavy) {\n                    total_weight = Weight.very_heavy;\n                }\n                let weight_2_msg = Map<Weight, string>([\n                    [Weight.empty, 'so light as to be empty'],\n                    [Weight.very_light, 'quite light'],\n                    [Weight.light, 'light'],\n                    [Weight.medium, 'medium'],\n                    [Weight.heavy, 'somewhat heavy'],\n                    [Weight.very_heavy, 'very heavy']\n                ]);\n                let weight_msg = weight_2_msg.get(total_weight);\n                let subject = effects.spillage_level == SpillageLevel.none ? 'It' : 'The box';\n                msg += `\\n${subject} feels ${weight_msg}. You set it back down.`;\n            }\n\n            if (effects.box_collapsed) {\n                msg += '\\nThe added stress on the box causes it to collapse in on itself.';\n                if (effects.collapse_spilled_items.size > 0) {\n                    msg += ' ' + inner_this.item_spill_message(effects.collapse_spilled_items);\n                }\n            }\n\n            return [new_world, msg];\n        });\n    }\n\n    cut_or_tape_box(operation: EdgeOpWord, face_w: FaceWord, dir: EdgeDirWord, start_pos_a: PositionWord, start_pos_b: PositionWord, end_pos_b: PositionWord): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let face = word_2_face.get(face_w);\n            if (face !== Face.t && face !== Face.s) {\n                throw new CommandError(`face must be either top or front. got ${face_w}`);\n            }\n\n            let dim_2_pos = [\n                ['left', 'center', 'right'],\n                ['top','middle', 'bottom']\n            ];\n\n            let dim_a: number;\n            let dim_b: number;\n\n            if (dir == 'vertically') {\n                dim_a = 0;\n                dim_b = 1\n            } else {\n                dim_a = 1;\n                dim_b = 0;\n            }\n\n            if (dim_2_pos[dim_a].indexOf(start_pos_a) == -1) {\n                throw new CommandError(`invalid start_pos_a for ${dir} ${operation}: ${start_pos_a}`);\n            }\n            if (dim_2_pos[dim_b].indexOf(start_pos_b) == -1) {\n                throw new CommandError(`invalid start_pos_b for ${dir} ${operation}: ${start_pos_b}`);\n            }\n            if (dim_2_pos[dim_b].indexOf(end_pos_b) == -1) {\n                throw new CommandError(`invalid end_pos_b for ${dir} ${operation}: ${end_pos_b}`);\n            }\n\n            let pt1: Point2 = [null, null];\n            let pt2: Point2 = [null, null];\n\n            pt1[dim_a] = pt2[dim_a] = dim_2_pos[dim_a].indexOf(start_pos_a);\n\n            pt1[dim_b] = dim_2_pos[dim_b].indexOf(start_pos_b);\n            pt2[dim_b] = dim_2_pos[dim_b].indexOf(end_pos_b);\n\n            if (Math.abs(pt1[dim_b] - pt2[dim_b]) == 0) {\n                throw new CommandError('no change between start_pos_b and end_pos_b.');\n            }\n\n            let cut_points: [Point2, Point2][];\n            if (Math.abs(pt1[dim_b] - pt2[dim_b]) == 2) {\n                let pt3: Point2 = [null, null];\n                pt3[dim_a] = dim_2_pos[dim_a].indexOf(start_pos_a);\n                pt3[dim_b] = 1;\n\n                cut_points = [[pt1, pt3], [pt3, pt2]];\n            } else {\n                cut_points = [[pt1, pt2]];\n            }\n\n            let cut_edge_states = List<EdgeState>();\n\n            let new_box = inner_this.box;\n\n            cut_points.forEach(function ([p1, p2]) {\n                let vertices = new_box.box_mesh.face_meshes.get(face).vertices;\n                let v1 = vertices.get(p1[0], p1[1]);\n                let v2 = vertices.get(p2[0], p2[1]);\n                let edge = new Edge(v1, v2);\n\n                cut_edge_states = cut_edge_states.push(new_box.edge_state.get(edge, new EdgeState()));\n                new_box = new_box.cut_or_tape(word_2_edge_op.get(operation), face, p1, p2);\n            });\n\n            effects.new_dangles.forEach(function (nd) {\n                if (effects.new_rends.contains(nd.partition)) {\n                    effects.new_dangles = effects.new_dangles.remove(effects.new_dangles.indexOf(nd));\n                }\n            });\n\n            effects.repaired_dangles.forEach(function (rd) {\n                if (effects.new_rends.contains(rd.partition)) {\n                    effects.repaired_dangles = effects.repaired_dangles.remove(effects.repaired_dangles.indexOf(rd));\n                }\n            });\n\n            let message: string;\n            if (operation == 'cut') {\n                message = inner_this.cut_message(new_box, cut_edge_states, effects);\n            } else {\n                message = inner_this.tape_message(new_box, cut_edge_states, effects);\n            }\n\n            return [inner_this.update({box: new_box}), message];\n        });\n    }\n\n    cut_message(new_box: Box, cut_edge_states: List<EdgeState>, effects: WorldUpdateEffects) {\n        let cut_message: string;\n        if (cut_edge_states.get(0).cardboard == CardboardEdge.intact) {\n            cut_message = 'You slide your blade along the cardboard';\n            if (cut_edge_states.get(0).tape == TapeEdge.taped) {\n                cut_message += ' and tape';\n            }\n            cut_message += '.';\n        } else {\n            if (cut_edge_states.get(0).tape == TapeEdge.taped) {\n                cut_message = 'You draw your blade easily along the line. It slits open the thin layer of tape covering the gap in the cardboard.';\n            } else {\n                cut_message = 'You slide your blade along the line, but nothing is there to resist it.';\n            }\n        }\n\n        if (cut_edge_states.size > 1) {\n            if (cut_edge_states.get(1).cardboard != cut_edge_states.get(0).cardboard) {\n                if (cut_edge_states.get(1).cardboard == CardboardEdge.intact) {\n                    cut_message += ' Halfway across, it catches on solid cardboard, and you pull it along the rest of the way.';\n                } else {\n                    if (cut_edge_states.get(1).tape == TapeEdge.taped) {\n                        cut_message += ' Halfway across, you reach a gap in the cardboard, and your blade slides easily along the thin layer of tape.';\n                    } else {\n                        cut_message += ' Halfway across, you reach a gap in the cardboard, and your blade is met with no further resistance.';\n                    }\n                }\n            }\n        }\n\n        let message = cut_message;\n        if (effects.new_rends.size > 0) {\n            let total_face_membership = Map<Face, number>();\n            effects.new_rends.forEach(function (r) {\n                let face_membership = new_box.box_mesh.get_partition_face_membership(r);\n                total_face_membership = counter_update(total_face_membership, face_membership);\n            })\n            let face_order = counter_order(total_face_membership);\n            let face_msg = face_message(face_order);\n\n            let new_rends_message: string;\n            if (effects.new_rends.size == 1) {\n                new_rends_message = `A new section of cardboard comes free on the ${face_msg}.`;\n            } else {\n                new_rends_message = `${effects.new_rends.size} new sections of cardboard come free on the ${face_msg}`;\n            }\n            message += '\\n' + new_rends_message;\n        }\n\n        if (effects.new_dangles.size > 0) {\n            let total_face_membership = Map<Face, number>();\n            effects.new_dangles.forEach(function (d) {\n                let face_membership = new_box.box_mesh.get_partition_face_membership(d.partition);\n                total_face_membership = counter_update(total_face_membership, face_membership);\n            })\n            let face_order = counter_order(total_face_membership);\n            let face_msg = face_message(face_order);\n\n            let new_rends_message: string;\n            if (effects.new_dangles.size == 1) {\n                new_rends_message = `A new section of cardboard on the ${face_msg} can be swung freely on a hinge.`;\n            } else {\n                new_rends_message = `${effects.new_dangles.size} new sections of cardboard on the ${face_msg} can be swung freely on a hinge`;\n            }\n            message += '\\n' + new_rends_message;\n        }\n        return message;\n    }\n\n    tape_message(new_box: Box, cut_edge_states: List<EdgeState>, effects: WorldUpdateEffects) {\n        let tape_message: string;\n        if (cut_edge_states.some((ces) => ces.cardboard == CardboardEdge.intact)) {\n            tape_message = 'You draw out a length of tape and fasten it to the cardboard.';\n        } else {\n            if (cut_edge_states.some((ces) => ces.tape == TapeEdge.taped)) {\n                tape_message = 'You lay another length of tape over the cut edge.';\n            } else {\n                tape_message = 'You seal the gap in the cardboard with a length of tape.';\n            }\n        }\n\n        let message = tape_message;\n        if (effects.repaired_dangles.size > 0) {\n            let total_face_membership = Map<Face, number>();\n            effects.repaired_dangles.forEach(function (d) {\n                let face_membership = new_box.box_mesh.get_partition_face_membership(d.partition);\n                total_face_membership = counter_update(total_face_membership, face_membership);\n            })\n            let face_order = counter_order(total_face_membership);\n            let face_msg = face_message(face_order);\n\n            let repaired_dangles_message: string;\n            if (effects.new_rends.size == 1) {\n                repaired_dangles_message = `A formerly freely-swinging section of cardboard on the ${face_msg} can no longer swing on its hinge.`;\n            } else {\n                repaired_dangles_message = `${face_order.size} formerly freely-swinging sections of cardboard on the ${face_msg} can no longer swing on their hinges.`;\n            }\n            message += '\\n' + repaired_dangles_message;\n        }\n        return message;\n    }\n\n    command_cut_box(face_w: FaceWord, dir: EdgeDirWord, start_pos_a: PositionWord, start_pos_b: PositionWord, end_pos_b: PositionWord): CommandResult {\n        return this.cut_or_tape_box('cut', face_w, dir, start_pos_a, start_pos_b, end_pos_b);\n    }\n\n    command_tape_box(face_w: FaceWord, dir: EdgeDirWord, start_pos_a: PositionWord, start_pos_b: PositionWord, end_pos_b: PositionWord): CommandResult {\n        return this.cut_or_tape_box('tape', face_w, dir, start_pos_a, start_pos_b, end_pos_b);\n    }\n\n    item_spill_message(spilled_items: List<Item>){\n        let si = spilled_items;\n        let during_spill_msg: string;\n        let after_spill_msg: string;\n\n        if (si.size == 1) {\n            let item_msg = si.get(0).pre_gestalt();\n            during_spill_msg = `${capitalize(item_msg)} spills out before you.`;\n            after_spill_msg = `It's ${si.get(0).article()} ${si.get(0).name()} - ${si.get(0).post_gestalt()}.`;\n        } else {\n            let item_msg = si.butLast().map((i) => i.pre_gestalt()).join(', ') + ' and ' + si.last().pre_gestalt();\n            during_spill_msg = capitalize(`${item_msg} spill out before you.`);\n\n            let after_msgs = si.map((i) => `${i.article()} ${i.name()} - ${i.post_gestalt()}`);\n            after_spill_msg = \"It's \" + after_msgs.butLast().join(', ') + ' and ' + after_msgs.last() + '.';\n        }\n\n        let spill_msg = during_spill_msg + ' ' + after_spill_msg;\n        return spill_msg;\n    }\n\n    spill_message(new_box: Box) {\n        let effects = world_update.effects;\n\n        let structural_dmg_msgs = List<string>();\n\n        if (effects.spilled_rends.size > 0) {\n            let total_face_membership = Map<Face, number>();\n            effects.spilled_rends.forEach(function (sr) {\n                let sr_mem = new_box.box_mesh.get_partition_face_membership(sr);\n                total_face_membership = counter_update(total_face_membership, sr_mem);\n            });\n            let sr_faces = counter_order(total_face_membership);\n            let f_msg = face_message(sr_faces);\n            let spilled_rends_msg = `free cardboard on the ${f_msg} falls away`;\n            structural_dmg_msgs = structural_dmg_msgs.push(spilled_rends_msg);\n        }\n\n        if (effects.spilled_dangles.size > 0) {\n            let total_face_membership = Map<Face, number>();\n            effects.spilled_dangles.forEach(function (sd) {\n                let sd_mem = new_box.box_mesh.get_partition_face_membership(sd.partition);\n                total_face_membership = counter_update(total_face_membership, sd_mem);\n            });\n            let sd_faces = counter_order(total_face_membership);\n            let f_msg = face_message(sd_faces);\n            let spilled_dangles_msg = `dangling cardboard on the ${f_msg} swings open`;\n            structural_dmg_msgs = structural_dmg_msgs.push(spilled_dangles_msg);\n        }\n\n        let spill_msg = this.item_spill_message(effects.spilled_items);\n        let result: string;\n\n        if (structural_dmg_msgs.size > 0) {\n            let structure_dmg_msg = structural_dmg_msgs.join(' and ');\n            result = `${structure_dmg_msg}. ${spill_msg}`;\n        } else {\n            result = spill_msg;\n        }\n        return result;\n    }\n\n    command_open_dangle(face: FaceWord): CommandResult {\n        return this.open_or_close_dangle('open', face);\n    }\n\n    command_close_dangle(face: FaceWord): CommandResult {\n        return this.open_or_close_dangle('close', face);\n    }\n\n    open_or_close_dangle(operation: RendOpWord, face_w: FaceWord): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let face = word_2_face.get(face_w)\n            let applicable_dangles = inner_this.box.dangle_state.keySeq().filter((d) => d.free_face == face);\n            let new_box = inner_this.box;\n            let updated = List<Dangle>();\n            applicable_dangles.forEach(function (d){\n                let err = false;\n                try {\n                    new_box = new_box.open_or_close_dangle(word_2_rend_op.get(operation), d);\n                } catch (e) {\n                    err = true;\n                    if (!(e instanceof WorldUpdateError)) {\n                        throw e;\n                    }\n                }\n                if (!err) {\n                    updated = updated.push(d);\n                }\n            });\n            if (updated.size == 0) {\n                throw new WorldUpdateError(`No dangles to ${operation} on ${face_w} face`);\n            }\n\n            let swing_dir_msg = operation == 'close' ? 'in' : 'out';\n            let num_hinges = updated.map((d) => d.fixed_face).toSet().size;\n            let hinge_msg: string;\n            if (num_hinges == 1) {\n                hinge_msg = 'hinge';\n            } else {\n                hinge_msg = 'hinges';\n            }\n\n            let message = `You swing the cardboard on the ${face_w} of the box ${swing_dir_msg} on its ${hinge_msg}`;\n            if (!inner_this.box.appears_open() && new_box.appears_open()) {\n                message += '\\nYou get a glimpse inside the box through the opening.';\n\n                if (new_box.appears_empty()) {\n                    message += \" It's empty.\";\n                } else {\n                    message += ` You can see ${new_box.next_item().pre_gestalt()} inside.`;\n                }\n            }\n            if (effects.box_collapsed) {\n                message += '\\nThe added stress on the box causes it to collapse in on itself.';\n                if (effects.collapse_spilled_items.size > 0) {\n                    message += ' ' + inner_this.item_spill_message(effects.collapse_spilled_items);\n                }\n            }\n            return [inner_this.update({box: new_box}), message];\n        });\n    }\n\n    command_open_rend(face_w: FaceWord): CommandResult {\n        return this.open_or_close_rend('open', face_w);\n    }\n\n    command_close_rend(face_w: FaceWord): CommandResult {\n        return this.open_or_close_rend('close', face_w);\n    }\n\n    open_or_close_rend(operation: RendOpWord, face_w: FaceWord): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let face = word_2_face.get(face_w);\n            let applicable_rends = List<Partition>();\n            inner_this.box.rend_state.forEach(function (s, r) {\n                let face_membership = inner_this.box.box_mesh.get_partition_face_membership(r);\n                if (face_membership.get(face) > 0) {\n                    applicable_rends = applicable_rends.push(r);\n                }\n            });\n\n            let new_box = inner_this.box;\n            let updated = List<Partition>();\n            applicable_rends.forEach(function (r){\n                let err = false;\n                try {\n                    new_box = new_box.open_or_close_rend(word_2_rend_op.get(operation), r);\n                } catch (e) {\n                    err = true;\n                    if (!(e instanceof WorldUpdateError)) {\n                        throw e;\n                    }\n                }\n                if (!err) {\n                    updated = updated.push(r);\n                }\n            });\n            if (updated.size == 0) {\n                throw new WorldUpdateError(`No rends to ${operation} on ${face_w} face`);\n            }\n\n            let total_face_membership = Map<Face, number>();\n            total_face_membership = updated.reduce(\n                (total, r) => counter_update(\n                    total,\n                    inner_this.box.box_mesh.get_partition_face_membership(r)),\n                total_face_membership);\n\n            let face_msg = face_message(counter_order(total_face_membership));\n\n            let message: string;\n            if (operation == 'open') {\n                message = `You remove the free cardboard from the ${face_msg} and place it to the side.`;\n            } else {\n                `You replace the missing cardboard from the ${face_msg}.`;\n            }\n\n            if (!inner_this.box.appears_open() && new_box.appears_open()) {\n                message += '\\nYou get a glimpse inside the box through the opening.';\n\n                if (new_box.appears_empty()) {\n                    message += \" It's empty.\";\n                } else {\n                    message += ` You can see ${new_box.next_item().pre_gestalt()} inside.`;\n                }\n            }\n            if (effects.box_collapsed) {\n                message += '\\nThe added stress on the box causes it to collapse in on itself.';\n                if (effects.collapse_spilled_items.size > 0) {\n                    message += ' ' + inner_this.item_spill_message(effects.collapse_spilled_items);\n                }\n            }\n            return [inner_this.update({box: new_box}), message];\n        });\n    }\n\n    command_take_item_box(): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let new_box = inner_this.box.take_next_item();\n\n            let new_taken_items = inner_this.taken_items;\n            new_taken_items.push(...effects.taken_items.toArray());\n\n            let item = effects.taken_items.get(0);\n            let message = `You reach in and take ${item.pre_gestalt()}. It's ${item.post_gestalt()}; ${item.article()} ${item.name()}.`;\n        \n            if (new_box.appears_empty()) {\n                message += '\\nThe box is empty now.';\n            } else {\n                message += `\\nYou can now see ${new_box.next_item().pre_gestalt()} inside the box.`;\n            }\n\n            return [inner_this.update({box: new_box, taken_items: new_taken_items}), message];\n        });\n    }\n}\n\nexport class WorldDriver {\n    world: SingleBoxWorld;\n\n    constructor (initial_world: SingleBoxWorld) {\n        this.world = initial_world;\n    }\n\n    apply_command(cmd_name: Token, ...cmd_args: Token[]) {\n        let cmd_method: (...cmd_args: Token[]) => CommandResult;\n        switch (cmd_name) {\n            case 'rotate_y_box':\n                cmd_method = this.world.command_rotate_y_box;\n                break;\n            case 'roll_box':\n                cmd_method = this.world.command_roll_box;\n                break;\n            case 'lift_box':\n                cmd_method = this.world.command_lift_box;\n                break;\n            case 'cut_box':\n                cmd_method = this.world.command_cut_box;\n                break;\n            case 'tape_box':\n                cmd_method = this.world.command_tape_box;\n                break;\n            case 'open_dangle':\n                cmd_method = this.world.command_open_dangle;\n                break;\n            case 'close_dangle':\n                cmd_method = this.world.command_close_dangle;\n                break;\n            case 'open_rend':\n                cmd_method = this.world.command_open_rend;\n                break;\n            case 'close_rend':\n                cmd_method = this.world.command_close_rend;\n                break;\n            case 'take_item_box':\n                cmd_method = this.world.command_take_item_box;\n                break;\n            default:\n                throw new CommandError(`invalid cmd_name given: ${cmd_name}`);\n        }\n        let [new_world, msg] = cmd_method.apply(this.world, cmd_args);\n        let tokens: Token[] = [cmd_name];\n        tokens.push(...cmd_args);\n        //console.log('> ' + tokens.join(' ') + '\\n');\n        //console.log(msg + '\\n');\n        this.world = new_world;\n        return msg\n    }\n\n    run(cmd: string) {\n        let [cmd_name, cmd_args]: [Token, Token[]] = parse_command(cmd);\n        return this.apply_command(cmd_name, ...cmd_args);\n    }\n}\n\nexport function parse_command(cmd: string): [Token, Token[]] {\n    let tokens = cmd.split(/\\s+/);\n    console.log(tokens);\n    return [tokens[0], tokens.slice(1)];\n}\n\nexport function test() {\n    let contents = List<Item>([new Codex(), new Pinecone(), new CityKey()]);\n    let world = new SingleBoxWorld({box: new Box({contents: contents})});\n\n    console.log('NEW WORLD: test heavy spillage when rolling\\n\\n\\n');\n\n    let d = new WorldDriver(world);\n    d.apply_command('lift_box');\n    d.apply_command('roll_box', 'forward');\n    d.apply_command('rotate_y_box', 'left');\n\n    // cut the top face vertically along the center from top to bottom\n    d.apply_command('cut_box', 'top', 'vertically', 'center', 'top', 'bottom');\n\n    // cut the top face vertically along the right edge from top to bottom\n    d.apply_command('cut_box', 'top', 'vertically', 'right', 'top', 'bottom');\n\n    // should result in a dangle\n    // cut the top face horizontally along the top edge from center to right\n    d.apply_command('cut_box', 'top', 'horizontally', 'top', 'center', 'right');\n\n    // should result in a rend\n    // cut the top face horizontally along the bottom edge from center to right\n    d.apply_command('cut_box', 'top', 'horizontally', 'bottom', 'center', 'right');\n\n    d.apply_command('roll_box', 'forward');\n\n    // should result in the rend facing straight down, maybe spilling\n    d.apply_command('roll_box', 'forward');\n\n    d.apply_command('lift_box');\n\n    console.log('\\n\\n\\nNEW WORLD: test heavy spillage and collapse from bottom when lifting\\n\\n\\n');\n    let d2 = new WorldDriver(world);\n\n    d2.apply_command('cut_box', 'front', 'horizontally', 'bottom', 'left', 'right');\n    d2.apply_command('rotate_y_box', 'left');\n    d2.apply_command('cut_box', 'front', 'horizontally', 'bottom', 'left', 'right');\n    d2.apply_command('rotate_y_box', 'left');\n    d2.apply_command('cut_box', 'front', 'horizontally', 'bottom', 'left', 'right');\n    d2.apply_command('rotate_y_box', 'left');\n    d2.apply_command('cut_box', 'front', 'horizontally', 'bottom', 'left', 'right');\n    d2.apply_command('lift_box');\n    \n    console.log('\\n\\n\\nNEW WORLD: test taping\\n\\n\\n');\n    let d3 = new WorldDriver(world);\n\n    d3.apply_command('cut_box', 'top', 'horizontally', 'top', 'left', 'right');\n    d3.apply_command('cut_box', 'top', 'horizontally', 'bottom', 'left', 'right');\n    d3.apply_command('cut_box', 'top', 'vertically', 'left', 'top', 'bottom');\n\n    d3.apply_command('open_dangle', 'top');\n    d3.apply_command('take_item_box');\n\n    d3.apply_command('close_dangle', 'top');\n\n    d3.apply_command('cut_box', 'top', 'vertically', 'right', 'top', 'bottom');\n    d3.apply_command('open_rend', 'top');\n    d3.apply_command('take_item_box');\n    d3.apply_command('take_item_box');\n    d3.apply_command('close_rend', 'top');\n\n    d3.apply_command('tape_box', 'top', 'vertically', 'right', 'top', 'bottom');\n    d3.apply_command('tape_box', 'top', 'vertically', 'left', 'top', 'middle');\n\n    console.log('\\n\\n\\nNEW WORLD: test light spillage when rolling and lifting\\n\\n\\n');\n    let d4 = new WorldDriver(world);\n\n    d4.apply_command('cut_box', 'front', 'horizontally', 'top', 'left', 'right');\n    d4.apply_command('cut_box', 'front', 'horizontally', 'bottom', 'left', 'right');\n    d4.apply_command('cut_box', 'front', 'vertically', 'left', 'top', 'bottom');\n\n    d4.apply_command('lift_box');\n\n    d4.apply_command('cut_box', 'front', 'vertically', 'right', 'top', 'bottom');\n\n    d4.apply_command('roll_box', 'right');\n}\n","import {Matrix2, make_matrix2, Dangle, Face, Edge, Partition, faces, EdgeOperation, Point2, Direction, Item, SpillageLevel} from './datatypes';\n\nimport {Map, List, Set, OrderedSet, is} from 'immutable';\n\nexport class WorldUpdateEffects {\n    spill_faces = List<Face>();\n    spilled_items = List<Item>();\n    spilled_rends = Set<Partition>();\n    spilled_dangles = Set<Dangle>();\n    spillage_level = SpillageLevel.none;\n    taken_items = List<Item>();\n    new_rends = List<Partition>();\n    new_dangles = List<Dangle>();\n    repaired_rends = List<Partition>();\n    repaired_dangles = List<Dangle>();\n    box_collapsed = false;\n    collapse_spilled_items = List<Item>();\n}\n\ninterface WorldUpdateEffectsRef {\n    effects?: WorldUpdateEffects\n}\n\nexport let world_update: WorldUpdateEffectsRef = {};\n\nexport function with_world_update(f: (effects: WorldUpdateEffects) => any) {\n    //TODO validate: error if world_update.effects isn't null/undefined\n    world_update.effects = new WorldUpdateEffects();\n    let result = f(world_update.effects);\n    world_update.effects = undefined;\n    return result;\n}\n\n//TODO define world update exceptions"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvaW1tdXRhYmxlL2Rpc3QvaW1tdXRhYmxlLmpzIiwiYm94X2dlb21ldHJ5LnRzIiwiY29tbWFuZHMudHMiLCJkYXRhdHlwZXMudHMiLCJpdGVtcy50cyIsImpxdWVyeS50ZXJtaW5hbC5kLnRzIiwibWFpbi50cyIsInRleHRfdG9vbHMudHMiLCJ3b3JsZC50cyIsIndvcmxkX3VwZGF0ZV9lZmZlY3RzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUcsQUFBQyxBQUFDLE1BQUMsQUFBRyxJQUN2QyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFFLEFBQUMsQUFBQyxLQUFDLEFBQUcsSUFDdEMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRyxBQUFDLEFBQUMsQUFBQyxBQUM1QztBQUFDLEFBQUMsQUFBSSxlQUFLLEFBQVMsYUFBSSxZQUFTLFVBQUMsQUFBQyxBQUFDLEdBQUMsQUFBQztBQUNsQyxBQUFTLGtCQUFDLEFBQUcsSUFDVCxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUMzQixZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFHLEFBQUMsQUFBQyxNQUFDLEFBQUcsSUFDdkMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFDM0IsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRyxBQUFDLEFBQUMsTUFBQyxBQUFHLElBQ3ZDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUcsQUFBQyxBQUFDLE1BQUMsQUFBRyxJQUN2QyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFFLEFBQUMsQUFBQyxBQUFDLEFBQzNDO0FBQUMsQUFBQyxBQUFJLEtBUkMsQUFBRSxBQUFDLFVBUUMsQUFBUyxhQUFJLFlBQVMsVUFBQyxBQUFDLEFBQUMsR0FBQyxBQUFDO0FBQ2xDLEFBQVMsa0JBQUMsQUFBRyxJQUNULFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUUsQUFBQyxBQUFDLEtBQUMsQUFBRyxJQUN0QyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFFLEFBQUMsQUFBQyxLQUFDLEFBQUcsSUFDdEMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRyxBQUFDLEFBQUMsTUFBQyxBQUFHLElBQ3ZDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUcsQUFBQyxBQUFDLE1BQUMsQUFBRyxJQUN2QyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFHLEFBQUMsQUFBQyxNQUFDLEFBQUcsSUFDdkMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRSxBQUFDLEFBQUMsQUFBQyxBQUMzQztBQUFDLEFBQUMsQUFBSSxLQVJDLEFBQUUsQUFBQyxNQVFILEFBQUUsQUFBQyxJQUFDLEFBQVMsYUFBSSxZQUFTLFVBQUMsQUFBQyxBQUFDLEdBQUMsQUFBQztBQUNsQyxBQUFTLGtCQUFDLEFBQUcsSUFDVCxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFHLEFBQUMsQUFBQyxNQUFDLEFBQUcsSUFDdkMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRyxBQUFDLEFBQUMsTUFBQyxBQUFHLElBQ3ZDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUUsQUFBQyxBQUFDLEtBQUMsQUFBRyxJQUN0QyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFFLEFBQUMsQUFBQyxLQUFDLEFBQUcsSUFDdEMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRSxBQUFDLEFBQUMsS0FBQyxBQUFHLElBQ3RDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUcsQUFBQyxBQUFDLEFBQUMsQUFDNUM7QUFBQztBQUVELEFBQU0sV0FBQyxBQUFTLFVBQUMsQUFBVyxBQUFFLEFBQUMsQUFDbkM7QUFBQztBQUdEO0FBQ0ksUUFBSSxBQUFFLEtBQUcsSUFBSSxBQUFPLFFBQUMsRUFBQyxBQUFVLFlBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQztBQUU1QyxRQUFJLEFBQUcsTUFBRyxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQztBQUNySCxRQUFJLEFBQUcsTUFBRyxBQUFHLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBRSxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBRSxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBRSxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQztBQUVsSixRQUFJLEFBQUcsTUFBRyxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFJLEtBQUMsWUFBUyxVQUFDLEFBQUMsQUFBQyxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxBQUFDO0FBRXZJLFFBQUksQUFBRyxNQUFHLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUUsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxBQUFDO0FBRXBNLFFBQUksQUFBRyxNQUFHLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQztBQUMzRixRQUFJLEFBQUcsTUFBRyxBQUFHLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxBQUFDO0FBRWxFLFFBQUksQUFBRyxBQUFHLE1BQUMsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQzNHLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUM3RSxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQ25ELEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFB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OztBQzF2Q0QsMEJBQStJO0FBRS9JLDBCQUF5RCxBQUV6RDs7eUJBQUE7OztBQUNJLFNBQVcsY0FBRyxZQUFJLEFBQVEsQUFBQztBQUMzQixTQUFhLGdCQUFHLFlBQUksQUFBUSxBQUFDO0FBQzdCLFNBQWEsZ0JBQUcsWUFBRyxBQUFhLEFBQUM7QUFDakMsU0FBZSxrQkFBRyxZQUFHLEFBQVUsQUFBQztBQUNoQyxTQUFjLGlCQUFHLFlBQWEsY0FBQyxBQUFJLEFBQUM7QUFDcEMsU0FBVyxjQUFHLFlBQUksQUFBUSxBQUFDO0FBQzNCLFNBQVMsWUFBRyxZQUFJLEFBQWEsQUFBQztBQUM5QixTQUFXLGNBQUcsWUFBSSxBQUFVLEFBQUM7QUFDN0IsU0FBYyxpQkFBRyxZQUFJLEFBQWEsQUFBQztBQUNuQyxTQUFnQixtQkFBRyxZQUFJLEFBQVUsQUFBQztBQUNsQyxTQUFhLGdCQUFHLEFBQUssQUFBQztBQUN0QixTQUFzQix5QkFBRyxZQUFJLEFBQVEsQUFBQyxBQUMxQztBQUFDOztBQWJELDZCQWFDO0FBTVUsUUFBQSxBQUFZLGVBQTBCLEFBQUUsQUFBQztBQUVwRCwyQkFBa0MsQUFBdUM7QUFDckUsQUFBbUU7QUFDbkUsWUFBWSxhQUFDLEFBQU8sVUFBRyxJQUFJLEFBQWtCLEFBQUUsQUFBQztBQUNoRCxRQUFJLEFBQU0sU0FBRyxBQUFDLEVBQUMsUUFBWSxhQUFDLEFBQU8sQUFBQyxBQUFDO0FBQ3JDLFlBQVksYUFBQyxBQUFPLFVBQUcsQUFBUyxBQUFDO0FBQ2pDLEFBQU0sV0FBQyxBQUFNLEFBQUMsQUFDbEI7QUFBQztBQU5ELDRCQU1DO0FBRUQsQUFBcUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyoqXG4gKiAgQ29weXJpZ2h0IChjKSAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiAgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiAgb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0dHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOlxuXHQoZmFjdG9yeSgoZ2xvYmFsLkltbXV0YWJsZSA9IGdsb2JhbC5JbW11dGFibGUgfHwge30pKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoZXhwb3J0cykgeyAndXNlIHN0cmljdCc7XG5cbi8vIFVzZWQgZm9yIHNldHRpbmcgcHJvdG90eXBlIG1ldGhvZHMgdGhhdCBJRTggY2hva2VzIG9uLlxudmFyIERFTEVURSA9ICdkZWxldGUnO1xuXG4vLyBDb25zdGFudHMgZGVzY3JpYmluZyB0aGUgc2l6ZSBvZiB0cmllIG5vZGVzLlxudmFyIFNISUZUID0gNTsgLy8gUmVzdWx0ZWQgaW4gYmVzdCBwZXJmb3JtYW5jZSBhZnRlciBfX19fX18/XG52YXIgU0laRSA9IDEgPDwgU0hJRlQ7XG52YXIgTUFTSyA9IFNJWkUgLSAxO1xuXG4vLyBBIGNvbnNpc3RlbnQgc2hhcmVkIHZhbHVlIHJlcHJlc2VudGluZyBcIm5vdCBzZXRcIiB3aGljaCBlcXVhbHMgbm90aGluZyBvdGhlclxuLy8gdGhhbiBpdHNlbGYsIGFuZCBub3RoaW5nIHRoYXQgY291bGQgYmUgcHJvdmlkZWQgZXh0ZXJuYWxseS5cbnZhciBOT1RfU0VUID0ge307XG5cbi8vIEJvb2xlYW4gcmVmZXJlbmNlcywgUm91Z2ggZXF1aXZhbGVudCBvZiBgYm9vbCAmYC5cbnZhciBDSEFOR0VfTEVOR1RIID0geyB2YWx1ZTogZmFsc2UgfTtcbnZhciBESURfQUxURVIgPSB7IHZhbHVlOiBmYWxzZSB9O1xuXG5mdW5jdGlvbiBNYWtlUmVmKHJlZikge1xuICByZWYudmFsdWUgPSBmYWxzZTtcbiAgcmV0dXJuIHJlZjtcbn1cblxuZnVuY3Rpb24gU2V0UmVmKHJlZikge1xuICByZWYgJiYgKHJlZi52YWx1ZSA9IHRydWUpO1xufVxuXG4vLyBBIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYSB2YWx1ZSByZXByZXNlbnRpbmcgYW4gXCJvd25lclwiIGZvciB0cmFuc2llbnQgd3JpdGVzXG4vLyB0byB0cmllcy4gVGhlIHJldHVybiB2YWx1ZSB3aWxsIG9ubHkgZXZlciBlcXVhbCBpdHNlbGYsIGFuZCB3aWxsIG5vdCBlcXVhbFxuLy8gdGhlIHJldHVybiBvZiBhbnkgc3Vic2VxdWVudCBjYWxsIG9mIHRoaXMgZnVuY3Rpb24uXG5mdW5jdGlvbiBPd25lcklEKCkge31cblxuLy8gaHR0cDovL2pzcGVyZi5jb20vY29weS1hcnJheS1pbmxpbmVcbmZ1bmN0aW9uIGFyckNvcHkoYXJyLCBvZmZzZXQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBsZW4gPSBNYXRoLm1heCgwLCBhcnIubGVuZ3RoIC0gb2Zmc2V0KTtcbiAgdmFyIG5ld0FyciA9IG5ldyBBcnJheShsZW4pO1xuICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgbGVuOyBpaSsrKSB7XG4gICAgbmV3QXJyW2lpXSA9IGFycltpaSArIG9mZnNldF07XG4gIH1cbiAgcmV0dXJuIG5ld0Fycjtcbn1cblxuZnVuY3Rpb24gZW5zdXJlU2l6ZShpdGVyKSB7XG4gIGlmIChpdGVyLnNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgIGl0ZXIuc2l6ZSA9IGl0ZXIuX19pdGVyYXRlKHJldHVyblRydWUpO1xuICB9XG4gIHJldHVybiBpdGVyLnNpemU7XG59XG5cbmZ1bmN0aW9uIHdyYXBJbmRleChpdGVyLCBpbmRleCkge1xuICAvLyBUaGlzIGltcGxlbWVudHMgXCJpcyBhcnJheSBpbmRleFwiIHdoaWNoIHRoZSBFQ01BU3RyaW5nIHNwZWMgZGVmaW5lcyBhczpcbiAgLy9cbiAgLy8gICAgIEEgU3RyaW5nIHByb3BlcnR5IG5hbWUgUCBpcyBhbiBhcnJheSBpbmRleCBpZiBhbmQgb25seSBpZlxuICAvLyAgICAgVG9TdHJpbmcoVG9VaW50MzIoUCkpIGlzIGVxdWFsIHRvIFAgYW5kIFRvVWludDMyKFApIGlzIG5vdCBlcXVhbFxuICAvLyAgICAgdG8gMl4zMuKIkjEuXG4gIC8vXG4gIC8vIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1hcnJheS1leG90aWMtb2JqZWN0c1xuICBpZiAodHlwZW9mIGluZGV4ICE9PSAnbnVtYmVyJykge1xuICAgIHZhciB1aW50MzJJbmRleCA9IGluZGV4ID4+PiAwOyAvLyBOID4+PiAwIGlzIHNob3J0aGFuZCBmb3IgVG9VaW50MzJcbiAgICBpZiAoJycgKyB1aW50MzJJbmRleCAhPT0gaW5kZXggfHwgdWludDMySW5kZXggPT09IDQyOTQ5NjcyOTUpIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIGluZGV4ID0gdWludDMySW5kZXg7XG4gIH1cbiAgcmV0dXJuIGluZGV4IDwgMCA/IGVuc3VyZVNpemUoaXRlcikgKyBpbmRleCA6IGluZGV4O1xufVxuXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gd2hvbGVTbGljZShiZWdpbiwgZW5kLCBzaXplKSB7XG4gIHJldHVybiAoYmVnaW4gPT09IDAgfHwgKHNpemUgIT09IHVuZGVmaW5lZCAmJiBiZWdpbiA8PSAtc2l6ZSkpICYmXG4gICAgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IChzaXplICE9PSB1bmRlZmluZWQgJiYgZW5kID49IHNpemUpKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUJlZ2luKGJlZ2luLCBzaXplKSB7XG4gIHJldHVybiByZXNvbHZlSW5kZXgoYmVnaW4sIHNpemUsIDApO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlRW5kKGVuZCwgc2l6ZSkge1xuICByZXR1cm4gcmVzb2x2ZUluZGV4KGVuZCwgc2l6ZSwgc2l6ZSk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVJbmRleChpbmRleCwgc2l6ZSwgZGVmYXVsdEluZGV4KSB7XG4gIC8vIFNhbml0aXplIGluZGljZXMgdXNpbmcgdGhpcyBzaG9ydGhhbmQgZm9yIFRvSW50MzIoYXJndW1lbnQpXG4gIC8vIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy10b2ludDMyXG4gIHJldHVybiBpbmRleCA9PT0gdW5kZWZpbmVkXG4gICAgPyBkZWZhdWx0SW5kZXhcbiAgICA6IGluZGV4IDwgMFxuICAgICAgICA/IHNpemUgPT09IEluZmluaXR5ID8gc2l6ZSA6IE1hdGgubWF4KDAsIHNpemUgKyBpbmRleCkgfCAwXG4gICAgICAgIDogc2l6ZSA9PT0gdW5kZWZpbmVkIHx8IHNpemUgPT09IGluZGV4XG4gICAgICAgICAgICA/IGluZGV4XG4gICAgICAgICAgICA6IE1hdGgubWluKHNpemUsIGluZGV4KSB8IDA7XG59XG5cbmZ1bmN0aW9uIGlzSW1tdXRhYmxlKG1heWJlSW1tdXRhYmxlKSB7XG4gIHJldHVybiAoaXNDb2xsZWN0aW9uKG1heWJlSW1tdXRhYmxlKSB8fCBpc1JlY29yZChtYXliZUltbXV0YWJsZSkpICYmXG4gICAgIW1heWJlSW1tdXRhYmxlLl9fb3duZXJJRDtcbn1cblxuZnVuY3Rpb24gaXNDb2xsZWN0aW9uKG1heWJlQ29sbGVjdGlvbikge1xuICByZXR1cm4gISEobWF5YmVDb2xsZWN0aW9uICYmIG1heWJlQ29sbGVjdGlvbltJU19JVEVSQUJMRV9TRU5USU5FTF0pO1xufVxuXG5mdW5jdGlvbiBpc0tleWVkKG1heWJlS2V5ZWQpIHtcbiAgcmV0dXJuICEhKG1heWJlS2V5ZWQgJiYgbWF5YmVLZXllZFtJU19LRVlFRF9TRU5USU5FTF0pO1xufVxuXG5mdW5jdGlvbiBpc0luZGV4ZWQobWF5YmVJbmRleGVkKSB7XG4gIHJldHVybiAhIShtYXliZUluZGV4ZWQgJiYgbWF5YmVJbmRleGVkW0lTX0lOREVYRURfU0VOVElORUxdKTtcbn1cblxuZnVuY3Rpb24gaXNBc3NvY2lhdGl2ZShtYXliZUFzc29jaWF0aXZlKSB7XG4gIHJldHVybiBpc0tleWVkKG1heWJlQXNzb2NpYXRpdmUpIHx8IGlzSW5kZXhlZChtYXliZUFzc29jaWF0aXZlKTtcbn1cblxuZnVuY3Rpb24gaXNPcmRlcmVkKG1heWJlT3JkZXJlZCkge1xuICByZXR1cm4gISEobWF5YmVPcmRlcmVkICYmIG1heWJlT3JkZXJlZFtJU19PUkRFUkVEX1NFTlRJTkVMXSk7XG59XG5cbmZ1bmN0aW9uIGlzUmVjb3JkKG1heWJlUmVjb3JkKSB7XG4gIHJldHVybiAhIShtYXliZVJlY29yZCAmJiBtYXliZVJlY29yZFtJU19SRUNPUkRfU0VOVElORUxdKTtcbn1cblxuZnVuY3Rpb24gaXNWYWx1ZU9iamVjdChtYXliZVZhbHVlKSB7XG4gIHJldHVybiAhIShtYXliZVZhbHVlICYmXG4gICAgdHlwZW9mIG1heWJlVmFsdWUuZXF1YWxzID09PSAnZnVuY3Rpb24nICYmXG4gICAgdHlwZW9mIG1heWJlVmFsdWUuaGFzaENvZGUgPT09ICdmdW5jdGlvbicpO1xufVxuXG52YXIgSVNfSVRFUkFCTEVfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9JVEVSQUJMRV9fQEAnO1xudmFyIElTX0tFWUVEX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfS0VZRURfX0BAJztcbnZhciBJU19JTkRFWEVEX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfSU5ERVhFRF9fQEAnO1xudmFyIElTX09SREVSRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9PUkRFUkVEX19AQCc7XG52YXIgSVNfUkVDT1JEX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfUkVDT1JEX19AQCc7XG5cbnZhciBDb2xsZWN0aW9uID0gZnVuY3Rpb24gQ29sbGVjdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNDb2xsZWN0aW9uKHZhbHVlKSA/IHZhbHVlIDogU2VxKHZhbHVlKTtcbn07XG5cbnZhciBLZXllZENvbGxlY3Rpb24gPSAoZnVuY3Rpb24gKENvbGxlY3Rpb24pIHtcbiAgZnVuY3Rpb24gS2V5ZWRDb2xsZWN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzS2V5ZWQodmFsdWUpID8gdmFsdWUgOiBLZXllZFNlcSh2YWx1ZSk7XG4gIH1cblxuICBpZiAoIENvbGxlY3Rpb24gKSBLZXllZENvbGxlY3Rpb24uX19wcm90b19fID0gQ29sbGVjdGlvbjtcbiAgS2V5ZWRDb2xsZWN0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGUgKTtcbiAgS2V5ZWRDb2xsZWN0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEtleWVkQ29sbGVjdGlvbjtcblxuICByZXR1cm4gS2V5ZWRDb2xsZWN0aW9uO1xufShDb2xsZWN0aW9uKSk7XG5cbnZhciBJbmRleGVkQ29sbGVjdGlvbiA9IChmdW5jdGlvbiAoQ29sbGVjdGlvbikge1xuICBmdW5jdGlvbiBJbmRleGVkQ29sbGVjdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBpc0luZGV4ZWQodmFsdWUpID8gdmFsdWUgOiBJbmRleGVkU2VxKHZhbHVlKTtcbiAgfVxuXG4gIGlmICggQ29sbGVjdGlvbiApIEluZGV4ZWRDb2xsZWN0aW9uLl9fcHJvdG9fXyA9IENvbGxlY3Rpb247XG4gIEluZGV4ZWRDb2xsZWN0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGUgKTtcbiAgSW5kZXhlZENvbGxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW5kZXhlZENvbGxlY3Rpb247XG5cbiAgcmV0dXJuIEluZGV4ZWRDb2xsZWN0aW9uO1xufShDb2xsZWN0aW9uKSk7XG5cbnZhciBTZXRDb2xsZWN0aW9uID0gKGZ1bmN0aW9uIChDb2xsZWN0aW9uKSB7XG4gIGZ1bmN0aW9uIFNldENvbGxlY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gaXNDb2xsZWN0aW9uKHZhbHVlKSAmJiAhaXNBc3NvY2lhdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IFNldFNlcSh2YWx1ZSk7XG4gIH1cblxuICBpZiAoIENvbGxlY3Rpb24gKSBTZXRDb2xsZWN0aW9uLl9fcHJvdG9fXyA9IENvbGxlY3Rpb247XG4gIFNldENvbGxlY3Rpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZSApO1xuICBTZXRDb2xsZWN0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNldENvbGxlY3Rpb247XG5cbiAgcmV0dXJuIFNldENvbGxlY3Rpb247XG59KENvbGxlY3Rpb24pKTtcblxuQ29sbGVjdGlvbi5LZXllZCA9IEtleWVkQ29sbGVjdGlvbjtcbkNvbGxlY3Rpb24uSW5kZXhlZCA9IEluZGV4ZWRDb2xsZWN0aW9uO1xuQ29sbGVjdGlvbi5TZXQgPSBTZXRDb2xsZWN0aW9uO1xuXG52YXIgSVRFUkFURV9LRVlTID0gMDtcbnZhciBJVEVSQVRFX1ZBTFVFUyA9IDE7XG52YXIgSVRFUkFURV9FTlRSSUVTID0gMjtcblxudmFyIFJFQUxfSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG52YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7XG5cbnZhciBJVEVSQVRPUl9TWU1CT0wgPSBSRUFMX0lURVJBVE9SX1NZTUJPTCB8fCBGQVVYX0lURVJBVE9SX1NZTUJPTDtcblxudmFyIEl0ZXJhdG9yID0gZnVuY3Rpb24gSXRlcmF0b3IobmV4dCkge1xuICB0aGlzLm5leHQgPSBuZXh0O1xufTtcblxuSXRlcmF0b3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICByZXR1cm4gJ1tJdGVyYXRvcl0nO1xufTtcblxuSXRlcmF0b3IuS0VZUyA9IElURVJBVEVfS0VZUztcbkl0ZXJhdG9yLlZBTFVFUyA9IElURVJBVEVfVkFMVUVTO1xuSXRlcmF0b3IuRU5UUklFUyA9IElURVJBVEVfRU5UUklFUztcblxuSXRlcmF0b3IucHJvdG90eXBlLmluc3BlY3QgPSAoSXRlcmF0b3IucHJvdG90eXBlLnRvU291cmNlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG59KTtcbkl0ZXJhdG9yLnByb3RvdHlwZVtJVEVSQVRPUl9TWU1CT0xdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gaXRlcmF0b3JWYWx1ZSh0eXBlLCBrLCB2LCBpdGVyYXRvclJlc3VsdCkge1xuICB2YXIgdmFsdWUgPSB0eXBlID09PSAwID8gayA6IHR5cGUgPT09IDEgPyB2IDogW2ssIHZdO1xuICBpdGVyYXRvclJlc3VsdFxuICAgID8gKGl0ZXJhdG9yUmVzdWx0LnZhbHVlID0gdmFsdWUpXG4gICAgOiAoaXRlcmF0b3JSZXN1bHQgPSB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZG9uZTogZmFsc2VcbiAgICAgIH0pO1xuICByZXR1cm4gaXRlcmF0b3JSZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGl0ZXJhdG9yRG9uZSgpIHtcbiAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xufVxuXG5mdW5jdGlvbiBoYXNJdGVyYXRvcihtYXliZUl0ZXJhYmxlKSB7XG4gIHJldHVybiAhIWdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSk7XG59XG5cbmZ1bmN0aW9uIGlzSXRlcmF0b3IobWF5YmVJdGVyYXRvcikge1xuICByZXR1cm4gbWF5YmVJdGVyYXRvciAmJiB0eXBlb2YgbWF5YmVJdGVyYXRvci5uZXh0ID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBnZXRJdGVyYXRvcihpdGVyYWJsZSkge1xuICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4oaXRlcmFibGUpO1xuICByZXR1cm4gaXRlcmF0b3JGbiAmJiBpdGVyYXRvckZuLmNhbGwoaXRlcmFibGUpO1xufVxuXG5mdW5jdGlvbiBnZXRJdGVyYXRvckZuKGl0ZXJhYmxlKSB7XG4gIHZhciBpdGVyYXRvckZuID0gaXRlcmFibGUgJiZcbiAgICAoKFJFQUxfSVRFUkFUT1JfU1lNQk9MICYmIGl0ZXJhYmxlW1JFQUxfSVRFUkFUT1JfU1lNQk9MXSkgfHxcbiAgICAgIGl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXSk7XG4gIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBpdGVyYXRvckZuO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUubGVuZ3RoID09PSAnbnVtYmVyJztcbn1cblxudmFyIFNlcSA9IChmdW5jdGlvbiAoQ29sbGVjdGlvbiQkMSkge1xuICBmdW5jdGlvbiBTZXEodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyBlbXB0eVNlcXVlbmNlKClcbiAgICAgIDogaXNDb2xsZWN0aW9uKHZhbHVlKSB8fCBpc1JlY29yZCh2YWx1ZSlcbiAgICAgICAgICA/IHZhbHVlLnRvU2VxKClcbiAgICAgICAgICA6IHNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBpZiAoIENvbGxlY3Rpb24kJDEgKSBTZXEuX19wcm90b19fID0gQ29sbGVjdGlvbiQkMTtcbiAgU2VxLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbGxlY3Rpb24kJDEgJiYgQ29sbGVjdGlvbiQkMS5wcm90b3R5cGUgKTtcbiAgU2VxLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNlcTtcblxuICBTZXEub2YgPSBmdW5jdGlvbiBvZiAoLyouLi52YWx1ZXMqLykge1xuICAgIHJldHVybiBTZXEoYXJndW1lbnRzKTtcbiAgfTtcblxuICBTZXEucHJvdG90eXBlLnRvU2VxID0gZnVuY3Rpb24gdG9TZXEgKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIFNlcS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnU2VxIHsnLCAnfScpO1xuICB9O1xuXG4gIFNlcS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPSBmdW5jdGlvbiBjYWNoZVJlc3VsdCAoKSB7XG4gICAgaWYgKCF0aGlzLl9jYWNoZSAmJiB0aGlzLl9faXRlcmF0ZVVuY2FjaGVkKSB7XG4gICAgICB0aGlzLl9jYWNoZSA9IHRoaXMuZW50cnlTZXEoKS50b0FycmF5KCk7XG4gICAgICB0aGlzLnNpemUgPSB0aGlzLl9jYWNoZS5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIGFic3RyYWN0IF9faXRlcmF0ZVVuY2FjaGVkKGZuLCByZXZlcnNlKVxuXG4gIFNlcS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGNhY2hlID0gdGhpcy5fY2FjaGU7XG4gICAgaWYgKGNhY2hlKSB7XG4gICAgICB2YXIgc2l6ZSA9IGNhY2hlLmxlbmd0aDtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIHdoaWxlIChpICE9PSBzaXplKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGNhY2hlW3JldmVyc2UgPyBzaXplIC0gKytpIDogaSsrXTtcbiAgICAgICAgaWYgKGZuKGVudHJ5WzFdLCBlbnRyeVswXSwgdGhpcyQxKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9faXRlcmF0ZVVuY2FjaGVkKGZuLCByZXZlcnNlKTtcbiAgfTtcblxuICAvLyBhYnN0cmFjdCBfX2l0ZXJhdG9yVW5jYWNoZWQodHlwZSwgcmV2ZXJzZSlcblxuICBTZXEucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIGNhY2hlID0gdGhpcy5fY2FjaGU7XG4gICAgaWYgKGNhY2hlKSB7XG4gICAgICB2YXIgc2l6ZSA9IGNhY2hlLmxlbmd0aDtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaSA9PT0gc2l6ZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cnkgPSBjYWNoZVtyZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrK107XG4gICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX19pdGVyYXRvclVuY2FjaGVkKHR5cGUsIHJldmVyc2UpO1xuICB9O1xuXG4gIHJldHVybiBTZXE7XG59KENvbGxlY3Rpb24pKTtcblxudmFyIEtleWVkU2VxID0gKGZ1bmN0aW9uIChTZXEpIHtcbiAgZnVuY3Rpb24gS2V5ZWRTZXEodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyBlbXB0eVNlcXVlbmNlKCkudG9LZXllZFNlcSgpXG4gICAgICA6IGlzQ29sbGVjdGlvbih2YWx1ZSlcbiAgICAgICAgICA/IGlzS2V5ZWQodmFsdWUpID8gdmFsdWUudG9TZXEoKSA6IHZhbHVlLmZyb21FbnRyeVNlcSgpXG4gICAgICAgICAgOiBpc1JlY29yZCh2YWx1ZSkgPyB2YWx1ZS50b1NlcSgpIDoga2V5ZWRTZXFGcm9tVmFsdWUodmFsdWUpO1xuICB9XG5cbiAgaWYgKCBTZXEgKSBLZXllZFNlcS5fX3Byb3RvX18gPSBTZXE7XG4gIEtleWVkU2VxLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNlcSAmJiBTZXEucHJvdG90eXBlICk7XG4gIEtleWVkU2VxLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEtleWVkU2VxO1xuXG4gIEtleWVkU2VxLnByb3RvdHlwZS50b0tleWVkU2VxID0gZnVuY3Rpb24gdG9LZXllZFNlcSAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgcmV0dXJuIEtleWVkU2VxO1xufShTZXEpKTtcblxudmFyIEluZGV4ZWRTZXEgPSAoZnVuY3Rpb24gKFNlcSkge1xuICBmdW5jdGlvbiBJbmRleGVkU2VxKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8gZW1wdHlTZXF1ZW5jZSgpXG4gICAgICA6IGlzQ29sbGVjdGlvbih2YWx1ZSlcbiAgICAgICAgICA/IGlzS2V5ZWQodmFsdWUpID8gdmFsdWUuZW50cnlTZXEoKSA6IHZhbHVlLnRvSW5kZXhlZFNlcSgpXG4gICAgICAgICAgOiBpc1JlY29yZCh2YWx1ZSlcbiAgICAgICAgICAgICAgPyB2YWx1ZS50b1NlcSgpLmVudHJ5U2VxKClcbiAgICAgICAgICAgICAgOiBpbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIGlmICggU2VxICkgSW5kZXhlZFNlcS5fX3Byb3RvX18gPSBTZXE7XG4gIEluZGV4ZWRTZXEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2VxICYmIFNlcS5wcm90b3R5cGUgKTtcbiAgSW5kZXhlZFNlcS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbmRleGVkU2VxO1xuXG4gIEluZGV4ZWRTZXEub2YgPSBmdW5jdGlvbiBvZiAoLyouLi52YWx1ZXMqLykge1xuICAgIHJldHVybiBJbmRleGVkU2VxKGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgSW5kZXhlZFNlcS5wcm90b3R5cGUudG9JbmRleGVkU2VxID0gZnVuY3Rpb24gdG9JbmRleGVkU2VxICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBJbmRleGVkU2VxLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTZXEgWycsICddJyk7XG4gIH07XG5cbiAgcmV0dXJuIEluZGV4ZWRTZXE7XG59KFNlcSkpO1xuXG52YXIgU2V0U2VxID0gKGZ1bmN0aW9uIChTZXEpIHtcbiAgZnVuY3Rpb24gU2V0U2VxKHZhbHVlKSB7XG4gICAgcmV0dXJuIChpc0NvbGxlY3Rpb24odmFsdWUpICYmICFpc0Fzc29jaWF0aXZlKHZhbHVlKVxuICAgICAgPyB2YWx1ZVxuICAgICAgOiBJbmRleGVkU2VxKHZhbHVlKSkudG9TZXRTZXEoKTtcbiAgfVxuXG4gIGlmICggU2VxICkgU2V0U2VxLl9fcHJvdG9fXyA9IFNlcTtcbiAgU2V0U2VxLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNlcSAmJiBTZXEucHJvdG90eXBlICk7XG4gIFNldFNlcS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTZXRTZXE7XG5cbiAgU2V0U2VxLm9mID0gZnVuY3Rpb24gb2YgKC8qLi4udmFsdWVzKi8pIHtcbiAgICByZXR1cm4gU2V0U2VxKGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgU2V0U2VxLnByb3RvdHlwZS50b1NldFNlcSA9IGZ1bmN0aW9uIHRvU2V0U2VxICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICByZXR1cm4gU2V0U2VxO1xufShTZXEpKTtcblxuU2VxLmlzU2VxID0gaXNTZXE7XG5TZXEuS2V5ZWQgPSBLZXllZFNlcTtcblNlcS5TZXQgPSBTZXRTZXE7XG5TZXEuSW5kZXhlZCA9IEluZGV4ZWRTZXE7XG5cbnZhciBJU19TRVFfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9TRVFfX0BAJztcblxuU2VxLnByb3RvdHlwZVtJU19TRVFfU0VOVElORUxdID0gdHJ1ZTtcblxuLy8gI3ByYWdtYSBSb290IFNlcXVlbmNlc1xuXG52YXIgQXJyYXlTZXEgPSAoZnVuY3Rpb24gKEluZGV4ZWRTZXEpIHtcbiAgZnVuY3Rpb24gQXJyYXlTZXEoYXJyYXkpIHtcbiAgICB0aGlzLl9hcnJheSA9IGFycmF5O1xuICAgIHRoaXMuc2l6ZSA9IGFycmF5Lmxlbmd0aDtcbiAgfVxuXG4gIGlmICggSW5kZXhlZFNlcSApIEFycmF5U2VxLl9fcHJvdG9fXyA9IEluZGV4ZWRTZXE7XG4gIEFycmF5U2VxLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEluZGV4ZWRTZXEgJiYgSW5kZXhlZFNlcS5wcm90b3R5cGUgKTtcbiAgQXJyYXlTZXEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQXJyYXlTZXE7XG5cbiAgQXJyYXlTZXEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzKGluZGV4KSA/IHRoaXMuX2FycmF5W3dyYXBJbmRleCh0aGlzLCBpbmRleCldIDogbm90U2V0VmFsdWU7XG4gIH07XG5cbiAgQXJyYXlTZXEucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBhcnJheSA9IHRoaXMuX2FycmF5O1xuICAgIHZhciBzaXplID0gYXJyYXkubGVuZ3RoO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSAhPT0gc2l6ZSkge1xuICAgICAgdmFyIGlpID0gcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKys7XG4gICAgICBpZiAoZm4oYXJyYXlbaWldLCBpaSwgdGhpcyQxKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9O1xuXG4gIEFycmF5U2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBhcnJheSA9IHRoaXMuX2FycmF5O1xuICAgIHZhciBzaXplID0gYXJyYXkubGVuZ3RoO1xuICAgIHZhciBpID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpID09PSBzaXplKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciBpaSA9IHJldmVyc2UgPyBzaXplIC0gKytpIDogaSsrO1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaWksIGFycmF5W2lpXSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIEFycmF5U2VxO1xufShJbmRleGVkU2VxKSk7XG5cbnZhciBPYmplY3RTZXEgPSAoZnVuY3Rpb24gKEtleWVkU2VxKSB7XG4gIGZ1bmN0aW9uIE9iamVjdFNlcShvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG4gICAgdGhpcy5fb2JqZWN0ID0gb2JqZWN0O1xuICAgIHRoaXMuX2tleXMgPSBrZXlzO1xuICAgIHRoaXMuc2l6ZSA9IGtleXMubGVuZ3RoO1xuICB9XG5cbiAgaWYgKCBLZXllZFNlcSApIE9iamVjdFNlcS5fX3Byb3RvX18gPSBLZXllZFNlcTtcbiAgT2JqZWN0U2VxLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEtleWVkU2VxICYmIEtleWVkU2VxLnByb3RvdHlwZSApO1xuICBPYmplY3RTZXEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gT2JqZWN0U2VxO1xuXG4gIE9iamVjdFNlcS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgaWYgKG5vdFNldFZhbHVlICE9PSB1bmRlZmluZWQgJiYgIXRoaXMuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX29iamVjdFtrZXldO1xuICB9O1xuXG4gIE9iamVjdFNlcS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gaGFzIChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5fb2JqZWN0Lmhhc093blByb3BlcnR5KGtleSk7XG4gIH07XG5cbiAgT2JqZWN0U2VxLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgb2JqZWN0ID0gdGhpcy5fb2JqZWN0O1xuICAgIHZhciBrZXlzID0gdGhpcy5fa2V5cztcbiAgICB2YXIgc2l6ZSA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSAhPT0gc2l6ZSkge1xuICAgICAgdmFyIGtleSA9IGtleXNbcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKytdO1xuICAgICAgaWYgKGZuKG9iamVjdFtrZXldLCBrZXksIHRoaXMkMSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfTtcblxuICBPYmplY3RTZXEucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIG9iamVjdCA9IHRoaXMuX29iamVjdDtcbiAgICB2YXIga2V5cyA9IHRoaXMuX2tleXM7XG4gICAgdmFyIHNpemUgPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgaSA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaSA9PT0gc2l6ZSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIga2V5ID0ga2V5c1tyZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrK107XG4gICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBrZXksIG9iamVjdFtrZXldKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gT2JqZWN0U2VxO1xufShLZXllZFNlcSkpO1xuT2JqZWN0U2VxLnByb3RvdHlwZVtJU19PUkRFUkVEX1NFTlRJTkVMXSA9IHRydWU7XG5cbnZhciBDb2xsZWN0aW9uU2VxID0gKGZ1bmN0aW9uIChJbmRleGVkU2VxKSB7XG4gIGZ1bmN0aW9uIENvbGxlY3Rpb25TZXEoY29sbGVjdGlvbikge1xuICAgIHRoaXMuX2NvbGxlY3Rpb24gPSBjb2xsZWN0aW9uO1xuICAgIHRoaXMuc2l6ZSA9IGNvbGxlY3Rpb24ubGVuZ3RoIHx8IGNvbGxlY3Rpb24uc2l6ZTtcbiAgfVxuXG4gIGlmICggSW5kZXhlZFNlcSApIENvbGxlY3Rpb25TZXEuX19wcm90b19fID0gSW5kZXhlZFNlcTtcbiAgQ29sbGVjdGlvblNlcS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbmRleGVkU2VxICYmIEluZGV4ZWRTZXEucHJvdG90eXBlICk7XG4gIENvbGxlY3Rpb25TZXEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29sbGVjdGlvblNlcTtcblxuICBDb2xsZWN0aW9uU2VxLnByb3RvdHlwZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uIF9faXRlcmF0ZVVuY2FjaGVkIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGNvbGxlY3Rpb24gPSB0aGlzLl9jb2xsZWN0aW9uO1xuICAgIHZhciBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKGNvbGxlY3Rpb24pO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICBpZiAoaXNJdGVyYXRvcihpdGVyYXRvcikpIHtcbiAgICAgIHZhciBzdGVwO1xuICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICBpZiAoZm4oc3RlcC52YWx1ZSwgaXRlcmF0aW9ucysrLCB0aGlzJDEpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuXG4gIENvbGxlY3Rpb25TZXEucHJvdG90eXBlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uIF9faXRlcmF0b3JVbmNhY2hlZCAodHlwZSwgcmV2ZXJzZSkge1xuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIHZhciBjb2xsZWN0aW9uID0gdGhpcy5fY29sbGVjdGlvbjtcbiAgICB2YXIgaXRlcmF0b3IgPSBnZXRJdGVyYXRvcihjb2xsZWN0aW9uKTtcbiAgICBpZiAoIWlzSXRlcmF0b3IoaXRlcmF0b3IpKSB7XG4gICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGl0ZXJhdG9yRG9uZSk7XG4gICAgfVxuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgcmV0dXJuIHN0ZXAuZG9uZSA/IHN0ZXAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgc3RlcC52YWx1ZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIENvbGxlY3Rpb25TZXE7XG59KEluZGV4ZWRTZXEpKTtcblxudmFyIEl0ZXJhdG9yU2VxID0gKGZ1bmN0aW9uIChJbmRleGVkU2VxKSB7XG4gIGZ1bmN0aW9uIEl0ZXJhdG9yU2VxKGl0ZXJhdG9yKSB7XG4gICAgdGhpcy5faXRlcmF0b3IgPSBpdGVyYXRvcjtcbiAgICB0aGlzLl9pdGVyYXRvckNhY2hlID0gW107XG4gIH1cblxuICBpZiAoIEluZGV4ZWRTZXEgKSBJdGVyYXRvclNlcS5fX3Byb3RvX18gPSBJbmRleGVkU2VxO1xuICBJdGVyYXRvclNlcS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbmRleGVkU2VxICYmIEluZGV4ZWRTZXEucHJvdG90eXBlICk7XG4gIEl0ZXJhdG9yU2VxLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEl0ZXJhdG9yU2VxO1xuXG4gIEl0ZXJhdG9yU2VxLnByb3RvdHlwZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uIF9faXRlcmF0ZVVuY2FjaGVkIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlcmF0b3I7XG4gICAgdmFyIGNhY2hlID0gdGhpcy5faXRlcmF0b3JDYWNoZTtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgd2hpbGUgKGl0ZXJhdGlvbnMgPCBjYWNoZS5sZW5ndGgpIHtcbiAgICAgIGlmIChmbihjYWNoZVtpdGVyYXRpb25zXSwgaXRlcmF0aW9ucysrLCB0aGlzJDEpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHN0ZXA7XG4gICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgdmFyIHZhbCA9IHN0ZXAudmFsdWU7XG4gICAgICBjYWNoZVtpdGVyYXRpb25zXSA9IHZhbDtcbiAgICAgIGlmIChmbih2YWwsIGl0ZXJhdGlvbnMrKywgdGhpcyQxKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuXG4gIEl0ZXJhdG9yU2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yVW5jYWNoZWQgKHR5cGUsIHJldmVyc2UpIHtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyYXRvcjtcbiAgICB2YXIgY2FjaGUgPSB0aGlzLl9pdGVyYXRvckNhY2hlO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpdGVyYXRpb25zID49IGNhY2hlLmxlbmd0aCkge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICB9XG4gICAgICAgIGNhY2hlW2l0ZXJhdGlvbnNdID0gc3RlcC52YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMsIGNhY2hlW2l0ZXJhdGlvbnMrK10pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBJdGVyYXRvclNlcTtcbn0oSW5kZXhlZFNlcSkpO1xuXG4vLyAjIHByYWdtYSBIZWxwZXIgZnVuY3Rpb25zXG5cbmZ1bmN0aW9uIGlzU2VxKG1heWJlU2VxKSB7XG4gIHJldHVybiAhIShtYXliZVNlcSAmJiBtYXliZVNlcVtJU19TRVFfU0VOVElORUxdKTtcbn1cblxudmFyIEVNUFRZX1NFUTtcblxuZnVuY3Rpb24gZW1wdHlTZXF1ZW5jZSgpIHtcbiAgcmV0dXJuIEVNUFRZX1NFUSB8fCAoRU1QVFlfU0VRID0gbmV3IEFycmF5U2VxKFtdKSk7XG59XG5cbmZ1bmN0aW9uIGtleWVkU2VxRnJvbVZhbHVlKHZhbHVlKSB7XG4gIHZhciBzZXEgPSBBcnJheS5pc0FycmF5KHZhbHVlKVxuICAgID8gbmV3IEFycmF5U2VxKHZhbHVlKVxuICAgIDogaXNJdGVyYXRvcih2YWx1ZSlcbiAgICAgICAgPyBuZXcgSXRlcmF0b3JTZXEodmFsdWUpXG4gICAgICAgIDogaGFzSXRlcmF0b3IodmFsdWUpID8gbmV3IENvbGxlY3Rpb25TZXEodmFsdWUpIDogdW5kZWZpbmVkO1xuICBpZiAoc2VxKSB7XG4gICAgcmV0dXJuIHNlcS5mcm9tRW50cnlTZXEoKTtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBuZXcgT2JqZWN0U2VxKHZhbHVlKTtcbiAgfVxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICdFeHBlY3RlZCBBcnJheSBvciBjb2xsZWN0aW9uIG9iamVjdCBvZiBbaywgdl0gZW50cmllcywgb3Iga2V5ZWQgb2JqZWN0OiAnICtcbiAgICAgIHZhbHVlXG4gICk7XG59XG5cbmZ1bmN0aW9uIGluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgdmFyIHNlcSA9IG1heWJlSW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gIGlmIChzZXEpIHtcbiAgICByZXR1cm4gc2VxO1xuICB9XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgJ0V4cGVjdGVkIEFycmF5IG9yIGNvbGxlY3Rpb24gb2JqZWN0IG9mIHZhbHVlczogJyArIHZhbHVlXG4gICk7XG59XG5cbmZ1bmN0aW9uIHNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICB2YXIgc2VxID0gbWF5YmVJbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgaWYgKHNlcSkge1xuICAgIHJldHVybiBzZXE7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbmV3IE9iamVjdFNlcSh2YWx1ZSk7XG4gIH1cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAnRXhwZWN0ZWQgQXJyYXkgb3IgY29sbGVjdGlvbiBvYmplY3Qgb2YgdmFsdWVzLCBvciBrZXllZCBvYmplY3Q6ICcgKyB2YWx1ZVxuICApO1xufVxuXG5mdW5jdGlvbiBtYXliZUluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKHZhbHVlKVxuICAgID8gbmV3IEFycmF5U2VxKHZhbHVlKVxuICAgIDogaXNJdGVyYXRvcih2YWx1ZSlcbiAgICAgICAgPyBuZXcgSXRlcmF0b3JTZXEodmFsdWUpXG4gICAgICAgIDogaGFzSXRlcmF0b3IodmFsdWUpID8gbmV3IENvbGxlY3Rpb25TZXEodmFsdWUpIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEFuIGV4dGVuc2lvbiBvZiB0aGUgXCJzYW1lLXZhbHVlXCIgYWxnb3JpdGhtIGFzIFtkZXNjcmliZWQgZm9yIHVzZSBieSBFUzYgTWFwXG4gKiBhbmQgU2V0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXAjS2V5X2VxdWFsaXR5KVxuICpcbiAqIE5hTiBpcyBjb25zaWRlcmVkIHRoZSBzYW1lIGFzIE5hTiwgaG93ZXZlciAtMCBhbmQgMCBhcmUgY29uc2lkZXJlZCB0aGUgc2FtZVxuICogdmFsdWUsIHdoaWNoIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBhbGdvcml0aG0gZGVzY3JpYmVkIGJ5XG4gKiBbYE9iamVjdC5pc2BdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pcykuXG4gKlxuICogVGhpcyBpcyBleHRlbmRlZCBmdXJ0aGVyIHRvIGFsbG93IE9iamVjdHMgdG8gZGVzY3JpYmUgdGhlIHZhbHVlcyB0aGV5XG4gKiByZXByZXNlbnQsIGJ5IHdheSBvZiBgdmFsdWVPZmAgb3IgYGVxdWFsc2AgKGFuZCBgaGFzaENvZGVgKS5cbiAqXG4gKiBOb3RlOiBiZWNhdXNlIG9mIHRoaXMgZXh0ZW5zaW9uLCB0aGUga2V5IGVxdWFsaXR5IG9mIEltbXV0YWJsZS5NYXAgYW5kIHRoZVxuICogdmFsdWUgZXF1YWxpdHkgb2YgSW1tdXRhYmxlLlNldCB3aWxsIGRpZmZlciBmcm9tIEVTNiBNYXAgYW5kIFNldC5cbiAqXG4gKiAjIyMgRGVmaW5pbmcgY3VzdG9tIHZhbHVlc1xuICpcbiAqIFRoZSBlYXNpZXN0IHdheSB0byBkZXNjcmliZSB0aGUgdmFsdWUgYW4gb2JqZWN0IHJlcHJlc2VudHMgaXMgYnkgaW1wbGVtZW50aW5nXG4gKiBgdmFsdWVPZmAuIEZvciBleGFtcGxlLCBgRGF0ZWAgcmVwcmVzZW50cyBhIHZhbHVlIGJ5IHJldHVybmluZyBhIHVuaXhcbiAqIHRpbWVzdGFtcCBmb3IgYHZhbHVlT2ZgOlxuICpcbiAqICAgICB2YXIgZGF0ZTEgPSBuZXcgRGF0ZSgxMjM0NTY3ODkwMDAwKTsgLy8gRnJpIEZlYiAxMyAyMDA5IC4uLlxuICogICAgIHZhciBkYXRlMiA9IG5ldyBEYXRlKDEyMzQ1Njc4OTAwMDApO1xuICogICAgIGRhdGUxLnZhbHVlT2YoKTsgLy8gMTIzNDU2Nzg5MDAwMFxuICogICAgIGFzc2VydCggZGF0ZTEgIT09IGRhdGUyICk7XG4gKiAgICAgYXNzZXJ0KCBJbW11dGFibGUuaXMoIGRhdGUxLCBkYXRlMiApICk7XG4gKlxuICogTm90ZTogb3ZlcnJpZGluZyBgdmFsdWVPZmAgbWF5IGhhdmUgb3RoZXIgaW1wbGljYXRpb25zIGlmIHlvdSB1c2UgdGhpcyBvYmplY3RcbiAqIHdoZXJlIEphdmFTY3JpcHQgZXhwZWN0cyBhIHByaW1pdGl2ZSwgc3VjaCBhcyBpbXBsaWNpdCBzdHJpbmcgY29lcmNpb24uXG4gKlxuICogRm9yIG1vcmUgY29tcGxleCB0eXBlcywgZXNwZWNpYWxseSBjb2xsZWN0aW9ucywgaW1wbGVtZW50aW5nIGB2YWx1ZU9mYCBtYXlcbiAqIG5vdCBiZSBwZXJmb3JtYW50LiBBbiBhbHRlcm5hdGl2ZSBpcyB0byBpbXBsZW1lbnQgYGVxdWFsc2AgYW5kIGBoYXNoQ29kZWAuXG4gKlxuICogYGVxdWFsc2AgdGFrZXMgYW5vdGhlciBvYmplY3QsIHByZXN1bWFibHkgb2Ygc2ltaWxhciB0eXBlLCBhbmQgcmV0dXJucyB0cnVlXG4gKiBpZiBpdCBpcyBlcXVhbC4gRXF1YWxpdHkgaXMgc3ltbWV0cmljYWwsIHNvIHRoZSBzYW1lIHJlc3VsdCBzaG91bGQgYmVcbiAqIHJldHVybmVkIGlmIHRoaXMgYW5kIHRoZSBhcmd1bWVudCBhcmUgZmxpcHBlZC5cbiAqXG4gKiAgICAgYXNzZXJ0KCBhLmVxdWFscyhiKSA9PT0gYi5lcXVhbHMoYSkgKTtcbiAqXG4gKiBgaGFzaENvZGVgIHJldHVybnMgYSAzMmJpdCBpbnRlZ2VyIG51bWJlciByZXByZXNlbnRpbmcgdGhlIG9iamVjdCB3aGljaCB3aWxsXG4gKiBiZSB1c2VkIHRvIGRldGVybWluZSBob3cgdG8gc3RvcmUgdGhlIHZhbHVlIG9iamVjdCBpbiBhIE1hcCBvciBTZXQuIFlvdSBtdXN0XG4gKiBwcm92aWRlIGJvdGggb3IgbmVpdGhlciBtZXRob2RzLCBvbmUgbXVzdCBub3QgZXhpc3Qgd2l0aG91dCB0aGUgb3RoZXIuXG4gKlxuICogQWxzbywgYW4gaW1wb3J0YW50IHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZXNlIG1ldGhvZHMgbXVzdCBiZSB1cGhlbGQ6IGlmIHR3b1xuICogdmFsdWVzIGFyZSBlcXVhbCwgdGhleSAqbXVzdCogcmV0dXJuIHRoZSBzYW1lIGhhc2hDb2RlLiBJZiB0aGUgdmFsdWVzIGFyZSBub3RcbiAqIGVxdWFsLCB0aGV5IG1pZ2h0IGhhdmUgdGhlIHNhbWUgaGFzaENvZGU7IHRoaXMgaXMgY2FsbGVkIGEgaGFzaCBjb2xsaXNpb24sXG4gKiBhbmQgd2hpbGUgdW5kZXNpcmFibGUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIGl0IGlzIGFjY2VwdGFibGUuXG4gKlxuICogICAgIGlmIChhLmVxdWFscyhiKSkge1xuICogICAgICAgYXNzZXJ0KCBhLmhhc2hDb2RlKCkgPT09IGIuaGFzaENvZGUoKSApO1xuICogICAgIH1cbiAqXG4gKiBBbGwgSW1tdXRhYmxlIGNvbGxlY3Rpb25zIGFyZSBWYWx1ZSBPYmplY3RzOiB0aGV5IGltcGxlbWVudCBgZXF1YWxzKClgXG4gKiBhbmQgYGhhc2hDb2RlKClgLlxuICovXG5mdW5jdGlvbiBpcyh2YWx1ZUEsIHZhbHVlQikge1xuICBpZiAodmFsdWVBID09PSB2YWx1ZUIgfHwgKHZhbHVlQSAhPT0gdmFsdWVBICYmIHZhbHVlQiAhPT0gdmFsdWVCKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICghdmFsdWVBIHx8ICF2YWx1ZUIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKFxuICAgIHR5cGVvZiB2YWx1ZUEudmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWVCLnZhbHVlT2YgPT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgdmFsdWVBID0gdmFsdWVBLnZhbHVlT2YoKTtcbiAgICB2YWx1ZUIgPSB2YWx1ZUIudmFsdWVPZigpO1xuICAgIGlmICh2YWx1ZUEgPT09IHZhbHVlQiB8fCAodmFsdWVBICE9PSB2YWx1ZUEgJiYgdmFsdWVCICE9PSB2YWx1ZUIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCF2YWx1ZUEgfHwgIXZhbHVlQikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gISEoaXNWYWx1ZU9iamVjdCh2YWx1ZUEpICYmXG4gICAgaXNWYWx1ZU9iamVjdCh2YWx1ZUIpICYmXG4gICAgdmFsdWVBLmVxdWFscyh2YWx1ZUIpKTtcbn1cblxuZnVuY3Rpb24gZnJvbUpTKHZhbHVlLCBjb252ZXJ0ZXIpIHtcbiAgcmV0dXJuIGZyb21KU1dpdGgoXG4gICAgW10sXG4gICAgY29udmVydGVyIHx8IGRlZmF1bHRDb252ZXJ0ZXIsXG4gICAgdmFsdWUsXG4gICAgJycsXG4gICAgY29udmVydGVyICYmIGNvbnZlcnRlci5sZW5ndGggPiAyID8gW10gOiB1bmRlZmluZWQsXG4gICAgeyAnJzogdmFsdWUgfVxuICApO1xufVxuXG5mdW5jdGlvbiBmcm9tSlNXaXRoKHN0YWNrLCBjb252ZXJ0ZXIsIHZhbHVlLCBrZXksIGtleVBhdGgsIHBhcmVudFZhbHVlKSB7XG4gIHZhciB0b1NlcSA9IEFycmF5LmlzQXJyYXkodmFsdWUpXG4gICAgPyBJbmRleGVkU2VxXG4gICAgOiBpc1BsYWluT2JqKHZhbHVlKSA/IEtleWVkU2VxIDogbnVsbDtcbiAgaWYgKHRvU2VxKSB7XG4gICAgaWYgKH5zdGFjay5pbmRleE9mKHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgY2lyY3VsYXIgc3RydWN0dXJlIHRvIEltbXV0YWJsZScpO1xuICAgIH1cbiAgICBzdGFjay5wdXNoKHZhbHVlKTtcbiAgICBrZXlQYXRoICYmIGtleSAhPT0gJycgJiYga2V5UGF0aC5wdXNoKGtleSk7XG4gICAgdmFyIGNvbnZlcnRlZCA9IGNvbnZlcnRlci5jYWxsKFxuICAgICAgcGFyZW50VmFsdWUsXG4gICAgICBrZXksXG4gICAgICB0b1NlcSh2YWx1ZSkubWFwKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBmcm9tSlNXaXRoKHN0YWNrLCBjb252ZXJ0ZXIsIHYsIGssIGtleVBhdGgsIHZhbHVlKTsgfSksXG4gICAgICBrZXlQYXRoICYmIGtleVBhdGguc2xpY2UoKVxuICAgICk7XG4gICAgc3RhY2sucG9wKCk7XG4gICAga2V5UGF0aCAmJiBrZXlQYXRoLnBvcCgpO1xuICAgIHJldHVybiBjb252ZXJ0ZWQ7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0Q29udmVydGVyKGssIHYpIHtcbiAgcmV0dXJuIGlzS2V5ZWQodikgPyB2LnRvTWFwKCkgOiB2LnRvTGlzdCgpO1xufVxuXG5mdW5jdGlvbiBpc1BsYWluT2JqKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAmJlxuICAgICh2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0IHx8IHZhbHVlLmNvbnN0cnVjdG9yID09PSB1bmRlZmluZWQpO1xufVxuXG52YXIgaW11bCA9IHR5cGVvZiBNYXRoLmltdWwgPT09ICdmdW5jdGlvbicgJiZcbiAgTWF0aC5pbXVsKDB4ZmZmZmZmZmYsIDIpID09PSAtMlxuICA/IE1hdGguaW11bFxuICA6IGZ1bmN0aW9uIGltdWwoYSwgYikge1xuICAgICAgYSB8PSAwOyAvLyBpbnRcbiAgICAgIGIgfD0gMDsgLy8gaW50XG4gICAgICB2YXIgYyA9IGEgJiAweGZmZmY7XG4gICAgICB2YXIgZCA9IGIgJiAweGZmZmY7XG4gICAgICAvLyBTaGlmdCBieSAwIGZpeGVzIHRoZSBzaWduIG9uIHRoZSBoaWdoIHBhcnQuXG4gICAgICByZXR1cm4gYyAqIGQgKyAoKGEgPj4+IDE2KSAqIGQgKyBjICogKGIgPj4+IDE2KSA8PCAxNiA+Pj4gMCkgfCAwOyAvLyBpbnRcbiAgICB9O1xuXG4vLyB2OCBoYXMgYW4gb3B0aW1pemF0aW9uIGZvciBzdG9yaW5nIDMxLWJpdCBzaWduZWQgbnVtYmVycy5cbi8vIFZhbHVlcyB3aGljaCBoYXZlIGVpdGhlciAwMCBvciAxMSBhcyB0aGUgaGlnaCBvcmRlciBiaXRzIHF1YWxpZnkuXG4vLyBUaGlzIGZ1bmN0aW9uIGRyb3BzIHRoZSBoaWdoZXN0IG9yZGVyIGJpdCBpbiBhIHNpZ25lZCBudW1iZXIsIG1haW50YWluaW5nXG4vLyB0aGUgc2lnbiBiaXQuXG5mdW5jdGlvbiBzbWkoaTMyKSB7XG4gIHJldHVybiBpMzIgPj4+IDEgJiAweDQwMDAwMDAwIHwgaTMyICYgMHhiZmZmZmZmZjtcbn1cblxuZnVuY3Rpb24gaGFzaChvKSB7XG4gIGlmIChvID09PSBmYWxzZSB8fCBvID09PSBudWxsIHx8IG8gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGlmICh0eXBlb2Ygby52YWx1ZU9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgbyA9IG8udmFsdWVPZigpO1xuICAgIGlmIChvID09PSBmYWxzZSB8fCBvID09PSBudWxsIHx8IG8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9XG4gIGlmIChvID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgbztcbiAgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKG8gIT09IG8gfHwgbyA9PT0gSW5maW5pdHkpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgaCA9IG8gfCAwO1xuICAgIGlmIChoICE9PSBvKSB7XG4gICAgICBoIF49IG8gKiAweGZmZmZmZmZmO1xuICAgIH1cbiAgICB3aGlsZSAobyA+IDB4ZmZmZmZmZmYpIHtcbiAgICAgIG8gLz0gMHhmZmZmZmZmZjtcbiAgICAgIGggXj0gbztcbiAgICB9XG4gICAgcmV0dXJuIHNtaShoKTtcbiAgfVxuICBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gby5sZW5ndGggPiBTVFJJTkdfSEFTSF9DQUNIRV9NSU5fU1RSTEVOXG4gICAgICA/IGNhY2hlZEhhc2hTdHJpbmcobylcbiAgICAgIDogaGFzaFN0cmluZyhvKTtcbiAgfVxuICBpZiAodHlwZW9mIG8uaGFzaENvZGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gby5oYXNoQ29kZSgpO1xuICB9XG4gIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBoYXNoSlNPYmoobyk7XG4gIH1cbiAgaWYgKHR5cGVvZiBvLnRvU3RyaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGhhc2hTdHJpbmcoby50b1N0cmluZygpKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ1ZhbHVlIHR5cGUgJyArIHR5cGUgKyAnIGNhbm5vdCBiZSBoYXNoZWQuJyk7XG59XG5cbmZ1bmN0aW9uIGNhY2hlZEhhc2hTdHJpbmcoc3RyaW5nKSB7XG4gIHZhciBoYXNoID0gc3RyaW5nSGFzaENhY2hlW3N0cmluZ107XG4gIGlmIChoYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICBoYXNoID0gaGFzaFN0cmluZyhzdHJpbmcpO1xuICAgIGlmIChTVFJJTkdfSEFTSF9DQUNIRV9TSVpFID09PSBTVFJJTkdfSEFTSF9DQUNIRV9NQVhfU0laRSkge1xuICAgICAgU1RSSU5HX0hBU0hfQ0FDSEVfU0laRSA9IDA7XG4gICAgICBzdHJpbmdIYXNoQ2FjaGUgPSB7fTtcbiAgICB9XG4gICAgU1RSSU5HX0hBU0hfQ0FDSEVfU0laRSsrO1xuICAgIHN0cmluZ0hhc2hDYWNoZVtzdHJpbmddID0gaGFzaDtcbiAgfVxuICByZXR1cm4gaGFzaDtcbn1cblxuLy8gaHR0cDovL2pzcGVyZi5jb20vaGFzaGluZy1zdHJpbmdzXG5mdW5jdGlvbiBoYXNoU3RyaW5nKHN0cmluZykge1xuICAvLyBUaGlzIGlzIHRoZSBoYXNoIGZyb20gSlZNXG4gIC8vIFRoZSBoYXNoIGNvZGUgZm9yIGEgc3RyaW5nIGlzIGNvbXB1dGVkIGFzXG4gIC8vIHNbMF0gKiAzMSBeIChuIC0gMSkgKyBzWzFdICogMzEgXiAobiAtIDIpICsgLi4uICsgc1tuIC0gMV0sXG4gIC8vIHdoZXJlIHNbaV0gaXMgdGhlIGl0aCBjaGFyYWN0ZXIgb2YgdGhlIHN0cmluZyBhbmQgbiBpcyB0aGUgbGVuZ3RoIG9mXG4gIC8vIHRoZSBzdHJpbmcuIFdlIFwibW9kXCIgdGhlIHJlc3VsdCB0byBtYWtlIGl0IGJldHdlZW4gMCAoaW5jbHVzaXZlKSBhbmQgMl4zMVxuICAvLyAoZXhjbHVzaXZlKSBieSBkcm9wcGluZyBoaWdoIGJpdHMuXG4gIHZhciBoYXNoID0gMDtcbiAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHN0cmluZy5sZW5ndGg7IGlpKyspIHtcbiAgICBoYXNoID0gMzEgKiBoYXNoICsgc3RyaW5nLmNoYXJDb2RlQXQoaWkpIHwgMDtcbiAgfVxuICByZXR1cm4gc21pKGhhc2gpO1xufVxuXG5mdW5jdGlvbiBoYXNoSlNPYmoob2JqKSB7XG4gIHZhciBoYXNoO1xuICBpZiAodXNpbmdXZWFrTWFwKSB7XG4gICAgaGFzaCA9IHdlYWtNYXAuZ2V0KG9iaik7XG4gICAgaWYgKGhhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfVxuICB9XG5cbiAgaGFzaCA9IG9ialtVSURfSEFTSF9LRVldO1xuICBpZiAoaGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGhhc2g7XG4gIH1cblxuICBpZiAoIWNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgaGFzaCA9IG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSAmJiBvYmoucHJvcGVydHlJc0VudW1lcmFibGVbVUlEX0hBU0hfS0VZXTtcbiAgICBpZiAoaGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gaGFzaDtcbiAgICB9XG5cbiAgICBoYXNoID0gZ2V0SUVOb2RlSGFzaChvYmopO1xuICAgIGlmIChoYXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cbiAgfVxuXG4gIGhhc2ggPSArK29iakhhc2hVSUQ7XG4gIGlmIChvYmpIYXNoVUlEICYgMHg0MDAwMDAwMCkge1xuICAgIG9iakhhc2hVSUQgPSAwO1xuICB9XG5cbiAgaWYgKHVzaW5nV2Vha01hcCkge1xuICAgIHdlYWtNYXAuc2V0KG9iaiwgaGFzaCk7XG4gIH0gZWxzZSBpZiAoaXNFeHRlbnNpYmxlICE9PSB1bmRlZmluZWQgJiYgaXNFeHRlbnNpYmxlKG9iaikgPT09IGZhbHNlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb24tZXh0ZW5zaWJsZSBvYmplY3RzIGFyZSBub3QgYWxsb3dlZCBhcyBrZXlzLicpO1xuICB9IGVsc2UgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgVUlEX0hBU0hfS0VZLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZTogaGFzaFxuICAgIH0pO1xuICB9IGVsc2UgaWYgKFxuICAgIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlID09PSBvYmouY29uc3RydWN0b3IucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlXG4gICkge1xuICAgIC8vIFNpbmNlIHdlIGNhbid0IGRlZmluZSBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IG9uIHRoZSBvYmplY3RcbiAgICAvLyB3ZSdsbCBoaWphY2sgb25lIG9mIHRoZSBsZXNzLXVzZWQgbm9uLWVudW1lcmFibGUgcHJvcGVydGllcyB0b1xuICAgIC8vIHNhdmUgb3VyIGhhc2ggb24gaXQuIFNpbmNlIHRoaXMgaXMgYSBmdW5jdGlvbiBpdCB3aWxsIG5vdCBzaG93IHVwIGluXG4gICAgLy8gYEpTT04uc3RyaW5naWZ5YCB3aGljaCBpcyB3aGF0IHdlIHdhbnQuXG4gICAgb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuYXBwbHkoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIGFyZ3VtZW50c1xuICAgICAgKTtcbiAgICB9O1xuICAgIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZVtVSURfSEFTSF9LRVldID0gaGFzaDtcbiAgfSBlbHNlIGlmIChvYmoubm9kZVR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIEF0IHRoaXMgcG9pbnQgd2UgY291bGRuJ3QgZ2V0IHRoZSBJRSBgdW5pcXVlSURgIHRvIHVzZSBhcyBhIGhhc2hcbiAgICAvLyBhbmQgd2UgY291bGRuJ3QgdXNlIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgdG8gZXhwbG9pdCB0aGVcbiAgICAvLyBkb250RW51bSBidWcgc28gd2Ugc2ltcGx5IGFkZCB0aGUgYFVJRF9IQVNIX0tFWWAgb24gdGhlIG5vZGVcbiAgICAvLyBpdHNlbGYuXG4gICAgb2JqW1VJRF9IQVNIX0tFWV0gPSBoYXNoO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHNldCBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IG9uIG9iamVjdC4nKTtcbiAgfVxuXG4gIHJldHVybiBoYXNoO1xufVxuXG4vLyBHZXQgcmVmZXJlbmNlcyB0byBFUzUgb2JqZWN0IG1ldGhvZHMuXG52YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZTtcblxuLy8gVHJ1ZSBpZiBPYmplY3QuZGVmaW5lUHJvcGVydHkgd29ya3MgYXMgZXhwZWN0ZWQuIElFOCBmYWlscyB0aGlzIHRlc3QuXG52YXIgY2FuRGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnQCcsIHt9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSkoKTtcblxuLy8gSUUgaGFzIGEgYHVuaXF1ZUlEYCBwcm9wZXJ0eSBvbiBET00gbm9kZXMuIFdlIGNhbiBjb25zdHJ1Y3QgdGhlIGhhc2ggZnJvbSBpdFxuLy8gYW5kIGF2b2lkIG1lbW9yeSBsZWFrcyBmcm9tIHRoZSBJRSBjbG9uZU5vZGUgYnVnLlxuZnVuY3Rpb24gZ2V0SUVOb2RlSGFzaChub2RlKSB7XG4gIGlmIChub2RlICYmIG5vZGUubm9kZVR5cGUgPiAwKSB7XG4gICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICBjYXNlIDE6IC8vIEVsZW1lbnRcbiAgICAgICAgcmV0dXJuIG5vZGUudW5pcXVlSUQ7XG4gICAgICBjYXNlIDk6IC8vIERvY3VtZW50XG4gICAgICAgIHJldHVybiBub2RlLmRvY3VtZW50RWxlbWVudCAmJiBub2RlLmRvY3VtZW50RWxlbWVudC51bmlxdWVJRDtcbiAgICB9XG4gIH1cbn1cblxuLy8gSWYgcG9zc2libGUsIHVzZSBhIFdlYWtNYXAuXG52YXIgdXNpbmdXZWFrTWFwID0gdHlwZW9mIFdlYWtNYXAgPT09ICdmdW5jdGlvbic7XG52YXIgd2Vha01hcDtcbmlmICh1c2luZ1dlYWtNYXApIHtcbiAgd2Vha01hcCA9IG5ldyBXZWFrTWFwKCk7XG59XG5cbnZhciBvYmpIYXNoVUlEID0gMDtcblxudmFyIFVJRF9IQVNIX0tFWSA9ICdfX2ltbXV0YWJsZWhhc2hfXyc7XG5pZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuICBVSURfSEFTSF9LRVkgPSBTeW1ib2woVUlEX0hBU0hfS0VZKTtcbn1cblxudmFyIFNUUklOR19IQVNIX0NBQ0hFX01JTl9TVFJMRU4gPSAxNjtcbnZhciBTVFJJTkdfSEFTSF9DQUNIRV9NQVhfU0laRSA9IDI1NTtcbnZhciBTVFJJTkdfSEFTSF9DQUNIRV9TSVpFID0gMDtcbnZhciBzdHJpbmdIYXNoQ2FjaGUgPSB7fTtcblxudmFyIFRvS2V5ZWRTZXF1ZW5jZSA9IChmdW5jdGlvbiAoS2V5ZWRTZXEkJDEpIHtcbiAgZnVuY3Rpb24gVG9LZXllZFNlcXVlbmNlKGluZGV4ZWQsIHVzZUtleXMpIHtcbiAgICB0aGlzLl9pdGVyID0gaW5kZXhlZDtcbiAgICB0aGlzLl91c2VLZXlzID0gdXNlS2V5cztcbiAgICB0aGlzLnNpemUgPSBpbmRleGVkLnNpemU7XG4gIH1cblxuICBpZiAoIEtleWVkU2VxJCQxICkgVG9LZXllZFNlcXVlbmNlLl9fcHJvdG9fXyA9IEtleWVkU2VxJCQxO1xuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggS2V5ZWRTZXEkJDEgJiYgS2V5ZWRTZXEkJDEucHJvdG90eXBlICk7XG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUb0tleWVkU2VxdWVuY2U7XG5cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5faXRlci5nZXQoa2V5LCBub3RTZXRWYWx1ZSk7XG4gIH07XG5cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBoYXMgKGtleSkge1xuICAgIHJldHVybiB0aGlzLl9pdGVyLmhhcyhrZXkpO1xuICB9O1xuXG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUudmFsdWVTZXEgPSBmdW5jdGlvbiB2YWx1ZVNlcSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIudmFsdWVTZXEoKTtcbiAgfTtcblxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbiByZXZlcnNlICgpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciByZXZlcnNlZFNlcXVlbmNlID0gcmV2ZXJzZUZhY3RvcnkodGhpcywgdHJ1ZSk7XG4gICAgaWYgKCF0aGlzLl91c2VLZXlzKSB7XG4gICAgICByZXZlcnNlZFNlcXVlbmNlLnZhbHVlU2VxID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcyQxLl9pdGVyLnRvU2VxKCkucmV2ZXJzZSgpOyB9O1xuICAgIH1cbiAgICByZXR1cm4gcmV2ZXJzZWRTZXF1ZW5jZTtcbiAgfTtcblxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcCAobWFwcGVyLCBjb250ZXh0KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgbWFwcGVkU2VxdWVuY2UgPSBtYXBGYWN0b3J5KHRoaXMsIG1hcHBlciwgY29udGV4dCk7XG4gICAgaWYgKCF0aGlzLl91c2VLZXlzKSB7XG4gICAgICBtYXBwZWRTZXF1ZW5jZS52YWx1ZVNlcSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMkMS5faXRlci50b1NlcSgpLm1hcChtYXBwZXIsIGNvbnRleHQpOyB9O1xuICAgIH1cbiAgICByZXR1cm4gbWFwcGVkU2VxdWVuY2U7XG4gIH07XG5cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIGZuKHYsIGssIHRoaXMkMSk7IH0sIHJldmVyc2UpO1xuICB9O1xuXG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICByZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICB9O1xuXG4gIHJldHVybiBUb0tleWVkU2VxdWVuY2U7XG59KEtleWVkU2VxKSk7XG5Ub0tleWVkU2VxdWVuY2UucHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcblxudmFyIFRvSW5kZXhlZFNlcXVlbmNlID0gKGZ1bmN0aW9uIChJbmRleGVkU2VxJCQxKSB7XG4gIGZ1bmN0aW9uIFRvSW5kZXhlZFNlcXVlbmNlKGl0ZXIpIHtcbiAgICB0aGlzLl9pdGVyID0gaXRlcjtcbiAgICB0aGlzLnNpemUgPSBpdGVyLnNpemU7XG4gIH1cblxuICBpZiAoIEluZGV4ZWRTZXEkJDEgKSBUb0luZGV4ZWRTZXF1ZW5jZS5fX3Byb3RvX18gPSBJbmRleGVkU2VxJCQxO1xuICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbmRleGVkU2VxJCQxICYmIEluZGV4ZWRTZXEkJDEucHJvdG90eXBlICk7XG4gIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRvSW5kZXhlZFNlcXVlbmNlO1xuXG4gIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9pdGVyLmluY2x1ZGVzKHZhbHVlKTtcbiAgfTtcblxuICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGkgPSAwO1xuICAgIHJldmVyc2UgJiYgZW5zdXJlU2l6ZSh0aGlzKTtcbiAgICByZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdGUoXG4gICAgICBmdW5jdGlvbiAodikgeyByZXR1cm4gZm4odiwgcmV2ZXJzZSA/IHRoaXMkMS5zaXplIC0gKytpIDogaSsrLCB0aGlzJDEpOyB9LFxuICAgICAgcmV2ZXJzZVxuICAgICk7XG4gIH07XG5cbiAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgIHZhciBpID0gMDtcbiAgICByZXZlcnNlICYmIGVuc3VyZVNpemUodGhpcyk7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIHJldHVybiBzdGVwLmRvbmVcbiAgICAgICAgPyBzdGVwXG4gICAgICAgIDogaXRlcmF0b3JWYWx1ZShcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICByZXZlcnNlID8gdGhpcyQxLnNpemUgLSArK2kgOiBpKyssXG4gICAgICAgICAgICBzdGVwLnZhbHVlLFxuICAgICAgICAgICAgc3RlcFxuICAgICAgICAgICk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFRvSW5kZXhlZFNlcXVlbmNlO1xufShJbmRleGVkU2VxKSk7XG5cbnZhciBUb1NldFNlcXVlbmNlID0gKGZ1bmN0aW9uIChTZXRTZXEkJDEpIHtcbiAgZnVuY3Rpb24gVG9TZXRTZXF1ZW5jZShpdGVyKSB7XG4gICAgdGhpcy5faXRlciA9IGl0ZXI7XG4gICAgdGhpcy5zaXplID0gaXRlci5zaXplO1xuICB9XG5cbiAgaWYgKCBTZXRTZXEkJDEgKSBUb1NldFNlcXVlbmNlLl9fcHJvdG9fXyA9IFNldFNlcSQkMTtcbiAgVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTZXRTZXEkJDEgJiYgU2V0U2VxJCQxLnByb3RvdHlwZSApO1xuICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRvU2V0U2VxdWVuY2U7XG5cbiAgVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gaGFzIChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5faXRlci5pbmNsdWRlcyhrZXkpO1xuICB9O1xuXG4gIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShmdW5jdGlvbiAodikgeyByZXR1cm4gZm4odiwgdiwgdGhpcyQxKTsgfSwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICByZXR1cm4gc3RlcC5kb25lXG4gICAgICAgID8gc3RlcFxuICAgICAgICA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgc3RlcC52YWx1ZSwgc3RlcC52YWx1ZSwgc3RlcCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFRvU2V0U2VxdWVuY2U7XG59KFNldFNlcSkpO1xuXG52YXIgRnJvbUVudHJpZXNTZXF1ZW5jZSA9IChmdW5jdGlvbiAoS2V5ZWRTZXEkJDEpIHtcbiAgZnVuY3Rpb24gRnJvbUVudHJpZXNTZXF1ZW5jZShlbnRyaWVzKSB7XG4gICAgdGhpcy5faXRlciA9IGVudHJpZXM7XG4gICAgdGhpcy5zaXplID0gZW50cmllcy5zaXplO1xuICB9XG5cbiAgaWYgKCBLZXllZFNlcSQkMSApIEZyb21FbnRyaWVzU2VxdWVuY2UuX19wcm90b19fID0gS2V5ZWRTZXEkJDE7XG4gIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggS2V5ZWRTZXEkJDEgJiYgS2V5ZWRTZXEkJDEucHJvdG90eXBlICk7XG4gIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRnJvbUVudHJpZXNTZXF1ZW5jZTtcblxuICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5lbnRyeVNlcSA9IGZ1bmN0aW9uIGVudHJ5U2VxICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXRlci50b1NlcSgpO1xuICB9O1xuXG4gIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShcbiAgICAgIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAvLyBDaGVjayBpZiBlbnRyeSBleGlzdHMgZmlyc3Qgc28gYXJyYXkgYWNjZXNzIGRvZXNuJ3QgdGhyb3cgZm9yIGhvbGVzXG4gICAgICAgIC8vIGluIHRoZSBwYXJlbnQgaXRlcmF0aW9uLlxuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICB2YWxpZGF0ZUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB2YXIgaW5kZXhlZENvbGxlY3Rpb24gPSBpc0NvbGxlY3Rpb24oZW50cnkpO1xuICAgICAgICAgIHJldHVybiBmbihcbiAgICAgICAgICAgIGluZGV4ZWRDb2xsZWN0aW9uID8gZW50cnkuZ2V0KDEpIDogZW50cnlbMV0sXG4gICAgICAgICAgICBpbmRleGVkQ29sbGVjdGlvbiA/IGVudHJ5LmdldCgwKSA6IGVudHJ5WzBdLFxuICAgICAgICAgICAgdGhpcyQxXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJldmVyc2VcbiAgICApO1xuICB9O1xuXG4gIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlci5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgZW50cnkgZXhpc3RzIGZpcnN0IHNvIGFycmF5IGFjY2VzcyBkb2Vzbid0IHRocm93IGZvciBob2xlc1xuICAgICAgICAvLyBpbiB0aGUgcGFyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgdmFsaWRhdGVFbnRyeShlbnRyeSk7XG4gICAgICAgICAgdmFyIGluZGV4ZWRDb2xsZWN0aW9uID0gaXNDb2xsZWN0aW9uKGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZShcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBpbmRleGVkQ29sbGVjdGlvbiA/IGVudHJ5LmdldCgwKSA6IGVudHJ5WzBdLFxuICAgICAgICAgICAgaW5kZXhlZENvbGxlY3Rpb24gPyBlbnRyeS5nZXQoMSkgOiBlbnRyeVsxXSxcbiAgICAgICAgICAgIHN0ZXBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIEZyb21FbnRyaWVzU2VxdWVuY2U7XG59KEtleWVkU2VxKSk7XG5cblRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9IChUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLmNhY2hlUmVzdWx0ID0gKFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLmNhY2hlUmVzdWx0ID0gKEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLmNhY2hlUmVzdWx0ID0gY2FjaGVSZXN1bHRUaHJvdWdoKSkpO1xuXG5mdW5jdGlvbiBmbGlwRmFjdG9yeShjb2xsZWN0aW9uKSB7XG4gIHZhciBmbGlwU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbik7XG4gIGZsaXBTZXF1ZW5jZS5faXRlciA9IGNvbGxlY3Rpb247XG4gIGZsaXBTZXF1ZW5jZS5zaXplID0gY29sbGVjdGlvbi5zaXplO1xuICBmbGlwU2VxdWVuY2UuZmxpcCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbGxlY3Rpb247IH07XG4gIGZsaXBTZXF1ZW5jZS5yZXZlcnNlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJldmVyc2VkU2VxdWVuY2UgPSBjb2xsZWN0aW9uLnJldmVyc2UuYXBwbHkodGhpcyk7IC8vIHN1cGVyLnJldmVyc2UoKVxuICAgIHJldmVyc2VkU2VxdWVuY2UuZmxpcCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbGxlY3Rpb24ucmV2ZXJzZSgpOyB9O1xuICAgIHJldHVybiByZXZlcnNlZFNlcXVlbmNlO1xuICB9O1xuICBmbGlwU2VxdWVuY2UuaGFzID0gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gY29sbGVjdGlvbi5pbmNsdWRlcyhrZXkpOyB9O1xuICBmbGlwU2VxdWVuY2UuaW5jbHVkZXMgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBjb2xsZWN0aW9uLmhhcyhrZXkpOyB9O1xuICBmbGlwU2VxdWVuY2UuY2FjaGVSZXN1bHQgPSBjYWNoZVJlc3VsdFRocm91Z2g7XG4gIGZsaXBTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICByZXR1cm4gY29sbGVjdGlvbi5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIGZuKGssIHYsIHRoaXMkMSkgIT09IGZhbHNlOyB9LCByZXZlcnNlKTtcbiAgfTtcbiAgZmxpcFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICBpZiAodHlwZSA9PT0gSVRFUkFURV9FTlRSSUVTKSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmICghc3RlcC5kb25lKSB7XG4gICAgICAgICAgdmFyIGsgPSBzdGVwLnZhbHVlWzBdO1xuICAgICAgICAgIHN0ZXAudmFsdWVbMF0gPSBzdGVwLnZhbHVlWzFdO1xuICAgICAgICAgIHN0ZXAudmFsdWVbMV0gPSBrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBjb2xsZWN0aW9uLl9faXRlcmF0b3IoXG4gICAgICB0eXBlID09PSBJVEVSQVRFX1ZBTFVFUyA/IElURVJBVEVfS0VZUyA6IElURVJBVEVfVkFMVUVTLFxuICAgICAgcmV2ZXJzZVxuICAgICk7XG4gIH07XG4gIHJldHVybiBmbGlwU2VxdWVuY2U7XG59XG5cbmZ1bmN0aW9uIG1hcEZhY3RvcnkoY29sbGVjdGlvbiwgbWFwcGVyLCBjb250ZXh0KSB7XG4gIHZhciBtYXBwZWRTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShjb2xsZWN0aW9uKTtcbiAgbWFwcGVkU2VxdWVuY2Uuc2l6ZSA9IGNvbGxlY3Rpb24uc2l6ZTtcbiAgbWFwcGVkU2VxdWVuY2UuaGFzID0gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gY29sbGVjdGlvbi5oYXMoa2V5KTsgfTtcbiAgbWFwcGVkU2VxdWVuY2UuZ2V0ID0gZnVuY3Rpb24gKGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICB2YXIgdiA9IGNvbGxlY3Rpb24uZ2V0KGtleSwgTk9UX1NFVCk7XG4gICAgcmV0dXJuIHYgPT09IE5PVF9TRVRcbiAgICAgID8gbm90U2V0VmFsdWVcbiAgICAgIDogbWFwcGVyLmNhbGwoY29udGV4dCwgdiwga2V5LCBjb2xsZWN0aW9uKTtcbiAgfTtcbiAgbWFwcGVkU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGNvbGxlY3Rpb24uX19pdGVyYXRlKFxuICAgICAgZnVuY3Rpb24gKHYsIGssIGMpIHsgcmV0dXJuIGZuKG1hcHBlci5jYWxsKGNvbnRleHQsIHYsIGssIGMpLCBrLCB0aGlzJDEpICE9PSBmYWxzZTsgfSxcbiAgICAgIHJldmVyc2VcbiAgICApO1xuICB9O1xuICBtYXBwZWRTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIGl0ZXJhdG9yID0gY29sbGVjdGlvbi5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICB9XG4gICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgdmFyIGtleSA9IGVudHJ5WzBdO1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGtleSxcbiAgICAgICAgbWFwcGVyLmNhbGwoY29udGV4dCwgZW50cnlbMV0sIGtleSwgY29sbGVjdGlvbiksXG4gICAgICAgIHN0ZXBcbiAgICAgICk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBtYXBwZWRTZXF1ZW5jZTtcbn1cblxuZnVuY3Rpb24gcmV2ZXJzZUZhY3RvcnkoY29sbGVjdGlvbiwgdXNlS2V5cykge1xuICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB2YXIgcmV2ZXJzZWRTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShjb2xsZWN0aW9uKTtcbiAgcmV2ZXJzZWRTZXF1ZW5jZS5faXRlciA9IGNvbGxlY3Rpb247XG4gIHJldmVyc2VkU2VxdWVuY2Uuc2l6ZSA9IGNvbGxlY3Rpb24uc2l6ZTtcbiAgcmV2ZXJzZWRTZXF1ZW5jZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29sbGVjdGlvbjsgfTtcbiAgaWYgKGNvbGxlY3Rpb24uZmxpcCkge1xuICAgIHJldmVyc2VkU2VxdWVuY2UuZmxpcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGZsaXBTZXF1ZW5jZSA9IGZsaXBGYWN0b3J5KGNvbGxlY3Rpb24pO1xuICAgICAgZmxpcFNlcXVlbmNlLnJldmVyc2UgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2xsZWN0aW9uLmZsaXAoKTsgfTtcbiAgICAgIHJldHVybiBmbGlwU2VxdWVuY2U7XG4gICAgfTtcbiAgfVxuICByZXZlcnNlZFNlcXVlbmNlLmdldCA9IGZ1bmN0aW9uIChrZXksIG5vdFNldFZhbHVlKSB7IHJldHVybiBjb2xsZWN0aW9uLmdldCh1c2VLZXlzID8ga2V5IDogLTEgLSBrZXksIG5vdFNldFZhbHVlKTsgfTtcbiAgcmV2ZXJzZWRTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBjb2xsZWN0aW9uLmhhcyh1c2VLZXlzID8ga2V5IDogLTEgLSBrZXkpOyB9O1xuICByZXZlcnNlZFNlcXVlbmNlLmluY2x1ZGVzID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBjb2xsZWN0aW9uLmluY2x1ZGVzKHZhbHVlKTsgfTtcbiAgcmV2ZXJzZWRTZXF1ZW5jZS5jYWNoZVJlc3VsdCA9IGNhY2hlUmVzdWx0VGhyb3VnaDtcbiAgcmV2ZXJzZWRTZXF1ZW5jZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGkgPSAwO1xuICAgIHJldmVyc2UgJiYgZW5zdXJlU2l6ZShjb2xsZWN0aW9uKTtcbiAgICByZXR1cm4gY29sbGVjdGlvbi5fX2l0ZXJhdGUoXG4gICAgICBmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gZm4odiwgdXNlS2V5cyA/IGsgOiByZXZlcnNlID8gdGhpcyQxLnNpemUgLSArK2kgOiBpKyssIHRoaXMkMSk7IH0sXG4gICAgICAhcmV2ZXJzZVxuICAgICk7XG4gIH07XG4gIHJldmVyc2VkU2VxdWVuY2UuX19pdGVyYXRvciA9IGZ1bmN0aW9uICh0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHJldmVyc2UgJiYgZW5zdXJlU2l6ZShjb2xsZWN0aW9uKTtcbiAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCAhcmV2ZXJzZSk7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICB9XG4gICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHVzZUtleXMgPyBlbnRyeVswXSA6IHJldmVyc2UgPyB0aGlzJDEuc2l6ZSAtICsraSA6IGkrKyxcbiAgICAgICAgZW50cnlbMV0sXG4gICAgICAgIHN0ZXBcbiAgICAgICk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiByZXZlcnNlZFNlcXVlbmNlO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXJGYWN0b3J5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgY29udGV4dCwgdXNlS2V5cykge1xuICB2YXIgZmlsdGVyU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbik7XG4gIGlmICh1c2VLZXlzKSB7XG4gICAgZmlsdGVyU2VxdWVuY2UuaGFzID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHYgPSBjb2xsZWN0aW9uLmdldChrZXksIE5PVF9TRVQpO1xuICAgICAgcmV0dXJuIHYgIT09IE5PVF9TRVQgJiYgISFwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrZXksIGNvbGxlY3Rpb24pO1xuICAgIH07XG4gICAgZmlsdGVyU2VxdWVuY2UuZ2V0ID0gZnVuY3Rpb24gKGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciB2ID0gY29sbGVjdGlvbi5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICAgIHJldHVybiB2ICE9PSBOT1RfU0VUICYmIHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGtleSwgY29sbGVjdGlvbilcbiAgICAgICAgPyB2XG4gICAgICAgIDogbm90U2V0VmFsdWU7XG4gICAgfTtcbiAgfVxuICBmaWx0ZXJTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgY29sbGVjdGlvbi5fX2l0ZXJhdGUoXG4gICAgICBmdW5jdGlvbiAodiwgaywgYykge1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgICByZXR1cm4gZm4odiwgdXNlS2V5cyA/IGsgOiBpdGVyYXRpb25zKyssIHRoaXMkMSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZXZlcnNlXG4gICAgKTtcbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgfTtcbiAgZmlsdGVyU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgdmFyIGtleSA9IGVudHJ5WzBdO1xuICAgICAgICB2YXIgdmFsdWUgPSBlbnRyeVsxXTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgdXNlS2V5cyA/IGtleSA6IGl0ZXJhdGlvbnMrKywgdmFsdWUsIHN0ZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBmaWx0ZXJTZXF1ZW5jZTtcbn1cblxuZnVuY3Rpb24gY291bnRCeUZhY3RvcnkoY29sbGVjdGlvbiwgZ3JvdXBlciwgY29udGV4dCkge1xuICB2YXIgZ3JvdXBzID0gTWFwKCkuYXNNdXRhYmxlKCk7XG4gIGNvbGxlY3Rpb24uX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgZ3JvdXBzLnVwZGF0ZShncm91cGVyLmNhbGwoY29udGV4dCwgdiwgaywgY29sbGVjdGlvbiksIDAsIGZ1bmN0aW9uIChhKSB7IHJldHVybiBhICsgMTsgfSk7XG4gIH0pO1xuICByZXR1cm4gZ3JvdXBzLmFzSW1tdXRhYmxlKCk7XG59XG5cbmZ1bmN0aW9uIGdyb3VwQnlGYWN0b3J5KGNvbGxlY3Rpb24sIGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgdmFyIGlzS2V5ZWRJdGVyID0gaXNLZXllZChjb2xsZWN0aW9uKTtcbiAgdmFyIGdyb3VwcyA9IChpc09yZGVyZWQoY29sbGVjdGlvbikgPyBPcmRlcmVkTWFwKCkgOiBNYXAoKSkuYXNNdXRhYmxlKCk7XG4gIGNvbGxlY3Rpb24uX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgZ3JvdXBzLnVwZGF0ZShcbiAgICAgIGdyb3VwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBjb2xsZWN0aW9uKSxcbiAgICAgIGZ1bmN0aW9uIChhKSB7IHJldHVybiAoKGEgPSBhIHx8IFtdKSwgYS5wdXNoKGlzS2V5ZWRJdGVyID8gW2ssIHZdIDogdiksIGEpOyB9XG4gICAgKTtcbiAgfSk7XG4gIHZhciBjb2VyY2UgPSBjb2xsZWN0aW9uQ2xhc3MoY29sbGVjdGlvbik7XG4gIHJldHVybiBncm91cHMubWFwKGZ1bmN0aW9uIChhcnIpIHsgcmV0dXJuIHJlaWZ5KGNvbGxlY3Rpb24sIGNvZXJjZShhcnIpKTsgfSk7XG59XG5cbmZ1bmN0aW9uIHNsaWNlRmFjdG9yeShjb2xsZWN0aW9uLCBiZWdpbiwgZW5kLCB1c2VLZXlzKSB7XG4gIHZhciBvcmlnaW5hbFNpemUgPSBjb2xsZWN0aW9uLnNpemU7XG5cbiAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgb3JpZ2luYWxTaXplKSkge1xuICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICB9XG5cbiAgdmFyIHJlc29sdmVkQmVnaW4gPSByZXNvbHZlQmVnaW4oYmVnaW4sIG9yaWdpbmFsU2l6ZSk7XG4gIHZhciByZXNvbHZlZEVuZCA9IHJlc29sdmVFbmQoZW5kLCBvcmlnaW5hbFNpemUpO1xuXG4gIC8vIGJlZ2luIG9yIGVuZCB3aWxsIGJlIE5hTiBpZiB0aGV5IHdlcmUgcHJvdmlkZWQgYXMgbmVnYXRpdmUgbnVtYmVycyBhbmRcbiAgLy8gdGhpcyBjb2xsZWN0aW9uJ3Mgc2l6ZSBpcyB1bmtub3duLiBJbiB0aGF0IGNhc2UsIGNhY2hlIGZpcnN0IHNvIHRoZXJlIGlzXG4gIC8vIGEga25vd24gc2l6ZSBhbmQgdGhlc2UgZG8gbm90IHJlc29sdmUgdG8gTmFOLlxuICBpZiAocmVzb2x2ZWRCZWdpbiAhPT0gcmVzb2x2ZWRCZWdpbiB8fCByZXNvbHZlZEVuZCAhPT0gcmVzb2x2ZWRFbmQpIHtcbiAgICByZXR1cm4gc2xpY2VGYWN0b3J5KGNvbGxlY3Rpb24udG9TZXEoKS5jYWNoZVJlc3VsdCgpLCBiZWdpbiwgZW5kLCB1c2VLZXlzKTtcbiAgfVxuXG4gIC8vIE5vdGU6IHJlc29sdmVkRW5kIGlzIHVuZGVmaW5lZCB3aGVuIHRoZSBvcmlnaW5hbCBzZXF1ZW5jZSdzIGxlbmd0aCBpc1xuICAvLyB1bmtub3duIGFuZCB0aGlzIHNsaWNlIGRpZCBub3Qgc3VwcGx5IGFuIGVuZCBhbmQgc2hvdWxkIGNvbnRhaW4gYWxsXG4gIC8vIGVsZW1lbnRzIGFmdGVyIHJlc29sdmVkQmVnaW4uXG4gIC8vIEluIHRoYXQgY2FzZSwgcmVzb2x2ZWRTaXplIHdpbGwgYmUgTmFOIGFuZCBzbGljZVNpemUgd2lsbCByZW1haW4gdW5kZWZpbmVkLlxuICB2YXIgcmVzb2x2ZWRTaXplID0gcmVzb2x2ZWRFbmQgLSByZXNvbHZlZEJlZ2luO1xuICB2YXIgc2xpY2VTaXplO1xuICBpZiAocmVzb2x2ZWRTaXplID09PSByZXNvbHZlZFNpemUpIHtcbiAgICBzbGljZVNpemUgPSByZXNvbHZlZFNpemUgPCAwID8gMCA6IHJlc29sdmVkU2l6ZTtcbiAgfVxuXG4gIHZhciBzbGljZVNlcSA9IG1ha2VTZXF1ZW5jZShjb2xsZWN0aW9uKTtcblxuICAvLyBJZiBjb2xsZWN0aW9uLnNpemUgaXMgdW5kZWZpbmVkLCB0aGUgc2l6ZSBvZiB0aGUgcmVhbGl6ZWQgc2xpY2VTZXEgaXNcbiAgLy8gdW5rbm93biBhdCB0aGlzIHBvaW50IHVubGVzcyB0aGUgbnVtYmVyIG9mIGl0ZW1zIHRvIHNsaWNlIGlzIDBcbiAgc2xpY2VTZXEuc2l6ZSA9IHNsaWNlU2l6ZSA9PT0gMFxuICAgID8gc2xpY2VTaXplXG4gICAgOiAoY29sbGVjdGlvbi5zaXplICYmIHNsaWNlU2l6ZSkgfHwgdW5kZWZpbmVkO1xuXG4gIGlmICghdXNlS2V5cyAmJiBpc1NlcShjb2xsZWN0aW9uKSAmJiBzbGljZVNpemUgPj0gMCkge1xuICAgIHNsaWNlU2VxLmdldCA9IGZ1bmN0aW9uKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgICAgcmV0dXJuIGluZGV4ID49IDAgJiYgaW5kZXggPCBzbGljZVNpemVcbiAgICAgICAgPyBjb2xsZWN0aW9uLmdldChpbmRleCArIHJlc29sdmVkQmVnaW4sIG5vdFNldFZhbHVlKVxuICAgICAgICA6IG5vdFNldFZhbHVlO1xuICAgIH07XG4gIH1cblxuICBzbGljZVNlcS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBpZiAoc2xpY2VTaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIHNraXBwZWQgPSAwO1xuICAgIHZhciBpc1NraXBwaW5nID0gdHJ1ZTtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgY29sbGVjdGlvbi5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgIGlmICghKGlzU2tpcHBpbmcgJiYgKGlzU2tpcHBpbmcgPSBza2lwcGVkKysgPCByZXNvbHZlZEJlZ2luKSkpIHtcbiAgICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgICByZXR1cm4gZm4odiwgdXNlS2V5cyA/IGsgOiBpdGVyYXRpb25zIC0gMSwgdGhpcyQxKSAhPT0gZmFsc2UgJiZcbiAgICAgICAgICBpdGVyYXRpb25zICE9PSBzbGljZVNpemU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG5cbiAgc2xpY2VTZXEuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgIGlmIChzbGljZVNpemUgIT09IDAgJiYgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH1cbiAgICAvLyBEb24ndCBib3RoZXIgaW5zdGFudGlhdGluZyBwYXJlbnQgaXRlcmF0b3IgaWYgdGFraW5nIDAuXG4gICAgdmFyIGl0ZXJhdG9yID0gc2xpY2VTaXplICE9PSAwICYmIGNvbGxlY3Rpb24uX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB2YXIgc2tpcHBlZCA9IDA7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgd2hpbGUgKHNraXBwZWQrKyA8IHJlc29sdmVkQmVnaW4pIHtcbiAgICAgICAgaXRlcmF0b3IubmV4dCgpO1xuICAgICAgfVxuICAgICAgaWYgKCsraXRlcmF0aW9ucyA+IHNsaWNlU2l6ZSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIGlmICh1c2VLZXlzIHx8IHR5cGUgPT09IElURVJBVEVfVkFMVUVTKSB7XG4gICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgPT09IElURVJBVEVfS0VZUykge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zIC0gMSwgdW5kZWZpbmVkLCBzdGVwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMgLSAxLCBzdGVwLnZhbHVlWzFdLCBzdGVwKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gc2xpY2VTZXE7XG59XG5cbmZ1bmN0aW9uIHRha2VXaGlsZUZhY3RvcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gIHZhciB0YWtlU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbik7XG4gIHRha2VTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgY29sbGVjdGlvbi5fX2l0ZXJhdGUoXG4gICAgICBmdW5jdGlvbiAodiwgaywgYykgeyByZXR1cm4gcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykgJiYgKytpdGVyYXRpb25zICYmIGZuKHYsIGssIHRoaXMkMSk7IH1cbiAgICApO1xuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuICB0YWtlU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdG9yID0gY29sbGVjdGlvbi5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgdmFyIGl0ZXJhdGluZyA9IHRydWU7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIWl0ZXJhdGluZykge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICB9XG4gICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgdmFyIGsgPSBlbnRyeVswXTtcbiAgICAgIHZhciB2ID0gZW50cnlbMV07XG4gICAgICBpZiAoIXByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIHRoaXMkMSkpIHtcbiAgICAgICAgaXRlcmF0aW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0eXBlID09PSBJVEVSQVRFX0VOVFJJRVMgPyBzdGVwIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBrLCB2LCBzdGVwKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIHRha2VTZXF1ZW5jZTtcbn1cblxuZnVuY3Rpb24gc2tpcFdoaWxlRmFjdG9yeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGNvbnRleHQsIHVzZUtleXMpIHtcbiAgdmFyIHNraXBTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShjb2xsZWN0aW9uKTtcbiAgc2tpcFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIHZhciBpc1NraXBwaW5nID0gdHJ1ZTtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgY29sbGVjdGlvbi5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYsIGssIGMpIHtcbiAgICAgIGlmICghKGlzU2tpcHBpbmcgJiYgKGlzU2tpcHBpbmcgPSBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCBjKSkpKSB7XG4gICAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgICAgcmV0dXJuIGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucyAtIDEsIHRoaXMkMSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG4gIHNraXBTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICB2YXIgc2tpcHBpbmcgPSB0cnVlO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGVwO1xuICAgICAgdmFyIGs7XG4gICAgICB2YXIgdjtcbiAgICAgIGRvIHtcbiAgICAgICAgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgIGlmICh1c2VLZXlzIHx8IHR5cGUgPT09IElURVJBVEVfVkFMVUVTKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGUgPT09IElURVJBVEVfS0VZUykge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCB1bmRlZmluZWQsIHN0ZXApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHN0ZXAudmFsdWVbMV0sIHN0ZXApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgIGsgPSBlbnRyeVswXTtcbiAgICAgICAgdiA9IGVudHJ5WzFdO1xuICAgICAgICBza2lwcGluZyAmJiAoc2tpcHBpbmcgPSBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCB0aGlzJDEpKTtcbiAgICAgIH0gd2hpbGUgKHNraXBwaW5nKTtcbiAgICAgIHJldHVybiB0eXBlID09PSBJVEVSQVRFX0VOVFJJRVMgPyBzdGVwIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBrLCB2LCBzdGVwKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIHNraXBTZXF1ZW5jZTtcbn1cblxuZnVuY3Rpb24gY29uY2F0RmFjdG9yeShjb2xsZWN0aW9uLCB2YWx1ZXMpIHtcbiAgdmFyIGlzS2V5ZWRDb2xsZWN0aW9uID0gaXNLZXllZChjb2xsZWN0aW9uKTtcbiAgdmFyIGl0ZXJzID0gW2NvbGxlY3Rpb25dXG4gICAgLmNvbmNhdCh2YWx1ZXMpXG4gICAgLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgaWYgKCFpc0NvbGxlY3Rpb24odikpIHtcbiAgICAgICAgdiA9IGlzS2V5ZWRDb2xsZWN0aW9uXG4gICAgICAgICAgPyBrZXllZFNlcUZyb21WYWx1ZSh2KVxuICAgICAgICAgIDogaW5kZXhlZFNlcUZyb21WYWx1ZShBcnJheS5pc0FycmF5KHYpID8gdiA6IFt2XSk7XG4gICAgICB9IGVsc2UgaWYgKGlzS2V5ZWRDb2xsZWN0aW9uKSB7XG4gICAgICAgIHYgPSBLZXllZENvbGxlY3Rpb24odik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdjtcbiAgICB9KVxuICAgIC5maWx0ZXIoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYuc2l6ZSAhPT0gMDsgfSk7XG5cbiAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICB9XG5cbiAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgIHZhciBzaW5nbGV0b24gPSBpdGVyc1swXTtcbiAgICBpZiAoXG4gICAgICBzaW5nbGV0b24gPT09IGNvbGxlY3Rpb24gfHxcbiAgICAgIChpc0tleWVkQ29sbGVjdGlvbiAmJiBpc0tleWVkKHNpbmdsZXRvbikpIHx8XG4gICAgICAoaXNJbmRleGVkKGNvbGxlY3Rpb24pICYmIGlzSW5kZXhlZChzaW5nbGV0b24pKVxuICAgICkge1xuICAgICAgcmV0dXJuIHNpbmdsZXRvbjtcbiAgICB9XG4gIH1cblxuICB2YXIgY29uY2F0U2VxID0gbmV3IEFycmF5U2VxKGl0ZXJzKTtcbiAgaWYgKGlzS2V5ZWRDb2xsZWN0aW9uKSB7XG4gICAgY29uY2F0U2VxID0gY29uY2F0U2VxLnRvS2V5ZWRTZXEoKTtcbiAgfSBlbHNlIGlmICghaXNJbmRleGVkKGNvbGxlY3Rpb24pKSB7XG4gICAgY29uY2F0U2VxID0gY29uY2F0U2VxLnRvU2V0U2VxKCk7XG4gIH1cbiAgY29uY2F0U2VxID0gY29uY2F0U2VxLmZsYXR0ZW4odHJ1ZSk7XG4gIGNvbmNhdFNlcS5zaXplID0gaXRlcnMucmVkdWNlKFxuICAgIGZ1bmN0aW9uIChzdW0sIHNlcSkge1xuICAgICAgaWYgKHN1bSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBzaXplID0gc2VxLnNpemU7XG4gICAgICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gc3VtICsgc2l6ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgMFxuICApO1xuICByZXR1cm4gY29uY2F0U2VxO1xufVxuXG5mdW5jdGlvbiBmbGF0dGVuRmFjdG9yeShjb2xsZWN0aW9uLCBkZXB0aCwgdXNlS2V5cykge1xuICB2YXIgZmxhdFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuICBmbGF0U2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICB2YXIgc3RvcHBlZCA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIGZsYXREZWVwKGl0ZXIsIGN1cnJlbnREZXB0aCkge1xuICAgICAgaXRlci5fX2l0ZXJhdGUoXG4gICAgICAgIGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICAgICAgaWYgKCghZGVwdGggfHwgY3VycmVudERlcHRoIDwgZGVwdGgpICYmIGlzQ29sbGVjdGlvbih2KSkge1xuICAgICAgICAgICAgZmxhdERlZXAodiwgY3VycmVudERlcHRoICsgMSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucysrLCBmbGF0U2VxdWVuY2UpID09PSBmYWxzZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAhc3RvcHBlZDtcbiAgICAgICAgfSxcbiAgICAgICAgcmV2ZXJzZVxuICAgICAgKTtcbiAgICB9XG4gICAgZmxhdERlZXAoY29sbGVjdGlvbiwgMCk7XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG4gIGZsYXRTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdG9yID0gY29sbGVjdGlvbi5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIHZhciBzdGFjayA9IFtdO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdoaWxlIChpdGVyYXRvcikge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKHN0ZXAuZG9uZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBpdGVyYXRvciA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgaWYgKHR5cGUgPT09IElURVJBVEVfRU5UUklFUykge1xuICAgICAgICAgIHYgPSB2WzFdO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoIWRlcHRoIHx8IHN0YWNrLmxlbmd0aCA8IGRlcHRoKSAmJiBpc0NvbGxlY3Rpb24odikpIHtcbiAgICAgICAgICBzdGFjay5wdXNoKGl0ZXJhdG9yKTtcbiAgICAgICAgICBpdGVyYXRvciA9IHYuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdXNlS2V5cyA/IHN0ZXAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgdiwgc3RlcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIGZsYXRTZXF1ZW5jZTtcbn1cblxuZnVuY3Rpb24gZmxhdE1hcEZhY3RvcnkoY29sbGVjdGlvbiwgbWFwcGVyLCBjb250ZXh0KSB7XG4gIHZhciBjb2VyY2UgPSBjb2xsZWN0aW9uQ2xhc3MoY29sbGVjdGlvbik7XG4gIHJldHVybiBjb2xsZWN0aW9uXG4gICAgLnRvU2VxKClcbiAgICAubWFwKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBjb2VyY2UobWFwcGVyLmNhbGwoY29udGV4dCwgdiwgaywgY29sbGVjdGlvbikpOyB9KVxuICAgIC5mbGF0dGVuKHRydWUpO1xufVxuXG5mdW5jdGlvbiBpbnRlcnBvc2VGYWN0b3J5KGNvbGxlY3Rpb24sIHNlcGFyYXRvcikge1xuICB2YXIgaW50ZXJwb3NlZFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuICBpbnRlcnBvc2VkU2VxdWVuY2Uuc2l6ZSA9IGNvbGxlY3Rpb24uc2l6ZSAmJiBjb2xsZWN0aW9uLnNpemUgKiAyIC0gMTtcbiAgaW50ZXJwb3NlZFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICBjb2xsZWN0aW9uLl9faXRlcmF0ZShcbiAgICAgIGZ1bmN0aW9uICh2KSB7IHJldHVybiAoIWl0ZXJhdGlvbnMgfHwgZm4oc2VwYXJhdG9yLCBpdGVyYXRpb25zKyssIHRoaXMkMSkgIT09IGZhbHNlKSAmJlxuICAgICAgICBmbih2LCBpdGVyYXRpb25zKyssIHRoaXMkMSkgIT09IGZhbHNlOyB9LFxuICAgICAgcmV2ZXJzZVxuICAgICk7XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG4gIGludGVycG9zZWRTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIGl0ZXJhdG9yID0gY29sbGVjdGlvbi5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgdmFyIHN0ZXA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXN0ZXAgfHwgaXRlcmF0aW9ucyAlIDIpIHtcbiAgICAgICAgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucyAlIDJcbiAgICAgICAgPyBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgc2VwYXJhdG9yKVxuICAgICAgICA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzdGVwLnZhbHVlLCBzdGVwKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIGludGVycG9zZWRTZXF1ZW5jZTtcbn1cblxuZnVuY3Rpb24gc29ydEZhY3RvcnkoY29sbGVjdGlvbiwgY29tcGFyYXRvciwgbWFwcGVyKSB7XG4gIGlmICghY29tcGFyYXRvcikge1xuICAgIGNvbXBhcmF0b3IgPSBkZWZhdWx0Q29tcGFyYXRvcjtcbiAgfVxuICB2YXIgaXNLZXllZENvbGxlY3Rpb24gPSBpc0tleWVkKGNvbGxlY3Rpb24pO1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgZW50cmllcyA9IGNvbGxlY3Rpb25cbiAgICAudG9TZXEoKVxuICAgIC5tYXAoZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIFtrLCB2LCBpbmRleCsrLCBtYXBwZXIgPyBtYXBwZXIodiwgaywgY29sbGVjdGlvbikgOiB2XTsgfSlcbiAgICAudG9BcnJheSgpO1xuICBlbnRyaWVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGNvbXBhcmF0b3IoYVszXSwgYlszXSkgfHwgYVsyXSAtIGJbMl07IH0pLmZvckVhY2goXG4gICAgaXNLZXllZENvbGxlY3Rpb25cbiAgICAgID8gZnVuY3Rpb24gKHYsIGkpIHtcbiAgICAgICAgICBlbnRyaWVzW2ldLmxlbmd0aCA9IDI7XG4gICAgICAgIH1cbiAgICAgIDogZnVuY3Rpb24gKHYsIGkpIHtcbiAgICAgICAgICBlbnRyaWVzW2ldID0gdlsxXTtcbiAgICAgICAgfVxuICApO1xuICByZXR1cm4gaXNLZXllZENvbGxlY3Rpb25cbiAgICA/IEtleWVkU2VxKGVudHJpZXMpXG4gICAgOiBpc0luZGV4ZWQoY29sbGVjdGlvbikgPyBJbmRleGVkU2VxKGVudHJpZXMpIDogU2V0U2VxKGVudHJpZXMpO1xufVxuXG5mdW5jdGlvbiBtYXhGYWN0b3J5KGNvbGxlY3Rpb24sIGNvbXBhcmF0b3IsIG1hcHBlcikge1xuICBpZiAoIWNvbXBhcmF0b3IpIHtcbiAgICBjb21wYXJhdG9yID0gZGVmYXVsdENvbXBhcmF0b3I7XG4gIH1cbiAgaWYgKG1hcHBlcikge1xuICAgIHZhciBlbnRyeSA9IGNvbGxlY3Rpb25cbiAgICAgIC50b1NlcSgpXG4gICAgICAubWFwKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBbdiwgbWFwcGVyKHYsIGssIGNvbGxlY3Rpb24pXTsgfSlcbiAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIG1heENvbXBhcmUoY29tcGFyYXRvciwgYVsxXSwgYlsxXSkgPyBiIDogYTsgfSk7XG4gICAgcmV0dXJuIGVudHJ5ICYmIGVudHJ5WzBdO1xuICB9XG4gIHJldHVybiBjb2xsZWN0aW9uLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gbWF4Q29tcGFyZShjb21wYXJhdG9yLCBhLCBiKSA/IGIgOiBhOyB9KTtcbn1cblxuZnVuY3Rpb24gbWF4Q29tcGFyZShjb21wYXJhdG9yLCBhLCBiKSB7XG4gIHZhciBjb21wID0gY29tcGFyYXRvcihiLCBhKTtcbiAgLy8gYiBpcyBjb25zaWRlcmVkIHRoZSBuZXcgbWF4IGlmIHRoZSBjb21wYXJhdG9yIGRlY2xhcmVzIHRoZW0gZXF1YWwsIGJ1dFxuICAvLyB0aGV5IGFyZSBub3QgZXF1YWwgYW5kIGIgaXMgaW4gZmFjdCBhIG51bGxpc2ggdmFsdWUuXG4gIHJldHVybiAoY29tcCA9PT0gMCAmJlxuICAgIGIgIT09IGEgJiZcbiAgICAoYiA9PT0gdW5kZWZpbmVkIHx8IGIgPT09IG51bGwgfHwgYiAhPT0gYikpIHx8XG4gICAgY29tcCA+IDA7XG59XG5cbmZ1bmN0aW9uIHppcFdpdGhGYWN0b3J5KGtleUl0ZXIsIHppcHBlciwgaXRlcnMpIHtcbiAgdmFyIHppcFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGtleUl0ZXIpO1xuICB6aXBTZXF1ZW5jZS5zaXplID0gbmV3IEFycmF5U2VxKGl0ZXJzKS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkuc2l6ZTsgfSkubWluKCk7XG4gIC8vIE5vdGU6IHRoaXMgYSBnZW5lcmljIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgX19pdGVyYXRlIGluIHRlcm1zIG9mXG4gIC8vIF9faXRlcmF0b3Igd2hpY2ggbWF5IGJlIG1vcmUgZ2VuZXJpY2FsbHkgdXNlZnVsIGluIHRoZSBmdXR1cmUuXG4gIHppcFNlcXVlbmNlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAvKiBnZW5lcmljOlxuICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgIHZhciBzdGVwO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICBpdGVyYXRpb25zKys7XG4gICAgICBpZiAoZm4oc3RlcC52YWx1ZVsxXSwgc3RlcC52YWx1ZVswXSwgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICAqL1xuICAgIC8vIGluZGV4ZWQ6XG4gICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICB2YXIgc3RlcDtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgaWYgKGZuKHN0ZXAudmFsdWUsIGl0ZXJhdGlvbnMrKywgdGhpcyQxKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuICB6aXBTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIGl0ZXJhdG9ycyA9IGl0ZXJzLm1hcChcbiAgICAgIGZ1bmN0aW9uIChpKSB7IHJldHVybiAoKGkgPSBDb2xsZWN0aW9uKGkpKSwgZ2V0SXRlcmF0b3IocmV2ZXJzZSA/IGkucmV2ZXJzZSgpIDogaSkpOyB9XG4gICAgKTtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgdmFyIGlzRG9uZSA9IGZhbHNlO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0ZXBzO1xuICAgICAgaWYgKCFpc0RvbmUpIHtcbiAgICAgICAgc3RlcHMgPSBpdGVyYXRvcnMubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLm5leHQoKTsgfSk7XG4gICAgICAgIGlzRG9uZSA9IHN0ZXBzLnNvbWUoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuZG9uZTsgfSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNEb25lKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKFxuICAgICAgICB0eXBlLFxuICAgICAgICBpdGVyYXRpb25zKyssXG4gICAgICAgIHppcHBlci5hcHBseShudWxsLCBzdGVwcy5tYXAoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudmFsdWU7IH0pKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIHppcFNlcXVlbmNlO1xufVxuXG4vLyAjcHJhZ21hIEhlbHBlciBGdW5jdGlvbnNcblxuZnVuY3Rpb24gcmVpZnkoaXRlciwgc2VxKSB7XG4gIHJldHVybiBpdGVyID09PSBzZXEgPyBpdGVyIDogaXNTZXEoaXRlcikgPyBzZXEgOiBpdGVyLmNvbnN0cnVjdG9yKHNlcSk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRW50cnkoZW50cnkpIHtcbiAgaWYgKGVudHJ5ICE9PSBPYmplY3QoZW50cnkpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgW0ssIFZdIHR1cGxlOiAnICsgZW50cnkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbGxlY3Rpb25DbGFzcyhjb2xsZWN0aW9uKSB7XG4gIHJldHVybiBpc0tleWVkKGNvbGxlY3Rpb24pXG4gICAgPyBLZXllZENvbGxlY3Rpb25cbiAgICA6IGlzSW5kZXhlZChjb2xsZWN0aW9uKSA/IEluZGV4ZWRDb2xsZWN0aW9uIDogU2V0Q29sbGVjdGlvbjtcbn1cblxuZnVuY3Rpb24gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuIE9iamVjdC5jcmVhdGUoXG4gICAgKGlzS2V5ZWQoY29sbGVjdGlvbilcbiAgICAgID8gS2V5ZWRTZXFcbiAgICAgIDogaXNJbmRleGVkKGNvbGxlY3Rpb24pID8gSW5kZXhlZFNlcSA6IFNldFNlcSkucHJvdG90eXBlXG4gICk7XG59XG5cbmZ1bmN0aW9uIGNhY2hlUmVzdWx0VGhyb3VnaCgpIHtcbiAgaWYgKHRoaXMuX2l0ZXIuY2FjaGVSZXN1bHQpIHtcbiAgICB0aGlzLl9pdGVyLmNhY2hlUmVzdWx0KCk7XG4gICAgdGhpcy5zaXplID0gdGhpcy5faXRlci5zaXplO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJldHVybiBTZXEucHJvdG90eXBlLmNhY2hlUmVzdWx0LmNhbGwodGhpcyk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRDb21wYXJhdG9yKGEsIGIpIHtcbiAgaWYgKGEgPT09IHVuZGVmaW5lZCAmJiBiID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGlmIChhID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIGlmIChiID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICByZXR1cm4gYSA+IGIgPyAxIDogYSA8IGIgPyAtMSA6IDA7XG59XG5cbmZ1bmN0aW9uIGNvZXJjZUtleVBhdGgoa2V5UGF0aCkge1xuICBpZiAoaXNBcnJheUxpa2Uoa2V5UGF0aCkgJiYgdHlwZW9mIGtleVBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGtleVBhdGg7XG4gIH1cbiAgaWYgKGlzT3JkZXJlZChrZXlQYXRoKSkge1xuICAgIHJldHVybiBrZXlQYXRoLnRvQXJyYXkoKTtcbiAgfVxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICdJbnZhbGlkIGtleVBhdGg6IGV4cGVjdGVkIE9yZGVyZWQgQ29sbGVjdGlvbiBvciBBcnJheTogJyArIGtleVBhdGhcbiAgKTtcbn1cblxuZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgZXJyb3IpIHtcbiAgaWYgKCFjb25kaXRpb24pIHsgdGhyb3cgbmV3IEVycm9yKGVycm9yKTsgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnROb3RJbmZpbml0ZShzaXplKSB7XG4gIGludmFyaWFudChcbiAgICBzaXplICE9PSBJbmZpbml0eSxcbiAgICAnQ2Fubm90IHBlcmZvcm0gdGhpcyBhY3Rpb24gd2l0aCBhbiBpbmZpbml0ZSBzaXplLidcbiAgKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIHZhbHVlIHRvIGEgc3RyaW5nLCBhZGRpbmcgcXVvdGVzIGlmIGEgc3RyaW5nIHdhcyBwcm92aWRlZC5cbiAqL1xuZnVuY3Rpb24gcXVvdGVTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiBTdHJpbmcodmFsdWUpO1xufVxuXG52YXIgTWFwID0gKGZ1bmN0aW9uIChLZXllZENvbGxlY3Rpb24kJDEpIHtcbiAgZnVuY3Rpb24gTWFwKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8gZW1wdHlNYXAoKVxuICAgICAgOiBpc01hcCh2YWx1ZSkgJiYgIWlzT3JkZXJlZCh2YWx1ZSlcbiAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgOiBlbXB0eU1hcCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICAgICAgICB2YXIgaXRlciA9IEtleWVkQ29sbGVjdGlvbiQkMSh2YWx1ZSk7XG4gICAgICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gbWFwLnNldChrLCB2KTsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgfVxuXG4gIGlmICggS2V5ZWRDb2xsZWN0aW9uJCQxICkgTWFwLl9fcHJvdG9fXyA9IEtleWVkQ29sbGVjdGlvbiQkMTtcbiAgTWFwLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEtleWVkQ29sbGVjdGlvbiQkMSAmJiBLZXllZENvbGxlY3Rpb24kJDEucHJvdG90eXBlICk7XG4gIE1hcC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXA7XG5cbiAgTWFwLm9mID0gZnVuY3Rpb24gb2YgKCkge1xuICAgIHZhciBrZXlWYWx1ZXMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB3aGlsZSAoIGxlbi0tICkga2V5VmFsdWVzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICByZXR1cm4gZW1wdHlNYXAoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChtYXApIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5VmFsdWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGlmIChpICsgMSA+PSBrZXlWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHZhbHVlIGZvciBrZXk6ICcgKyBrZXlWYWx1ZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIG1hcC5zZXQoa2V5VmFsdWVzW2ldLCBrZXlWYWx1ZXNbaSArIDFdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ01hcCB7JywgJ30nKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gIE1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChrLCBub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9yb290XG4gICAgICA/IHRoaXMuX3Jvb3QuZ2V0KDAsIHVuZGVmaW5lZCwgaywgbm90U2V0VmFsdWUpXG4gICAgICA6IG5vdFNldFZhbHVlO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQgKGssIHYpIHtcbiAgICByZXR1cm4gdXBkYXRlTWFwKHRoaXMsIGssIHYpO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUuc2V0SW4gPSBmdW5jdGlvbiBzZXRJbiAoa2V5UGF0aCwgdikge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZUluKGtleVBhdGgsIE5PVF9TRVQsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHY7IH0pO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlIChrKSB7XG4gICAgcmV0dXJuIHVwZGF0ZU1hcCh0aGlzLCBrLCBOT1RfU0VUKTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLmRlbGV0ZUluID0gZnVuY3Rpb24gZGVsZXRlSW4gKGtleVBhdGgpIHtcbiAgICBrZXlQYXRoID0gW10uY29uY2F0KCBjb2VyY2VLZXlQYXRoKGtleVBhdGgpICk7XG4gICAgaWYgKGtleVBhdGgubGVuZ3RoKSB7XG4gICAgICB2YXIgbGFzdEtleSA9IGtleVBhdGgucG9wKCk7XG4gICAgICByZXR1cm4gdGhpcy51cGRhdGVJbihrZXlQYXRoLCBmdW5jdGlvbiAoYykgeyByZXR1cm4gYyAmJiBjLnJlbW92ZShsYXN0S2V5KTsgfSk7XG4gICAgfVxuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUuZGVsZXRlQWxsID0gZnVuY3Rpb24gZGVsZXRlQWxsIChrZXlzKSB7XG4gICAgdmFyIGNvbGxlY3Rpb24gPSBDb2xsZWN0aW9uKGtleXMpO1xuXG4gICAgaWYgKGNvbGxlY3Rpb24uc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobWFwKSB7XG4gICAgICBjb2xsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gbWFwLnJlbW92ZShrZXkpOyB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoaywgbm90U2V0VmFsdWUsIHVwZGF0ZXIpIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMVxuICAgICAgPyBrKHRoaXMpXG4gICAgICA6IHRoaXMudXBkYXRlSW4oW2tdLCBub3RTZXRWYWx1ZSwgdXBkYXRlcik7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS51cGRhdGVJbiA9IGZ1bmN0aW9uIHVwZGF0ZUluIChrZXlQYXRoLCBub3RTZXRWYWx1ZSwgdXBkYXRlcikge1xuICAgIGlmICghdXBkYXRlcikge1xuICAgICAgdXBkYXRlciA9IG5vdFNldFZhbHVlO1xuICAgICAgbm90U2V0VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHZhciB1cGRhdGVkVmFsdWUgPSB1cGRhdGVJbkRlZXBNYXAoXG4gICAgICB0aGlzLFxuICAgICAgY29lcmNlS2V5UGF0aChrZXlQYXRoKSxcbiAgICAgIDAsXG4gICAgICBub3RTZXRWYWx1ZSxcbiAgICAgIHVwZGF0ZXJcbiAgICApO1xuICAgIHJldHVybiB1cGRhdGVkVmFsdWUgPT09IE5PVF9TRVQgPyBub3RTZXRWYWx1ZSA6IHVwZGF0ZWRWYWx1ZTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICB0aGlzLl9yb290ID0gbnVsbDtcbiAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBlbXB0eU1hcCgpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgQ29tcG9zaXRpb25cblxuICBNYXAucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gbWVyZ2UgKC8qLi4uaXRlcnMqLykge1xuICAgIHJldHVybiBtZXJnZUludG9NYXBXaXRoKHRoaXMsIHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLm1lcmdlV2l0aCA9IGZ1bmN0aW9uIG1lcmdlV2l0aCAobWVyZ2VyKSB7XG4gICAgdmFyIGl0ZXJzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICAgIHdoaWxlICggbGVuLS0gPiAwICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICByZXR1cm4gbWVyZ2VJbnRvTWFwV2l0aCh0aGlzLCBtZXJnZXIsIGl0ZXJzKTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLm1lcmdlSW4gPSBmdW5jdGlvbiBtZXJnZUluIChrZXlQYXRoKSB7XG4gICAgdmFyIGl0ZXJzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICAgIHdoaWxlICggbGVuLS0gPiAwICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICByZXR1cm4gdGhpcy51cGRhdGVJbihcbiAgICAgIGtleVBhdGgsXG4gICAgICBlbXB0eU1hcCgpLFxuICAgICAgZnVuY3Rpb24gKG0pIHsgcmV0dXJuIHR5cGVvZiBtLm1lcmdlID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgPyBtLm1lcmdlLmFwcGx5KG0sIGl0ZXJzKVxuICAgICAgICAgIDogaXRlcnNbaXRlcnMubGVuZ3RoIC0gMV07IH1cbiAgICApO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUubWVyZ2VEZWVwID0gZnVuY3Rpb24gbWVyZ2VEZWVwICgvKi4uLml0ZXJzKi8pIHtcbiAgICByZXR1cm4gbWVyZ2VJbnRvTWFwV2l0aCh0aGlzLCBkZWVwTWVyZ2VyLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUubWVyZ2VEZWVwV2l0aCA9IGZ1bmN0aW9uIG1lcmdlRGVlcFdpdGggKG1lcmdlcikge1xuICAgIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAoIGxlbi0tID4gMCApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMSBdO1xuXG4gICAgcmV0dXJuIG1lcmdlSW50b01hcFdpdGgodGhpcywgZGVlcE1lcmdlcldpdGgobWVyZ2VyKSwgaXRlcnMpO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUubWVyZ2VEZWVwSW4gPSBmdW5jdGlvbiBtZXJnZURlZXBJbiAoa2V5UGF0aCkge1xuICAgIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAoIGxlbi0tID4gMCApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMSBdO1xuXG4gICAgcmV0dXJuIHRoaXMudXBkYXRlSW4oXG4gICAgICBrZXlQYXRoLFxuICAgICAgZW1wdHlNYXAoKSxcbiAgICAgIGZ1bmN0aW9uIChtKSB7IHJldHVybiB0eXBlb2YgbS5tZXJnZURlZXAgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICA/IG0ubWVyZ2VEZWVwLmFwcGx5KG0sIGl0ZXJzKVxuICAgICAgICAgIDogaXRlcnNbaXRlcnMubGVuZ3RoIC0gMV07IH1cbiAgICApO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uIHNvcnQgKGNvbXBhcmF0b3IpIHtcbiAgICAvLyBMYXRlIGJpbmRpbmdcbiAgICByZXR1cm4gT3JkZXJlZE1hcChzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yKSk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5zb3J0QnkgPSBmdW5jdGlvbiBzb3J0QnkgKG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgIC8vIExhdGUgYmluZGluZ1xuICAgIHJldHVybiBPcmRlcmVkTWFwKHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IsIG1hcHBlcikpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgTXV0YWJpbGl0eVxuXG4gIE1hcC5wcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IGZ1bmN0aW9uIHdpdGhNdXRhdGlvbnMgKGZuKSB7XG4gICAgdmFyIG11dGFibGUgPSB0aGlzLmFzTXV0YWJsZSgpO1xuICAgIGZuKG11dGFibGUpO1xuICAgIHJldHVybiBtdXRhYmxlLndhc0FsdGVyZWQoKSA/IG11dGFibGUuX19lbnN1cmVPd25lcih0aGlzLl9fb3duZXJJRCkgOiB0aGlzO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUuYXNNdXRhYmxlID0gZnVuY3Rpb24gYXNNdXRhYmxlICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX293bmVySUQgPyB0aGlzIDogdGhpcy5fX2Vuc3VyZU93bmVyKG5ldyBPd25lcklEKCkpO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUuYXNJbW11dGFibGUgPSBmdW5jdGlvbiBhc0ltbXV0YWJsZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19lbnN1cmVPd25lcigpO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUud2FzQWx0ZXJlZCA9IGZ1bmN0aW9uIHdhc0FsdGVyZWQgKCkge1xuICAgIHJldHVybiB0aGlzLl9fYWx0ZXJlZDtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgcmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLCB0eXBlLCByZXZlcnNlKTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICB0aGlzLl9yb290ICYmXG4gICAgICB0aGlzLl9yb290Lml0ZXJhdGUoXG4gICAgICAgIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgICAgICByZXR1cm4gZm4oZW50cnlbMV0sIGVudHJ5WzBdLCB0aGlzJDEpO1xuICAgICAgICB9LFxuICAgICAgICByZXZlcnNlXG4gICAgICApO1xuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uIF9fZW5zdXJlT3duZXIgKG93bmVySUQpIHtcbiAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5TWFwKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBtYWtlTWFwKHRoaXMuc2l6ZSwgdGhpcy5fcm9vdCwgb3duZXJJRCwgdGhpcy5fX2hhc2gpO1xuICB9O1xuXG4gIHJldHVybiBNYXA7XG59KEtleWVkQ29sbGVjdGlvbikpO1xuXG5mdW5jdGlvbiBpc01hcChtYXliZU1hcCkge1xuICByZXR1cm4gISEobWF5YmVNYXAgJiYgbWF5YmVNYXBbSVNfTUFQX1NFTlRJTkVMXSk7XG59XG5cbk1hcC5pc01hcCA9IGlzTWFwO1xuXG52YXIgSVNfTUFQX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfTUFQX19AQCc7XG5cbnZhciBNYXBQcm90b3R5cGUgPSBNYXAucHJvdG90eXBlO1xuTWFwUHJvdG90eXBlW0lTX01BUF9TRU5USU5FTF0gPSB0cnVlO1xuTWFwUHJvdG90eXBlW0RFTEVURV0gPSBNYXBQcm90b3R5cGUucmVtb3ZlO1xuTWFwUHJvdG90eXBlLnJlbW92ZUluID0gTWFwUHJvdG90eXBlLmRlbGV0ZUluO1xuTWFwUHJvdG90eXBlLnJlbW92ZUFsbCA9IE1hcFByb3RvdHlwZS5kZWxldGVBbGw7XG5cbi8vICNwcmFnbWEgVHJpZSBOb2Rlc1xuXG52YXIgQXJyYXlNYXBOb2RlID0gZnVuY3Rpb24gQXJyYXlNYXBOb2RlKG93bmVySUQsIGVudHJpZXMpIHtcbiAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgdGhpcy5lbnRyaWVzID0gZW50cmllcztcbn07XG5cbkFycmF5TWFwTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgZm9yICh2YXIgaWkgPSAwLCBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaWkgPCBsZW47IGlpKyspIHtcbiAgICBpZiAoaXMoa2V5LCBlbnRyaWVzW2lpXVswXSkpIHtcbiAgICAgIHJldHVybiBlbnRyaWVzW2lpXVsxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5vdFNldFZhbHVlO1xufTtcblxuQXJyYXlNYXBOb2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICB2YXIgcmVtb3ZlZCA9IHZhbHVlID09PSBOT1RfU0VUO1xuXG4gIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICB2YXIgaWR4ID0gMDtcbiAgdmFyIGxlbiA9IGVudHJpZXMubGVuZ3RoO1xuICBmb3IgKDsgaWR4IDwgbGVuOyBpZHgrKykge1xuICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWR4XVswXSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICB2YXIgZXhpc3RzID0gaWR4IDwgbGVuO1xuXG4gIGlmIChleGlzdHMgPyBlbnRyaWVzW2lkeF1bMV0gPT09IHZhbHVlIDogcmVtb3ZlZCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgU2V0UmVmKGRpZEFsdGVyKTtcbiAgKHJlbW92ZWQgfHwgIWV4aXN0cykgJiYgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuXG4gIGlmIChyZW1vdmVkICYmIGVudHJpZXMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuOyAvLyB1bmRlZmluZWRcbiAgfVxuXG4gIGlmICghZXhpc3RzICYmICFyZW1vdmVkICYmIGVudHJpZXMubGVuZ3RoID49IE1BWF9BUlJBWV9NQVBfU0laRSkge1xuICAgIHJldHVybiBjcmVhdGVOb2Rlcyhvd25lcklELCBlbnRyaWVzLCBrZXksIHZhbHVlKTtcbiAgfVxuXG4gIHZhciBpc0VkaXRhYmxlID0gb3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQ7XG4gIHZhciBuZXdFbnRyaWVzID0gaXNFZGl0YWJsZSA/IGVudHJpZXMgOiBhcnJDb3B5KGVudHJpZXMpO1xuXG4gIGlmIChleGlzdHMpIHtcbiAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgaWR4ID09PSBsZW4gLSAxXG4gICAgICAgID8gbmV3RW50cmllcy5wb3AoKVxuICAgICAgICA6IChuZXdFbnRyaWVzW2lkeF0gPSBuZXdFbnRyaWVzLnBvcCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3RW50cmllc1tpZHhdID0gW2tleSwgdmFsdWVdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBuZXdFbnRyaWVzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfVxuXG4gIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgdGhpcy5lbnRyaWVzID0gbmV3RW50cmllcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJldHVybiBuZXcgQXJyYXlNYXBOb2RlKG93bmVySUQsIG5ld0VudHJpZXMpO1xufTtcblxudmFyIEJpdG1hcEluZGV4ZWROb2RlID0gZnVuY3Rpb24gQml0bWFwSW5kZXhlZE5vZGUob3duZXJJRCwgYml0bWFwLCBub2Rlcykge1xuICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICB0aGlzLmJpdG1hcCA9IGJpdG1hcDtcbiAgdGhpcy5ub2RlcyA9IG5vZGVzO1xufTtcblxuQml0bWFwSW5kZXhlZE5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gIH1cbiAgdmFyIGJpdCA9IDEgPDwgKChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLKTtcbiAgdmFyIGJpdG1hcCA9IHRoaXMuYml0bWFwO1xuICByZXR1cm4gKGJpdG1hcCAmIGJpdCkgPT09IDBcbiAgICA/IG5vdFNldFZhbHVlXG4gICAgOiB0aGlzLm5vZGVzW3BvcENvdW50KGJpdG1hcCAmIGJpdCAtIDEpXS5nZXQoXG4gICAgICAgIHNoaWZ0ICsgU0hJRlQsXG4gICAgICAgIGtleUhhc2gsXG4gICAgICAgIGtleSxcbiAgICAgICAgbm90U2V0VmFsdWVcbiAgICAgICk7XG59O1xuXG5CaXRtYXBJbmRleGVkTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gIH1cbiAgdmFyIGtleUhhc2hGcmFnID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gIHZhciBiaXQgPSAxIDw8IGtleUhhc2hGcmFnO1xuICB2YXIgYml0bWFwID0gdGhpcy5iaXRtYXA7XG4gIHZhciBleGlzdHMgPSAoYml0bWFwICYgYml0KSAhPT0gMDtcblxuICBpZiAoIWV4aXN0cyAmJiB2YWx1ZSA9PT0gTk9UX1NFVCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIGlkeCA9IHBvcENvdW50KGJpdG1hcCAmIGJpdCAtIDEpO1xuICB2YXIgbm9kZXMgPSB0aGlzLm5vZGVzO1xuICB2YXIgbm9kZSA9IGV4aXN0cyA/IG5vZGVzW2lkeF0gOiB1bmRlZmluZWQ7XG4gIHZhciBuZXdOb2RlID0gdXBkYXRlTm9kZShcbiAgICBub2RlLFxuICAgIG93bmVySUQsXG4gICAgc2hpZnQgKyBTSElGVCxcbiAgICBrZXlIYXNoLFxuICAgIGtleSxcbiAgICB2YWx1ZSxcbiAgICBkaWRDaGFuZ2VTaXplLFxuICAgIGRpZEFsdGVyXG4gICk7XG5cbiAgaWYgKG5ld05vZGUgPT09IG5vZGUpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGlmICghZXhpc3RzICYmIG5ld05vZGUgJiYgbm9kZXMubGVuZ3RoID49IE1BWF9CSVRNQVBfSU5ERVhFRF9TSVpFKSB7XG4gICAgcmV0dXJuIGV4cGFuZE5vZGVzKG93bmVySUQsIG5vZGVzLCBiaXRtYXAsIGtleUhhc2hGcmFnLCBuZXdOb2RlKTtcbiAgfVxuXG4gIGlmIChcbiAgICBleGlzdHMgJiYgIW5ld05vZGUgJiYgbm9kZXMubGVuZ3RoID09PSAyICYmIGlzTGVhZk5vZGUobm9kZXNbaWR4IF4gMV0pXG4gICkge1xuICAgIHJldHVybiBub2Rlc1tpZHggXiAxXTtcbiAgfVxuXG4gIGlmIChleGlzdHMgJiYgbmV3Tm9kZSAmJiBub2Rlcy5sZW5ndGggPT09IDEgJiYgaXNMZWFmTm9kZShuZXdOb2RlKSkge1xuICAgIHJldHVybiBuZXdOb2RlO1xuICB9XG5cbiAgdmFyIGlzRWRpdGFibGUgPSBvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRDtcbiAgdmFyIG5ld0JpdG1hcCA9IGV4aXN0cyA/IG5ld05vZGUgPyBiaXRtYXAgOiBiaXRtYXAgXiBiaXQgOiBiaXRtYXAgfCBiaXQ7XG4gIHZhciBuZXdOb2RlcyA9IGV4aXN0c1xuICAgID8gbmV3Tm9kZVxuICAgICAgICA/IHNldEluKG5vZGVzLCBpZHgsIG5ld05vZGUsIGlzRWRpdGFibGUpXG4gICAgICAgIDogc3BsaWNlT3V0KG5vZGVzLCBpZHgsIGlzRWRpdGFibGUpXG4gICAgOiBzcGxpY2VJbihub2RlcywgaWR4LCBuZXdOb2RlLCBpc0VkaXRhYmxlKTtcblxuICBpZiAoaXNFZGl0YWJsZSkge1xuICAgIHRoaXMuYml0bWFwID0gbmV3Qml0bWFwO1xuICAgIHRoaXMubm9kZXMgPSBuZXdOb2RlcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJldHVybiBuZXcgQml0bWFwSW5kZXhlZE5vZGUob3duZXJJRCwgbmV3Qml0bWFwLCBuZXdOb2Rlcyk7XG59O1xuXG52YXIgSGFzaEFycmF5TWFwTm9kZSA9IGZ1bmN0aW9uIEhhc2hBcnJheU1hcE5vZGUob3duZXJJRCwgY291bnQsIG5vZGVzKSB7XG4gIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gIHRoaXMuY291bnQgPSBjb3VudDtcbiAgdGhpcy5ub2RlcyA9IG5vZGVzO1xufTtcblxuSGFzaEFycmF5TWFwTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAga2V5SGFzaCA9IGhhc2goa2V5KTtcbiAgfVxuICB2YXIgaWR4ID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gIHZhciBub2RlID0gdGhpcy5ub2Rlc1tpZHhdO1xuICByZXR1cm4gbm9kZVxuICAgID8gbm9kZS5nZXQoc2hpZnQgKyBTSElGVCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSlcbiAgICA6IG5vdFNldFZhbHVlO1xufTtcblxuSGFzaEFycmF5TWFwTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gIH1cbiAgdmFyIGlkeCA9IChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuICB2YXIgcmVtb3ZlZCA9IHZhbHVlID09PSBOT1RfU0VUO1xuICB2YXIgbm9kZXMgPSB0aGlzLm5vZGVzO1xuICB2YXIgbm9kZSA9IG5vZGVzW2lkeF07XG5cbiAgaWYgKHJlbW92ZWQgJiYgIW5vZGUpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBuZXdOb2RlID0gdXBkYXRlTm9kZShcbiAgICBub2RlLFxuICAgIG93bmVySUQsXG4gICAgc2hpZnQgKyBTSElGVCxcbiAgICBrZXlIYXNoLFxuICAgIGtleSxcbiAgICB2YWx1ZSxcbiAgICBkaWRDaGFuZ2VTaXplLFxuICAgIGRpZEFsdGVyXG4gICk7XG4gIGlmIChuZXdOb2RlID09PSBub2RlKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbmV3Q291bnQgPSB0aGlzLmNvdW50O1xuICBpZiAoIW5vZGUpIHtcbiAgICBuZXdDb3VudCsrO1xuICB9IGVsc2UgaWYgKCFuZXdOb2RlKSB7XG4gICAgbmV3Q291bnQtLTtcbiAgICBpZiAobmV3Q291bnQgPCBNSU5fSEFTSF9BUlJBWV9NQVBfU0laRSkge1xuICAgICAgcmV0dXJuIHBhY2tOb2Rlcyhvd25lcklELCBub2RlcywgbmV3Q291bnQsIGlkeCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGlzRWRpdGFibGUgPSBvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRDtcbiAgdmFyIG5ld05vZGVzID0gc2V0SW4obm9kZXMsIGlkeCwgbmV3Tm9kZSwgaXNFZGl0YWJsZSk7XG5cbiAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICB0aGlzLmNvdW50ID0gbmV3Q291bnQ7XG4gICAgdGhpcy5ub2RlcyA9IG5ld05vZGVzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBIYXNoQXJyYXlNYXBOb2RlKG93bmVySUQsIG5ld0NvdW50LCBuZXdOb2Rlcyk7XG59O1xuXG52YXIgSGFzaENvbGxpc2lvbk5vZGUgPSBmdW5jdGlvbiBIYXNoQ29sbGlzaW9uTm9kZShvd25lcklELCBrZXlIYXNoLCBlbnRyaWVzKSB7XG4gIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gIHRoaXMua2V5SGFzaCA9IGtleUhhc2g7XG4gIHRoaXMuZW50cmllcyA9IGVudHJpZXM7XG59O1xuXG5IYXNoQ29sbGlzaW9uTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgZm9yICh2YXIgaWkgPSAwLCBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaWkgPCBsZW47IGlpKyspIHtcbiAgICBpZiAoaXMoa2V5LCBlbnRyaWVzW2lpXVswXSkpIHtcbiAgICAgIHJldHVybiBlbnRyaWVzW2lpXVsxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5vdFNldFZhbHVlO1xufTtcblxuSGFzaENvbGxpc2lvbk5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gIGlmIChrZXlIYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICB9XG5cbiAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcblxuICBpZiAoa2V5SGFzaCAhPT0gdGhpcy5rZXlIYXNoKSB7XG4gICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuICAgIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcbiAgICByZXR1cm4gbWVyZ2VJbnRvTm9kZSh0aGlzLCBvd25lcklELCBzaGlmdCwga2V5SGFzaCwgW2tleSwgdmFsdWVdKTtcbiAgfVxuXG4gIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICB2YXIgaWR4ID0gMDtcbiAgdmFyIGxlbiA9IGVudHJpZXMubGVuZ3RoO1xuICBmb3IgKDsgaWR4IDwgbGVuOyBpZHgrKykge1xuICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWR4XVswXSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICB2YXIgZXhpc3RzID0gaWR4IDwgbGVuO1xuXG4gIGlmIChleGlzdHMgPyBlbnRyaWVzW2lkeF1bMV0gPT09IHZhbHVlIDogcmVtb3ZlZCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgU2V0UmVmKGRpZEFsdGVyKTtcbiAgKHJlbW92ZWQgfHwgIWV4aXN0cykgJiYgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuXG4gIGlmIChyZW1vdmVkICYmIGxlbiA9PT0gMikge1xuICAgIHJldHVybiBuZXcgVmFsdWVOb2RlKG93bmVySUQsIHRoaXMua2V5SGFzaCwgZW50cmllc1tpZHggXiAxXSk7XG4gIH1cblxuICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICB2YXIgbmV3RW50cmllcyA9IGlzRWRpdGFibGUgPyBlbnRyaWVzIDogYXJyQ29weShlbnRyaWVzKTtcblxuICBpZiAoZXhpc3RzKSB7XG4gICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgIGlkeCA9PT0gbGVuIC0gMVxuICAgICAgICA/IG5ld0VudHJpZXMucG9wKClcbiAgICAgICAgOiAobmV3RW50cmllc1tpZHhdID0gbmV3RW50cmllcy5wb3AoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0VudHJpZXNbaWR4XSA9IFtrZXksIHZhbHVlXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbmV3RW50cmllcy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH1cblxuICBpZiAoaXNFZGl0YWJsZSkge1xuICAgIHRoaXMuZW50cmllcyA9IG5ld0VudHJpZXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZXR1cm4gbmV3IEhhc2hDb2xsaXNpb25Ob2RlKG93bmVySUQsIHRoaXMua2V5SGFzaCwgbmV3RW50cmllcyk7XG59O1xuXG52YXIgVmFsdWVOb2RlID0gZnVuY3Rpb24gVmFsdWVOb2RlKG93bmVySUQsIGtleUhhc2gsIGVudHJ5KSB7XG4gIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gIHRoaXMua2V5SGFzaCA9IGtleUhhc2g7XG4gIHRoaXMuZW50cnkgPSBlbnRyeTtcbn07XG5cblZhbHVlTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICByZXR1cm4gaXMoa2V5LCB0aGlzLmVudHJ5WzBdKSA/IHRoaXMuZW50cnlbMV0gOiBub3RTZXRWYWx1ZTtcbn07XG5cblZhbHVlTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcbiAgdmFyIGtleU1hdGNoID0gaXMoa2V5LCB0aGlzLmVudHJ5WzBdKTtcbiAgaWYgKGtleU1hdGNoID8gdmFsdWUgPT09IHRoaXMuZW50cnlbMV0gOiByZW1vdmVkKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBTZXRSZWYoZGlkQWx0ZXIpO1xuXG4gIGlmIChyZW1vdmVkKSB7XG4gICAgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuICAgIHJldHVybjsgLy8gdW5kZWZpbmVkXG4gIH1cblxuICBpZiAoa2V5TWF0Y2gpIHtcbiAgICBpZiAob3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQpIHtcbiAgICAgIHRoaXMuZW50cnlbMV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFZhbHVlTm9kZShvd25lcklELCB0aGlzLmtleUhhc2gsIFtrZXksIHZhbHVlXSk7XG4gIH1cblxuICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gIHJldHVybiBtZXJnZUludG9Ob2RlKHRoaXMsIG93bmVySUQsIHNoaWZ0LCBoYXNoKGtleSksIFtrZXksIHZhbHVlXSk7XG59O1xuXG4vLyAjcHJhZ21hIEl0ZXJhdG9yc1xuXG5BcnJheU1hcE5vZGUucHJvdG90eXBlLml0ZXJhdGUgPSAoSGFzaENvbGxpc2lvbk5vZGUucHJvdG90eXBlLml0ZXJhdGUgPSBmdW5jdGlvbihcbiAgZm4sXG4gIHJldmVyc2Vcbikge1xuICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgZm9yICh2YXIgaWkgPSAwLCBtYXhJbmRleCA9IGVudHJpZXMubGVuZ3RoIC0gMTsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICBpZiAoZm4oZW50cmllc1tyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXSkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59KTtcblxuQml0bWFwSW5kZXhlZE5vZGUucHJvdG90eXBlLml0ZXJhdGUgPSAoSGFzaEFycmF5TWFwTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9IGZ1bmN0aW9uKFxuICBmbixcbiAgcmV2ZXJzZVxuKSB7XG4gIHZhciBub2RlcyA9IHRoaXMubm9kZXM7XG4gIGZvciAodmFyIGlpID0gMCwgbWF4SW5kZXggPSBub2Rlcy5sZW5ndGggLSAxOyBpaSA8PSBtYXhJbmRleDsgaWkrKykge1xuICAgIHZhciBub2RlID0gbm9kZXNbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV07XG4gICAgaWYgKG5vZGUgJiYgbm9kZS5pdGVyYXRlKGZuLCByZXZlcnNlKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn0pO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcblZhbHVlTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gIHJldHVybiBmbih0aGlzLmVudHJ5KTtcbn07XG5cbnZhciBNYXBJdGVyYXRvciA9IChmdW5jdGlvbiAoSXRlcmF0b3IkJDEpIHtcbiAgZnVuY3Rpb24gTWFwSXRlcmF0b3IobWFwLCB0eXBlLCByZXZlcnNlKSB7XG4gICAgdGhpcy5fdHlwZSA9IHR5cGU7XG4gICAgdGhpcy5fcmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgdGhpcy5fc3RhY2sgPSBtYXAuX3Jvb3QgJiYgbWFwSXRlcmF0b3JGcmFtZShtYXAuX3Jvb3QpO1xuICB9XG5cbiAgaWYgKCBJdGVyYXRvciQkMSApIE1hcEl0ZXJhdG9yLl9fcHJvdG9fXyA9IEl0ZXJhdG9yJCQxO1xuICBNYXBJdGVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJdGVyYXRvciQkMSAmJiBJdGVyYXRvciQkMS5wcm90b3R5cGUgKTtcbiAgTWFwSXRlcmF0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFwSXRlcmF0b3I7XG5cbiAgTWFwSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiBuZXh0ICgpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciB0eXBlID0gdGhpcy5fdHlwZTtcbiAgICB2YXIgc3RhY2sgPSB0aGlzLl9zdGFjaztcbiAgICB3aGlsZSAoc3RhY2spIHtcbiAgICAgIHZhciBub2RlID0gc3RhY2subm9kZTtcbiAgICAgIHZhciBpbmRleCA9IHN0YWNrLmluZGV4Kys7XG4gICAgICB2YXIgbWF4SW5kZXggPSAodm9pZCAwKTtcbiAgICAgIGlmIChub2RlLmVudHJ5KSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBtYXBJdGVyYXRvclZhbHVlKHR5cGUsIG5vZGUuZW50cnkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUuZW50cmllcykge1xuICAgICAgICBtYXhJbmRleCA9IG5vZGUuZW50cmllcy5sZW5ndGggLSAxO1xuICAgICAgICBpZiAoaW5kZXggPD0gbWF4SW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gbWFwSXRlcmF0b3JWYWx1ZShcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBub2RlLmVudHJpZXNbdGhpcyQxLl9yZXZlcnNlID8gbWF4SW5kZXggLSBpbmRleCA6IGluZGV4XVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1heEluZGV4ID0gbm9kZS5ub2Rlcy5sZW5ndGggLSAxO1xuICAgICAgICBpZiAoaW5kZXggPD0gbWF4SW5kZXgpIHtcbiAgICAgICAgICB2YXIgc3ViTm9kZSA9IG5vZGUubm9kZXNbdGhpcyQxLl9yZXZlcnNlID8gbWF4SW5kZXggLSBpbmRleCA6IGluZGV4XTtcbiAgICAgICAgICBpZiAoc3ViTm9kZSkge1xuICAgICAgICAgICAgaWYgKHN1Yk5vZGUuZW50cnkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1hcEl0ZXJhdG9yVmFsdWUodHlwZSwgc3ViTm9kZS5lbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFjayA9ICh0aGlzJDEuX3N0YWNrID0gbWFwSXRlcmF0b3JGcmFtZShzdWJOb2RlLCBzdGFjaykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2sgPSAodGhpcyQxLl9zdGFjayA9IHRoaXMkMS5fc3RhY2suX19wcmV2KTtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICB9O1xuXG4gIHJldHVybiBNYXBJdGVyYXRvcjtcbn0oSXRlcmF0b3IpKTtcblxuZnVuY3Rpb24gbWFwSXRlcmF0b3JWYWx1ZSh0eXBlLCBlbnRyeSkge1xuICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBlbnRyeVswXSwgZW50cnlbMV0pO1xufVxuXG5mdW5jdGlvbiBtYXBJdGVyYXRvckZyYW1lKG5vZGUsIHByZXYpIHtcbiAgcmV0dXJuIHtcbiAgICBub2RlOiBub2RlLFxuICAgIGluZGV4OiAwLFxuICAgIF9fcHJldjogcHJldlxuICB9O1xufVxuXG5mdW5jdGlvbiBtYWtlTWFwKHNpemUsIHJvb3QsIG93bmVySUQsIGhhc2gkJDEpIHtcbiAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUoTWFwUHJvdG90eXBlKTtcbiAgbWFwLnNpemUgPSBzaXplO1xuICBtYXAuX3Jvb3QgPSByb290O1xuICBtYXAuX19vd25lcklEID0gb3duZXJJRDtcbiAgbWFwLl9faGFzaCA9IGhhc2gkJDE7XG4gIG1hcC5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgcmV0dXJuIG1hcDtcbn1cblxudmFyIEVNUFRZX01BUDtcbmZ1bmN0aW9uIGVtcHR5TWFwKCkge1xuICByZXR1cm4gRU1QVFlfTUFQIHx8IChFTVBUWV9NQVAgPSBtYWtlTWFwKDApKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlTWFwKG1hcCwgaywgdikge1xuICB2YXIgbmV3Um9vdDtcbiAgdmFyIG5ld1NpemU7XG4gIGlmICghbWFwLl9yb290KSB7XG4gICAgaWYgKHYgPT09IE5PVF9TRVQpIHtcbiAgICAgIHJldHVybiBtYXA7XG4gICAgfVxuICAgIG5ld1NpemUgPSAxO1xuICAgIG5ld1Jvb3QgPSBuZXcgQXJyYXlNYXBOb2RlKG1hcC5fX293bmVySUQsIFtbaywgdl1dKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZGlkQ2hhbmdlU2l6ZSA9IE1ha2VSZWYoQ0hBTkdFX0xFTkdUSCk7XG4gICAgdmFyIGRpZEFsdGVyID0gTWFrZVJlZihESURfQUxURVIpO1xuICAgIG5ld1Jvb3QgPSB1cGRhdGVOb2RlKFxuICAgICAgbWFwLl9yb290LFxuICAgICAgbWFwLl9fb3duZXJJRCxcbiAgICAgIDAsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBrLFxuICAgICAgdixcbiAgICAgIGRpZENoYW5nZVNpemUsXG4gICAgICBkaWRBbHRlclxuICAgICk7XG4gICAgaWYgKCFkaWRBbHRlci52YWx1ZSkge1xuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG4gICAgbmV3U2l6ZSA9IG1hcC5zaXplICsgKGRpZENoYW5nZVNpemUudmFsdWUgPyB2ID09PSBOT1RfU0VUID8gLTEgOiAxIDogMCk7XG4gIH1cbiAgaWYgKG1hcC5fX293bmVySUQpIHtcbiAgICBtYXAuc2l6ZSA9IG5ld1NpemU7XG4gICAgbWFwLl9yb290ID0gbmV3Um9vdDtcbiAgICBtYXAuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgIG1hcC5fX2FsdGVyZWQgPSB0cnVlO1xuICAgIHJldHVybiBtYXA7XG4gIH1cbiAgcmV0dXJuIG5ld1Jvb3QgPyBtYWtlTWFwKG5ld1NpemUsIG5ld1Jvb3QpIDogZW1wdHlNYXAoKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlTm9kZShcbiAgbm9kZSxcbiAgb3duZXJJRCxcbiAgc2hpZnQsXG4gIGtleUhhc2gsXG4gIGtleSxcbiAgdmFsdWUsXG4gIGRpZENoYW5nZVNpemUsXG4gIGRpZEFsdGVyXG4pIHtcbiAgaWYgKCFub2RlKSB7XG4gICAgaWYgKHZhbHVlID09PSBOT1RfU0VUKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgU2V0UmVmKGRpZEFsdGVyKTtcbiAgICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gICAgcmV0dXJuIG5ldyBWYWx1ZU5vZGUob3duZXJJRCwga2V5SGFzaCwgW2tleSwgdmFsdWVdKTtcbiAgfVxuICByZXR1cm4gbm9kZS51cGRhdGUoXG4gICAgb3duZXJJRCxcbiAgICBzaGlmdCxcbiAgICBrZXlIYXNoLFxuICAgIGtleSxcbiAgICB2YWx1ZSxcbiAgICBkaWRDaGFuZ2VTaXplLFxuICAgIGRpZEFsdGVyXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzTGVhZk5vZGUobm9kZSkge1xuICByZXR1cm4gbm9kZS5jb25zdHJ1Y3RvciA9PT0gVmFsdWVOb2RlIHx8XG4gICAgbm9kZS5jb25zdHJ1Y3RvciA9PT0gSGFzaENvbGxpc2lvbk5vZGU7XG59XG5cbmZ1bmN0aW9uIG1lcmdlSW50b05vZGUobm9kZSwgb3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGVudHJ5KSB7XG4gIGlmIChub2RlLmtleUhhc2ggPT09IGtleUhhc2gpIHtcbiAgICByZXR1cm4gbmV3IEhhc2hDb2xsaXNpb25Ob2RlKG93bmVySUQsIGtleUhhc2gsIFtub2RlLmVudHJ5LCBlbnRyeV0pO1xuICB9XG5cbiAgdmFyIGlkeDEgPSAoc2hpZnQgPT09IDAgPyBub2RlLmtleUhhc2ggOiBub2RlLmtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gIHZhciBpZHgyID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG5cbiAgdmFyIG5ld05vZGU7XG4gIHZhciBub2RlcyA9IGlkeDEgPT09IGlkeDJcbiAgICA/IFttZXJnZUludG9Ob2RlKG5vZGUsIG93bmVySUQsIHNoaWZ0ICsgU0hJRlQsIGtleUhhc2gsIGVudHJ5KV1cbiAgICA6ICgobmV3Tm9kZSA9IG5ldyBWYWx1ZU5vZGUob3duZXJJRCwga2V5SGFzaCwgZW50cnkpKSwgaWR4MSA8IGlkeDJcbiAgICAgICAgPyBbbm9kZSwgbmV3Tm9kZV1cbiAgICAgICAgOiBbbmV3Tm9kZSwgbm9kZV0pO1xuXG4gIHJldHVybiBuZXcgQml0bWFwSW5kZXhlZE5vZGUob3duZXJJRCwgMSA8PCBpZHgxIHwgMSA8PCBpZHgyLCBub2Rlcyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5vZGVzKG93bmVySUQsIGVudHJpZXMsIGtleSwgdmFsdWUpIHtcbiAgaWYgKCFvd25lcklEKSB7XG4gICAgb3duZXJJRCA9IG5ldyBPd25lcklEKCk7XG4gIH1cbiAgdmFyIG5vZGUgPSBuZXcgVmFsdWVOb2RlKG93bmVySUQsIGhhc2goa2V5KSwgW2tleSwgdmFsdWVdKTtcbiAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGVudHJpZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpaV07XG4gICAgbm9kZSA9IG5vZGUudXBkYXRlKG93bmVySUQsIDAsIHVuZGVmaW5lZCwgZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gcGFja05vZGVzKG93bmVySUQsIG5vZGVzLCBjb3VudCwgZXhjbHVkaW5nKSB7XG4gIHZhciBiaXRtYXAgPSAwO1xuICB2YXIgcGFja2VkSUkgPSAwO1xuICB2YXIgcGFja2VkTm9kZXMgPSBuZXcgQXJyYXkoY291bnQpO1xuICBmb3IgKHZhciBpaSA9IDAsIGJpdCA9IDEsIGxlbiA9IG5vZGVzLmxlbmd0aDsgaWkgPCBsZW47IGlpKyssIChiaXQgPDw9IDEpKSB7XG4gICAgdmFyIG5vZGUgPSBub2Rlc1tpaV07XG4gICAgaWYgKG5vZGUgIT09IHVuZGVmaW5lZCAmJiBpaSAhPT0gZXhjbHVkaW5nKSB7XG4gICAgICBiaXRtYXAgfD0gYml0O1xuICAgICAgcGFja2VkTm9kZXNbcGFja2VkSUkrK10gPSBub2RlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IEJpdG1hcEluZGV4ZWROb2RlKG93bmVySUQsIGJpdG1hcCwgcGFja2VkTm9kZXMpO1xufVxuXG5mdW5jdGlvbiBleHBhbmROb2Rlcyhvd25lcklELCBub2RlcywgYml0bWFwLCBpbmNsdWRpbmcsIG5vZGUpIHtcbiAgdmFyIGNvdW50ID0gMDtcbiAgdmFyIGV4cGFuZGVkTm9kZXMgPSBuZXcgQXJyYXkoU0laRSk7XG4gIGZvciAodmFyIGlpID0gMDsgYml0bWFwICE9PSAwOyBpaSsrLCAoYml0bWFwID4+Pj0gMSkpIHtcbiAgICBleHBhbmRlZE5vZGVzW2lpXSA9IGJpdG1hcCAmIDEgPyBub2Rlc1tjb3VudCsrXSA6IHVuZGVmaW5lZDtcbiAgfVxuICBleHBhbmRlZE5vZGVzW2luY2x1ZGluZ10gPSBub2RlO1xuICByZXR1cm4gbmV3IEhhc2hBcnJheU1hcE5vZGUob3duZXJJRCwgY291bnQgKyAxLCBleHBhbmRlZE5vZGVzKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VJbnRvTWFwV2l0aChtYXAsIG1lcmdlciwgY29sbGVjdGlvbnMpIHtcbiAgdmFyIGl0ZXJzID0gW107XG4gIGZvciAodmFyIGlpID0gMDsgaWkgPCBjb2xsZWN0aW9ucy5sZW5ndGg7IGlpKyspIHtcbiAgICB2YXIgdmFsdWUgPSBjb2xsZWN0aW9uc1tpaV07XG4gICAgdmFyIGl0ZXIgPSBLZXllZENvbGxlY3Rpb24odmFsdWUpO1xuICAgIGlmICghaXNDb2xsZWN0aW9uKHZhbHVlKSkge1xuICAgICAgaXRlciA9IGl0ZXIubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBmcm9tSlModik7IH0pO1xuICAgIH1cbiAgICBpdGVycy5wdXNoKGl0ZXIpO1xuICB9XG4gIHJldHVybiBtZXJnZUludG9Db2xsZWN0aW9uV2l0aChtYXAsIG1lcmdlciwgaXRlcnMpO1xufVxuXG5mdW5jdGlvbiBkZWVwTWVyZ2VyKG9sZFZhbCwgbmV3VmFsKSB7XG4gIHJldHVybiBvbGRWYWwgJiYgb2xkVmFsLm1lcmdlRGVlcCAmJiBpc0NvbGxlY3Rpb24obmV3VmFsKVxuICAgID8gb2xkVmFsLm1lcmdlRGVlcChuZXdWYWwpXG4gICAgOiBpcyhvbGRWYWwsIG5ld1ZhbCkgPyBvbGRWYWwgOiBuZXdWYWw7XG59XG5cbmZ1bmN0aW9uIGRlZXBNZXJnZXJXaXRoKG1lcmdlcikge1xuICByZXR1cm4gZnVuY3Rpb24gKG9sZFZhbCwgbmV3VmFsLCBrZXkpIHtcbiAgICBpZiAob2xkVmFsICYmIG9sZFZhbC5tZXJnZURlZXBXaXRoICYmIGlzQ29sbGVjdGlvbihuZXdWYWwpKSB7XG4gICAgICByZXR1cm4gb2xkVmFsLm1lcmdlRGVlcFdpdGgobWVyZ2VyLCBuZXdWYWwpO1xuICAgIH1cbiAgICB2YXIgbmV4dFZhbHVlID0gbWVyZ2VyKG9sZFZhbCwgbmV3VmFsLCBrZXkpO1xuICAgIHJldHVybiBpcyhvbGRWYWwsIG5leHRWYWx1ZSkgPyBvbGRWYWwgOiBuZXh0VmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG1lcmdlSW50b0NvbGxlY3Rpb25XaXRoKGNvbGxlY3Rpb24sIG1lcmdlciwgaXRlcnMpIHtcbiAgaXRlcnMgPSBpdGVycy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguc2l6ZSAhPT0gMDsgfSk7XG4gIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgfVxuICBpZiAoY29sbGVjdGlvbi5zaXplID09PSAwICYmICFjb2xsZWN0aW9uLl9fb3duZXJJRCAmJiBpdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gY29sbGVjdGlvbi5jb25zdHJ1Y3RvcihpdGVyc1swXSk7XG4gIH1cbiAgcmV0dXJuIGNvbGxlY3Rpb24ud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAoY29sbGVjdGlvbikge1xuICAgIHZhciBtZXJnZUludG9NYXAgPSBtZXJnZXJcbiAgICAgID8gZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICBjb2xsZWN0aW9uLnVwZGF0ZShcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIE5PVF9TRVQsXG4gICAgICAgICAgICBmdW5jdGlvbiAob2xkVmFsKSB7IHJldHVybiBvbGRWYWwgPT09IE5PVF9TRVQgPyB2YWx1ZSA6IG1lcmdlcihvbGRWYWwsIHZhbHVlLCBrZXkpOyB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgOiBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgIGNvbGxlY3Rpb24uc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9O1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpdGVycy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIGl0ZXJzW2lpXS5mb3JFYWNoKG1lcmdlSW50b01hcCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlSW5EZWVwTWFwKGV4aXN0aW5nLCBrZXlQYXRoLCBpLCBub3RTZXRWYWx1ZSwgdXBkYXRlcikge1xuICB2YXIgaXNOb3RTZXQgPSBleGlzdGluZyA9PT0gTk9UX1NFVDtcbiAgaWYgKGkgPT09IGtleVBhdGgubGVuZ3RoKSB7XG4gICAgdmFyIGV4aXN0aW5nVmFsdWUgPSBpc05vdFNldCA/IG5vdFNldFZhbHVlIDogZXhpc3Rpbmc7XG4gICAgdmFyIG5ld1ZhbHVlID0gdXBkYXRlcihleGlzdGluZ1ZhbHVlKTtcbiAgICByZXR1cm4gbmV3VmFsdWUgPT09IGV4aXN0aW5nVmFsdWUgPyBleGlzdGluZyA6IG5ld1ZhbHVlO1xuICB9XG4gIGlmICghKGlzTm90U2V0IHx8IChleGlzdGluZyAmJiBleGlzdGluZy5zZXQpKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAnSW52YWxpZCBrZXlQYXRoOiBWYWx1ZSBhdCBbJyArXG4gICAgICAgIGtleVBhdGguc2xpY2UoMCwgaSkubWFwKHF1b3RlU3RyaW5nKSArXG4gICAgICAgICddIGRvZXMgbm90IGhhdmUgYSAuc2V0KCkgbWV0aG9kIGFuZCBjYW5ub3QgYmUgdXBkYXRlZDogJyArXG4gICAgICAgIGV4aXN0aW5nXG4gICAgKTtcbiAgfVxuICB2YXIga2V5ID0ga2V5UGF0aFtpXTtcbiAgdmFyIG5leHRFeGlzdGluZyA9IGlzTm90U2V0ID8gTk9UX1NFVCA6IGV4aXN0aW5nLmdldChrZXksIE5PVF9TRVQpO1xuICB2YXIgbmV4dFVwZGF0ZWQgPSB1cGRhdGVJbkRlZXBNYXAoXG4gICAgbmV4dEV4aXN0aW5nLFxuICAgIGtleVBhdGgsXG4gICAgaSArIDEsXG4gICAgbm90U2V0VmFsdWUsXG4gICAgdXBkYXRlclxuICApO1xuICByZXR1cm4gbmV4dFVwZGF0ZWQgPT09IG5leHRFeGlzdGluZ1xuICAgID8gZXhpc3RpbmdcbiAgICA6IG5leHRVcGRhdGVkID09PSBOT1RfU0VUXG4gICAgICAgID8gZXhpc3RpbmcucmVtb3ZlKGtleSlcbiAgICAgICAgOiAoaXNOb3RTZXQgPyBlbXB0eU1hcCgpIDogZXhpc3RpbmcpLnNldChrZXksIG5leHRVcGRhdGVkKTtcbn1cblxuZnVuY3Rpb24gcG9wQ291bnQoeCkge1xuICB4IC09IHggPj4gMSAmIDB4NTU1NTU1NTU7XG4gIHggPSAoeCAmIDB4MzMzMzMzMzMpICsgKHggPj4gMiAmIDB4MzMzMzMzMzMpO1xuICB4ID0geCArICh4ID4+IDQpICYgMHgwZjBmMGYwZjtcbiAgeCArPSB4ID4+IDg7XG4gIHggKz0geCA+PiAxNjtcbiAgcmV0dXJuIHggJiAweDdmO1xufVxuXG5mdW5jdGlvbiBzZXRJbihhcnJheSwgaWR4LCB2YWwsIGNhbkVkaXQpIHtcbiAgdmFyIG5ld0FycmF5ID0gY2FuRWRpdCA/IGFycmF5IDogYXJyQ29weShhcnJheSk7XG4gIG5ld0FycmF5W2lkeF0gPSB2YWw7XG4gIHJldHVybiBuZXdBcnJheTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlSW4oYXJyYXksIGlkeCwgdmFsLCBjYW5FZGl0KSB7XG4gIHZhciBuZXdMZW4gPSBhcnJheS5sZW5ndGggKyAxO1xuICBpZiAoY2FuRWRpdCAmJiBpZHggKyAxID09PSBuZXdMZW4pIHtcbiAgICBhcnJheVtpZHhdID0gdmFsO1xuICAgIHJldHVybiBhcnJheTtcbiAgfVxuICB2YXIgbmV3QXJyYXkgPSBuZXcgQXJyYXkobmV3TGVuKTtcbiAgdmFyIGFmdGVyID0gMDtcbiAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IG5ld0xlbjsgaWkrKykge1xuICAgIGlmIChpaSA9PT0gaWR4KSB7XG4gICAgICBuZXdBcnJheVtpaV0gPSB2YWw7XG4gICAgICBhZnRlciA9IC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdBcnJheVtpaV0gPSBhcnJheVtpaSArIGFmdGVyXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ld0FycmF5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPdXQoYXJyYXksIGlkeCwgY2FuRWRpdCkge1xuICB2YXIgbmV3TGVuID0gYXJyYXkubGVuZ3RoIC0gMTtcbiAgaWYgKGNhbkVkaXQgJiYgaWR4ID09PSBuZXdMZW4pIHtcbiAgICBhcnJheS5wb3AoKTtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cbiAgdmFyIG5ld0FycmF5ID0gbmV3IEFycmF5KG5ld0xlbik7XG4gIHZhciBhZnRlciA9IDA7XG4gIGZvciAodmFyIGlpID0gMDsgaWkgPCBuZXdMZW47IGlpKyspIHtcbiAgICBpZiAoaWkgPT09IGlkeCkge1xuICAgICAgYWZ0ZXIgPSAxO1xuICAgIH1cbiAgICBuZXdBcnJheVtpaV0gPSBhcnJheVtpaSArIGFmdGVyXTtcbiAgfVxuICByZXR1cm4gbmV3QXJyYXk7XG59XG5cbnZhciBNQVhfQVJSQVlfTUFQX1NJWkUgPSBTSVpFIC8gNDtcbnZhciBNQVhfQklUTUFQX0lOREVYRURfU0laRSA9IFNJWkUgLyAyO1xudmFyIE1JTl9IQVNIX0FSUkFZX01BUF9TSVpFID0gU0laRSAvIDQ7XG5cbnZhciBMaXN0ID0gKGZ1bmN0aW9uIChJbmRleGVkQ29sbGVjdGlvbiQkMSkge1xuICBmdW5jdGlvbiBMaXN0KHZhbHVlKSB7XG4gICAgdmFyIGVtcHR5ID0gZW1wdHlMaXN0KCk7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9XG4gICAgaWYgKGlzTGlzdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdmFyIGl0ZXIgPSBJbmRleGVkQ29sbGVjdGlvbiQkMSh2YWx1ZSk7XG4gICAgdmFyIHNpemUgPSBpdGVyLnNpemU7XG4gICAgaWYgKHNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9XG4gICAgYXNzZXJ0Tm90SW5maW5pdGUoc2l6ZSk7XG4gICAgaWYgKHNpemUgPiAwICYmIHNpemUgPCBTSVpFKSB7XG4gICAgICByZXR1cm4gbWFrZUxpc3QoMCwgc2l6ZSwgU0hJRlQsIG51bGwsIG5ldyBWTm9kZShpdGVyLnRvQXJyYXkoKSkpO1xuICAgIH1cbiAgICByZXR1cm4gZW1wdHkud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobGlzdCkge1xuICAgICAgbGlzdC5zZXRTaXplKHNpemUpO1xuICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpKSB7IHJldHVybiBsaXN0LnNldChpLCB2KTsgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoIEluZGV4ZWRDb2xsZWN0aW9uJCQxICkgTGlzdC5fX3Byb3RvX18gPSBJbmRleGVkQ29sbGVjdGlvbiQkMTtcbiAgTGlzdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbmRleGVkQ29sbGVjdGlvbiQkMSAmJiBJbmRleGVkQ29sbGVjdGlvbiQkMS5wcm90b3R5cGUgKTtcbiAgTGlzdC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMaXN0O1xuXG4gIExpc3Qub2YgPSBmdW5jdGlvbiBvZiAoLyouLi52YWx1ZXMqLykge1xuICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnTGlzdCBbJywgJ10nKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gIExpc3QucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5zaXplKSB7XG4gICAgICBpbmRleCArPSB0aGlzLl9vcmlnaW47XG4gICAgICB2YXIgbm9kZSA9IGxpc3ROb2RlRm9yKHRoaXMsIGluZGV4KTtcbiAgICAgIHJldHVybiBub2RlICYmIG5vZGUuYXJyYXlbaW5kZXggJiBNQVNLXTtcbiAgICB9XG4gICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgTGlzdC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0IChpbmRleCwgdmFsdWUpIHtcbiAgICByZXR1cm4gdXBkYXRlTGlzdCh0aGlzLCBpbmRleCwgdmFsdWUpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSAoaW5kZXgpIHtcbiAgICByZXR1cm4gIXRoaXMuaGFzKGluZGV4KVxuICAgICAgPyB0aGlzXG4gICAgICA6IGluZGV4ID09PSAwXG4gICAgICAgICAgPyB0aGlzLnNoaWZ0KClcbiAgICAgICAgICA6IGluZGV4ID09PSB0aGlzLnNpemUgLSAxID8gdGhpcy5wb3AoKSA6IHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiBpbnNlcnQgKGluZGV4LCB2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnNwbGljZShpbmRleCwgMCwgdmFsdWUpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgIHRoaXMuc2l6ZSA9ICh0aGlzLl9vcmlnaW4gPSAodGhpcy5fY2FwYWNpdHkgPSAwKSk7XG4gICAgICB0aGlzLl9sZXZlbCA9IFNISUZUO1xuICAgICAgdGhpcy5fcm9vdCA9ICh0aGlzLl90YWlsID0gbnVsbCk7XG4gICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gZW1wdHlMaXN0KCk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2ggKC8qLi4udmFsdWVzKi8pIHtcbiAgICB2YXIgdmFsdWVzID0gYXJndW1lbnRzO1xuICAgIHZhciBvbGRTaXplID0gdGhpcy5zaXplO1xuICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKGxpc3QpIHtcbiAgICAgIHNldExpc3RCb3VuZHMobGlzdCwgMCwgb2xkU2l6ZSArIHZhbHVlcy5sZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHZhbHVlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgbGlzdC5zZXQob2xkU2l6ZSArIGlpLCB2YWx1ZXNbaWldKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiBwb3AgKCkge1xuICAgIHJldHVybiBzZXRMaXN0Qm91bmRzKHRoaXMsIDAsIC0xKTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gdW5zaGlmdCAoLyouLi52YWx1ZXMqLykge1xuICAgIHZhciB2YWx1ZXMgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobGlzdCkge1xuICAgICAgc2V0TGlzdEJvdW5kcyhsaXN0LCAtdmFsdWVzLmxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgdmFsdWVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICBsaXN0LnNldChpaSwgdmFsdWVzW2lpXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbiBzaGlmdCAoKSB7XG4gICAgcmV0dXJuIHNldExpc3RCb3VuZHModGhpcywgMSk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBDb21wb3NpdGlvblxuXG4gIExpc3QucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24gbWVyZ2UgKC8qLi4uaXRlcnMqLykge1xuICAgIHJldHVybiBtZXJnZUludG9MaXN0V2l0aCh0aGlzLCB1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUubWVyZ2VXaXRoID0gZnVuY3Rpb24gbWVyZ2VXaXRoIChtZXJnZXIpIHtcbiAgICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKCBsZW4tLSA+IDAgKSBpdGVyc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgIHJldHVybiBtZXJnZUludG9MaXN0V2l0aCh0aGlzLCBtZXJnZXIsIGl0ZXJzKTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5tZXJnZURlZXAgPSBmdW5jdGlvbiBtZXJnZURlZXAgKC8qLi4uaXRlcnMqLykge1xuICAgIHJldHVybiBtZXJnZUludG9MaXN0V2l0aCh0aGlzLCBkZWVwTWVyZ2VyLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLm1lcmdlRGVlcFdpdGggPSBmdW5jdGlvbiBtZXJnZURlZXBXaXRoIChtZXJnZXIpIHtcbiAgICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKCBsZW4tLSA+IDAgKSBpdGVyc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgIHJldHVybiBtZXJnZUludG9MaXN0V2l0aCh0aGlzLCBkZWVwTWVyZ2VyV2l0aChtZXJnZXIpLCBpdGVycyk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uIHNldFNpemUgKHNpemUpIHtcbiAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyh0aGlzLCAwLCBzaXplKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIEl0ZXJhdGlvblxuXG4gIExpc3QucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKGJlZ2luLCBlbmQpIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICBpZiAod2hvbGVTbGljZShiZWdpbiwgZW5kLCBzaXplKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBzZXRMaXN0Qm91bmRzKFxuICAgICAgdGhpcyxcbiAgICAgIHJlc29sdmVCZWdpbihiZWdpbiwgc2l6ZSksXG4gICAgICByZXNvbHZlRW5kKGVuZCwgc2l6ZSlcbiAgICApO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIGluZGV4ID0gcmV2ZXJzZSA/IHRoaXMuc2l6ZSA6IDA7XG4gICAgdmFyIHZhbHVlcyA9IGl0ZXJhdGVMaXN0KHRoaXMsIHJldmVyc2UpO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHZhbHVlID0gdmFsdWVzKCk7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IERPTkVcbiAgICAgICAgPyBpdGVyYXRvckRvbmUoKVxuICAgICAgICA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgcmV2ZXJzZSA/IC0taW5kZXggOiBpbmRleCsrLCB2YWx1ZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGluZGV4ID0gcmV2ZXJzZSA/IHRoaXMuc2l6ZSA6IDA7XG4gICAgdmFyIHZhbHVlcyA9IGl0ZXJhdGVMaXN0KHRoaXMsIHJldmVyc2UpO1xuICAgIHZhciB2YWx1ZTtcbiAgICB3aGlsZSAoKHZhbHVlID0gdmFsdWVzKCkpICE9PSBET05FKSB7XG4gICAgICBpZiAoZm4odmFsdWUsIHJldmVyc2UgPyAtLWluZGV4IDogaW5kZXgrKywgdGhpcyQxKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24gX19lbnN1cmVPd25lciAob3duZXJJRCkge1xuICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICghb3duZXJJRCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZW1wdHlMaXN0KCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VMaXN0KFxuICAgICAgdGhpcy5fb3JpZ2luLFxuICAgICAgdGhpcy5fY2FwYWNpdHksXG4gICAgICB0aGlzLl9sZXZlbCxcbiAgICAgIHRoaXMuX3Jvb3QsXG4gICAgICB0aGlzLl90YWlsLFxuICAgICAgb3duZXJJRCxcbiAgICAgIHRoaXMuX19oYXNoXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gTGlzdDtcbn0oSW5kZXhlZENvbGxlY3Rpb24pKTtcblxuZnVuY3Rpb24gaXNMaXN0KG1heWJlTGlzdCkge1xuICByZXR1cm4gISEobWF5YmVMaXN0ICYmIG1heWJlTGlzdFtJU19MSVNUX1NFTlRJTkVMXSk7XG59XG5cbkxpc3QuaXNMaXN0ID0gaXNMaXN0O1xuXG52YXIgSVNfTElTVF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0xJU1RfX0BAJztcblxudmFyIExpc3RQcm90b3R5cGUgPSBMaXN0LnByb3RvdHlwZTtcbkxpc3RQcm90b3R5cGVbSVNfTElTVF9TRU5USU5FTF0gPSB0cnVlO1xuTGlzdFByb3RvdHlwZVtERUxFVEVdID0gTGlzdFByb3RvdHlwZS5yZW1vdmU7XG5MaXN0UHJvdG90eXBlLnNldEluID0gTWFwUHJvdG90eXBlLnNldEluO1xuTGlzdFByb3RvdHlwZS5kZWxldGVJbiA9IChMaXN0UHJvdG90eXBlLnJlbW92ZUluID0gTWFwUHJvdG90eXBlLnJlbW92ZUluKTtcbkxpc3RQcm90b3R5cGUudXBkYXRlID0gTWFwUHJvdG90eXBlLnVwZGF0ZTtcbkxpc3RQcm90b3R5cGUudXBkYXRlSW4gPSBNYXBQcm90b3R5cGUudXBkYXRlSW47XG5MaXN0UHJvdG90eXBlLm1lcmdlSW4gPSBNYXBQcm90b3R5cGUubWVyZ2VJbjtcbkxpc3RQcm90b3R5cGUubWVyZ2VEZWVwSW4gPSBNYXBQcm90b3R5cGUubWVyZ2VEZWVwSW47XG5MaXN0UHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSBNYXBQcm90b3R5cGUud2l0aE11dGF0aW9ucztcbkxpc3RQcm90b3R5cGUuYXNNdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZTtcbkxpc3RQcm90b3R5cGUuYXNJbW11dGFibGUgPSBNYXBQcm90b3R5cGUuYXNJbW11dGFibGU7XG5MaXN0UHJvdG90eXBlLndhc0FsdGVyZWQgPSBNYXBQcm90b3R5cGUud2FzQWx0ZXJlZDtcblxudmFyIFZOb2RlID0gZnVuY3Rpb24gVk5vZGUoYXJyYXksIG93bmVySUQpIHtcbiAgdGhpcy5hcnJheSA9IGFycmF5O1xuICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xufTtcblxuLy8gVE9ETzogc2VlbXMgbGlrZSB0aGVzZSBtZXRob2RzIGFyZSB2ZXJ5IHNpbWlsYXJcblxuVk5vZGUucHJvdG90eXBlLnJlbW92ZUJlZm9yZSA9IGZ1bmN0aW9uIHJlbW92ZUJlZm9yZSAob3duZXJJRCwgbGV2ZWwsIGluZGV4KSB7XG4gIGlmIChpbmRleCA9PT0gbGV2ZWwgPyAxIDw8IGxldmVsIDogMCB8fCB0aGlzLmFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHZhciBvcmlnaW5JbmRleCA9IGluZGV4ID4+PiBsZXZlbCAmIE1BU0s7XG4gIGlmIChvcmlnaW5JbmRleCA+PSB0aGlzLmFycmF5Lmxlbmd0aCkge1xuICAgIHJldHVybiBuZXcgVk5vZGUoW10sIG93bmVySUQpO1xuICB9XG4gIHZhciByZW1vdmluZ0ZpcnN0ID0gb3JpZ2luSW5kZXggPT09IDA7XG4gIHZhciBuZXdDaGlsZDtcbiAgaWYgKGxldmVsID4gMCkge1xuICAgIHZhciBvbGRDaGlsZCA9IHRoaXMuYXJyYXlbb3JpZ2luSW5kZXhdO1xuICAgIG5ld0NoaWxkID0gb2xkQ2hpbGQgJiZcbiAgICAgIG9sZENoaWxkLnJlbW92ZUJlZm9yZShvd25lcklELCBsZXZlbCAtIFNISUZULCBpbmRleCk7XG4gICAgaWYgKG5ld0NoaWxkID09PSBvbGRDaGlsZCAmJiByZW1vdmluZ0ZpcnN0KSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cbiAgaWYgKHJlbW92aW5nRmlyc3QgJiYgIW5ld0NoaWxkKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdmFyIGVkaXRhYmxlID0gZWRpdGFibGVWTm9kZSh0aGlzLCBvd25lcklEKTtcbiAgaWYgKCFyZW1vdmluZ0ZpcnN0KSB7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IG9yaWdpbkluZGV4OyBpaSsrKSB7XG4gICAgICBlZGl0YWJsZS5hcnJheVtpaV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG4gIGlmIChuZXdDaGlsZCkge1xuICAgIGVkaXRhYmxlLmFycmF5W29yaWdpbkluZGV4XSA9IG5ld0NoaWxkO1xuICB9XG4gIHJldHVybiBlZGl0YWJsZTtcbn07XG5cblZOb2RlLnByb3RvdHlwZS5yZW1vdmVBZnRlciA9IGZ1bmN0aW9uIHJlbW92ZUFmdGVyIChvd25lcklELCBsZXZlbCwgaW5kZXgpIHtcbiAgaWYgKGluZGV4ID09PSAobGV2ZWwgPyAxIDw8IGxldmVsIDogMCkgfHwgdGhpcy5hcnJheS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB2YXIgc2l6ZUluZGV4ID0gaW5kZXggLSAxID4+PiBsZXZlbCAmIE1BU0s7XG4gIGlmIChzaXplSW5kZXggPj0gdGhpcy5hcnJheS5sZW5ndGgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBuZXdDaGlsZDtcbiAgaWYgKGxldmVsID4gMCkge1xuICAgIHZhciBvbGRDaGlsZCA9IHRoaXMuYXJyYXlbc2l6ZUluZGV4XTtcbiAgICBuZXdDaGlsZCA9IG9sZENoaWxkICYmXG4gICAgICBvbGRDaGlsZC5yZW1vdmVBZnRlcihvd25lcklELCBsZXZlbCAtIFNISUZULCBpbmRleCk7XG4gICAgaWYgKG5ld0NoaWxkID09PSBvbGRDaGlsZCAmJiBzaXplSW5kZXggPT09IHRoaXMuYXJyYXkubGVuZ3RoIC0gMSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIGVkaXRhYmxlID0gZWRpdGFibGVWTm9kZSh0aGlzLCBvd25lcklEKTtcbiAgZWRpdGFibGUuYXJyYXkuc3BsaWNlKHNpemVJbmRleCArIDEpO1xuICBpZiAobmV3Q2hpbGQpIHtcbiAgICBlZGl0YWJsZS5hcnJheVtzaXplSW5kZXhdID0gbmV3Q2hpbGQ7XG4gIH1cbiAgcmV0dXJuIGVkaXRhYmxlO1xufTtcblxudmFyIERPTkUgPSB7fTtcblxuZnVuY3Rpb24gaXRlcmF0ZUxpc3QobGlzdCwgcmV2ZXJzZSkge1xuICB2YXIgbGVmdCA9IGxpc3QuX29yaWdpbjtcbiAgdmFyIHJpZ2h0ID0gbGlzdC5fY2FwYWNpdHk7XG4gIHZhciB0YWlsUG9zID0gZ2V0VGFpbE9mZnNldChyaWdodCk7XG4gIHZhciB0YWlsID0gbGlzdC5fdGFpbDtcblxuICByZXR1cm4gaXRlcmF0ZU5vZGVPckxlYWYobGlzdC5fcm9vdCwgbGlzdC5fbGV2ZWwsIDApO1xuXG4gIGZ1bmN0aW9uIGl0ZXJhdGVOb2RlT3JMZWFmKG5vZGUsIGxldmVsLCBvZmZzZXQpIHtcbiAgICByZXR1cm4gbGV2ZWwgPT09IDBcbiAgICAgID8gaXRlcmF0ZUxlYWYobm9kZSwgb2Zmc2V0KVxuICAgICAgOiBpdGVyYXRlTm9kZShub2RlLCBsZXZlbCwgb2Zmc2V0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGl0ZXJhdGVMZWFmKG5vZGUsIG9mZnNldCkge1xuICAgIHZhciBhcnJheSA9IG9mZnNldCA9PT0gdGFpbFBvcyA/IHRhaWwgJiYgdGFpbC5hcnJheSA6IG5vZGUgJiYgbm9kZS5hcnJheTtcbiAgICB2YXIgZnJvbSA9IG9mZnNldCA+IGxlZnQgPyAwIDogbGVmdCAtIG9mZnNldDtcbiAgICB2YXIgdG8gPSByaWdodCAtIG9mZnNldDtcbiAgICBpZiAodG8gPiBTSVpFKSB7XG4gICAgICB0byA9IFNJWkU7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZnJvbSA9PT0gdG8pIHtcbiAgICAgICAgcmV0dXJuIERPTkU7XG4gICAgICB9XG4gICAgICB2YXIgaWR4ID0gcmV2ZXJzZSA/IC0tdG8gOiBmcm9tKys7XG4gICAgICByZXR1cm4gYXJyYXkgJiYgYXJyYXlbaWR4XTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gaXRlcmF0ZU5vZGUobm9kZSwgbGV2ZWwsIG9mZnNldCkge1xuICAgIHZhciB2YWx1ZXM7XG4gICAgdmFyIGFycmF5ID0gbm9kZSAmJiBub2RlLmFycmF5O1xuICAgIHZhciBmcm9tID0gb2Zmc2V0ID4gbGVmdCA/IDAgOiBsZWZ0IC0gb2Zmc2V0ID4+IGxldmVsO1xuICAgIHZhciB0byA9IChyaWdodCAtIG9mZnNldCA+PiBsZXZlbCkgKyAxO1xuICAgIGlmICh0byA+IFNJWkUpIHtcbiAgICAgIHRvID0gU0laRTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXMoKTtcbiAgICAgICAgICBpZiAodmFsdWUgIT09IERPTkUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFsdWVzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJvbSA9PT0gdG8pIHtcbiAgICAgICAgICByZXR1cm4gRE9ORTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaWR4ID0gcmV2ZXJzZSA/IC0tdG8gOiBmcm9tKys7XG4gICAgICAgIHZhbHVlcyA9IGl0ZXJhdGVOb2RlT3JMZWFmKFxuICAgICAgICAgIGFycmF5ICYmIGFycmF5W2lkeF0sXG4gICAgICAgICAgbGV2ZWwgLSBTSElGVCxcbiAgICAgICAgICBvZmZzZXQgKyAoaWR4IDw8IGxldmVsKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFrZUxpc3Qob3JpZ2luLCBjYXBhY2l0eSwgbGV2ZWwsIHJvb3QsIHRhaWwsIG93bmVySUQsIGhhc2gpIHtcbiAgdmFyIGxpc3QgPSBPYmplY3QuY3JlYXRlKExpc3RQcm90b3R5cGUpO1xuICBsaXN0LnNpemUgPSBjYXBhY2l0eSAtIG9yaWdpbjtcbiAgbGlzdC5fb3JpZ2luID0gb3JpZ2luO1xuICBsaXN0Ll9jYXBhY2l0eSA9IGNhcGFjaXR5O1xuICBsaXN0Ll9sZXZlbCA9IGxldmVsO1xuICBsaXN0Ll9yb290ID0gcm9vdDtcbiAgbGlzdC5fdGFpbCA9IHRhaWw7XG4gIGxpc3QuX19vd25lcklEID0gb3duZXJJRDtcbiAgbGlzdC5fX2hhc2ggPSBoYXNoO1xuICBsaXN0Ll9fYWx0ZXJlZCA9IGZhbHNlO1xuICByZXR1cm4gbGlzdDtcbn1cblxudmFyIEVNUFRZX0xJU1Q7XG5mdW5jdGlvbiBlbXB0eUxpc3QoKSB7XG4gIHJldHVybiBFTVBUWV9MSVNUIHx8IChFTVBUWV9MSVNUID0gbWFrZUxpc3QoMCwgMCwgU0hJRlQpKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlTGlzdChsaXN0LCBpbmRleCwgdmFsdWUpIHtcbiAgaW5kZXggPSB3cmFwSW5kZXgobGlzdCwgaW5kZXgpO1xuXG4gIGlmIChpbmRleCAhPT0gaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuXG4gIGlmIChpbmRleCA+PSBsaXN0LnNpemUgfHwgaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGxpc3Qud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobGlzdCkge1xuICAgICAgaW5kZXggPCAwXG4gICAgICAgID8gc2V0TGlzdEJvdW5kcyhsaXN0LCBpbmRleCkuc2V0KDAsIHZhbHVlKVxuICAgICAgICA6IHNldExpc3RCb3VuZHMobGlzdCwgMCwgaW5kZXggKyAxKS5zZXQoaW5kZXgsIHZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGluZGV4ICs9IGxpc3QuX29yaWdpbjtcblxuICB2YXIgbmV3VGFpbCA9IGxpc3QuX3RhaWw7XG4gIHZhciBuZXdSb290ID0gbGlzdC5fcm9vdDtcbiAgdmFyIGRpZEFsdGVyID0gTWFrZVJlZihESURfQUxURVIpO1xuICBpZiAoaW5kZXggPj0gZ2V0VGFpbE9mZnNldChsaXN0Ll9jYXBhY2l0eSkpIHtcbiAgICBuZXdUYWlsID0gdXBkYXRlVk5vZGUobmV3VGFpbCwgbGlzdC5fX293bmVySUQsIDAsIGluZGV4LCB2YWx1ZSwgZGlkQWx0ZXIpO1xuICB9IGVsc2Uge1xuICAgIG5ld1Jvb3QgPSB1cGRhdGVWTm9kZShcbiAgICAgIG5ld1Jvb3QsXG4gICAgICBsaXN0Ll9fb3duZXJJRCxcbiAgICAgIGxpc3QuX2xldmVsLFxuICAgICAgaW5kZXgsXG4gICAgICB2YWx1ZSxcbiAgICAgIGRpZEFsdGVyXG4gICAgKTtcbiAgfVxuXG4gIGlmICghZGlkQWx0ZXIudmFsdWUpIHtcbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuXG4gIGlmIChsaXN0Ll9fb3duZXJJRCkge1xuICAgIGxpc3QuX3Jvb3QgPSBuZXdSb290O1xuICAgIGxpc3QuX3RhaWwgPSBuZXdUYWlsO1xuICAgIGxpc3QuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgIGxpc3QuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuICByZXR1cm4gbWFrZUxpc3QobGlzdC5fb3JpZ2luLCBsaXN0Ll9jYXBhY2l0eSwgbGlzdC5fbGV2ZWwsIG5ld1Jvb3QsIG5ld1RhaWwpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVWTm9kZShub2RlLCBvd25lcklELCBsZXZlbCwgaW5kZXgsIHZhbHVlLCBkaWRBbHRlcikge1xuICB2YXIgaWR4ID0gaW5kZXggPj4+IGxldmVsICYgTUFTSztcbiAgdmFyIG5vZGVIYXMgPSBub2RlICYmIGlkeCA8IG5vZGUuYXJyYXkubGVuZ3RoO1xuICBpZiAoIW5vZGVIYXMgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgdmFyIG5ld05vZGU7XG5cbiAgaWYgKGxldmVsID4gMCkge1xuICAgIHZhciBsb3dlck5vZGUgPSBub2RlICYmIG5vZGUuYXJyYXlbaWR4XTtcbiAgICB2YXIgbmV3TG93ZXJOb2RlID0gdXBkYXRlVk5vZGUoXG4gICAgICBsb3dlck5vZGUsXG4gICAgICBvd25lcklELFxuICAgICAgbGV2ZWwgLSBTSElGVCxcbiAgICAgIGluZGV4LFxuICAgICAgdmFsdWUsXG4gICAgICBkaWRBbHRlclxuICAgICk7XG4gICAgaWYgKG5ld0xvd2VyTm9kZSA9PT0gbG93ZXJOb2RlKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgbmV3Tm9kZSA9IGVkaXRhYmxlVk5vZGUobm9kZSwgb3duZXJJRCk7XG4gICAgbmV3Tm9kZS5hcnJheVtpZHhdID0gbmV3TG93ZXJOb2RlO1xuICAgIHJldHVybiBuZXdOb2RlO1xuICB9XG5cbiAgaWYgKG5vZGVIYXMgJiYgbm9kZS5hcnJheVtpZHhdID09PSB2YWx1ZSkge1xuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgU2V0UmVmKGRpZEFsdGVyKTtcblxuICBuZXdOb2RlID0gZWRpdGFibGVWTm9kZShub2RlLCBvd25lcklEKTtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgaWR4ID09PSBuZXdOb2RlLmFycmF5Lmxlbmd0aCAtIDEpIHtcbiAgICBuZXdOb2RlLmFycmF5LnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIG5ld05vZGUuYXJyYXlbaWR4XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBuZXdOb2RlO1xufVxuXG5mdW5jdGlvbiBlZGl0YWJsZVZOb2RlKG5vZGUsIG93bmVySUQpIHtcbiAgaWYgKG93bmVySUQgJiYgbm9kZSAmJiBvd25lcklEID09PSBub2RlLm93bmVySUQpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICByZXR1cm4gbmV3IFZOb2RlKG5vZGUgPyBub2RlLmFycmF5LnNsaWNlKCkgOiBbXSwgb3duZXJJRCk7XG59XG5cbmZ1bmN0aW9uIGxpc3ROb2RlRm9yKGxpc3QsIHJhd0luZGV4KSB7XG4gIGlmIChyYXdJbmRleCA+PSBnZXRUYWlsT2Zmc2V0KGxpc3QuX2NhcGFjaXR5KSkge1xuICAgIHJldHVybiBsaXN0Ll90YWlsO1xuICB9XG4gIGlmIChyYXdJbmRleCA8IDEgPDwgbGlzdC5fbGV2ZWwgKyBTSElGVCkge1xuICAgIHZhciBub2RlID0gbGlzdC5fcm9vdDtcbiAgICB2YXIgbGV2ZWwgPSBsaXN0Ll9sZXZlbDtcbiAgICB3aGlsZSAobm9kZSAmJiBsZXZlbCA+IDApIHtcbiAgICAgIG5vZGUgPSBub2RlLmFycmF5W3Jhd0luZGV4ID4+PiBsZXZlbCAmIE1BU0tdO1xuICAgICAgbGV2ZWwgLT0gU0hJRlQ7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldExpc3RCb3VuZHMobGlzdCwgYmVnaW4sIGVuZCkge1xuICAvLyBTYW5pdGl6ZSBiZWdpbiAmIGVuZCB1c2luZyB0aGlzIHNob3J0aGFuZCBmb3IgVG9JbnQzMihhcmd1bWVudClcbiAgLy8gaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXRvaW50MzJcbiAgaWYgKGJlZ2luICE9PSB1bmRlZmluZWQpIHtcbiAgICBiZWdpbiB8PSAwO1xuICB9XG4gIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCB8PSAwO1xuICB9XG4gIHZhciBvd25lciA9IGxpc3QuX19vd25lcklEIHx8IG5ldyBPd25lcklEKCk7XG4gIHZhciBvbGRPcmlnaW4gPSBsaXN0Ll9vcmlnaW47XG4gIHZhciBvbGRDYXBhY2l0eSA9IGxpc3QuX2NhcGFjaXR5O1xuICB2YXIgbmV3T3JpZ2luID0gb2xkT3JpZ2luICsgYmVnaW47XG4gIHZhciBuZXdDYXBhY2l0eSA9IGVuZCA9PT0gdW5kZWZpbmVkXG4gICAgPyBvbGRDYXBhY2l0eVxuICAgIDogZW5kIDwgMCA/IG9sZENhcGFjaXR5ICsgZW5kIDogb2xkT3JpZ2luICsgZW5kO1xuICBpZiAobmV3T3JpZ2luID09PSBvbGRPcmlnaW4gJiYgbmV3Q2FwYWNpdHkgPT09IG9sZENhcGFjaXR5KSB7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cblxuICAvLyBJZiBpdCdzIGdvaW5nIHRvIGVuZCBhZnRlciBpdCBzdGFydHMsIGl0J3MgZW1wdHkuXG4gIGlmIChuZXdPcmlnaW4gPj0gbmV3Q2FwYWNpdHkpIHtcbiAgICByZXR1cm4gbGlzdC5jbGVhcigpO1xuICB9XG5cbiAgdmFyIG5ld0xldmVsID0gbGlzdC5fbGV2ZWw7XG4gIHZhciBuZXdSb290ID0gbGlzdC5fcm9vdDtcblxuICAvLyBOZXcgb3JpZ2luIG1pZ2h0IG5lZWQgY3JlYXRpbmcgYSBoaWdoZXIgcm9vdC5cbiAgdmFyIG9mZnNldFNoaWZ0ID0gMDtcbiAgd2hpbGUgKG5ld09yaWdpbiArIG9mZnNldFNoaWZ0IDwgMCkge1xuICAgIG5ld1Jvb3QgPSBuZXcgVk5vZGUoXG4gICAgICBuZXdSb290ICYmIG5ld1Jvb3QuYXJyYXkubGVuZ3RoID8gW3VuZGVmaW5lZCwgbmV3Um9vdF0gOiBbXSxcbiAgICAgIG93bmVyXG4gICAgKTtcbiAgICBuZXdMZXZlbCArPSBTSElGVDtcbiAgICBvZmZzZXRTaGlmdCArPSAxIDw8IG5ld0xldmVsO1xuICB9XG4gIGlmIChvZmZzZXRTaGlmdCkge1xuICAgIG5ld09yaWdpbiArPSBvZmZzZXRTaGlmdDtcbiAgICBvbGRPcmlnaW4gKz0gb2Zmc2V0U2hpZnQ7XG4gICAgbmV3Q2FwYWNpdHkgKz0gb2Zmc2V0U2hpZnQ7XG4gICAgb2xkQ2FwYWNpdHkgKz0gb2Zmc2V0U2hpZnQ7XG4gIH1cblxuICB2YXIgb2xkVGFpbE9mZnNldCA9IGdldFRhaWxPZmZzZXQob2xkQ2FwYWNpdHkpO1xuICB2YXIgbmV3VGFpbE9mZnNldCA9IGdldFRhaWxPZmZzZXQobmV3Q2FwYWNpdHkpO1xuXG4gIC8vIE5ldyBzaXplIG1pZ2h0IG5lZWQgY3JlYXRpbmcgYSBoaWdoZXIgcm9vdC5cbiAgd2hpbGUgKG5ld1RhaWxPZmZzZXQgPj0gMSA8PCBuZXdMZXZlbCArIFNISUZUKSB7XG4gICAgbmV3Um9vdCA9IG5ldyBWTm9kZShcbiAgICAgIG5ld1Jvb3QgJiYgbmV3Um9vdC5hcnJheS5sZW5ndGggPyBbbmV3Um9vdF0gOiBbXSxcbiAgICAgIG93bmVyXG4gICAgKTtcbiAgICBuZXdMZXZlbCArPSBTSElGVDtcbiAgfVxuXG4gIC8vIExvY2F0ZSBvciBjcmVhdGUgdGhlIG5ldyB0YWlsLlxuICB2YXIgb2xkVGFpbCA9IGxpc3QuX3RhaWw7XG4gIHZhciBuZXdUYWlsID0gbmV3VGFpbE9mZnNldCA8IG9sZFRhaWxPZmZzZXRcbiAgICA/IGxpc3ROb2RlRm9yKGxpc3QsIG5ld0NhcGFjaXR5IC0gMSlcbiAgICA6IG5ld1RhaWxPZmZzZXQgPiBvbGRUYWlsT2Zmc2V0ID8gbmV3IFZOb2RlKFtdLCBvd25lcikgOiBvbGRUYWlsO1xuXG4gIC8vIE1lcmdlIFRhaWwgaW50byB0cmVlLlxuICBpZiAoXG4gICAgb2xkVGFpbCAmJlxuICAgIG5ld1RhaWxPZmZzZXQgPiBvbGRUYWlsT2Zmc2V0ICYmXG4gICAgbmV3T3JpZ2luIDwgb2xkQ2FwYWNpdHkgJiZcbiAgICBvbGRUYWlsLmFycmF5Lmxlbmd0aFxuICApIHtcbiAgICBuZXdSb290ID0gZWRpdGFibGVWTm9kZShuZXdSb290LCBvd25lcik7XG4gICAgdmFyIG5vZGUgPSBuZXdSb290O1xuICAgIGZvciAodmFyIGxldmVsID0gbmV3TGV2ZWw7IGxldmVsID4gU0hJRlQ7IGxldmVsIC09IFNISUZUKSB7XG4gICAgICB2YXIgaWR4ID0gb2xkVGFpbE9mZnNldCA+Pj4gbGV2ZWwgJiBNQVNLO1xuICAgICAgbm9kZSA9IChub2RlLmFycmF5W2lkeF0gPSBlZGl0YWJsZVZOb2RlKG5vZGUuYXJyYXlbaWR4XSwgb3duZXIpKTtcbiAgICB9XG4gICAgbm9kZS5hcnJheVtvbGRUYWlsT2Zmc2V0ID4+PiBTSElGVCAmIE1BU0tdID0gb2xkVGFpbDtcbiAgfVxuXG4gIC8vIElmIHRoZSBzaXplIGhhcyBiZWVuIHJlZHVjZWQsIHRoZXJlJ3MgYSBjaGFuY2UgdGhlIHRhaWwgbmVlZHMgdG8gYmUgdHJpbW1lZC5cbiAgaWYgKG5ld0NhcGFjaXR5IDwgb2xkQ2FwYWNpdHkpIHtcbiAgICBuZXdUYWlsID0gbmV3VGFpbCAmJiBuZXdUYWlsLnJlbW92ZUFmdGVyKG93bmVyLCAwLCBuZXdDYXBhY2l0eSk7XG4gIH1cblxuICAvLyBJZiB0aGUgbmV3IG9yaWdpbiBpcyB3aXRoaW4gdGhlIHRhaWwsIHRoZW4gd2UgZG8gbm90IG5lZWQgYSByb290LlxuICBpZiAobmV3T3JpZ2luID49IG5ld1RhaWxPZmZzZXQpIHtcbiAgICBuZXdPcmlnaW4gLT0gbmV3VGFpbE9mZnNldDtcbiAgICBuZXdDYXBhY2l0eSAtPSBuZXdUYWlsT2Zmc2V0O1xuICAgIG5ld0xldmVsID0gU0hJRlQ7XG4gICAgbmV3Um9vdCA9IG51bGw7XG4gICAgbmV3VGFpbCA9IG5ld1RhaWwgJiYgbmV3VGFpbC5yZW1vdmVCZWZvcmUob3duZXIsIDAsIG5ld09yaWdpbik7XG5cbiAgICAvLyBPdGhlcndpc2UsIGlmIHRoZSByb290IGhhcyBiZWVuIHRyaW1tZWQsIGdhcmJhZ2UgY29sbGVjdC5cbiAgfSBlbHNlIGlmIChuZXdPcmlnaW4gPiBvbGRPcmlnaW4gfHwgbmV3VGFpbE9mZnNldCA8IG9sZFRhaWxPZmZzZXQpIHtcbiAgICBvZmZzZXRTaGlmdCA9IDA7XG5cbiAgICAvLyBJZGVudGlmeSB0aGUgbmV3IHRvcCByb290IG5vZGUgb2YgdGhlIHN1YnRyZWUgb2YgdGhlIG9sZCByb290LlxuICAgIHdoaWxlIChuZXdSb290KSB7XG4gICAgICB2YXIgYmVnaW5JbmRleCA9IG5ld09yaWdpbiA+Pj4gbmV3TGV2ZWwgJiBNQVNLO1xuICAgICAgaWYgKGJlZ2luSW5kZXggIT09IG5ld1RhaWxPZmZzZXQgPj4+IG5ld0xldmVsICYgTUFTSykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChiZWdpbkluZGV4KSB7XG4gICAgICAgIG9mZnNldFNoaWZ0ICs9ICgxIDw8IG5ld0xldmVsKSAqIGJlZ2luSW5kZXg7XG4gICAgICB9XG4gICAgICBuZXdMZXZlbCAtPSBTSElGVDtcbiAgICAgIG5ld1Jvb3QgPSBuZXdSb290LmFycmF5W2JlZ2luSW5kZXhdO1xuICAgIH1cblxuICAgIC8vIFRyaW0gdGhlIG5ldyBzaWRlcyBvZiB0aGUgbmV3IHJvb3QuXG4gICAgaWYgKG5ld1Jvb3QgJiYgbmV3T3JpZ2luID4gb2xkT3JpZ2luKSB7XG4gICAgICBuZXdSb290ID0gbmV3Um9vdC5yZW1vdmVCZWZvcmUob3duZXIsIG5ld0xldmVsLCBuZXdPcmlnaW4gLSBvZmZzZXRTaGlmdCk7XG4gICAgfVxuICAgIGlmIChuZXdSb290ICYmIG5ld1RhaWxPZmZzZXQgPCBvbGRUYWlsT2Zmc2V0KSB7XG4gICAgICBuZXdSb290ID0gbmV3Um9vdC5yZW1vdmVBZnRlcihcbiAgICAgICAgb3duZXIsXG4gICAgICAgIG5ld0xldmVsLFxuICAgICAgICBuZXdUYWlsT2Zmc2V0IC0gb2Zmc2V0U2hpZnRcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChvZmZzZXRTaGlmdCkge1xuICAgICAgbmV3T3JpZ2luIC09IG9mZnNldFNoaWZ0O1xuICAgICAgbmV3Q2FwYWNpdHkgLT0gb2Zmc2V0U2hpZnQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKGxpc3QuX19vd25lcklEKSB7XG4gICAgbGlzdC5zaXplID0gbmV3Q2FwYWNpdHkgLSBuZXdPcmlnaW47XG4gICAgbGlzdC5fb3JpZ2luID0gbmV3T3JpZ2luO1xuICAgIGxpc3QuX2NhcGFjaXR5ID0gbmV3Q2FwYWNpdHk7XG4gICAgbGlzdC5fbGV2ZWwgPSBuZXdMZXZlbDtcbiAgICBsaXN0Ll9yb290ID0gbmV3Um9vdDtcbiAgICBsaXN0Ll90YWlsID0gbmV3VGFpbDtcbiAgICBsaXN0Ll9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICBsaXN0Ll9fYWx0ZXJlZCA9IHRydWU7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cbiAgcmV0dXJuIG1ha2VMaXN0KG5ld09yaWdpbiwgbmV3Q2FwYWNpdHksIG5ld0xldmVsLCBuZXdSb290LCBuZXdUYWlsKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VJbnRvTGlzdFdpdGgobGlzdCwgbWVyZ2VyLCBjb2xsZWN0aW9ucykge1xuICB2YXIgaXRlcnMgPSBbXTtcbiAgdmFyIG1heFNpemUgPSAwO1xuICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgY29sbGVjdGlvbnMubGVuZ3RoOyBpaSsrKSB7XG4gICAgdmFyIHZhbHVlID0gY29sbGVjdGlvbnNbaWldO1xuICAgIHZhciBpdGVyID0gSW5kZXhlZENvbGxlY3Rpb24odmFsdWUpO1xuICAgIGlmIChpdGVyLnNpemUgPiBtYXhTaXplKSB7XG4gICAgICBtYXhTaXplID0gaXRlci5zaXplO1xuICAgIH1cbiAgICBpZiAoIWlzQ29sbGVjdGlvbih2YWx1ZSkpIHtcbiAgICAgIGl0ZXIgPSBpdGVyLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gZnJvbUpTKHYpOyB9KTtcbiAgICB9XG4gICAgaXRlcnMucHVzaChpdGVyKTtcbiAgfVxuICBpZiAobWF4U2l6ZSA+IGxpc3Quc2l6ZSkge1xuICAgIGxpc3QgPSBsaXN0LnNldFNpemUobWF4U2l6ZSk7XG4gIH1cbiAgcmV0dXJuIG1lcmdlSW50b0NvbGxlY3Rpb25XaXRoKGxpc3QsIG1lcmdlciwgaXRlcnMpO1xufVxuXG5mdW5jdGlvbiBnZXRUYWlsT2Zmc2V0KHNpemUpIHtcbiAgcmV0dXJuIHNpemUgPCBTSVpFID8gMCA6IHNpemUgLSAxID4+PiBTSElGVCA8PCBTSElGVDtcbn1cblxudmFyIE9yZGVyZWRNYXAgPSAoZnVuY3Rpb24gKE1hcCQkMSkge1xuICBmdW5jdGlvbiBPcmRlcmVkTWFwKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8gZW1wdHlPcmRlcmVkTWFwKClcbiAgICAgIDogaXNPcmRlcmVkTWFwKHZhbHVlKVxuICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICA6IGVtcHR5T3JkZXJlZE1hcCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICAgICAgICB2YXIgaXRlciA9IEtleWVkQ29sbGVjdGlvbih2YWx1ZSk7XG4gICAgICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gbWFwLnNldChrLCB2KTsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgfVxuXG4gIGlmICggTWFwJCQxICkgT3JkZXJlZE1hcC5fX3Byb3RvX18gPSBNYXAkJDE7XG4gIE9yZGVyZWRNYXAucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggTWFwJCQxICYmIE1hcCQkMS5wcm90b3R5cGUgKTtcbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPcmRlcmVkTWFwO1xuXG4gIE9yZGVyZWRNYXAub2YgPSBmdW5jdGlvbiBvZiAoLyouLi52YWx1ZXMqLykge1xuICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnT3JkZXJlZE1hcCB7JywgJ30nKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gIE9yZGVyZWRNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoaywgbm90U2V0VmFsdWUpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLl9tYXAuZ2V0KGspO1xuICAgIHJldHVybiBpbmRleCAhPT0gdW5kZWZpbmVkID8gdGhpcy5fbGlzdC5nZXQoaW5kZXgpWzFdIDogbm90U2V0VmFsdWU7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgdGhpcy5fbWFwLmNsZWFyKCk7XG4gICAgICB0aGlzLl9saXN0LmNsZWFyKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGVtcHR5T3JkZXJlZE1hcCgpO1xuICB9O1xuXG4gIE9yZGVyZWRNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCAoaywgdikge1xuICAgIHJldHVybiB1cGRhdGVPcmRlcmVkTWFwKHRoaXMsIGssIHYpO1xuICB9O1xuXG4gIE9yZGVyZWRNYXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSAoaykge1xuICAgIHJldHVybiB1cGRhdGVPcmRlcmVkTWFwKHRoaXMsIGssIE5PVF9TRVQpO1xuICB9O1xuXG4gIE9yZGVyZWRNYXAucHJvdG90eXBlLndhc0FsdGVyZWQgPSBmdW5jdGlvbiB3YXNBbHRlcmVkICgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLndhc0FsdGVyZWQoKSB8fCB0aGlzLl9saXN0Lndhc0FsdGVyZWQoKTtcbiAgfTtcblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5fbGlzdC5fX2l0ZXJhdGUoXG4gICAgICBmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5ICYmIGZuKGVudHJ5WzFdLCBlbnRyeVswXSwgdGhpcyQxKTsgfSxcbiAgICAgIHJldmVyc2VcbiAgICApO1xuICB9O1xuXG4gIE9yZGVyZWRNYXAucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xpc3QuZnJvbUVudHJ5U2VxKCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgfTtcblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24gX19lbnN1cmVPd25lciAob3duZXJJRCkge1xuICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHZhciBuZXdNYXAgPSB0aGlzLl9tYXAuX19lbnN1cmVPd25lcihvd25lcklEKTtcbiAgICB2YXIgbmV3TGlzdCA9IHRoaXMuX2xpc3QuX19lbnN1cmVPd25lcihvd25lcklEKTtcbiAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5T3JkZXJlZE1hcCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5fbWFwID0gbmV3TWFwO1xuICAgICAgdGhpcy5fbGlzdCA9IG5ld0xpc3Q7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VPcmRlcmVkTWFwKG5ld01hcCwgbmV3TGlzdCwgb3duZXJJRCwgdGhpcy5fX2hhc2gpO1xuICB9O1xuXG4gIHJldHVybiBPcmRlcmVkTWFwO1xufShNYXApKTtcblxuZnVuY3Rpb24gaXNPcmRlcmVkTWFwKG1heWJlT3JkZXJlZE1hcCkge1xuICByZXR1cm4gaXNNYXAobWF5YmVPcmRlcmVkTWFwKSAmJiBpc09yZGVyZWQobWF5YmVPcmRlcmVkTWFwKTtcbn1cblxuT3JkZXJlZE1hcC5pc09yZGVyZWRNYXAgPSBpc09yZGVyZWRNYXA7XG5cbk9yZGVyZWRNYXAucHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcbk9yZGVyZWRNYXAucHJvdG90eXBlW0RFTEVURV0gPSBPcmRlcmVkTWFwLnByb3RvdHlwZS5yZW1vdmU7XG5cbmZ1bmN0aW9uIG1ha2VPcmRlcmVkTWFwKG1hcCwgbGlzdCwgb3duZXJJRCwgaGFzaCkge1xuICB2YXIgb21hcCA9IE9iamVjdC5jcmVhdGUoT3JkZXJlZE1hcC5wcm90b3R5cGUpO1xuICBvbWFwLnNpemUgPSBtYXAgPyBtYXAuc2l6ZSA6IDA7XG4gIG9tYXAuX21hcCA9IG1hcDtcbiAgb21hcC5fbGlzdCA9IGxpc3Q7XG4gIG9tYXAuX19vd25lcklEID0gb3duZXJJRDtcbiAgb21hcC5fX2hhc2ggPSBoYXNoO1xuICByZXR1cm4gb21hcDtcbn1cblxudmFyIEVNUFRZX09SREVSRURfTUFQO1xuZnVuY3Rpb24gZW1wdHlPcmRlcmVkTWFwKCkge1xuICByZXR1cm4gRU1QVFlfT1JERVJFRF9NQVAgfHxcbiAgICAoRU1QVFlfT1JERVJFRF9NQVAgPSBtYWtlT3JkZXJlZE1hcChlbXB0eU1hcCgpLCBlbXB0eUxpc3QoKSkpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVPcmRlcmVkTWFwKG9tYXAsIGssIHYpIHtcbiAgdmFyIG1hcCA9IG9tYXAuX21hcDtcbiAgdmFyIGxpc3QgPSBvbWFwLl9saXN0O1xuICB2YXIgaSA9IG1hcC5nZXQoayk7XG4gIHZhciBoYXMgPSBpICE9PSB1bmRlZmluZWQ7XG4gIHZhciBuZXdNYXA7XG4gIHZhciBuZXdMaXN0O1xuICBpZiAodiA9PT0gTk9UX1NFVCkge1xuICAgIC8vIHJlbW92ZWRcbiAgICBpZiAoIWhhcykge1xuICAgICAgcmV0dXJuIG9tYXA7XG4gICAgfVxuICAgIGlmIChsaXN0LnNpemUgPj0gU0laRSAmJiBsaXN0LnNpemUgPj0gbWFwLnNpemUgKiAyKSB7XG4gICAgICBuZXdMaXN0ID0gbGlzdC5maWx0ZXIoZnVuY3Rpb24gKGVudHJ5LCBpZHgpIHsgcmV0dXJuIGVudHJ5ICE9PSB1bmRlZmluZWQgJiYgaSAhPT0gaWR4OyB9KTtcbiAgICAgIG5ld01hcCA9IG5ld0xpc3QudG9LZXllZFNlcSgpLm1hcChmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5WzBdOyB9KS5mbGlwKCkudG9NYXAoKTtcbiAgICAgIGlmIChvbWFwLl9fb3duZXJJRCkge1xuICAgICAgICBuZXdNYXAuX19vd25lcklEID0gKG5ld0xpc3QuX19vd25lcklEID0gb21hcC5fX293bmVySUQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdNYXAgPSBtYXAucmVtb3ZlKGspO1xuICAgICAgbmV3TGlzdCA9IGkgPT09IGxpc3Quc2l6ZSAtIDEgPyBsaXN0LnBvcCgpIDogbGlzdC5zZXQoaSwgdW5kZWZpbmVkKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaGFzKSB7XG4gICAgaWYgKHYgPT09IGxpc3QuZ2V0KGkpWzFdKSB7XG4gICAgICByZXR1cm4gb21hcDtcbiAgICB9XG4gICAgbmV3TWFwID0gbWFwO1xuICAgIG5ld0xpc3QgPSBsaXN0LnNldChpLCBbaywgdl0pO1xuICB9IGVsc2Uge1xuICAgIG5ld01hcCA9IG1hcC5zZXQoaywgbGlzdC5zaXplKTtcbiAgICBuZXdMaXN0ID0gbGlzdC5zZXQobGlzdC5zaXplLCBbaywgdl0pO1xuICB9XG4gIGlmIChvbWFwLl9fb3duZXJJRCkge1xuICAgIG9tYXAuc2l6ZSA9IG5ld01hcC5zaXplO1xuICAgIG9tYXAuX21hcCA9IG5ld01hcDtcbiAgICBvbWFwLl9saXN0ID0gbmV3TGlzdDtcbiAgICBvbWFwLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gb21hcDtcbiAgfVxuICByZXR1cm4gbWFrZU9yZGVyZWRNYXAobmV3TWFwLCBuZXdMaXN0KTtcbn1cblxudmFyIFN0YWNrID0gKGZ1bmN0aW9uIChJbmRleGVkQ29sbGVjdGlvbiQkMSkge1xuICBmdW5jdGlvbiBTdGFjayh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGVtcHR5U3RhY2soKVxuICAgICAgOiBpc1N0YWNrKHZhbHVlKSA/IHZhbHVlIDogZW1wdHlTdGFjaygpLnB1c2hBbGwodmFsdWUpO1xuICB9XG5cbiAgaWYgKCBJbmRleGVkQ29sbGVjdGlvbiQkMSApIFN0YWNrLl9fcHJvdG9fXyA9IEluZGV4ZWRDb2xsZWN0aW9uJCQxO1xuICBTdGFjay5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbmRleGVkQ29sbGVjdGlvbiQkMSAmJiBJbmRleGVkQ29sbGVjdGlvbiQkMS5wcm90b3R5cGUgKTtcbiAgU3RhY2sucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3RhY2s7XG5cbiAgU3RhY2sub2YgPSBmdW5jdGlvbiBvZiAoLyouLi52YWx1ZXMqLykge1xuICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgU3RhY2sucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ1N0YWNrIFsnLCAnXScpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgU3RhY2sucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICB3aGlsZSAoaGVhZCAmJiBpbmRleC0tKSB7XG4gICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgIH1cbiAgICByZXR1cm4gaGVhZCA/IGhlYWQudmFsdWUgOiBub3RTZXRWYWx1ZTtcbiAgfTtcblxuICBTdGFjay5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uIHBlZWsgKCkge1xuICAgIHJldHVybiB0aGlzLl9oZWFkICYmIHRoaXMuX2hlYWQudmFsdWU7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICBTdGFjay5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2ggKC8qLi4udmFsdWVzKi8pIHtcbiAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHZhciBuZXdTaXplID0gdGhpcy5zaXplICsgYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgZm9yICh2YXIgaWkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaWkgPj0gMDsgaWktLSkge1xuICAgICAgaGVhZCA9IHtcbiAgICAgICAgdmFsdWU6IGFyZ3VtZW50cyQxW2lpXSxcbiAgICAgICAgbmV4dDogaGVhZFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICB0aGlzLnNpemUgPSBuZXdTaXplO1xuICAgICAgdGhpcy5faGVhZCA9IGhlYWQ7XG4gICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZVN0YWNrKG5ld1NpemUsIGhlYWQpO1xuICB9O1xuXG4gIFN0YWNrLnByb3RvdHlwZS5wdXNoQWxsID0gZnVuY3Rpb24gcHVzaEFsbCAoaXRlcikge1xuICAgIGl0ZXIgPSBJbmRleGVkQ29sbGVjdGlvbiQkMShpdGVyKTtcbiAgICBpZiAoaXRlci5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCAmJiBpc1N0YWNrKGl0ZXIpKSB7XG4gICAgICByZXR1cm4gaXRlcjtcbiAgICB9XG4gICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICB2YXIgbmV3U2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgaXRlci5fX2l0ZXJhdGUoXG4gICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgbmV3U2l6ZSsrO1xuICAgICAgICBoZWFkID0ge1xuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBuZXh0OiBoZWFkXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgLyogcmV2ZXJzZSAqLyB0cnVlXG4gICAgKTtcbiAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IG5ld1NpemU7XG4gICAgICB0aGlzLl9oZWFkID0gaGVhZDtcbiAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBtYWtlU3RhY2sobmV3U2l6ZSwgaGVhZCk7XG4gIH07XG5cbiAgU3RhY2sucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIHBvcCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2xpY2UoMSk7XG4gIH07XG5cbiAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICB0aGlzLl9oZWFkID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGVtcHR5U3RhY2soKTtcbiAgfTtcblxuICBTdGFjay5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoYmVnaW4sIGVuZCkge1xuICAgIGlmICh3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHRoaXMuc2l6ZSkpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB2YXIgcmVzb2x2ZWRCZWdpbiA9IHJlc29sdmVCZWdpbihiZWdpbiwgdGhpcy5zaXplKTtcbiAgICB2YXIgcmVzb2x2ZWRFbmQgPSByZXNvbHZlRW5kKGVuZCwgdGhpcy5zaXplKTtcbiAgICBpZiAocmVzb2x2ZWRFbmQgIT09IHRoaXMuc2l6ZSkge1xuICAgICAgLy8gc3VwZXIuc2xpY2UoYmVnaW4sIGVuZCk7XG4gICAgICByZXR1cm4gSW5kZXhlZENvbGxlY3Rpb24kJDEucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcywgYmVnaW4sIGVuZCk7XG4gICAgfVxuICAgIHZhciBuZXdTaXplID0gdGhpcy5zaXplIC0gcmVzb2x2ZWRCZWdpbjtcbiAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgd2hpbGUgKHJlc29sdmVkQmVnaW4tLSkge1xuICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICB0aGlzLnNpemUgPSBuZXdTaXplO1xuICAgICAgdGhpcy5faGVhZCA9IGhlYWQ7XG4gICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZVN0YWNrKG5ld1NpemUsIGhlYWQpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgTXV0YWJpbGl0eVxuXG4gIFN0YWNrLnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24gX19lbnN1cmVPd25lciAob3duZXJJRCkge1xuICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICghb3duZXJJRCkge1xuICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZW1wdHlTdGFjaygpO1xuICAgICAgfVxuICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZVN0YWNrKHRoaXMuc2l6ZSwgdGhpcy5faGVhZCwgb3duZXJJRCwgdGhpcy5fX2hhc2gpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgSXRlcmF0aW9uXG5cbiAgU3RhY2sucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gbmV3IEFycmF5U2VxKHRoaXMudG9BcnJheSgpKS5fX2l0ZXJhdGUoXG4gICAgICAgIGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBmbih2LCBrLCB0aGlzJDEpOyB9LFxuICAgICAgICByZXZlcnNlXG4gICAgICApO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICBpZiAoZm4obm9kZS52YWx1ZSwgaXRlcmF0aW9ucysrLCB0aGlzJDEpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlLm5leHQ7XG4gICAgfVxuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuXG4gIFN0YWNrLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gbmV3IEFycmF5U2VxKHRoaXMudG9BcnJheSgpKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gbm9kZS52YWx1ZTtcbiAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIFN0YWNrO1xufShJbmRleGVkQ29sbGVjdGlvbikpO1xuXG5mdW5jdGlvbiBpc1N0YWNrKG1heWJlU3RhY2spIHtcbiAgcmV0dXJuICEhKG1heWJlU3RhY2sgJiYgbWF5YmVTdGFja1tJU19TVEFDS19TRU5USU5FTF0pO1xufVxuXG5TdGFjay5pc1N0YWNrID0gaXNTdGFjaztcblxudmFyIElTX1NUQUNLX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfU1RBQ0tfX0BAJztcblxudmFyIFN0YWNrUHJvdG90eXBlID0gU3RhY2sucHJvdG90eXBlO1xuU3RhY2tQcm90b3R5cGVbSVNfU1RBQ0tfU0VOVElORUxdID0gdHJ1ZTtcblN0YWNrUHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSBNYXBQcm90b3R5cGUud2l0aE11dGF0aW9ucztcblN0YWNrUHJvdG90eXBlLmFzTXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc011dGFibGU7XG5TdGFja1Byb3RvdHlwZS5hc0ltbXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc0ltbXV0YWJsZTtcblN0YWNrUHJvdG90eXBlLndhc0FsdGVyZWQgPSBNYXBQcm90b3R5cGUud2FzQWx0ZXJlZDtcblN0YWNrUHJvdG90eXBlLnNoaWZ0ID0gU3RhY2tQcm90b3R5cGUucG9wO1xuU3RhY2tQcm90b3R5cGUudW5zaGlmdCA9IFN0YWNrUHJvdG90eXBlLnB1c2g7XG5TdGFja1Byb3RvdHlwZS51bnNoaWZ0QWxsID0gU3RhY2tQcm90b3R5cGUucHVzaEFsbDtcblxuZnVuY3Rpb24gbWFrZVN0YWNrKHNpemUsIGhlYWQsIG93bmVySUQsIGhhc2gpIHtcbiAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUoU3RhY2tQcm90b3R5cGUpO1xuICBtYXAuc2l6ZSA9IHNpemU7XG4gIG1hcC5faGVhZCA9IGhlYWQ7XG4gIG1hcC5fX293bmVySUQgPSBvd25lcklEO1xuICBtYXAuX19oYXNoID0gaGFzaDtcbiAgbWFwLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICByZXR1cm4gbWFwO1xufVxuXG52YXIgRU1QVFlfU1RBQ0s7XG5mdW5jdGlvbiBlbXB0eVN0YWNrKCkge1xuICByZXR1cm4gRU1QVFlfU1RBQ0sgfHwgKEVNUFRZX1NUQUNLID0gbWFrZVN0YWNrKDApKTtcbn1cblxuZnVuY3Rpb24gZGVlcEVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChcbiAgICAhaXNDb2xsZWN0aW9uKGIpIHx8XG4gICAgKGEuc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGIuc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGEuc2l6ZSAhPT0gYi5zaXplKSB8fFxuICAgIChhLl9faGFzaCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBiLl9faGFzaCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBhLl9faGFzaCAhPT0gYi5fX2hhc2gpIHx8XG4gICAgaXNLZXllZChhKSAhPT0gaXNLZXllZChiKSB8fFxuICAgIGlzSW5kZXhlZChhKSAhPT0gaXNJbmRleGVkKGIpIHx8XG4gICAgaXNPcmRlcmVkKGEpICE9PSBpc09yZGVyZWQoYilcbiAgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGEuc2l6ZSA9PT0gMCAmJiBiLnNpemUgPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHZhciBub3RBc3NvY2lhdGl2ZSA9ICFpc0Fzc29jaWF0aXZlKGEpO1xuXG4gIGlmIChpc09yZGVyZWQoYSkpIHtcbiAgICB2YXIgZW50cmllcyA9IGEuZW50cmllcygpO1xuICAgIHJldHVybiBiLmV2ZXJ5KGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICB2YXIgZW50cnkgPSBlbnRyaWVzLm5leHQoKS52YWx1ZTtcbiAgICAgIHJldHVybiBlbnRyeSAmJiBpcyhlbnRyeVsxXSwgdikgJiYgKG5vdEFzc29jaWF0aXZlIHx8IGlzKGVudHJ5WzBdLCBrKSk7XG4gICAgfSkgJiYgZW50cmllcy5uZXh0KCkuZG9uZTtcbiAgfVxuXG4gIHZhciBmbGlwcGVkID0gZmFsc2U7XG5cbiAgaWYgKGEuc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGIuc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAodHlwZW9mIGEuY2FjaGVSZXN1bHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgYS5jYWNoZVJlc3VsdCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmbGlwcGVkID0gdHJ1ZTtcbiAgICAgIHZhciBfID0gYTtcbiAgICAgIGEgPSBiO1xuICAgICAgYiA9IF87XG4gICAgfVxuICB9XG5cbiAgdmFyIGFsbEVxdWFsID0gdHJ1ZTtcbiAgdmFyIGJTaXplID0gYi5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYsIGspIHtcbiAgICBpZiAoXG4gICAgICBub3RBc3NvY2lhdGl2ZVxuICAgICAgICA/ICFhLmhhcyh2KVxuICAgICAgICA6IGZsaXBwZWQgPyAhaXModiwgYS5nZXQoaywgTk9UX1NFVCkpIDogIWlzKGEuZ2V0KGssIE5PVF9TRVQpLCB2KVxuICAgICkge1xuICAgICAgYWxsRXF1YWwgPSBmYWxzZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBhbGxFcXVhbCAmJiBhLnNpemUgPT09IGJTaXplO1xufVxuXG4vKipcbiAqIENvbnRyaWJ1dGVzIGFkZGl0aW9uYWwgbWV0aG9kcyB0byBhIGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIG1peGluKGN0b3IsIG1ldGhvZHMpIHtcbiAgdmFyIGtleUNvcGllciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBjdG9yLnByb3RvdHlwZVtrZXldID0gbWV0aG9kc1trZXldO1xuICB9O1xuICBPYmplY3Qua2V5cyhtZXRob2RzKS5mb3JFYWNoKGtleUNvcGllcik7XG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgJiZcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG1ldGhvZHMpLmZvckVhY2goa2V5Q29waWVyKTtcbiAgcmV0dXJuIGN0b3I7XG59XG5cbnZhciBTZXQgPSAoZnVuY3Rpb24gKFNldENvbGxlY3Rpb24kJDEpIHtcbiAgZnVuY3Rpb24gU2V0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8gZW1wdHlTZXQoKVxuICAgICAgOiBpc1NldCh2YWx1ZSkgJiYgIWlzT3JkZXJlZCh2YWx1ZSlcbiAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgOiBlbXB0eVNldCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKHNldCkge1xuICAgICAgICAgICAgICB2YXIgaXRlciA9IFNldENvbGxlY3Rpb24kJDEodmFsdWUpO1xuICAgICAgICAgICAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgICAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHNldC5hZGQodik7IH0pO1xuICAgICAgICAgICAgfSk7XG4gIH1cblxuICBpZiAoIFNldENvbGxlY3Rpb24kJDEgKSBTZXQuX19wcm90b19fID0gU2V0Q29sbGVjdGlvbiQkMTtcbiAgU2V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNldENvbGxlY3Rpb24kJDEgJiYgU2V0Q29sbGVjdGlvbiQkMS5wcm90b3R5cGUgKTtcbiAgU2V0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNldDtcblxuICBTZXQub2YgPSBmdW5jdGlvbiBvZiAoLyouLi52YWx1ZXMqLykge1xuICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgU2V0LmZyb21LZXlzID0gZnVuY3Rpb24gZnJvbUtleXMgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMoS2V5ZWRDb2xsZWN0aW9uKHZhbHVlKS5rZXlTZXEoKSk7XG4gIH07XG5cbiAgU2V0LmludGVyc2VjdCA9IGZ1bmN0aW9uIGludGVyc2VjdCAoc2V0cykge1xuICAgIHNldHMgPSBDb2xsZWN0aW9uKHNldHMpLnRvQXJyYXkoKTtcbiAgICByZXR1cm4gc2V0cy5sZW5ndGhcbiAgICAgID8gU2V0UHJvdG90eXBlLmludGVyc2VjdC5hcHBseShTZXQoc2V0cy5wb3AoKSksIHNldHMpXG4gICAgICA6IGVtcHR5U2V0KCk7XG4gIH07XG5cbiAgU2V0LnVuaW9uID0gZnVuY3Rpb24gdW5pb24gKHNldHMpIHtcbiAgICBzZXRzID0gQ29sbGVjdGlvbihzZXRzKS50b0FycmF5KCk7XG4gICAgcmV0dXJuIHNldHMubGVuZ3RoXG4gICAgICA/IFNldFByb3RvdHlwZS51bmlvbi5hcHBseShTZXQoc2V0cy5wb3AoKSksIHNldHMpXG4gICAgICA6IGVtcHR5U2V0KCk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTZXQgeycsICd9Jyk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICBTZXQucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIGhhcyAodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLmhhcyh2YWx1ZSk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuICBTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZCAodmFsdWUpIHtcbiAgICByZXR1cm4gdXBkYXRlU2V0KHRoaXMsIHRoaXMuX21hcC5zZXQodmFsdWUsIHRydWUpKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSAodmFsdWUpIHtcbiAgICByZXR1cm4gdXBkYXRlU2V0KHRoaXMsIHRoaXMuX21hcC5yZW1vdmUodmFsdWUpKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKCkge1xuICAgIHJldHVybiB1cGRhdGVTZXQodGhpcywgdGhpcy5fbWFwLmNsZWFyKCkpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgQ29tcG9zaXRpb25cblxuICBTZXQucHJvdG90eXBlLnVuaW9uID0gZnVuY3Rpb24gdW5pb24gKCkge1xuICAgIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHdoaWxlICggbGVuLS0gKSBpdGVyc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgaXRlcnMgPSBpdGVycy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguc2l6ZSAhPT0gMDsgfSk7XG4gICAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICh0aGlzLnNpemUgPT09IDAgJiYgIXRoaXMuX19vd25lcklEICYmIGl0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IoaXRlcnNbMF0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpdGVycy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgU2V0Q29sbGVjdGlvbiQkMShpdGVyc1tpaV0pLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBzZXQuYWRkKHZhbHVlKTsgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5pbnRlcnNlY3QgPSBmdW5jdGlvbiBpbnRlcnNlY3QgKCkge1xuICAgIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHdoaWxlICggbGVuLS0gKSBpdGVyc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGl0ZXJzID0gaXRlcnMubWFwKGZ1bmN0aW9uIChpdGVyKSB7IHJldHVybiBTZXRDb2xsZWN0aW9uJCQxKGl0ZXIpOyB9KTtcbiAgICB2YXIgdG9SZW1vdmUgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoIWl0ZXJzLmV2ZXJ5KGZ1bmN0aW9uIChpdGVyKSB7IHJldHVybiBpdGVyLmluY2x1ZGVzKHZhbHVlKTsgfSkpIHtcbiAgICAgICAgdG9SZW1vdmUucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAoc2V0KSB7XG4gICAgICB0b1JlbW92ZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBzZXQucmVtb3ZlKHZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUuc3VidHJhY3QgPSBmdW5jdGlvbiBzdWJ0cmFjdCAoKSB7XG4gICAgdmFyIGl0ZXJzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgd2hpbGUgKCBsZW4tLSApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICBpZiAoaXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmFyIHRvUmVtb3ZlID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKGl0ZXJzLnNvbWUoZnVuY3Rpb24gKGl0ZXIpIHsgcmV0dXJuIGl0ZXIuaW5jbHVkZXModmFsdWUpOyB9KSkge1xuICAgICAgICB0b1JlbW92ZS5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgIHRvUmVtb3ZlLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHNldC5yZW1vdmUodmFsdWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uIG1lcmdlICgpIHtcbiAgICByZXR1cm4gdGhpcy51bmlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUubWVyZ2VXaXRoID0gZnVuY3Rpb24gbWVyZ2VXaXRoIChtZXJnZXIpIHtcbiAgICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKCBsZW4tLSA+IDAgKSBpdGVyc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgIHJldHVybiB0aGlzLnVuaW9uLmFwcGx5KHRoaXMsIGl0ZXJzKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLnNvcnQgPSBmdW5jdGlvbiBzb3J0IChjb21wYXJhdG9yKSB7XG4gICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgcmV0dXJuIE9yZGVyZWRTZXQoc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvcikpO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUuc29ydEJ5ID0gZnVuY3Rpb24gc29ydEJ5IChtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICAvLyBMYXRlIGJpbmRpbmdcbiAgICByZXR1cm4gT3JkZXJlZFNldChzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLndhc0FsdGVyZWQgPSBmdW5jdGlvbiB3YXNBbHRlcmVkICgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLndhc0FsdGVyZWQoKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9tYXAuX19pdGVyYXRlKGZ1bmN0aW9uIChfLCBrKSB7IHJldHVybiBmbihrLCBrLCB0aGlzJDEpOyB9LCByZXZlcnNlKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC5tYXAoZnVuY3Rpb24gKF8sIGspIHsgcmV0dXJuIGs7IH0pLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5fX2Vuc3VyZU93bmVyID0gZnVuY3Rpb24gX19lbnN1cmVPd25lciAob3duZXJJRCkge1xuICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHZhciBuZXdNYXAgPSB0aGlzLl9tYXAuX19lbnN1cmVPd25lcihvd25lcklEKTtcbiAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5U2V0KCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLl9tYXAgPSBuZXdNYXA7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX19tYWtlKG5ld01hcCwgb3duZXJJRCk7XG4gIH07XG5cbiAgcmV0dXJuIFNldDtcbn0oU2V0Q29sbGVjdGlvbikpO1xuXG5mdW5jdGlvbiBpc1NldChtYXliZVNldCkge1xuICByZXR1cm4gISEobWF5YmVTZXQgJiYgbWF5YmVTZXRbSVNfU0VUX1NFTlRJTkVMXSk7XG59XG5cblNldC5pc1NldCA9IGlzU2V0O1xuXG52YXIgSVNfU0VUX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfU0VUX19AQCc7XG5cbnZhciBTZXRQcm90b3R5cGUgPSBTZXQucHJvdG90eXBlO1xuU2V0UHJvdG90eXBlW0lTX1NFVF9TRU5USU5FTF0gPSB0cnVlO1xuU2V0UHJvdG90eXBlW0RFTEVURV0gPSBTZXRQcm90b3R5cGUucmVtb3ZlO1xuU2V0UHJvdG90eXBlLm1lcmdlRGVlcCA9IFNldFByb3RvdHlwZS5tZXJnZTtcblNldFByb3RvdHlwZS5tZXJnZURlZXBXaXRoID0gU2V0UHJvdG90eXBlLm1lcmdlV2l0aDtcblNldFByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gTWFwUHJvdG90eXBlLndpdGhNdXRhdGlvbnM7XG5TZXRQcm90b3R5cGUuYXNNdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZTtcblNldFByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc0ltbXV0YWJsZTtcblxuU2V0UHJvdG90eXBlLl9fZW1wdHkgPSBlbXB0eVNldDtcblNldFByb3RvdHlwZS5fX21ha2UgPSBtYWtlU2V0O1xuXG5mdW5jdGlvbiB1cGRhdGVTZXQoc2V0LCBuZXdNYXApIHtcbiAgaWYgKHNldC5fX293bmVySUQpIHtcbiAgICBzZXQuc2l6ZSA9IG5ld01hcC5zaXplO1xuICAgIHNldC5fbWFwID0gbmV3TWFwO1xuICAgIHJldHVybiBzZXQ7XG4gIH1cbiAgcmV0dXJuIG5ld01hcCA9PT0gc2V0Ll9tYXBcbiAgICA/IHNldFxuICAgIDogbmV3TWFwLnNpemUgPT09IDAgPyBzZXQuX19lbXB0eSgpIDogc2V0Ll9fbWFrZShuZXdNYXApO1xufVxuXG5mdW5jdGlvbiBtYWtlU2V0KG1hcCwgb3duZXJJRCkge1xuICB2YXIgc2V0ID0gT2JqZWN0LmNyZWF0ZShTZXRQcm90b3R5cGUpO1xuICBzZXQuc2l6ZSA9IG1hcCA/IG1hcC5zaXplIDogMDtcbiAgc2V0Ll9tYXAgPSBtYXA7XG4gIHNldC5fX293bmVySUQgPSBvd25lcklEO1xuICByZXR1cm4gc2V0O1xufVxuXG52YXIgRU1QVFlfU0VUO1xuZnVuY3Rpb24gZW1wdHlTZXQoKSB7XG4gIHJldHVybiBFTVBUWV9TRVQgfHwgKEVNUFRZX1NFVCA9IG1ha2VTZXQoZW1wdHlNYXAoKSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBsYXp5IHNlcSBvZiBudW1zIGZyb20gc3RhcnQgKGluY2x1c2l2ZSkgdG8gZW5kXG4gKiAoZXhjbHVzaXZlKSwgYnkgc3RlcCwgd2hlcmUgc3RhcnQgZGVmYXVsdHMgdG8gMCwgc3RlcCB0byAxLCBhbmQgZW5kIHRvXG4gKiBpbmZpbml0eS4gV2hlbiBzdGFydCBpcyBlcXVhbCB0byBlbmQsIHJldHVybnMgZW1wdHkgbGlzdC5cbiAqL1xudmFyIFJhbmdlID0gKGZ1bmN0aW9uIChJbmRleGVkU2VxJCQxKSB7XG4gIGZ1bmN0aW9uIFJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmFuZ2UpKSB7XG4gICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXApO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoc3RlcCAhPT0gMCwgJ0Nhbm5vdCBzdGVwIGEgUmFuZ2UgYnkgMCcpO1xuICAgIHN0YXJ0ID0gc3RhcnQgfHwgMDtcbiAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVuZCA9IEluZmluaXR5O1xuICAgIH1cbiAgICBzdGVwID0gc3RlcCA9PT0gdW5kZWZpbmVkID8gMSA6IE1hdGguYWJzKHN0ZXApO1xuICAgIGlmIChlbmQgPCBzdGFydCkge1xuICAgICAgc3RlcCA9IC1zdGVwO1xuICAgIH1cbiAgICB0aGlzLl9zdGFydCA9IHN0YXJ0O1xuICAgIHRoaXMuX2VuZCA9IGVuZDtcbiAgICB0aGlzLl9zdGVwID0gc3RlcDtcbiAgICB0aGlzLnNpemUgPSBNYXRoLm1heCgwLCBNYXRoLmNlaWwoKGVuZCAtIHN0YXJ0KSAvIHN0ZXAgLSAxKSArIDEpO1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIGlmIChFTVBUWV9SQU5HRSkge1xuICAgICAgICByZXR1cm4gRU1QVFlfUkFOR0U7XG4gICAgICB9XG4gICAgICBFTVBUWV9SQU5HRSA9IHRoaXM7XG4gICAgfVxuICB9XG5cbiAgaWYgKCBJbmRleGVkU2VxJCQxICkgUmFuZ2UuX19wcm90b19fID0gSW5kZXhlZFNlcSQkMTtcbiAgUmFuZ2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW5kZXhlZFNlcSQkMSAmJiBJbmRleGVkU2VxJCQxLnByb3RvdHlwZSApO1xuICBSYW5nZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSYW5nZTtcblxuICBSYW5nZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuICdSYW5nZSBbXSc7XG4gICAgfVxuICAgIHJldHVybiAnUmFuZ2UgWyAnICtcbiAgICAgIHRoaXMuX3N0YXJ0ICtcbiAgICAgICcuLi4nICtcbiAgICAgIHRoaXMuX2VuZCArXG4gICAgICAodGhpcy5fc3RlcCAhPT0gMSA/ICcgYnkgJyArIHRoaXMuX3N0ZXAgOiAnJykgK1xuICAgICAgJyBdJztcbiAgfTtcblxuICBSYW5nZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5oYXMoaW5kZXgpXG4gICAgICA/IHRoaXMuX3N0YXJ0ICsgd3JhcEluZGV4KHRoaXMsIGluZGV4KSAqIHRoaXMuX3N0ZXBcbiAgICAgIDogbm90U2V0VmFsdWU7XG4gIH07XG5cbiAgUmFuZ2UucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHNlYXJjaFZhbHVlKSB7XG4gICAgdmFyIHBvc3NpYmxlSW5kZXggPSAoc2VhcmNoVmFsdWUgLSB0aGlzLl9zdGFydCkgLyB0aGlzLl9zdGVwO1xuICAgIHJldHVybiBwb3NzaWJsZUluZGV4ID49IDAgJiZcbiAgICAgIHBvc3NpYmxlSW5kZXggPCB0aGlzLnNpemUgJiZcbiAgICAgIHBvc3NpYmxlSW5kZXggPT09IE1hdGguZmxvb3IocG9zc2libGVJbmRleCk7XG4gIH07XG5cbiAgUmFuZ2UucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKGJlZ2luLCBlbmQpIHtcbiAgICBpZiAod2hvbGVTbGljZShiZWdpbiwgZW5kLCB0aGlzLnNpemUpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYmVnaW4gPSByZXNvbHZlQmVnaW4oYmVnaW4sIHRoaXMuc2l6ZSk7XG4gICAgZW5kID0gcmVzb2x2ZUVuZChlbmQsIHRoaXMuc2l6ZSk7XG4gICAgaWYgKGVuZCA8PSBiZWdpbikge1xuICAgICAgcmV0dXJuIG5ldyBSYW5nZSgwLCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSYW5nZShcbiAgICAgIHRoaXMuZ2V0KGJlZ2luLCB0aGlzLl9lbmQpLFxuICAgICAgdGhpcy5nZXQoZW5kLCB0aGlzLl9lbmQpLFxuICAgICAgdGhpcy5fc3RlcFxuICAgICk7XG4gIH07XG5cbiAgUmFuZ2UucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mIChzZWFyY2hWYWx1ZSkge1xuICAgIHZhciBvZmZzZXRWYWx1ZSA9IHNlYXJjaFZhbHVlIC0gdGhpcy5fc3RhcnQ7XG4gICAgaWYgKG9mZnNldFZhbHVlICUgdGhpcy5fc3RlcCA9PT0gMCkge1xuICAgICAgdmFyIGluZGV4ID0gb2Zmc2V0VmFsdWUgLyB0aGlzLl9zdGVwO1xuICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLnNpemUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgUmFuZ2UucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHNlYXJjaFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5kZXhPZihzZWFyY2hWYWx1ZSk7XG4gIH07XG5cbiAgUmFuZ2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgIHZhciBzdGVwID0gdGhpcy5fc3RlcDtcbiAgICB2YXIgdmFsdWUgPSByZXZlcnNlID8gdGhpcy5fc3RhcnQgKyAoc2l6ZSAtIDEpICogc3RlcCA6IHRoaXMuX3N0YXJ0O1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSAhPT0gc2l6ZSkge1xuICAgICAgaWYgKGZuKHZhbHVlLCByZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrKywgdGhpcyQxKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB2YWx1ZSArPSByZXZlcnNlID8gLXN0ZXAgOiBzdGVwO1xuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfTtcblxuICBSYW5nZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICB2YXIgc3RlcCA9IHRoaXMuX3N0ZXA7XG4gICAgdmFyIHZhbHVlID0gcmV2ZXJzZSA/IHRoaXMuX3N0YXJ0ICsgKHNpemUgLSAxKSAqIHN0ZXAgOiB0aGlzLl9zdGFydDtcbiAgICB2YXIgaSA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaSA9PT0gc2l6ZSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgdiA9IHZhbHVlO1xuICAgICAgdmFsdWUgKz0gcmV2ZXJzZSA/IC1zdGVwIDogc3RlcDtcbiAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIHJldmVyc2UgPyBzaXplIC0gKytpIDogaSsrLCB2KTtcbiAgICB9KTtcbiAgfTtcblxuICBSYW5nZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChvdGhlcikge1xuICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFJhbmdlXG4gICAgICA/IHRoaXMuX3N0YXJ0ID09PSBvdGhlci5fc3RhcnQgJiZcbiAgICAgICAgICB0aGlzLl9lbmQgPT09IG90aGVyLl9lbmQgJiZcbiAgICAgICAgICB0aGlzLl9zdGVwID09PSBvdGhlci5fc3RlcFxuICAgICAgOiBkZWVwRXF1YWwodGhpcywgb3RoZXIpO1xuICB9O1xuXG4gIHJldHVybiBSYW5nZTtcbn0oSW5kZXhlZFNlcSkpO1xuXG52YXIgRU1QVFlfUkFOR0U7XG5cbi8vIE5vdGU6IGFsbCBvZiB0aGVzZSBtZXRob2RzIGFyZSBkZXByZWNhdGVkLlxuQ29sbGVjdGlvbi5pc0l0ZXJhYmxlID0gaXNDb2xsZWN0aW9uO1xuQ29sbGVjdGlvbi5pc0tleWVkID0gaXNLZXllZDtcbkNvbGxlY3Rpb24uaXNJbmRleGVkID0gaXNJbmRleGVkO1xuQ29sbGVjdGlvbi5pc0Fzc29jaWF0aXZlID0gaXNBc3NvY2lhdGl2ZTtcbkNvbGxlY3Rpb24uaXNPcmRlcmVkID0gaXNPcmRlcmVkO1xuXG5Db2xsZWN0aW9uLkl0ZXJhdG9yID0gSXRlcmF0b3I7XG5cbm1peGluKENvbGxlY3Rpb24sIHtcbiAgLy8gIyMjIENvbnZlcnNpb24gdG8gb3RoZXIgdHlwZXNcblxuICB0b0FycmF5OiBmdW5jdGlvbiB0b0FycmF5KCkge1xuICAgIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gICAgdmFyIGFycmF5ID0gbmV3IEFycmF5KHRoaXMuc2l6ZSB8fCAwKTtcbiAgICB0aGlzLnZhbHVlU2VxKCkuX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICBhcnJheVtpXSA9IHY7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9LFxuXG4gIHRvSW5kZXhlZFNlcTogZnVuY3Rpb24gdG9JbmRleGVkU2VxKCkge1xuICAgIHJldHVybiBuZXcgVG9JbmRleGVkU2VxdWVuY2UodGhpcyk7XG4gIH0sXG5cbiAgdG9KUzogZnVuY3Rpb24gdG9KUyQxKCkge1xuICAgIHJldHVybiB0aGlzLnRvU2VxKCkubWFwKHRvSlMpLnRvSlNPTigpO1xuICB9LFxuXG4gIHRvS2V5ZWRTZXE6IGZ1bmN0aW9uIHRvS2V5ZWRTZXEoKSB7XG4gICAgcmV0dXJuIG5ldyBUb0tleWVkU2VxdWVuY2UodGhpcywgdHJ1ZSk7XG4gIH0sXG5cbiAgdG9NYXA6IGZ1bmN0aW9uIHRvTWFwKCkge1xuICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICByZXR1cm4gTWFwKHRoaXMudG9LZXllZFNlcSgpKTtcbiAgfSxcblxuICB0b09iamVjdDogZnVuY3Rpb24gdG9PYmplY3QoKSB7XG4gICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgIG9iamVjdFtrXSA9IHY7XG4gICAgfSk7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfSxcblxuICB0b09yZGVyZWRNYXA6IGZ1bmN0aW9uIHRvT3JkZXJlZE1hcCgpIHtcbiAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgcmV0dXJuIE9yZGVyZWRNYXAodGhpcy50b0tleWVkU2VxKCkpO1xuICB9LFxuXG4gIHRvT3JkZXJlZFNldDogZnVuY3Rpb24gdG9PcmRlcmVkU2V0KCkge1xuICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICByZXR1cm4gT3JkZXJlZFNldChpc0tleWVkKHRoaXMpID8gdGhpcy52YWx1ZVNlcSgpIDogdGhpcyk7XG4gIH0sXG5cbiAgdG9TZXQ6IGZ1bmN0aW9uIHRvU2V0KCkge1xuICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICByZXR1cm4gU2V0KGlzS2V5ZWQodGhpcykgPyB0aGlzLnZhbHVlU2VxKCkgOiB0aGlzKTtcbiAgfSxcblxuICB0b1NldFNlcTogZnVuY3Rpb24gdG9TZXRTZXEoKSB7XG4gICAgcmV0dXJuIG5ldyBUb1NldFNlcXVlbmNlKHRoaXMpO1xuICB9LFxuXG4gIHRvU2VxOiBmdW5jdGlvbiB0b1NlcSgpIHtcbiAgICByZXR1cm4gaXNJbmRleGVkKHRoaXMpXG4gICAgICA/IHRoaXMudG9JbmRleGVkU2VxKClcbiAgICAgIDogaXNLZXllZCh0aGlzKSA/IHRoaXMudG9LZXllZFNlcSgpIDogdGhpcy50b1NldFNlcSgpO1xuICB9LFxuXG4gIHRvU3RhY2s6IGZ1bmN0aW9uIHRvU3RhY2soKSB7XG4gICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgIHJldHVybiBTdGFjayhpc0tleWVkKHRoaXMpID8gdGhpcy52YWx1ZVNlcSgpIDogdGhpcyk7XG4gIH0sXG5cbiAgdG9MaXN0OiBmdW5jdGlvbiB0b0xpc3QoKSB7XG4gICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgIHJldHVybiBMaXN0KGlzS2V5ZWQodGhpcykgPyB0aGlzLnZhbHVlU2VxKCkgOiB0aGlzKTtcbiAgfSxcblxuICAvLyAjIyMgQ29tbW9uIEphdmFTY3JpcHQgbWV0aG9kcyBhbmQgcHJvcGVydGllc1xuXG4gIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gJ1tDb2xsZWN0aW9uXSc7XG4gIH0sXG5cbiAgX190b1N0cmluZzogZnVuY3Rpb24gX190b1N0cmluZyhoZWFkLCB0YWlsKSB7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGhlYWQgKyB0YWlsO1xuICAgIH1cbiAgICByZXR1cm4gaGVhZCArXG4gICAgICAnICcgK1xuICAgICAgdGhpcy50b1NlcSgpLm1hcCh0aGlzLl9fdG9TdHJpbmdNYXBwZXIpLmpvaW4oJywgJykgK1xuICAgICAgJyAnICtcbiAgICAgIHRhaWw7XG4gIH0sXG5cbiAgLy8gIyMjIEVTNiBDb2xsZWN0aW9uIG1ldGhvZHMgKEVTNiBBcnJheSBhbmQgTWFwKVxuXG4gIGNvbmNhdDogZnVuY3Rpb24gY29uY2F0KCkge1xuICAgIHZhciB2YWx1ZXMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB3aGlsZSAoIGxlbi0tICkgdmFsdWVzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICByZXR1cm4gcmVpZnkodGhpcywgY29uY2F0RmFjdG9yeSh0aGlzLCB2YWx1ZXMpKTtcbiAgfSxcblxuICBpbmNsdWRlczogZnVuY3Rpb24gaW5jbHVkZXMoc2VhcmNoVmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5zb21lKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gaXModmFsdWUsIHNlYXJjaFZhbHVlKTsgfSk7XG4gIH0sXG5cbiAgZW50cmllczogZnVuY3Rpb24gZW50cmllcygpIHtcbiAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUyk7XG4gIH0sXG5cbiAgZXZlcnk6IGZ1bmN0aW9uIGV2ZXJ5KHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gICAgdmFyIHJldHVyblZhbHVlID0gdHJ1ZTtcbiAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaywgYykge1xuICAgICAgaWYgKCFwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCBjKSkge1xuICAgICAgICByZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICB9LFxuXG4gIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBmaWx0ZXJGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCwgdHJ1ZSkpO1xuICB9LFxuXG4gIGZpbmQ6IGZ1bmN0aW9uIGZpbmQocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSkge1xuICAgIHZhciBlbnRyeSA9IHRoaXMuZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgcmV0dXJuIGVudHJ5ID8gZW50cnlbMV0gOiBub3RTZXRWYWx1ZTtcbiAgfSxcblxuICBmb3JFYWNoOiBmdW5jdGlvbiBmb3JFYWNoKHNpZGVFZmZlY3QsIGNvbnRleHQpIHtcbiAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgIHJldHVybiB0aGlzLl9faXRlcmF0ZShjb250ZXh0ID8gc2lkZUVmZmVjdC5iaW5kKGNvbnRleHQpIDogc2lkZUVmZmVjdCk7XG4gIH0sXG5cbiAgam9pbjogZnVuY3Rpb24gam9pbihzZXBhcmF0b3IpIHtcbiAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgIHNlcGFyYXRvciA9IHNlcGFyYXRvciAhPT0gdW5kZWZpbmVkID8gJycgKyBzZXBhcmF0b3IgOiAnLCc7XG4gICAgdmFyIGpvaW5lZCA9ICcnO1xuICAgIHZhciBpc0ZpcnN0ID0gdHJ1ZTtcbiAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbiAodikge1xuICAgICAgaXNGaXJzdCA/IChpc0ZpcnN0ID0gZmFsc2UpIDogKGpvaW5lZCArPSBzZXBhcmF0b3IpO1xuICAgICAgam9pbmVkICs9IHYgIT09IG51bGwgJiYgdiAhPT0gdW5kZWZpbmVkID8gdi50b1N0cmluZygpIDogJyc7XG4gICAgfSk7XG4gICAgcmV0dXJuIGpvaW5lZDtcbiAgfSxcblxuICBrZXlzOiBmdW5jdGlvbiBrZXlzKCkge1xuICAgIHJldHVybiB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9LRVlTKTtcbiAgfSxcblxuICBtYXA6IGZ1bmN0aW9uIG1hcChtYXBwZXIsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgbWFwRmFjdG9yeSh0aGlzLCBtYXBwZXIsIGNvbnRleHQpKTtcbiAgfSxcblxuICByZWR1Y2U6IGZ1bmN0aW9uIHJlZHVjZSQxKHJlZHVjZXIsIGluaXRpYWxSZWR1Y3Rpb24sIGNvbnRleHQpIHtcbiAgICByZXR1cm4gcmVkdWNlKFxuICAgICAgdGhpcyxcbiAgICAgIHJlZHVjZXIsXG4gICAgICBpbml0aWFsUmVkdWN0aW9uLFxuICAgICAgY29udGV4dCxcbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPCAyLFxuICAgICAgZmFsc2VcbiAgICApO1xuICB9LFxuXG4gIHJlZHVjZVJpZ2h0OiBmdW5jdGlvbiByZWR1Y2VSaWdodChyZWR1Y2VyLCBpbml0aWFsUmVkdWN0aW9uLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlZHVjZShcbiAgICAgIHRoaXMsXG4gICAgICByZWR1Y2VyLFxuICAgICAgaW5pdGlhbFJlZHVjdGlvbixcbiAgICAgIGNvbnRleHQsXG4gICAgICBhcmd1bWVudHMubGVuZ3RoIDwgMixcbiAgICAgIHRydWVcbiAgICApO1xuICB9LFxuXG4gIHJldmVyc2U6IGZ1bmN0aW9uIHJldmVyc2UoKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHJldmVyc2VGYWN0b3J5KHRoaXMsIHRydWUpKTtcbiAgfSxcblxuICBzbGljZTogZnVuY3Rpb24gc2xpY2UoYmVnaW4sIGVuZCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBzbGljZUZhY3RvcnkodGhpcywgYmVnaW4sIGVuZCwgdHJ1ZSkpO1xuICB9LFxuXG4gIHNvbWU6IGZ1bmN0aW9uIHNvbWUocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuICF0aGlzLmV2ZXJ5KG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgfSxcblxuICBzb3J0OiBmdW5jdGlvbiBzb3J0KGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvcikpO1xuICB9LFxuXG4gIHZhbHVlczogZnVuY3Rpb24gdmFsdWVzKCkge1xuICAgIHJldHVybiB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMpO1xuICB9LFxuXG4gIC8vICMjIyBNb3JlIHNlcXVlbnRpYWwgbWV0aG9kc1xuXG4gIGJ1dExhc3Q6IGZ1bmN0aW9uIGJ1dExhc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2xpY2UoMCwgLTEpO1xuICB9LFxuXG4gIGlzRW1wdHk6IGZ1bmN0aW9uIGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2l6ZSAhPT0gdW5kZWZpbmVkID8gdGhpcy5zaXplID09PSAwIDogIXRoaXMuc29tZShmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9KTtcbiAgfSxcblxuICBjb3VudDogZnVuY3Rpb24gY291bnQocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGVuc3VyZVNpemUoXG4gICAgICBwcmVkaWNhdGUgPyB0aGlzLnRvU2VxKCkuZmlsdGVyKHByZWRpY2F0ZSwgY29udGV4dCkgOiB0aGlzXG4gICAgKTtcbiAgfSxcblxuICBjb3VudEJ5OiBmdW5jdGlvbiBjb3VudEJ5KGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gY291bnRCeUZhY3RvcnkodGhpcywgZ3JvdXBlciwgY29udGV4dCk7XG4gIH0sXG5cbiAgZXF1YWxzOiBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcbiAgICByZXR1cm4gZGVlcEVxdWFsKHRoaXMsIG90aGVyKTtcbiAgfSxcblxuICBlbnRyeVNlcTogZnVuY3Rpb24gZW50cnlTZXEoKSB7XG4gICAgdmFyIGNvbGxlY3Rpb24gPSB0aGlzO1xuICAgIGlmIChjb2xsZWN0aW9uLl9jYWNoZSkge1xuICAgICAgLy8gV2UgY2FjaGUgYXMgYW4gZW50cmllcyBhcnJheSwgc28gd2UgY2FuIGp1c3QgcmV0dXJuIHRoZSBjYWNoZSFcbiAgICAgIHJldHVybiBuZXcgQXJyYXlTZXEoY29sbGVjdGlvbi5fY2FjaGUpO1xuICAgIH1cbiAgICB2YXIgZW50cmllc1NlcXVlbmNlID0gY29sbGVjdGlvbi50b1NlcSgpLm1hcChlbnRyeU1hcHBlcikudG9JbmRleGVkU2VxKCk7XG4gICAgZW50cmllc1NlcXVlbmNlLmZyb21FbnRyeVNlcSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbGxlY3Rpb24udG9TZXEoKTsgfTtcblxuICAgIC8vIEVudHJpZXMgYXJlIHBsYWluIEFycmF5LCB3aGljaCBkbyBub3QgZGVmaW5lIHRvSlMsIHNvIGl0IG11c3RcbiAgICAvLyBtYW51YWxseSBjb252ZXJ0cyBrZXlzIGFuZCB2YWx1ZXMgYmVmb3JlIGNvbnZlcnNpb24uXG4gICAgZW50cmllc1NlcXVlbmNlLnRvSlMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIFt0b0pTKGVudHJ5WzBdKSwgdG9KUyhlbnRyeVsxXSldOyB9KS50b0pTT04oKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGVudHJpZXNTZXF1ZW5jZTtcbiAgfSxcblxuICBmaWx0ZXJOb3Q6IGZ1bmN0aW9uIGZpbHRlck5vdChwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5maWx0ZXIobm90KHByZWRpY2F0ZSksIGNvbnRleHQpO1xuICB9LFxuXG4gIGZpbmRFbnRyeTogZnVuY3Rpb24gZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpIHtcbiAgICB2YXIgZm91bmQgPSBub3RTZXRWYWx1ZTtcbiAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaywgYykge1xuICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpKSB7XG4gICAgICAgIGZvdW5kID0gW2ssIHZdO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZvdW5kO1xuICB9LFxuXG4gIGZpbmRLZXk6IGZ1bmN0aW9uIGZpbmRLZXkocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICByZXR1cm4gZW50cnkgJiYgZW50cnlbMF07XG4gIH0sXG5cbiAgZmluZExhc3Q6IGZ1bmN0aW9uIGZpbmRMYXN0KHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSk7XG4gIH0sXG5cbiAgZmluZExhc3RFbnRyeTogZnVuY3Rpb24gZmluZExhc3RFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQsIG5vdFNldFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMudG9LZXllZFNlcSgpXG4gICAgICAucmV2ZXJzZSgpXG4gICAgICAuZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpO1xuICB9LFxuXG4gIGZpbmRMYXN0S2V5OiBmdW5jdGlvbiBmaW5kTGFzdEtleShwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gdGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpLmZpbmRLZXkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgfSxcblxuICBmaXJzdDogZnVuY3Rpb24gZmlyc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZChyZXR1cm5UcnVlKTtcbiAgfSxcblxuICBmbGF0TWFwOiBmdW5jdGlvbiBmbGF0TWFwKG1hcHBlciwgY29udGV4dCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGF0TWFwRmFjdG9yeSh0aGlzLCBtYXBwZXIsIGNvbnRleHQpKTtcbiAgfSxcblxuICBmbGF0dGVuOiBmdW5jdGlvbiBmbGF0dGVuKGRlcHRoKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZsYXR0ZW5GYWN0b3J5KHRoaXMsIGRlcHRoLCB0cnVlKSk7XG4gIH0sXG5cbiAgZnJvbUVudHJ5U2VxOiBmdW5jdGlvbiBmcm9tRW50cnlTZXEoKSB7XG4gICAgcmV0dXJuIG5ldyBGcm9tRW50cmllc1NlcXVlbmNlKHRoaXMpO1xuICB9LFxuXG4gIGdldDogZnVuY3Rpb24gZ2V0KHNlYXJjaEtleSwgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kKGZ1bmN0aW9uIChfLCBrZXkpIHsgcmV0dXJuIGlzKGtleSwgc2VhcmNoS2V5KTsgfSwgdW5kZWZpbmVkLCBub3RTZXRWYWx1ZSk7XG4gIH0sXG5cbiAgZ2V0SW46IGZ1bmN0aW9uIGdldEluKHNlYXJjaEtleVBhdGgsIG5vdFNldFZhbHVlKSB7XG4gICAgdmFyIG5lc3RlZCA9IHRoaXM7XG4gICAgdmFyIGtleVBhdGggPSBjb2VyY2VLZXlQYXRoKHNlYXJjaEtleVBhdGgpO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSAhPT0ga2V5UGF0aC5sZW5ndGgpIHtcbiAgICAgIGlmICghbmVzdGVkIHx8ICFuZXN0ZWQuZ2V0KSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgJ0ludmFsaWQga2V5UGF0aDogVmFsdWUgYXQgWycgK1xuICAgICAgICAgICAga2V5UGF0aC5zbGljZSgwLCBpKS5tYXAocXVvdGVTdHJpbmcpICtcbiAgICAgICAgICAgICddIGRvZXMgbm90IGhhdmUgYSAuZ2V0KCkgbWV0aG9kOiAnICtcbiAgICAgICAgICAgIG5lc3RlZFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgbmVzdGVkID0gbmVzdGVkLmdldChrZXlQYXRoW2krK10sIE5PVF9TRVQpO1xuICAgICAgaWYgKG5lc3RlZCA9PT0gTk9UX1NFVCkge1xuICAgICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXN0ZWQ7XG4gICAgLy8gdmFyIHN0ZXA7XG4gICAgLy8gd2hpbGUgKCEoc3RlcCA9IGl0ZXIubmV4dCgpKS5kb25lKSB7XG4gICAgLy8gICB2YXIga2V5ID0gc3RlcC52YWx1ZTtcbiAgICAvLyAgIG5lc3RlZCA9IG5lc3RlZCAmJiBuZXN0ZWQuZ2V0ID8gbmVzdGVkLmdldChrZXksIE5PVF9TRVQpIDogTk9UX1NFVDtcbiAgICAvLyAgIGlmIChuZXN0ZWQgPT09IE5PVF9TRVQpIHtcbiAgICAvLyAgICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICAgIC8vICAgfVxuICAgIC8vIH1cbiAgICAvLyByZXR1cm4gbmVzdGVkO1xuICB9LFxuXG4gIGdyb3VwQnk6IGZ1bmN0aW9uIGdyb3VwQnkoZ3JvdXBlciwgY29udGV4dCkge1xuICAgIHJldHVybiBncm91cEJ5RmFjdG9yeSh0aGlzLCBncm91cGVyLCBjb250ZXh0KTtcbiAgfSxcblxuICBoYXM6IGZ1bmN0aW9uIGhhcyhzZWFyY2hLZXkpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoc2VhcmNoS2V5LCBOT1RfU0VUKSAhPT0gTk9UX1NFVDtcbiAgfSxcblxuICBoYXNJbjogZnVuY3Rpb24gaGFzSW4oc2VhcmNoS2V5UGF0aCkge1xuICAgIHJldHVybiB0aGlzLmdldEluKHNlYXJjaEtleVBhdGgsIE5PVF9TRVQpICE9PSBOT1RfU0VUO1xuICB9LFxuXG4gIGlzU3Vic2V0OiBmdW5jdGlvbiBpc1N1YnNldChpdGVyKSB7XG4gICAgaXRlciA9IHR5cGVvZiBpdGVyLmluY2x1ZGVzID09PSAnZnVuY3Rpb24nID8gaXRlciA6IENvbGxlY3Rpb24oaXRlcik7XG4gICAgcmV0dXJuIHRoaXMuZXZlcnkoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBpdGVyLmluY2x1ZGVzKHZhbHVlKTsgfSk7XG4gIH0sXG5cbiAgaXNTdXBlcnNldDogZnVuY3Rpb24gaXNTdXBlcnNldChpdGVyKSB7XG4gICAgaXRlciA9IHR5cGVvZiBpdGVyLmlzU3Vic2V0ID09PSAnZnVuY3Rpb24nID8gaXRlciA6IENvbGxlY3Rpb24oaXRlcik7XG4gICAgcmV0dXJuIGl0ZXIuaXNTdWJzZXQodGhpcyk7XG4gIH0sXG5cbiAga2V5T2Y6IGZ1bmN0aW9uIGtleU9mKHNlYXJjaFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZEtleShmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGlzKHZhbHVlLCBzZWFyY2hWYWx1ZSk7IH0pO1xuICB9LFxuXG4gIGtleVNlcTogZnVuY3Rpb24ga2V5U2VxKCkge1xuICAgIHJldHVybiB0aGlzLnRvU2VxKCkubWFwKGtleU1hcHBlcikudG9JbmRleGVkU2VxKCk7XG4gIH0sXG5cbiAgbGFzdDogZnVuY3Rpb24gbGFzdCgpIHtcbiAgICByZXR1cm4gdGhpcy50b1NlcSgpLnJldmVyc2UoKS5maXJzdCgpO1xuICB9LFxuXG4gIGxhc3RLZXlPZjogZnVuY3Rpb24gbGFzdEtleU9mKHNlYXJjaFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMudG9LZXllZFNlcSgpLnJldmVyc2UoKS5rZXlPZihzZWFyY2hWYWx1ZSk7XG4gIH0sXG5cbiAgbWF4OiBmdW5jdGlvbiBtYXgoY29tcGFyYXRvcikge1xuICAgIHJldHVybiBtYXhGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpO1xuICB9LFxuXG4gIG1heEJ5OiBmdW5jdGlvbiBtYXhCeShtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gbWF4RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpO1xuICB9LFxuXG4gIG1pbjogZnVuY3Rpb24gbWluKGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gbWF4RmFjdG9yeShcbiAgICAgIHRoaXMsXG4gICAgICBjb21wYXJhdG9yID8gbmVnKGNvbXBhcmF0b3IpIDogZGVmYXVsdE5lZ0NvbXBhcmF0b3JcbiAgICApO1xuICB9LFxuXG4gIG1pbkJ5OiBmdW5jdGlvbiBtaW5CeShtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gbWF4RmFjdG9yeShcbiAgICAgIHRoaXMsXG4gICAgICBjb21wYXJhdG9yID8gbmVnKGNvbXBhcmF0b3IpIDogZGVmYXVsdE5lZ0NvbXBhcmF0b3IsXG4gICAgICBtYXBwZXJcbiAgICApO1xuICB9LFxuXG4gIHJlc3Q6IGZ1bmN0aW9uIHJlc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2xpY2UoMSk7XG4gIH0sXG5cbiAgc2tpcDogZnVuY3Rpb24gc2tpcChhbW91bnQpIHtcbiAgICByZXR1cm4gYW1vdW50ID09PSAwID8gdGhpcyA6IHRoaXMuc2xpY2UoTWF0aC5tYXgoMCwgYW1vdW50KSk7XG4gIH0sXG5cbiAgc2tpcExhc3Q6IGZ1bmN0aW9uIHNraXBMYXN0KGFtb3VudCkge1xuICAgIHJldHVybiBhbW91bnQgPT09IDAgPyB0aGlzIDogdGhpcy5zbGljZSgwLCAtTWF0aC5tYXgoMCwgYW1vdW50KSk7XG4gIH0sXG5cbiAgc2tpcFdoaWxlOiBmdW5jdGlvbiBza2lwV2hpbGUocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNraXBXaGlsZUZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0LCB0cnVlKSk7XG4gIH0sXG5cbiAgc2tpcFVudGlsOiBmdW5jdGlvbiBza2lwVW50aWwocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuc2tpcFdoaWxlKG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgfSxcblxuICBzb3J0Qnk6IGZ1bmN0aW9uIHNvcnRCeShtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvciwgbWFwcGVyKSk7XG4gIH0sXG5cbiAgdGFrZTogZnVuY3Rpb24gdGFrZShhbW91bnQpIHtcbiAgICByZXR1cm4gdGhpcy5zbGljZSgwLCBNYXRoLm1heCgwLCBhbW91bnQpKTtcbiAgfSxcblxuICB0YWtlTGFzdDogZnVuY3Rpb24gdGFrZUxhc3QoYW1vdW50KSB7XG4gICAgcmV0dXJuIHRoaXMuc2xpY2UoLU1hdGgubWF4KDAsIGFtb3VudCkpO1xuICB9LFxuXG4gIHRha2VXaGlsZTogZnVuY3Rpb24gdGFrZVdoaWxlKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCB0YWtlV2hpbGVGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCkpO1xuICB9LFxuXG4gIHRha2VVbnRpbDogZnVuY3Rpb24gdGFrZVVudGlsKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiB0aGlzLnRha2VXaGlsZShub3QocHJlZGljYXRlKSwgY29udGV4dCk7XG4gIH0sXG5cbiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoZm4pIHtcbiAgICByZXR1cm4gZm4odGhpcyk7XG4gIH0sXG5cbiAgdmFsdWVTZXE6IGZ1bmN0aW9uIHZhbHVlU2VxKCkge1xuICAgIHJldHVybiB0aGlzLnRvSW5kZXhlZFNlcSgpO1xuICB9LFxuXG4gIC8vICMjIyBIYXNoYWJsZSBPYmplY3RcblxuICBoYXNoQ29kZTogZnVuY3Rpb24gaGFzaENvZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19oYXNoIHx8ICh0aGlzLl9faGFzaCA9IGhhc2hDb2xsZWN0aW9uKHRoaXMpKTtcbiAgfVxuXG4gIC8vICMjIyBJbnRlcm5hbFxuXG4gIC8vIGFic3RyYWN0IF9faXRlcmF0ZShmbiwgcmV2ZXJzZSlcblxuICAvLyBhYnN0cmFjdCBfX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpXG59KTtcblxudmFyIENvbGxlY3Rpb25Qcm90b3R5cGUgPSBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbkNvbGxlY3Rpb25Qcm90b3R5cGVbSVNfSVRFUkFCTEVfU0VOVElORUxdID0gdHJ1ZTtcbkNvbGxlY3Rpb25Qcm90b3R5cGVbSVRFUkFUT1JfU1lNQk9MXSA9IENvbGxlY3Rpb25Qcm90b3R5cGUudmFsdWVzO1xuQ29sbGVjdGlvblByb3RvdHlwZS50b0pTT04gPSBDb2xsZWN0aW9uUHJvdG90eXBlLnRvQXJyYXk7XG5Db2xsZWN0aW9uUHJvdG90eXBlLl9fdG9TdHJpbmdNYXBwZXIgPSBxdW90ZVN0cmluZztcbkNvbGxlY3Rpb25Qcm90b3R5cGUuaW5zcGVjdCA9IChDb2xsZWN0aW9uUHJvdG90eXBlLnRvU291cmNlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG59KTtcbkNvbGxlY3Rpb25Qcm90b3R5cGUuY2hhaW4gPSBDb2xsZWN0aW9uUHJvdG90eXBlLmZsYXRNYXA7XG5Db2xsZWN0aW9uUHJvdG90eXBlLmNvbnRhaW5zID0gQ29sbGVjdGlvblByb3RvdHlwZS5pbmNsdWRlcztcblxubWl4aW4oS2V5ZWRDb2xsZWN0aW9uLCB7XG4gIC8vICMjIyBNb3JlIHNlcXVlbnRpYWwgbWV0aG9kc1xuXG4gIGZsaXA6IGZ1bmN0aW9uIGZsaXAoKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZsaXBGYWN0b3J5KHRoaXMpKTtcbiAgfSxcblxuICBtYXBFbnRyaWVzOiBmdW5jdGlvbiBtYXBFbnRyaWVzKG1hcHBlciwgY29udGV4dCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHJldHVybiByZWlmeShcbiAgICAgIHRoaXMsXG4gICAgICB0aGlzLnRvU2VxKClcbiAgICAgICAgLm1hcChmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gbWFwcGVyLmNhbGwoY29udGV4dCwgW2ssIHZdLCBpdGVyYXRpb25zKyssIHRoaXMkMSk7IH0pXG4gICAgICAgIC5mcm9tRW50cnlTZXEoKVxuICAgICk7XG4gIH0sXG5cbiAgbWFwS2V5czogZnVuY3Rpb24gbWFwS2V5cyhtYXBwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHJldHVybiByZWlmeShcbiAgICAgIHRoaXMsXG4gICAgICB0aGlzLnRvU2VxKCkuZmxpcCgpLm1hcChmdW5jdGlvbiAoaywgdikgeyByZXR1cm4gbWFwcGVyLmNhbGwoY29udGV4dCwgaywgdiwgdGhpcyQxKTsgfSkuZmxpcCgpXG4gICAgKTtcbiAgfVxufSk7XG5cbnZhciBLZXllZENvbGxlY3Rpb25Qcm90b3R5cGUgPSBLZXllZENvbGxlY3Rpb24ucHJvdG90eXBlO1xuS2V5ZWRDb2xsZWN0aW9uUHJvdG90eXBlW0lTX0tFWUVEX1NFTlRJTkVMXSA9IHRydWU7XG5LZXllZENvbGxlY3Rpb25Qcm90b3R5cGVbSVRFUkFUT1JfU1lNQk9MXSA9IENvbGxlY3Rpb25Qcm90b3R5cGUuZW50cmllcztcbktleWVkQ29sbGVjdGlvblByb3RvdHlwZS50b0pTT04gPSBDb2xsZWN0aW9uUHJvdG90eXBlLnRvT2JqZWN0O1xuS2V5ZWRDb2xsZWN0aW9uUHJvdG90eXBlLl9fdG9TdHJpbmdNYXBwZXIgPSBmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gcXVvdGVTdHJpbmcoaykgKyAnOiAnICsgcXVvdGVTdHJpbmcodik7IH07XG5cbm1peGluKEluZGV4ZWRDb2xsZWN0aW9uLCB7XG4gIC8vICMjIyBDb252ZXJzaW9uIHRvIG90aGVyIHR5cGVzXG5cbiAgdG9LZXllZFNlcTogZnVuY3Rpb24gdG9LZXllZFNlcSgpIHtcbiAgICByZXR1cm4gbmV3IFRvS2V5ZWRTZXF1ZW5jZSh0aGlzLCBmYWxzZSk7XG4gIH0sXG5cbiAgLy8gIyMjIEVTNiBDb2xsZWN0aW9uIG1ldGhvZHMgKEVTNiBBcnJheSBhbmQgTWFwKVxuXG4gIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBmaWx0ZXJGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCwgZmFsc2UpKTtcbiAgfSxcblxuICBmaW5kSW5kZXg6IGZ1bmN0aW9uIGZpbmRJbmRleChwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgZW50cnkgPSB0aGlzLmZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHJldHVybiBlbnRyeSA/IGVudHJ5WzBdIDogLTE7XG4gIH0sXG5cbiAgaW5kZXhPZjogZnVuY3Rpb24gaW5kZXhPZihzZWFyY2hWYWx1ZSkge1xuICAgIHZhciBrZXkgPSB0aGlzLmtleU9mKHNlYXJjaFZhbHVlKTtcbiAgICByZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgPyAtMSA6IGtleTtcbiAgfSxcblxuICBsYXN0SW5kZXhPZjogZnVuY3Rpb24gbGFzdEluZGV4T2Yoc2VhcmNoVmFsdWUpIHtcbiAgICB2YXIga2V5ID0gdGhpcy5sYXN0S2V5T2Yoc2VhcmNoVmFsdWUpO1xuICAgIHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/IC0xIDoga2V5O1xuICB9LFxuXG4gIHJldmVyc2U6IGZ1bmN0aW9uIHJldmVyc2UoKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHJldmVyc2VGYWN0b3J5KHRoaXMsIGZhbHNlKSk7XG4gIH0sXG5cbiAgc2xpY2U6IGZ1bmN0aW9uIHNsaWNlKGJlZ2luLCBlbmQpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgc2xpY2VGYWN0b3J5KHRoaXMsIGJlZ2luLCBlbmQsIGZhbHNlKSk7XG4gIH0sXG5cbiAgc3BsaWNlOiBmdW5jdGlvbiBzcGxpY2UoaW5kZXgsIHJlbW92ZU51bSAvKiwgLi4udmFsdWVzKi8pIHtcbiAgICB2YXIgbnVtQXJncyA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgcmVtb3ZlTnVtID0gTWF0aC5tYXgocmVtb3ZlTnVtIHx8IDAsIDApO1xuICAgIGlmIChudW1BcmdzID09PSAwIHx8IChudW1BcmdzID09PSAyICYmICFyZW1vdmVOdW0pKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8gSWYgaW5kZXggaXMgbmVnYXRpdmUsIGl0IHNob3VsZCByZXNvbHZlIHJlbGF0aXZlIHRvIHRoZSBzaXplIG9mIHRoZVxuICAgIC8vIGNvbGxlY3Rpb24uIEhvd2V2ZXIgc2l6ZSBtYXkgYmUgZXhwZW5zaXZlIHRvIGNvbXB1dGUgaWYgbm90IGNhY2hlZCwgc29cbiAgICAvLyBvbmx5IGNhbGwgY291bnQoKSBpZiB0aGUgbnVtYmVyIGlzIGluIGZhY3QgbmVnYXRpdmUuXG4gICAgaW5kZXggPSByZXNvbHZlQmVnaW4oaW5kZXgsIGluZGV4IDwgMCA/IHRoaXMuY291bnQoKSA6IHRoaXMuc2l6ZSk7XG4gICAgdmFyIHNwbGljZWQgPSB0aGlzLnNsaWNlKDAsIGluZGV4KTtcbiAgICByZXR1cm4gcmVpZnkoXG4gICAgICB0aGlzLFxuICAgICAgbnVtQXJncyA9PT0gMVxuICAgICAgICA/IHNwbGljZWRcbiAgICAgICAgOiBzcGxpY2VkLmNvbmNhdChhcnJDb3B5KGFyZ3VtZW50cywgMiksIHRoaXMuc2xpY2UoaW5kZXggKyByZW1vdmVOdW0pKVxuICAgICk7XG4gIH0sXG5cbiAgLy8gIyMjIE1vcmUgY29sbGVjdGlvbiBtZXRob2RzXG5cbiAgZmluZExhc3RJbmRleDogZnVuY3Rpb24gZmluZExhc3RJbmRleChwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgZW50cnkgPSB0aGlzLmZpbmRMYXN0RW50cnkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICByZXR1cm4gZW50cnkgPyBlbnRyeVswXSA6IC0xO1xuICB9LFxuXG4gIGZpcnN0OiBmdW5jdGlvbiBmaXJzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoMCk7XG4gIH0sXG5cbiAgZmxhdHRlbjogZnVuY3Rpb24gZmxhdHRlbihkZXB0aCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGF0dGVuRmFjdG9yeSh0aGlzLCBkZXB0aCwgZmFsc2UpKTtcbiAgfSxcblxuICBnZXQ6IGZ1bmN0aW9uIGdldChpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgcmV0dXJuIGluZGV4IDwgMCB8fFxuICAgICAgKHRoaXMuc2l6ZSA9PT0gSW5maW5pdHkgfHwgKHRoaXMuc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGluZGV4ID4gdGhpcy5zaXplKSlcbiAgICAgID8gbm90U2V0VmFsdWVcbiAgICAgIDogdGhpcy5maW5kKGZ1bmN0aW9uIChfLCBrZXkpIHsgcmV0dXJuIGtleSA9PT0gaW5kZXg7IH0sIHVuZGVmaW5lZCwgbm90U2V0VmFsdWUpO1xuICB9LFxuXG4gIGhhczogZnVuY3Rpb24gaGFzKGluZGV4KSB7XG4gICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgIHJldHVybiBpbmRleCA+PSAwICYmXG4gICAgICAodGhpcy5zaXplICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB0aGlzLnNpemUgPT09IEluZmluaXR5IHx8IGluZGV4IDwgdGhpcy5zaXplXG4gICAgICAgIDogdGhpcy5pbmRleE9mKGluZGV4KSAhPT0gLTEpO1xuICB9LFxuXG4gIGludGVycG9zZTogZnVuY3Rpb24gaW50ZXJwb3NlKHNlcGFyYXRvcikge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBpbnRlcnBvc2VGYWN0b3J5KHRoaXMsIHNlcGFyYXRvcikpO1xuICB9LFxuXG4gIGludGVybGVhdmU6IGZ1bmN0aW9uIGludGVybGVhdmUoLyouLi5jb2xsZWN0aW9ucyovKSB7XG4gICAgdmFyIGNvbGxlY3Rpb25zID0gW3RoaXNdLmNvbmNhdChhcnJDb3B5KGFyZ3VtZW50cykpO1xuICAgIHZhciB6aXBwZWQgPSB6aXBXaXRoRmFjdG9yeSh0aGlzLnRvU2VxKCksIEluZGV4ZWRTZXEub2YsIGNvbGxlY3Rpb25zKTtcbiAgICB2YXIgaW50ZXJsZWF2ZWQgPSB6aXBwZWQuZmxhdHRlbih0cnVlKTtcbiAgICBpZiAoemlwcGVkLnNpemUpIHtcbiAgICAgIGludGVybGVhdmVkLnNpemUgPSB6aXBwZWQuc2l6ZSAqIGNvbGxlY3Rpb25zLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGludGVybGVhdmVkKTtcbiAgfSxcblxuICBrZXlTZXE6IGZ1bmN0aW9uIGtleVNlcSgpIHtcbiAgICByZXR1cm4gUmFuZ2UoMCwgdGhpcy5zaXplKTtcbiAgfSxcblxuICBsYXN0OiBmdW5jdGlvbiBsYXN0KCkge1xuICAgIHJldHVybiB0aGlzLmdldCgtMSk7XG4gIH0sXG5cbiAgc2tpcFdoaWxlOiBmdW5jdGlvbiBza2lwV2hpbGUocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNraXBXaGlsZUZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0LCBmYWxzZSkpO1xuICB9LFxuXG4gIHppcDogZnVuY3Rpb24gemlwKC8qLCAuLi5jb2xsZWN0aW9ucyAqLykge1xuICAgIHZhciBjb2xsZWN0aW9ucyA9IFt0aGlzXS5jb25jYXQoYXJyQ29weShhcmd1bWVudHMpKTtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgemlwV2l0aEZhY3RvcnkodGhpcywgZGVmYXVsdFppcHBlciwgY29sbGVjdGlvbnMpKTtcbiAgfSxcblxuICB6aXBXaXRoOiBmdW5jdGlvbiB6aXBXaXRoKHppcHBlciAvKiwgLi4uY29sbGVjdGlvbnMgKi8pIHtcbiAgICB2YXIgY29sbGVjdGlvbnMgPSBhcnJDb3B5KGFyZ3VtZW50cyk7XG4gICAgY29sbGVjdGlvbnNbMF0gPSB0aGlzO1xuICAgIHJldHVybiByZWlmeSh0aGlzLCB6aXBXaXRoRmFjdG9yeSh0aGlzLCB6aXBwZXIsIGNvbGxlY3Rpb25zKSk7XG4gIH1cbn0pO1xuXG52YXIgSW5kZXhlZENvbGxlY3Rpb25Qcm90b3R5cGUgPSBJbmRleGVkQ29sbGVjdGlvbi5wcm90b3R5cGU7XG5JbmRleGVkQ29sbGVjdGlvblByb3RvdHlwZVtJU19JTkRFWEVEX1NFTlRJTkVMXSA9IHRydWU7XG5JbmRleGVkQ29sbGVjdGlvblByb3RvdHlwZVtJU19PUkRFUkVEX1NFTlRJTkVMXSA9IHRydWU7XG5cbm1peGluKFNldENvbGxlY3Rpb24sIHtcbiAgLy8gIyMjIEVTNiBDb2xsZWN0aW9uIG1ldGhvZHMgKEVTNiBBcnJheSBhbmQgTWFwKVxuXG4gIGdldDogZnVuY3Rpb24gZ2V0KHZhbHVlLCBub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmhhcyh2YWx1ZSkgPyB2YWx1ZSA6IG5vdFNldFZhbHVlO1xuICB9LFxuXG4gIGluY2x1ZGVzOiBmdW5jdGlvbiBpbmNsdWRlcyh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmhhcyh2YWx1ZSk7XG4gIH0sXG5cbiAgLy8gIyMjIE1vcmUgc2VxdWVudGlhbCBtZXRob2RzXG5cbiAga2V5U2VxOiBmdW5jdGlvbiBrZXlTZXEoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVTZXEoKTtcbiAgfVxufSk7XG5cblNldENvbGxlY3Rpb24ucHJvdG90eXBlLmhhcyA9IENvbGxlY3Rpb25Qcm90b3R5cGUuaW5jbHVkZXM7XG5TZXRDb2xsZWN0aW9uLnByb3RvdHlwZS5jb250YWlucyA9IFNldENvbGxlY3Rpb24ucHJvdG90eXBlLmluY2x1ZGVzO1xuXG4vLyBNaXhpbiBzdWJjbGFzc2VzXG5cbm1peGluKEtleWVkU2VxLCBLZXllZENvbGxlY3Rpb24ucHJvdG90eXBlKTtcbm1peGluKEluZGV4ZWRTZXEsIEluZGV4ZWRDb2xsZWN0aW9uLnByb3RvdHlwZSk7XG5taXhpbihTZXRTZXEsIFNldENvbGxlY3Rpb24ucHJvdG90eXBlKTtcblxuLy8gI3ByYWdtYSBIZWxwZXIgZnVuY3Rpb25zXG5cbmZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCByZWR1Y2VyLCByZWR1Y3Rpb24sIGNvbnRleHQsIHVzZUZpcnN0LCByZXZlcnNlKSB7XG4gIGFzc2VydE5vdEluZmluaXRlKGNvbGxlY3Rpb24uc2l6ZSk7XG4gIGNvbGxlY3Rpb24uX19pdGVyYXRlKFxuICAgIGZ1bmN0aW9uICh2LCBrLCBjKSB7XG4gICAgICBpZiAodXNlRmlyc3QpIHtcbiAgICAgICAgdXNlRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgcmVkdWN0aW9uID0gdjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlZHVjdGlvbiA9IHJlZHVjZXIuY2FsbChjb250ZXh0LCByZWR1Y3Rpb24sIHYsIGssIGMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmV2ZXJzZVxuICApO1xuICByZXR1cm4gcmVkdWN0aW9uO1xufVxuXG5mdW5jdGlvbiBrZXlNYXBwZXIodiwgaykge1xuICByZXR1cm4gaztcbn1cblxuZnVuY3Rpb24gZW50cnlNYXBwZXIodiwgaykge1xuICByZXR1cm4gW2ssIHZdO1xufVxuXG5mdW5jdGlvbiB0b0pTKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUudG9KUyA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnRvSlMoKSA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBub3QocHJlZGljYXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBuZWcocHJlZGljYXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gLXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0WmlwcGVyKCkge1xuICByZXR1cm4gYXJyQ29weShhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0TmVnQ29tcGFyYXRvcihhLCBiKSB7XG4gIHJldHVybiBhIDwgYiA/IDEgOiBhID4gYiA/IC0xIDogMDtcbn1cblxuZnVuY3Rpb24gaGFzaENvbGxlY3Rpb24oY29sbGVjdGlvbikge1xuICBpZiAoY29sbGVjdGlvbi5zaXplID09PSBJbmZpbml0eSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIHZhciBvcmRlcmVkID0gaXNPcmRlcmVkKGNvbGxlY3Rpb24pO1xuICB2YXIga2V5ZWQgPSBpc0tleWVkKGNvbGxlY3Rpb24pO1xuICB2YXIgaCA9IG9yZGVyZWQgPyAxIDogMDtcbiAgdmFyIHNpemUgPSBjb2xsZWN0aW9uLl9faXRlcmF0ZShcbiAgICBrZXllZFxuICAgICAgPyBvcmRlcmVkXG4gICAgICAgICAgPyBmdW5jdGlvbiAodiwgaykge1xuICAgICAgICAgICAgICBoID0gMzEgKiBoICsgaGFzaE1lcmdlKGhhc2godiksIGhhc2goaykpIHwgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICAgICAgICAgIGggPSBoICsgaGFzaE1lcmdlKGhhc2godiksIGhhc2goaykpIHwgMDtcbiAgICAgICAgICAgIH1cbiAgICAgIDogb3JkZXJlZFxuICAgICAgICAgID8gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgaCA9IDMxICogaCArIGhhc2godikgfCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgaCA9IGggKyBoYXNoKHYpIHwgMDtcbiAgICAgICAgICAgIH1cbiAgKTtcbiAgcmV0dXJuIG11cm11ckhhc2hPZlNpemUoc2l6ZSwgaCk7XG59XG5cbmZ1bmN0aW9uIG11cm11ckhhc2hPZlNpemUoc2l6ZSwgaCkge1xuICBoID0gaW11bChoLCAweGNjOWUyZDUxKTtcbiAgaCA9IGltdWwoaCA8PCAxNSB8IGggPj4+IC0xNSwgMHgxYjg3MzU5Myk7XG4gIGggPSBpbXVsKGggPDwgMTMgfCBoID4+PiAtMTMsIDUpO1xuICBoID0gKGggKyAweGU2NTQ2YjY0IHwgMCkgXiBzaXplO1xuICBoID0gaW11bChoIF4gaCA+Pj4gMTYsIDB4ODVlYmNhNmIpO1xuICBoID0gaW11bChoIF4gaCA+Pj4gMTMsIDB4YzJiMmFlMzUpO1xuICBoID0gc21pKGggXiBoID4+PiAxNik7XG4gIHJldHVybiBoO1xufVxuXG5mdW5jdGlvbiBoYXNoTWVyZ2UoYSwgYikge1xuICByZXR1cm4gYSBeIGIgKyAweDllMzc3OWI5ICsgKGEgPDwgNikgKyAoYSA+PiAyKSB8IDA7IC8vIGludFxufVxuXG52YXIgT3JkZXJlZFNldCA9IChmdW5jdGlvbiAoU2V0JCQxKSB7XG4gIGZ1bmN0aW9uIE9yZGVyZWRTZXQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyBlbXB0eU9yZGVyZWRTZXQoKVxuICAgICAgOiBpc09yZGVyZWRTZXQodmFsdWUpXG4gICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgIDogZW1wdHlPcmRlcmVkU2V0KCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAoc2V0KSB7XG4gICAgICAgICAgICAgIHZhciBpdGVyID0gU2V0Q29sbGVjdGlvbih2YWx1ZSk7XG4gICAgICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbiAodikgeyByZXR1cm4gc2V0LmFkZCh2KTsgfSk7XG4gICAgICAgICAgICB9KTtcbiAgfVxuXG4gIGlmICggU2V0JCQxICkgT3JkZXJlZFNldC5fX3Byb3RvX18gPSBTZXQkJDE7XG4gIE9yZGVyZWRTZXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2V0JCQxICYmIFNldCQkMS5wcm90b3R5cGUgKTtcbiAgT3JkZXJlZFNldC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPcmRlcmVkU2V0O1xuXG4gIE9yZGVyZWRTZXQub2YgPSBmdW5jdGlvbiBvZiAoLyouLi52YWx1ZXMqLykge1xuICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgT3JkZXJlZFNldC5mcm9tS2V5cyA9IGZ1bmN0aW9uIGZyb21LZXlzICh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzKEtleWVkQ29sbGVjdGlvbih2YWx1ZSkua2V5U2VxKCkpO1xuICB9O1xuXG4gIE9yZGVyZWRTZXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ09yZGVyZWRTZXQgeycsICd9Jyk7XG4gIH07XG5cbiAgcmV0dXJuIE9yZGVyZWRTZXQ7XG59KFNldCkpO1xuXG5mdW5jdGlvbiBpc09yZGVyZWRTZXQobWF5YmVPcmRlcmVkU2V0KSB7XG4gIHJldHVybiBpc1NldChtYXliZU9yZGVyZWRTZXQpICYmIGlzT3JkZXJlZChtYXliZU9yZGVyZWRTZXQpO1xufVxuXG5PcmRlcmVkU2V0LmlzT3JkZXJlZFNldCA9IGlzT3JkZXJlZFNldDtcblxudmFyIE9yZGVyZWRTZXRQcm90b3R5cGUgPSBPcmRlcmVkU2V0LnByb3RvdHlwZTtcbk9yZGVyZWRTZXRQcm90b3R5cGVbSVNfT1JERVJFRF9TRU5USU5FTF0gPSB0cnVlO1xuT3JkZXJlZFNldFByb3RvdHlwZS56aXAgPSBJbmRleGVkQ29sbGVjdGlvblByb3RvdHlwZS56aXA7XG5PcmRlcmVkU2V0UHJvdG90eXBlLnppcFdpdGggPSBJbmRleGVkQ29sbGVjdGlvblByb3RvdHlwZS56aXBXaXRoO1xuXG5PcmRlcmVkU2V0UHJvdG90eXBlLl9fZW1wdHkgPSBlbXB0eU9yZGVyZWRTZXQ7XG5PcmRlcmVkU2V0UHJvdG90eXBlLl9fbWFrZSA9IG1ha2VPcmRlcmVkU2V0O1xuXG5mdW5jdGlvbiBtYWtlT3JkZXJlZFNldChtYXAsIG93bmVySUQpIHtcbiAgdmFyIHNldCA9IE9iamVjdC5jcmVhdGUoT3JkZXJlZFNldFByb3RvdHlwZSk7XG4gIHNldC5zaXplID0gbWFwID8gbWFwLnNpemUgOiAwO1xuICBzZXQuX21hcCA9IG1hcDtcbiAgc2V0Ll9fb3duZXJJRCA9IG93bmVySUQ7XG4gIHJldHVybiBzZXQ7XG59XG5cbnZhciBFTVBUWV9PUkRFUkVEX1NFVDtcbmZ1bmN0aW9uIGVtcHR5T3JkZXJlZFNldCgpIHtcbiAgcmV0dXJuIEVNUFRZX09SREVSRURfU0VUIHx8XG4gICAgKEVNUFRZX09SREVSRURfU0VUID0gbWFrZU9yZGVyZWRTZXQoZW1wdHlPcmRlcmVkTWFwKCkpKTtcbn1cblxudmFyIFJlY29yZCA9IGZ1bmN0aW9uIFJlY29yZChkZWZhdWx0VmFsdWVzLCBuYW1lKSB7XG4gIHZhciBoYXNJbml0aWFsaXplZDtcblxuICB2YXIgUmVjb3JkVHlwZSA9IGZ1bmN0aW9uIFJlY29yZCh2YWx1ZXMpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBSZWNvcmRUeXBlKSB7XG4gICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVjb3JkVHlwZSkpIHtcbiAgICAgIHJldHVybiBuZXcgUmVjb3JkVHlwZSh2YWx1ZXMpO1xuICAgIH1cbiAgICBpZiAoIWhhc0luaXRpYWxpemVkKSB7XG4gICAgICBoYXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRlZmF1bHRWYWx1ZXMpO1xuICAgICAgdmFyIGluZGljZXMgPSAoUmVjb3JkVHlwZVByb3RvdHlwZS5faW5kaWNlcyA9IHt9KTtcbiAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuX25hbWUgPSBuYW1lO1xuICAgICAgUmVjb3JkVHlwZVByb3RvdHlwZS5fa2V5cyA9IGtleXM7XG4gICAgICBSZWNvcmRUeXBlUHJvdG90eXBlLl9kZWZhdWx0VmFsdWVzID0gZGVmYXVsdFZhbHVlcztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSBrZXlzW2ldO1xuICAgICAgICBpbmRpY2VzW3Byb3BOYW1lXSA9IGk7XG4gICAgICAgIGlmIChSZWNvcmRUeXBlUHJvdG90eXBlW3Byb3BOYW1lXSkge1xuICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICB0eXBlb2YgY29uc29sZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUud2FybiAmJlxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAnQ2Fubm90IGRlZmluZSAnICtcbiAgICAgICAgICAgICAgICByZWNvcmROYW1lKHRoaXMkMSkgK1xuICAgICAgICAgICAgICAgICcgd2l0aCBwcm9wZXJ0eSBcIicgK1xuICAgICAgICAgICAgICAgIHByb3BOYW1lICtcbiAgICAgICAgICAgICAgICAnXCIgc2luY2UgdGhhdCBwcm9wZXJ0eSBuYW1lIGlzIHBhcnQgb2YgdGhlIFJlY29yZCBBUEkuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRQcm9wKFJlY29yZFR5cGVQcm90b3R5cGUsIHByb3BOYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9fb3duZXJJRCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl92YWx1ZXMgPSBMaXN0KCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobCkge1xuICAgICAgbC5zZXRTaXplKHRoaXMkMS5fa2V5cy5sZW5ndGgpO1xuICAgICAgS2V5ZWRDb2xsZWN0aW9uKHZhbHVlcykuZm9yRWFjaChmdW5jdGlvbiAodiwgaykge1xuICAgICAgICBsLnNldCh0aGlzJDEuX2luZGljZXNba10sIHYgPT09IHRoaXMkMS5fZGVmYXVsdFZhbHVlc1trXSA/IHVuZGVmaW5lZCA6IHYpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIFJlY29yZFR5cGVQcm90b3R5cGUgPSAoUmVjb3JkVHlwZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFxuICAgIFJlY29yZFByb3RvdHlwZVxuICApKTtcbiAgUmVjb3JkVHlwZVByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlY29yZFR5cGU7XG5cbiAgcmV0dXJuIFJlY29yZFR5cGU7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciBzdHIgPSByZWNvcmROYW1lKHRoaXMpICsgJyB7ICc7XG4gIHZhciBrZXlzID0gdGhpcy5fa2V5cztcbiAgdmFyIGs7XG4gIGZvciAodmFyIGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgIT09IGw7IGkrKykge1xuICAgIGsgPSBrZXlzW2ldO1xuICAgIHN0ciArPSAoaSA/ICcsICcgOiAnJykgKyBrICsgJzogJyArIHF1b3RlU3RyaW5nKHRoaXMkMS5nZXQoaykpO1xuICB9XG4gIHJldHVybiBzdHIgKyAnIH0nO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKG90aGVyKSB7XG4gIHJldHVybiB0aGlzID09PSBvdGhlciB8fFxuICAgICh0aGlzLl9rZXlzID09PSBvdGhlci5fa2V5cyAmJiByZWNvcmRTZXEodGhpcykuZXF1YWxzKHJlY29yZFNlcShvdGhlcikpKTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiBoYXNoQ29kZSAoKSB7XG4gIHJldHVybiByZWNvcmRTZXEodGhpcykuaGFzaENvZGUoKTtcbn07XG5cbi8vIEBwcmFnbWEgQWNjZXNzXG5cblJlY29yZC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gaGFzIChrKSB7XG4gIHJldHVybiB0aGlzLl9pbmRpY2VzLmhhc093blByb3BlcnR5KGspO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGssIG5vdFNldFZhbHVlKSB7XG4gIGlmICghdGhpcy5oYXMoaykpIHtcbiAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gIH1cbiAgdmFyIGluZGV4ID0gdGhpcy5faW5kaWNlc1trXTtcbiAgdmFyIHZhbHVlID0gdGhpcy5fdmFsdWVzLmdldChpbmRleCk7XG4gIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdGhpcy5fZGVmYXVsdFZhbHVlc1trXSA6IHZhbHVlO1xufTtcblxuLy8gQHByYWdtYSBNb2RpZmljYXRpb25cblxuUmVjb3JkLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQgKGssIHYpIHtcbiAgaWYgKHRoaXMuaGFzKGspKSB7XG4gICAgdmFyIG5ld1ZhbHVlcyA9IHRoaXMuX3ZhbHVlcy5zZXQoXG4gICAgICB0aGlzLl9pbmRpY2VzW2tdLFxuICAgICAgdiA9PT0gdGhpcy5fZGVmYXVsdFZhbHVlc1trXSA/IHVuZGVmaW5lZCA6IHZcbiAgICApO1xuICAgIGlmIChuZXdWYWx1ZXMgIT09IHRoaXMuX3ZhbHVlcyAmJiAhdGhpcy5fX293bmVySUQpIHtcbiAgICAgIHJldHVybiBtYWtlUmVjb3JkKHRoaXMsIG5ld1ZhbHVlcyk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUgKGspIHtcbiAgcmV0dXJuIHRoaXMuc2V0KGspO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgdmFyIG5ld1ZhbHVlcyA9IHRoaXMuX3ZhbHVlcy5jbGVhcigpLnNldFNpemUodGhpcy5fa2V5cy5sZW5ndGgpO1xuICByZXR1cm4gdGhpcy5fX293bmVySUQgPyB0aGlzIDogbWFrZVJlY29yZCh0aGlzLCBuZXdWYWx1ZXMpO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS53YXNBbHRlcmVkID0gZnVuY3Rpb24gd2FzQWx0ZXJlZCAoKSB7XG4gIHJldHVybiB0aGlzLl92YWx1ZXMud2FzQWx0ZXJlZCgpO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS50b1NlcSA9IGZ1bmN0aW9uIHRvU2VxICgpIHtcbiAgcmV0dXJuIHJlY29yZFNlcSh0aGlzKTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUudG9KUyA9IGZ1bmN0aW9uIHRvSlMgKCkge1xuICByZXR1cm4gcmVjb3JkU2VxKHRoaXMpLnRvSlMoKTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgcmV0dXJuIHJlY29yZFNlcSh0aGlzKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gIHJldHVybiByZWNvcmRTZXEodGhpcykuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uIF9fZW5zdXJlT3duZXIgKG93bmVySUQpIHtcbiAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdmFyIG5ld1ZhbHVlcyA9IHRoaXMuX3ZhbHVlcy5fX2Vuc3VyZU93bmVyKG93bmVySUQpO1xuICBpZiAoIW93bmVySUQpIHtcbiAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgdGhpcy5fdmFsdWVzID0gbmV3VmFsdWVzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJldHVybiBtYWtlUmVjb3JkKHRoaXMsIG5ld1ZhbHVlcywgb3duZXJJRCk7XG59O1xuXG5SZWNvcmQuaXNSZWNvcmQgPSBpc1JlY29yZDtcblJlY29yZC5nZXREZXNjcmlwdGl2ZU5hbWUgPSByZWNvcmROYW1lO1xudmFyIFJlY29yZFByb3RvdHlwZSA9IFJlY29yZC5wcm90b3R5cGU7XG5SZWNvcmRQcm90b3R5cGVbSVNfUkVDT1JEX1NFTlRJTkVMXSA9IHRydWU7XG5SZWNvcmRQcm90b3R5cGVbREVMRVRFXSA9IFJlY29yZFByb3RvdHlwZS5yZW1vdmU7XG5SZWNvcmRQcm90b3R5cGUuZ2V0SW4gPSBDb2xsZWN0aW9uUHJvdG90eXBlLmdldEluO1xuUmVjb3JkUHJvdG90eXBlLmhhc0luID0gQ29sbGVjdGlvblByb3RvdHlwZS5oYXNJbjtcblJlY29yZFByb3RvdHlwZS5tZXJnZSA9IE1hcFByb3RvdHlwZS5tZXJnZTtcblJlY29yZFByb3RvdHlwZS5tZXJnZVdpdGggPSBNYXBQcm90b3R5cGUubWVyZ2VXaXRoO1xuUmVjb3JkUHJvdG90eXBlLm1lcmdlSW4gPSBNYXBQcm90b3R5cGUubWVyZ2VJbjtcblJlY29yZFByb3RvdHlwZS5tZXJnZURlZXAgPSBNYXBQcm90b3R5cGUubWVyZ2VEZWVwO1xuUmVjb3JkUHJvdG90eXBlLm1lcmdlRGVlcFdpdGggPSBNYXBQcm90b3R5cGUubWVyZ2VEZWVwV2l0aDtcblJlY29yZFByb3RvdHlwZS5tZXJnZURlZXBJbiA9IE1hcFByb3RvdHlwZS5tZXJnZURlZXBJbjtcblJlY29yZFByb3RvdHlwZS5zZXRJbiA9IE1hcFByb3RvdHlwZS5zZXRJbjtcblJlY29yZFByb3RvdHlwZS51cGRhdGUgPSBNYXBQcm90b3R5cGUudXBkYXRlO1xuUmVjb3JkUHJvdG90eXBlLnVwZGF0ZUluID0gTWFwUHJvdG90eXBlLnVwZGF0ZUluO1xuUmVjb3JkUHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSBNYXBQcm90b3R5cGUud2l0aE11dGF0aW9ucztcblJlY29yZFByb3RvdHlwZS5hc011dGFibGUgPSBNYXBQcm90b3R5cGUuYXNNdXRhYmxlO1xuUmVjb3JkUHJvdG90eXBlLmFzSW1tdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzSW1tdXRhYmxlO1xuUmVjb3JkUHJvdG90eXBlW0lURVJBVE9SX1NZTUJPTF0gPSBDb2xsZWN0aW9uUHJvdG90eXBlLmVudHJpZXM7XG5SZWNvcmRQcm90b3R5cGUudG9KU09OID0gKFJlY29yZFByb3RvdHlwZS50b09iamVjdCA9IENvbGxlY3Rpb25Qcm90b3R5cGUudG9PYmplY3QpO1xuUmVjb3JkUHJvdG90eXBlLmluc3BlY3QgPSAoUmVjb3JkUHJvdG90eXBlLnRvU291cmNlID0gQ29sbGVjdGlvblByb3RvdHlwZS50b1NvdXJjZSk7XG5cbmZ1bmN0aW9uIG1ha2VSZWNvcmQobGlrZVJlY29yZCwgdmFsdWVzLCBvd25lcklEKSB7XG4gIHZhciByZWNvcmQgPSBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihsaWtlUmVjb3JkKSk7XG4gIHJlY29yZC5fdmFsdWVzID0gdmFsdWVzO1xuICByZWNvcmQuX19vd25lcklEID0gb3duZXJJRDtcbiAgcmV0dXJuIHJlY29yZDtcbn1cblxuZnVuY3Rpb24gcmVjb3JkTmFtZShyZWNvcmQpIHtcbiAgcmV0dXJuIHJlY29yZC5fbmFtZSB8fCByZWNvcmQuY29uc3RydWN0b3IubmFtZSB8fCAnUmVjb3JkJztcbn1cblxuZnVuY3Rpb24gcmVjb3JkU2VxKHJlY29yZCkge1xuICByZXR1cm4ga2V5ZWRTZXFGcm9tVmFsdWUocmVjb3JkLl9rZXlzLm1hcChmdW5jdGlvbiAoaykgeyByZXR1cm4gW2ssIHJlY29yZC5nZXQoayldOyB9KSk7XG59XG5cbmZ1bmN0aW9uIHNldFByb3AocHJvdG90eXBlLCBuYW1lKSB7XG4gIHRyeSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgbmFtZSwge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KG5hbWUpO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaW52YXJpYW50KHRoaXMuX19vd25lcklELCAnQ2Fubm90IHNldCBvbiBhbiBpbW11dGFibGUgcmVjb3JkLicpO1xuICAgICAgICB0aGlzLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gT2JqZWN0LmRlZmluZVByb3BlcnR5IGZhaWxlZC4gUHJvYmFibHkgSUU4LlxuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGxhenkgU2VxIG9mIGB2YWx1ZWAgcmVwZWF0ZWQgYHRpbWVzYCB0aW1lcy4gV2hlbiBgdGltZXNgIGlzXG4gKiB1bmRlZmluZWQsIHJldHVybnMgYW4gaW5maW5pdGUgc2VxdWVuY2Ugb2YgYHZhbHVlYC5cbiAqL1xudmFyIFJlcGVhdCA9IChmdW5jdGlvbiAoSW5kZXhlZFNlcSQkMSkge1xuICBmdW5jdGlvbiBSZXBlYXQodmFsdWUsIHRpbWVzKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlcGVhdCkpIHtcbiAgICAgIHJldHVybiBuZXcgUmVwZWF0KHZhbHVlLCB0aW1lcyk7XG4gICAgfVxuICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5zaXplID0gdGltZXMgPT09IHVuZGVmaW5lZCA/IEluZmluaXR5IDogTWF0aC5tYXgoMCwgdGltZXMpO1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIGlmIChFTVBUWV9SRVBFQVQpIHtcbiAgICAgICAgcmV0dXJuIEVNUFRZX1JFUEVBVDtcbiAgICAgIH1cbiAgICAgIEVNUFRZX1JFUEVBVCA9IHRoaXM7XG4gICAgfVxuICB9XG5cbiAgaWYgKCBJbmRleGVkU2VxJCQxICkgUmVwZWF0Ll9fcHJvdG9fXyA9IEluZGV4ZWRTZXEkJDE7XG4gIFJlcGVhdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbmRleGVkU2VxJCQxICYmIEluZGV4ZWRTZXEkJDEucHJvdG90eXBlICk7XG4gIFJlcGVhdC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZXBlYXQ7XG5cbiAgUmVwZWF0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gJ1JlcGVhdCBbXSc7XG4gICAgfVxuICAgIHJldHVybiAnUmVwZWF0IFsgJyArIHRoaXMuX3ZhbHVlICsgJyAnICsgdGhpcy5zaXplICsgJyB0aW1lcyBdJztcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzKGluZGV4KSA/IHRoaXMuX3ZhbHVlIDogbm90U2V0VmFsdWU7XG4gIH07XG5cbiAgUmVwZWF0LnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzIChzZWFyY2hWYWx1ZSkge1xuICAgIHJldHVybiBpcyh0aGlzLl92YWx1ZSwgc2VhcmNoVmFsdWUpO1xuICB9O1xuXG4gIFJlcGVhdC5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoYmVnaW4sIGVuZCkge1xuICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgIHJldHVybiB3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHNpemUpXG4gICAgICA/IHRoaXNcbiAgICAgIDogbmV3IFJlcGVhdChcbiAgICAgICAgICB0aGlzLl92YWx1ZSxcbiAgICAgICAgICByZXNvbHZlRW5kKGVuZCwgc2l6ZSkgLSByZXNvbHZlQmVnaW4oYmVnaW4sIHNpemUpXG4gICAgICAgICk7XG4gIH07XG5cbiAgUmVwZWF0LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gcmV2ZXJzZSAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgUmVwZWF0LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAoc2VhcmNoVmFsdWUpIHtcbiAgICBpZiAoaXModGhpcy5fdmFsdWUsIHNlYXJjaFZhbHVlKSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHNlYXJjaFZhbHVlKSB7XG4gICAgaWYgKGlzKHRoaXMuX3ZhbHVlLCBzZWFyY2hWYWx1ZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLnNpemU7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSAhPT0gc2l6ZSkge1xuICAgICAgaWYgKGZuKHRoaXMkMS5fdmFsdWUsIHJldmVyc2UgPyBzaXplIC0gKytpIDogaSsrLCB0aGlzJDEpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGk7XG4gIH07XG5cbiAgUmVwZWF0LnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgdmFyIGkgPSAwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoXG4gICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBpID09PSBzaXplXG4gICAgICAgICAgPyBpdGVyYXRvckRvbmUoKVxuICAgICAgICAgIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCByZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrKywgdGhpcyQxLl92YWx1ZSk7IH1cbiAgICApO1xuICB9O1xuXG4gIFJlcGVhdC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChvdGhlcikge1xuICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFJlcGVhdFxuICAgICAgPyBpcyh0aGlzLl92YWx1ZSwgb3RoZXIuX3ZhbHVlKVxuICAgICAgOiBkZWVwRXF1YWwob3RoZXIpO1xuICB9O1xuXG4gIHJldHVybiBSZXBlYXQ7XG59KEluZGV4ZWRTZXEpKTtcblxudmFyIEVNUFRZX1JFUEVBVDtcblxudmFyIEltbXV0YWJsZSA9IHtcbiAgQ29sbGVjdGlvbjogQ29sbGVjdGlvbixcbiAgLy8gTm90ZTogSXRlcmFibGUgaXMgZGVwcmVjYXRlZFxuICBJdGVyYWJsZTogQ29sbGVjdGlvbixcblxuICBTZXE6IFNlcSxcbiAgTWFwOiBNYXAsXG4gIE9yZGVyZWRNYXA6IE9yZGVyZWRNYXAsXG4gIExpc3Q6IExpc3QsXG4gIFN0YWNrOiBTdGFjayxcbiAgU2V0OiBTZXQsXG4gIE9yZGVyZWRTZXQ6IE9yZGVyZWRTZXQsXG5cbiAgUmVjb3JkOiBSZWNvcmQsXG4gIFJhbmdlOiBSYW5nZSxcbiAgUmVwZWF0OiBSZXBlYXQsXG5cbiAgaXM6IGlzLFxuICBmcm9tSlM6IGZyb21KUyxcbiAgaGFzaDogaGFzaCxcblxuICBpc0ltbXV0YWJsZTogaXNJbW11dGFibGUsXG4gIGlzQ29sbGVjdGlvbjogaXNDb2xsZWN0aW9uLFxuICBpc0tleWVkOiBpc0tleWVkLFxuICBpc0luZGV4ZWQ6IGlzSW5kZXhlZCxcbiAgaXNBc3NvY2lhdGl2ZTogaXNBc3NvY2lhdGl2ZSxcbiAgaXNPcmRlcmVkOiBpc09yZGVyZWQsXG4gIGlzVmFsdWVPYmplY3Q6IGlzVmFsdWVPYmplY3Rcbn07XG5cbi8vIE5vdGU6IEl0ZXJhYmxlIGlzIGRlcHJlY2F0ZWRcbnZhciBJdGVyYWJsZSA9IENvbGxlY3Rpb247XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IEltbXV0YWJsZTtcbmV4cG9ydHMuQ29sbGVjdGlvbiA9IENvbGxlY3Rpb247XG5leHBvcnRzLkl0ZXJhYmxlID0gSXRlcmFibGU7XG5leHBvcnRzLlNlcSA9IFNlcTtcbmV4cG9ydHMuTWFwID0gTWFwO1xuZXhwb3J0cy5PcmRlcmVkTWFwID0gT3JkZXJlZE1hcDtcbmV4cG9ydHMuTGlzdCA9IExpc3Q7XG5leHBvcnRzLlN0YWNrID0gU3RhY2s7XG5leHBvcnRzLlNldCA9IFNldDtcbmV4cG9ydHMuT3JkZXJlZFNldCA9IE9yZGVyZWRTZXQ7XG5leHBvcnRzLlJlY29yZCA9IFJlY29yZDtcbmV4cG9ydHMuUmFuZ2UgPSBSYW5nZTtcbmV4cG9ydHMuUmVwZWF0ID0gUmVwZWF0O1xuZXhwb3J0cy5pcyA9IGlzO1xuZXhwb3J0cy5mcm9tSlMgPSBmcm9tSlM7XG5leHBvcnRzLmhhc2ggPSBoYXNoO1xuZXhwb3J0cy5pc0ltbXV0YWJsZSA9IGlzSW1tdXRhYmxlO1xuZXhwb3J0cy5pc0NvbGxlY3Rpb24gPSBpc0NvbGxlY3Rpb247XG5leHBvcnRzLmlzS2V5ZWQgPSBpc0tleWVkO1xuZXhwb3J0cy5pc0luZGV4ZWQgPSBpc0luZGV4ZWQ7XG5leHBvcnRzLmlzQXNzb2NpYXRpdmUgPSBpc0Fzc29jaWF0aXZlO1xuZXhwb3J0cy5pc09yZGVyZWQgPSBpc09yZGVyZWQ7XG5leHBvcnRzLmlzVmFsdWVPYmplY3QgPSBpc1ZhbHVlT2JqZWN0O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KSkpO1xuIiwiaW1wb3J0IHtcbiAgICBEYW5nbGUsXG4gICAgRGlyZWN0aW9uLFxuICAgIEVkZ2UsXG4gICAgRWRnZU9wZXJhdGlvbixcbiAgICBGYWNlLFxuICAgIGZhY2VzLFxuICAgIE1hdHJpeDIsXG4gICAgbWFrZV9tYXRyaXgyLFxuICAgIFBhcnRpdGlvbixcbiAgICBQb2ludDIsXG4gfSBmcm9tICcuL2RhdGF0eXBlcyc7XG5cbmltcG9ydCB7aXMsIExpc3QsIE1hcCwgU2V0fSBmcm9tICdpbW11dGFibGUnO1xuXG5sZXQgZmFjZV92ZXJ0aWNlcyA9IE1hcDxGYWNlLCBNYXRyaXgyPihbXG4gICAgW0ZhY2UudCwgbWFrZV9tYXRyaXgyKFtcbiAgICAgICAgWzAsICAxLCAgMiBdLFxuICAgICAgICBbOSwgIDI1LCAxNV0sXG4gICAgICAgIFsxNiwgMjQsIDIyXV0pXSxcbiAgICBbRmFjZS5iLCBtYWtlX21hdHJpeDIoW1xuICAgICAgICBbMjAsIDE5LCAxOF0sXG4gICAgICAgIFsxMywgMTIsIDExXSxcbiAgICAgICAgWzgsICA3LCAgNiBdXSldLFxuICAgIFtGYWNlLm4sIG1ha2VfbWF0cml4MihbXG4gICAgICAgIFsyLCAgMSwgIDAgXSxcbiAgICAgICAgWzUsICA0LCAgMyBdLFxuICAgICAgICBbOCwgIDcsICA2IF1dKV0sXG4gICAgW0ZhY2UuZSwgbWFrZV9tYXRyaXgyKFtcbiAgICAgICAgWzIyLCAxNSwgMiBdLFxuICAgICAgICBbMjEsIDE0LCA1IF0sXG4gICAgICAgIFsyMCwgMTMsIDggXV0pXSxcbiAgICBbRmFjZS5zLCBtYWtlX21hdHJpeDIoW1xuICAgICAgICBbMTYsIDI0LCAyMl0sXG4gICAgICAgIFsxNywgMjMsIDIxXSxcbiAgICAgICAgWzE4LCAxOSwgMjBdXSldLFxuICAgIFtGYWNlLncsIG1ha2VfbWF0cml4MihbXG4gICAgICAgIFswLCAgOSwgIDE2XSxcbiAgICAgICAgWzMsICAxMCwgMTddLFxuICAgICAgICBbNiwgIDExLCAxOF1dKV1cbl0pO1xuXG5sZXQgZmFjZV9xdWFkcmFudHMgPSBNYXA8RmFjZSwgTWF0cml4Mj4oW1xuICAgIFtGYWNlLnQsIG1ha2VfbWF0cml4MihbXG4gICAgICAgIFswLCAgMSBdLFxuICAgICAgICBbMiwgIDMgXV0pXSxcbiAgICBbRmFjZS5iLCBtYWtlX21hdHJpeDIoW1xuICAgICAgICBbNCwgIDUgXSxcbiAgICAgICAgWzYsICA3IF1dKV0sXG4gICAgW0ZhY2UubiwgbWFrZV9tYXRyaXgyKFtcbiAgICAgICAgWzgsICA5IF0sXG4gICAgICAgIFsxMCwgMTFdXSldLFxuICAgIFtGYWNlLmUsIG1ha2VfbWF0cml4MihbXG4gICAgICAgIFsxMiwgMTNdLFxuICAgICAgICBbMTQsIDE1XV0pXSxcbiAgICBbRmFjZS5zLCBtYWtlX21hdHJpeDIoW1xuICAgICAgICBbMTYsIDE3XSxcbiAgICAgICAgWzE4LCAxOV1dKV0sXG4gICAgW0ZhY2UudywgbWFrZV9tYXRyaXgyKFtcbiAgICAgICAgWzIwLCAyMV0sXG4gICAgICAgIFsyMiwgMjNdXSldLFxuXSk7XG5cbmZ1bmN0aW9uIGJ1aWxkX2VkZ2VfcXVhZHJhbnRfbWFwcGluZ3MoKTogW01hcDxudW1iZXIsIExpc3Q8RWRnZT4+LCBNYXA8RWRnZSwgTGlzdDxudW1iZXI+Pl0ge1xuICAgIGxldCBxdWFkcmFudF8yX2VkZ2VzID0gTWFwPG51bWJlciwgTGlzdDxFZGdlPj4oKTtcbiAgICBsZXQgZWRnZV8yX3F1YWRyYW50cyA9IE1hcDxFZGdlLCBMaXN0PG51bWJlcj4+KCk7XG5cbiAgICBmb3IgKGxldCBmIG9mIGZhY2VzKXtcbiAgICAgICAgbGV0IHZzID0gZmFjZV92ZXJ0aWNlcy5nZXQoZik7XG4gICAgICAgIGxldCBxcyA9IGZhY2VfcXVhZHJhbnRzLmdldChmKTtcbiAgICAgICAgZm9yIChsZXQgW3gsIHldIG9mIFtbMCwwXSwgWzEsMF0sIFswLDFdLCBbMSwxXV0pe1xuICAgICAgICAgICAgbGV0IHFfZWRnZXMgPSBnZXRfcXVhZHJhbnRfZWRnZXModnMsIHgsIHkpO1xuICAgICAgICAgICAgcXVhZHJhbnRfMl9lZGdlcyA9IHF1YWRyYW50XzJfZWRnZXMuc2V0KHFzLmdldCh4LCB5KSwgcV9lZGdlcyk7XG4gICAgICAgICAgICBxX2VkZ2VzLmZvckVhY2goZnVuY3Rpb24gKHFlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHEgPSBxcy5nZXQoeCwgeSk7XG4gICAgICAgICAgICAgICAgaWYgKGVkZ2VfMl9xdWFkcmFudHMuaGFzKHFlKSkge1xuICAgICAgICAgICAgICAgICAgICBlZGdlXzJfcXVhZHJhbnRzID0gZWRnZV8yX3F1YWRyYW50cy51cGRhdGUocWUsICh4cykgPT4geHMucHVzaChxKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWRnZV8yX3F1YWRyYW50cyA9IGVkZ2VfMl9xdWFkcmFudHMuc2V0KHFlLCBMaXN0PG51bWJlcj4oW3FdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gW3F1YWRyYW50XzJfZWRnZXMsIGVkZ2VfMl9xdWFkcmFudHNdO1xufVxuXG5mdW5jdGlvbiBnZXRfcXVhZHJhbnRfZWRnZXMobTogTWF0cml4MiwgeDogbnVtYmVyLCB5OiBudW1iZXIpOiBMaXN0PEVkZ2U+IHtcbiAgICBsZXQgb2Zmc2V0cyA9IFtcbiAgICAgICAgWzAsMCwwLDFdLFxuICAgICAgICBbMCwwLDEsMF0sXG4gICAgICAgIFsxLDEsMCwxXSxcbiAgICAgICAgWzEsMSwxLDBdXG4gICAgXTtcbiAgICBsZXQgZWRnZXMgPSBMaXN0PEVkZ2U+KCk7XG4gICAgZm9yIChsZXQgW3gxLCB5MSwgeDIsIHkyXSBvZiBvZmZzZXRzKXtcbiAgICAgICAgbGV0IGUxID0gbS5nZXQoeCt4MSwgeSt5MSk7XG4gICAgICAgIGxldCBlMiA9IG0uZ2V0KHgreDIsIHkreTIpO1xuICAgICAgICBpZiAoZTIgPCBlMSl7XG4gICAgICAgICAgICBlZGdlcyA9IGVkZ2VzLnB1c2gobmV3IEVkZ2UoZTIsIGUxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlZGdlcyA9IGVkZ2VzLnB1c2gobmV3IEVkZ2UoZTEsIGUyKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVkZ2VzO1xufVxuXG5leHBvcnQgbGV0IFtxdWFkcmFudF8yX2VkZ2VzLCBlZGdlXzJfcXVhZHJhbnRzXSA9IGJ1aWxkX2VkZ2VfcXVhZHJhbnRfbWFwcGluZ3MoKTtcblxuZnVuY3Rpb24gZ2V0X3F1YWRyYW50X3BhcnRpdGlvbihxdWFkcmFudDogbnVtYmVyLCBjdXRfZWRnZXM6IExpc3Q8RWRnZT4pIHtcbiAgICBsZXQgY3VycmVudF9wYXJ0aXRpb24gPSBTZXQ8bnVtYmVyPihbcXVhZHJhbnRdKS5hc011dGFibGUoKTtcbiAgICBsZXQgaG9yaXpvbiA9IExpc3Q8RWRnZT4ocXVhZHJhbnRfMl9lZGdlcy5nZXQocXVhZHJhbnQpKS5hc011dGFibGUoKTtcblxuICAgIHdoaWxlIChob3Jpem9uLnNpemUgPiAwKXtcbiAgICAgICAgbGV0IGUgPSBob3Jpem9uLmZpcnN0KCk7IGhvcml6b24gPSBob3Jpem9uLnNoaWZ0KCk7XG4gICAgICAgIGlmIChjdXRfZWRnZXMuY29udGFpbnMoZSkpe1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5leHRfcXMgPSBTZXQ8bnVtYmVyPihlZGdlXzJfcXVhZHJhbnRzLmdldChlKSk7XG4gICAgICAgIGxldCBuZXdfcXMgPSBuZXh0X3FzLnN1YnRyYWN0KGN1cnJlbnRfcGFydGl0aW9uKTtcbiAgICAgICAgaWYgKG5ld19xcy5zaXplID4gMCkge1xuICAgICAgICAgICAgbmV3X3FzLmZvckVhY2goZnVuY3Rpb24gKHEpe1xuICAgICAgICAgICAgICAgIGhvcml6b24ucHVzaCguLi5xdWFkcmFudF8yX2VkZ2VzLmdldChxKS50b0FycmF5KCkpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRfcGFydGl0aW9uLmFkZChxKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50X3BhcnRpdGlvbi5hc0ltbXV0YWJsZSgpO1xufVxuXG5mdW5jdGlvbiByYW5nZSh4OiBudW1iZXIpe1xuICAgIGxldCBhcnI6IG51bWJlcltdID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4OyBpKyspe1xuICAgICAgICAgYXJyLnB1c2goaSk7XG4gICAgfSBcbiAgICByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBnZXRfcGFydGl0aW9ucyhjdXRfZWRnZXM6IExpc3Q8RWRnZT4pe1xuICAgIGxldCBwYXJ0aXRpb25zID0gTGlzdDxQYXJ0aXRpb24+KCkuYXNNdXRhYmxlKCk7XG4gICAgbGV0IHF1YWRyYW50cyA9IFNldDxudW1iZXI+KHJhbmdlKDI0KSkuYXNNdXRhYmxlKCk7XG4gICAgd2hpbGUgKHF1YWRyYW50cy5zaXplID4gMCl7XG4gICAgICAgIGxldCBxID0gcXVhZHJhbnRzLmZpcnN0KCk7IHF1YWRyYW50cy5yZW1vdmUocSk7XG4gICAgICAgIGxldCBwYXJ0aXRpb24gPSBnZXRfcXVhZHJhbnRfcGFydGl0aW9uKHEsIGN1dF9lZGdlcyk7XG4gICAgICAgIHBhcnRpdGlvbnMucHVzaChwYXJ0aXRpb24pO1xuICAgICAgICBxdWFkcmFudHMuc3VidHJhY3QocGFydGl0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnRpdGlvbnMuYXNJbW11dGFibGUoKTtcbn1cblxuZXhwb3J0IGNsYXNzIEZhY2VNZXNoIHtcbiAgICByZWFkb25seSB2ZXJ0aWNlczogTWF0cml4MjtcbiAgICByZWFkb25seSBxdWFkcmFudHM6IE1hdHJpeDI7XG5cbiAgICBjb25zdHJ1Y3Rvcih2ZXJ0aWNlczogTWF0cml4MiwgcXVhZHJhbnRzOiBNYXRyaXgyKXtcbiAgICAgICAgdGhpcy52ZXJ0aWNlcyA9IHZlcnRpY2VzO1xuICAgICAgICB0aGlzLnF1YWRyYW50cyA9IHF1YWRyYW50cztcbiAgICB9XG5cbiAgICByb3RhdGUoZGVncmVlczogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmFjZU1lc2godGhpcy52ZXJ0aWNlcy5yb3RhdGUoZGVncmVlcyksIHRoaXMucXVhZHJhbnRzLnJvdGF0ZShkZWdyZWVzKSk7XG4gICAgfVxufVxuXG5pbnRlcmZhY2UgQm94TWVzaFBhcmFtcyB7XG4gICAgZGltZW5zaW9ucz86IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgICBmYWNlX21lc2hlcz86IE1hcDxGYWNlLCBGYWNlTWVzaD4sXG4gICAgY3V0X2VkZ2VzPzogTGlzdDxFZGdlPlxufVxuXG5leHBvcnQgY2xhc3MgQm94TWVzaHtcbiAgICByZWFkb25seSBkaW1lbnNpb25zOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XG4gICAgcmVhZG9ubHkgZmFjZV9tZXNoZXM6IE1hcDxGYWNlLCBGYWNlTWVzaD47XG4gICAgcmVhZG9ubHkgY3V0X2VkZ2VzOiBMaXN0PEVkZ2U+O1xuXG4gICAgY29uc3RydWN0b3Ioe2RpbWVuc2lvbnMsIGZhY2VfbWVzaGVzLCBjdXRfZWRnZXN9OiBCb3hNZXNoUGFyYW1zKXtcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gZGltZW5zaW9ucztcbiAgICAgICAgXG4gICAgICAgIGlmIChmYWNlX21lc2hlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmYWNlX21lc2hlcyA9IE1hcDxGYWNlLCBGYWNlTWVzaD4oKTtcbiAgICAgICAgICAgIGZvciAobGV0IGYgb2YgZmFjZXMpe1xuICAgICAgICAgICAgICAgIGZhY2VfbWVzaGVzID0gZmFjZV9tZXNoZXMuc2V0KGYsXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGYWNlTWVzaChmYWNlX3ZlcnRpY2VzLmdldChmKSwgZmFjZV9xdWFkcmFudHMuZ2V0KGYpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mYWNlX21lc2hlcyA9IGZhY2VfbWVzaGVzO1xuXG4gICAgICAgIGlmIChjdXRfZWRnZXMgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICBjdXRfZWRnZXMgPSBMaXN0PEVkZ2U+KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXRfZWRnZXMgPSBjdXRfZWRnZXM7XG4gICAgfVxuXG4gICAgdXBkYXRlKHtkaW1lbnNpb25zLCBmYWNlX21lc2hlcywgY3V0X2VkZ2VzfTogQm94TWVzaFBhcmFtcyl7XG4gICAgICAgIGlmIChkaW1lbnNpb25zID09PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgZGltZW5zaW9ucyA9IHRoaXMuZGltZW5zaW9ucztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmYWNlX21lc2hlcyA9PT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgIGZhY2VfbWVzaGVzID0gdGhpcy5mYWNlX21lc2hlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXRfZWRnZXMgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICBjdXRfZWRnZXMgPSB0aGlzLmN1dF9lZGdlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEJveE1lc2goe2RpbWVuc2lvbnMsIGZhY2VfbWVzaGVzLCBjdXRfZWRnZXN9KTtcbiAgICB9XG5cbiAgICBjdXQoZmFjZTogRmFjZSwgc3RhcnQ6IFBvaW50MiwgZW5kOiBQb2ludDIpe1xuICAgICAgICByZXR1cm4gdGhpcy5jdXRfb3JfdGFwZShFZGdlT3BlcmF0aW9uLmN1dCwgZmFjZSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgdGFwZShmYWNlOiBGYWNlLCBzdGFydDogUG9pbnQyLCBlbmQ6IFBvaW50Mil7XG4gICAgICAgIHJldHVybiB0aGlzLmN1dF9vcl90YXBlKEVkZ2VPcGVyYXRpb24udGFwZSwgZmFjZSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgY3V0X29yX3RhcGUob3BlcmF0aW9uOiBFZGdlT3BlcmF0aW9uLCBmYWNlOiBGYWNlLCBzdGFydDogUG9pbnQyLCBlbmQ6IFBvaW50Mik6IEJveE1lc2gge1xuICAgICAgICBsZXQgW3gxLCB5MV0gPSBzdGFydDtcbiAgICAgICAgbGV0IFt4MiwgeTJdID0gZW5kO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyh4MiAtIHgxKSArIE1hdGguYWJzKHkyIC0geTEpICE9IDEpe1xuICAgICAgICAgICAgdGhyb3cgYHN0YXJ0IGFuZCBlbmQgcG9pbnRzIG9mIGN1dC90YXBlIGFyZSBub3QgYWRqYWNlbnQ6ICR7c3RhcnR9IGFuZCAke2VuZH1gO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGYgPSB0aGlzLmZhY2VfbWVzaGVzLmdldChmYWNlKS52ZXJ0aWNlcztcbiAgICAgICAgbGV0IGZzID0gZi5nZXQoeDEsIHkxKTtcbiAgICAgICAgbGV0IGZlID0gZi5nZXQoeDIsIHkyKTtcblxuICAgICAgICBsZXQgbmV3X2VkZ2UgPSBuZXcgRWRnZShmcywgZmUpO1xuXG4gICAgICAgIGxldCBuZXdfY3V0X2VkZ2VzID0gdGhpcy5jdXRfZWRnZXM7XG4gICAgICAgIGlmIChvcGVyYXRpb24gPT0gRWRnZU9wZXJhdGlvbi5jdXQgJiYgIW5ld19jdXRfZWRnZXMuY29udGFpbnMobmV3X2VkZ2UpKSB7XG4gICAgICAgICAgICBuZXdfY3V0X2VkZ2VzID0gbmV3X2N1dF9lZGdlcy5wdXNoKG5ld19lZGdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVyYXRpb24gPT0gRWRnZU9wZXJhdGlvbi50YXBlICYmIG5ld19jdXRfZWRnZXMuY29udGFpbnMobmV3X2VkZ2UpKSB7XG4gICAgICAgICAgICBuZXdfY3V0X2VkZ2VzID0gbmV3X2N1dF9lZGdlcy5yZW1vdmUobmV3X2N1dF9lZGdlcy5pbmRleE9mKG5ld19lZGdlKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGUoe2N1dF9lZGdlczogbmV3X2N1dF9lZGdlc30pO1xuICAgIH1cblxuICAgIGdldF9yZW5kcygpIHtcbiAgICAgICAgcmV0dXJuIGdldF9wYXJ0aXRpb25zKHRoaXMuY3V0X2VkZ2VzKTtcbiAgICB9XG5cbiAgICBnZXRfZnJlZV9yZW5kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0X3JlbmRzKCkuZmlsdGVyKHggPT4gIXRoaXMuaXNfcGFydGl0aW9uX2ZpeGVkKHgpKTtcbiAgICB9XG5cbiAgICBpc19wYXJ0aXRpb25fZml4ZWQocGFydGl0aW9uOiBTZXQ8bnVtYmVyPikge1xuICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gdGhpcy5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChwYXJ0aXRpb24pO1xuICAgICAgICByZXR1cm4gZmFjZV9tZW1iZXJzaGlwLmdldChGYWNlLmIpID4gMDtcbiAgICB9XG5cbiAgICBnZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChwYXJ0aXRpb246IFBhcnRpdGlvbikge1xuICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gTWFwPEZhY2UsIG51bWJlcj4oKS5hc011dGFibGUoKTtcbiAgICAgICAgZm9yIChsZXQgZiBvZiBmYWNlcykge1xuICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgICAgIGxldCBxdWFkcmFudHMgPSB0aGlzLmZhY2VfbWVzaGVzLmdldChmKS5xdWFkcmFudHM7XG4gICAgICAgICAgICBwYXJ0aXRpb24uZm9yRWFjaChmdW5jdGlvbiAocSkge1xuICAgICAgICAgICAgICAgIGlmIChxdWFkcmFudHMuY29udGFpbnMocSkpe1xuICAgICAgICAgICAgICAgICAgICB0b3RhbCArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZmFjZV9tZW1iZXJzaGlwLnNldChmLCB0b3RhbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhY2VfbWVtYmVyc2hpcC5hc0ltbXV0YWJsZSgpO1xuICAgIH1cblxuICAgIGdldF9xdWFkcmFudF9mYWNlKHF1YWRyYW50OiBudW1iZXIpe1xuICAgICAgICBmb3IgKGxldCBmIG9mIGZhY2VzKXtcbiAgICAgICAgICAgIGlmICh0aGlzLmZhY2VfbWVzaGVzLmdldChmKS5xdWFkcmFudHMuY29udGFpbnMocXVhZHJhbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRfZGFuZ2xlcygpIHtcbiAgICAgICAgbGV0IHJlbmRzID0gdGhpcy5nZXRfcmVuZHMoKTtcbiAgICAgICAgbGV0IGZpeGVkX3JlbmRzID0gcmVuZHMuZmlsdGVyKHggPT4gdGhpcy5pc19wYXJ0aXRpb25fZml4ZWQoeCkpO1xuXG4gICAgICAgIGxldCBkYW5nbGVzID0gTGlzdDxEYW5nbGU+KCkuYXNNdXRhYmxlKCk7XG4gICAgICAgIGxldCBpbm5lcl90aGlzID0gdGhpcztcblxuICAgICAgICB0aGlzLmdldF9ib3hfZWRnZXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChbZTEsIGUyXSkge1xuICAgICAgICAgICAgbGV0IGVfMl9xXzJfZiA9IE1hcDxFZGdlLCBNYXA8bnVtYmVyLCBGYWNlPj4oKS5hc011dGFibGUoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGUgb2YgW2UxLCBlMl0peyAvL2luaXRpYWxpemUgZV8yX3FfMl9mXG4gICAgICAgICAgICAgICAgbGV0IGlubmVyX21hcCA9IE1hcDxudW1iZXIsIEZhY2U+KCkuYXNNdXRhYmxlKCk7XG4gICAgICAgICAgICAgICAgZWRnZV8yX3F1YWRyYW50cy5nZXQoZSkuZm9yRWFjaChmdW5jdGlvbiAocSkge1xuICAgICAgICAgICAgICAgICAgICBpbm5lcl9tYXAuc2V0KHEsIGlubmVyX3RoaXMuZ2V0X3F1YWRyYW50X2ZhY2UocSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICBpbm5lcl9tYXAgPSBpbm5lcl9tYXAuYXNJbW11dGFibGUoKVxuICAgICAgICAgICAgICAgIGVfMl9xXzJfZi5zZXQoZSwgaW5uZXJfbWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVfMl9xXzJfZiA9IGVfMl9xXzJfZi5hc0ltbXV0YWJsZSgpO1xuXG4gICAgICAgICAgICBsZXQgZWRnZV9kYW5nbGVzID0gTGlzdDxEYW5nbGU+KCkuYXNNdXRhYmxlKCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGVzIG9mIFtbZTEsIGUyXSwgW2UxXSwgW2UyXV0pIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3X2N1dF9lZGdlcyA9IGlubmVyX3RoaXMuY3V0X2VkZ2VzLnB1c2goLi4uZXMpO1xuICAgICAgICAgICAgICAgIGxldCBuZXdfcGFydGl0aW9ucyA9IGdldF9wYXJ0aXRpb25zKG5ld19jdXRfZWRnZXMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5ld19wYXJ0aXRpb25zLnNpemUgIT0gcmVuZHMuc2l6ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld19wYXJ0aXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG5wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVuZHMuY29udGFpbnMobnApKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbm5lcl90aGlzLmlzX3BhcnRpdGlvbl9maXhlZChucCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbnlfaW50ZXJzZWN0aW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZml4ZWRfcmVuZHMuZm9yRWFjaChmdW5jdGlvbiAoZml4ZWRfcmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChucC5pbnRlcnNlY3QoZml4ZWRfcmVuZCkuc2l6ZSA+IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnlfaW50ZXJzZWN0aW9ucyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFueV9pbnRlcnNlY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYW55X2RhbmdsZV9tYXRjaGVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGdlX2RhbmdsZXMuZm9yRWFjaChmdW5jdGlvbiAoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXMobnAsIGVkLnBhcnRpdGlvbikpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnlfZGFuZ2xlX21hdGNoZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW55X2RhbmdsZV9tYXRjaGVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBxXzJfZnMgPSBMaXN0PE1hcDxudW1iZXIsIEZhY2U+PigpLmFzTXV0YWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZSBvZiBlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHFfMl9mcy5wdXNoKGVfMl9xXzJfZi5nZXQoZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcV8yX2ZzID0gcV8yX2ZzLmFzSW1tdXRhYmxlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaXhlZF9mcyA9IExpc3Q8RmFjZT4oKS5hc011dGFibGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYW5nbGVfZnMgPSBMaXN0PEZhY2U+KCkuYXNNdXRhYmxlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHFfMl9mcy5mb3JFYWNoKGZ1bmN0aW9uIChxXzJfZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHFfMl9mLmVudHJ5U2VxKCkuZm9yRWFjaChmdW5jdGlvbiAoW3EsIGZdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChucC5jb250YWlucyhxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFuZ2xlX2ZzID0gZGFuZ2xlX2ZzLnB1c2goZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXhlZF9mcyA9IGZpeGVkX2ZzLnB1c2goZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZml4ZWRfZnMgPSBmaXhlZF9mcy5hc0ltbXV0YWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGFuZ2xlX2ZzID0gZGFuZ2xlX2ZzLmFzSW1tdXRhYmxlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXhlZF9mcy50b1NldCgpLnNpemUgIT0gMSB8fCBkYW5nbGVfZnMudG9TZXQoKS5zaXplICE9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2VfZGFuZ2xlcy5wdXNoKG5ldyBEYW5nbGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnAsIExpc3Q8RWRnZT4oZXMpLCBmaXhlZF9mcy5nZXQoMCksIGRhbmdsZV9mcy5nZXQoMCkpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWRnZV9kYW5nbGVzID0gZWRnZV9kYW5nbGVzLmFzSW1tdXRhYmxlKCk7XG4gICAgICAgICAgICBkYW5nbGVzLnB1c2goLi4uZWRnZV9kYW5nbGVzLnRvQXJyYXkoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBkYW5nbGVzID0gTGlzdDxEYW5nbGU+KGRhbmdsZXMuc29ydEJ5KHggPT4geC5wYXJ0aXRpb24uc2l6ZSkpO1xuXG4gICAgICAgIGxldCBmaW5hbF9kYW5nbGVzID0gTGlzdDxEYW5nbGU+KCkuYXNNdXRhYmxlKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYW5nbGVzLnNpemU7IGkrKykge1xuICAgICAgICAgICAgbGV0IHAgPSBkYW5nbGVzLmdldChpKS5wYXJ0aXRpb247XG5cbiAgICAgICAgICAgIGxldCBhbnlfc3VwZXJzZXRzID0gZmFsc2U7XG4gICAgICAgICAgICBkYW5nbGVzLnNraXAoaSsxKS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHAuaXNTdWJzZXQoZC5wYXJ0aXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGFueV9zdXBlcnNldHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBpZiAoIWFueV9zdXBlcnNldHMpIHtcbiAgICAgICAgICAgICAgICBmaW5hbF9kYW5nbGVzLnB1c2goZGFuZ2xlcy5nZXQoaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsX2RhbmdsZXMgPSBmaW5hbF9kYW5nbGVzLmFzSW1tdXRhYmxlKCk7XG5cbiAgICAgICAgcmV0dXJuIGZpbmFsX2RhbmdsZXM7XG4gICAgfVxuXG4gICAgZ2V0X2JveF9lZGdlcygpIHtcbiAgICAgICAgbGV0IGVkZ2VzID0gTGlzdDxbRWRnZSwgRWRnZV0+KCk7XG5cbiAgICAgICAgbGV0IHRfYl9lZGdlX2Nvb3JkczogW251bWJlciwgbnVtYmVyXVtdW10gPSBbXG4gICAgICAgICAgICBbWzAsMF0sIFswLDFdLCBbMCwyXV0sXG4gICAgICAgICAgICBbWzAsMF0sIFsxLDBdLCBbMiwwXV0sXG4gICAgICAgICAgICBbWzIsMF0sIFsyLDFdLCBbMiwyXV0sXG4gICAgICAgICAgICBbWzAsMl0sIFsxLDJdLCBbMiwyXV1cbiAgICAgICAgXTtcblxuICAgICAgICBmb3IgKGxldCBmIG9mIFtGYWNlLnQsIEZhY2UuYl0pIHtcbiAgICAgICAgICAgIGxldCBtID0gdGhpcy5mYWNlX21lc2hlcy5nZXQoZikudmVydGljZXM7XG5cbiAgICAgICAgICAgIGZvciAobGV0IFtbcDF4LCBwMXldLCBbcDJ4LCBwMnldLCBbcDN4LCBwM3ldXSBvZiB0X2JfZWRnZV9jb29yZHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgdjEgPSBtLmdldChwMXgsIHAxeSk7XG4gICAgICAgICAgICAgICAgbGV0IHYyID0gbS5nZXQocDJ4LCBwMnkpO1xuICAgICAgICAgICAgICAgIGxldCB2MyA9IG0uZ2V0KHAzeCwgcDN5KTtcblxuICAgICAgICAgICAgICAgIGxldCBlMSA9IG5ldyBFZGdlKHYxLCB2Mik7XG5cbiAgICAgICAgICAgICAgICBsZXQgZTIgPSBuZXcgRWRnZSh2MiwgdjMpO1xuXG4gICAgICAgICAgICAgICAgZWRnZXMgPSBlZGdlcy5wdXNoKFtlMSwgZTJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGYgb2YgW0ZhY2UubiwgRmFjZS5lLCBGYWNlLnMsIEZhY2Uud10pIHtcbiAgICAgICAgICAgIGxldCBtID0gdGhpcy5mYWNlX21lc2hlcy5nZXQoZikudmVydGljZXM7XG5cbiAgICAgICAgICAgIGxldCB2MSA9IG0uZ2V0KDAsMCk7XG4gICAgICAgICAgICBsZXQgdjIgPSBtLmdldCgwLDEpO1xuICAgICAgICAgICAgbGV0IHYzID0gbS5nZXQoMCwyKTtcblxuICAgICAgICAgICAgbGV0IGUxID0gbmV3IEVkZ2UodjEsIHYyKTtcblxuICAgICAgICAgICAgbGV0IGUyID0gbmV3IEVkZ2UodjIsIHYzKTtcblxuICAgICAgICAgICAgZWRnZXMgPSBlZGdlcy5wdXNoKFtlMSwgZTJdKTtcblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlZGdlcztcbiAgICB9ICAgIFxuXG4gICAgcm90YXRlX3koZGVncmVlczogbnVtYmVyKSB7XG4gICAgICAgIC8vdmFsaWRhdGUgZGVncmVlcyBzb21laG93XG5cbiAgICAgICAgaWYgKGRlZ3JlZXMgPT0gMCB8fCBkZWdyZWVzID09IDM2MCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmV3X2ZhY2VzID0gcm90YXRlX3lfZmFjZXModGhpcy5mYWNlX21lc2hlcywgZGVncmVlcyk7XG4gICAgXG4gICAgICAgIGlmIChkZWdyZWVzID0gMTgwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGUoe2ZhY2VfbWVzaGVzOiBuZXdfZmFjZXN9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBbeCwgeSwgel0gPSB0aGlzLmRpbWVuc2lvbnM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGUoe2RpbWVuc2lvbnM6IFt6LCB5LCB4XSwgZmFjZV9tZXNoZXM6IG5ld19mYWNlc30pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcm9sbChkaXJlY3Rpb246IERpcmVjdGlvbil7XG4gICAgICAgIGxldCBbeCwgeSwgel0gPSB0aGlzLmRpbWVuc2lvbnM7XG4gICAgICAgIGxldCBuZXdfeCwgbmV3X3ksIG5ld196O1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09IERpcmVjdGlvbi5uIHx8IGRpcmVjdGlvbiA9PSBEaXJlY3Rpb24ucykge1xuICAgICAgICAgICAgW25ld194LCBuZXdfeSwgbmV3X3pdID0gW3gsIHksIHpdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgW25ld194LCBuZXdfeSwgbmV3X3pdID0gW3ksIHgsIHpdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld19mYWNlcyA9IHJvbGxfZmFjZXModGhpcy5mYWNlX21lc2hlcywgZGlyZWN0aW9uKTtcblxuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGUoe2RpbWVuc2lvbnM6IFtuZXdfeCwgbmV3X3ksIG5ld196XSwgZmFjZV9tZXNoZXM6IG5ld19mYWNlc30pO1xuICAgIH1cblxuICAgIGRlc2NyaXB0aW9uKCl7XG4gICAgICAgIGxldCBmYWNlX2Rlc2NyID0gTWFwPEZhY2UsIHN0cmluZz4oW1xuICAgICAgICAgICAgW0ZhY2UudCwgJ3RvcCddLFxuICAgICAgICAgICAgW0ZhY2UuYiwgJ2JvdHRvbSddLFxuICAgICAgICAgICAgW0ZhY2UubiwgJ2JhY2snXSxcbiAgICAgICAgICAgIFtGYWNlLmUsICdyaWdodCddLFxuICAgICAgICAgICAgW0ZhY2UucywgJ2Zyb250J10sXG4gICAgICAgICAgICBbRmFjZS53LCAnbGVmdCddXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGxldCBbeCwgeSwgel0gPSB0aGlzLmRpbWVuc2lvbnM7XG5cbiAgICAgICAgbGV0IHJlc3VsdCA9IGBUaGUgYm94J3MgZGltZW5zaW9ucyBtZWFzdXJlICR7eH0gYnkgJHt5fSBieSAke3p9YDtcblxuICAgICAgICBsZXQgcmVuZHMgPSB0aGlzLmdldF9mcmVlX3JlbmRzKCk7XG4gICAgICAgIGxldCBpbm5lcl90aGlzID0gdGhpcztcblxuICAgICAgICByZW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChmcikge1xuICAgICAgICAgICAgbGV0IGZhY2VfbWVtYmVyc2hpcCA9IGlubmVyX3RoaXMuZ2V0X3BhcnRpdGlvbl9mYWNlX21lbWJlcnNoaXAoZnIpO1xuICAgICAgICAgICAgbGV0IGZhY2VzX3ByZXNlbnQ6IEZhY2VbXSA9W107XG4gICAgICAgICAgICBmb3IgKGxldCBmIG9mIGZhY2VzKXtcbiAgICAgICAgICAgICAgICBpZiAoZmFjZV9tZW1iZXJzaGlwLmdldChmKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjZXNfcHJlc2VudC5wdXNoKGYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGZhY2VzX3RleHQ6IHN0cmluZztcbiAgICAgICAgICAgIGlmIChmYWNlc19wcmVzZW50Lmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgZmFjZXNfdGV4dCA9IGZhY2VfZGVzY3IuZ2V0KGZhY2VzX3ByZXNlbnRbMF0pICsgJyBmYWNlJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjZXNfdGV4dCA9IGZhY2VzX3ByZXNlbnQuc2xpY2UoMCwgLTEpLm1hcChmID0+IGZhY2VfZGVzY3IuZ2V0KGYpKS5qb2luKCcsICcpO1xuICAgICAgICAgICAgICAgIGZhY2VzX3RleHQgKz0gYCBhbmQgJHtmYWNlX2Rlc2NyLmdldChmYWNlc19wcmVzZW50W2ZhY2VzX3ByZXNlbnQubGVuZ3RoLTFdKX0gZmFjZXNgO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN1bHQgKz0gYFxcbkEgcG9ydGlvbiBvZiB0aGUgYm94J3MgJHtmYWNlc190ZXh0fSBoYXMgYmVlbiByZW5kZWQgZnJlZTsgaXQgbGllcyBvbiB0aGUgZmxvb3Igb2ZmIHRvIHRoZSBzaWRlLmA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBkYW5nbGVzID0gdGhpcy5nZXRfZGFuZ2xlcygpO1xuXG4gICAgICAgIGRhbmdsZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgbGV0IGZhY2VfbWVtYmVyc2hpcCA9IGlubmVyX3RoaXMuZ2V0X3BhcnRpdGlvbl9mYWNlX21lbWJlcnNoaXAoZC5wYXJ0aXRpb24pO1xuICAgICAgICAgICAgbGV0IGZhY2VzX3ByZXNlbnQ6IEZhY2VbXSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgZiBvZiBmYWNlcyl7XG4gICAgICAgICAgICAgICAgaWYgKGZhY2VfbWVtYmVyc2hpcC5nZXQoZikgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2VzX3ByZXNlbnQucHVzaChmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBmYWNlc190ZXh0OiBzdHJpbmc7XG4gICAgICAgICAgICBpZiAoZmFjZXNfcHJlc2VudC5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgIGZhY2VzX3RleHQgPSBmYWNlX2Rlc2NyLmdldChmYWNlc19wcmVzZW50WzBdKSArICcgZmFjZSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2VzX3RleHQgPSBmYWNlc19wcmVzZW50LnNsaWNlKDAsIC0xKS5tYXAoZiA9PiBmYWNlX2Rlc2NyLmdldChmKSkuam9pbignLCAnKTtcbiAgICAgICAgICAgICAgICBmYWNlc190ZXh0ICs9IGAgYW5kICR7ZmFjZV9kZXNjci5nZXQoZmFjZXNfcHJlc2VudFtmYWNlc19wcmVzZW50Lmxlbmd0aC0xXSl9IGZhY2VzYDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0ICs9IGBcXG5BIHBvcnRpb24gb2YgdGhlIGJveCdzICR7ZmFjZXNfdGV4dH0gc2l0cyBvbiBhIGZyZWUgaGluZ2U7IGZyb20gdGhlICR7ZmFjZV9kZXNjci5nZXQoZC5mcmVlX2ZhY2UpfSBmYWNlIGl0IGNhbiBiZSBzd3VuZyB0byB0aGUgJHtmYWNlX2Rlc2NyLmdldChkLmZpeGVkX2ZhY2UpfS5gO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcm90YXRlX3lfZmFjZXMoZnM6IE1hcDxGYWNlLCBGYWNlTWVzaD4sIGRlZ3JlZXM6IG51bWJlcikge1xuICAgIGlmIChkZWdyZWVzID09IDAgfHwgZGVncmVlcyA9PSAzNjApIHtcbiAgICAgICAgcmV0dXJuIGZzO1xuICAgIH1cblxuICAgIGxldCBzaGlmdCA9IGRlZ3JlZXMgLyA5MDtcbiAgICBsZXQgZmFjZV9jeWNsZSA9IFtGYWNlLm4sIEZhY2UudywgRmFjZS5zLCBGYWNlLmUsIEZhY2UubiwgRmFjZS53LCBGYWNlLnMsIEZhY2UuZV07XG5cbiAgICBsZXQgbmV3X2ZhY2VzID0gTWFwPEZhY2UsIEZhY2VNZXNoPigpO1xuXG4gICAgZm9yIChsZXQgZiBvZiBbRmFjZS5uLCBGYWNlLmUsIEZhY2UucywgRmFjZS53XSl7XG4gICAgICAgIGxldCBpbmQgPSBmYWNlX2N5Y2xlLmluZGV4T2YoZik7XG4gICAgICAgIG5ld19mYWNlcyA9IG5ld19mYWNlcy5zZXQoZiwgZnMuZ2V0KGZhY2VfY3ljbGVbaW5kICsgc2hpZnRdKSk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgZiBvZiBbRmFjZS50LCBGYWNlLmJdKXtcbiAgICAgICAgbmV3X2ZhY2VzID0gbmV3X2ZhY2VzLnNldChmLCBmcy5nZXQoZikucm90YXRlKGRlZ3JlZXMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3X2ZhY2VzO1xufVxuXG5mdW5jdGlvbiByb2xsX2ZhY2VzKGZzOiBNYXA8RmFjZSwgRmFjZU1lc2g+LCBkaXJlY3Rpb246IERpcmVjdGlvbil7XG4gICAgbGV0IG5ld19mYWNlcyA9IE1hcDxGYWNlLCBGYWNlTWVzaD4oKS5hc011dGFibGUoKTtcblxuICAgIGlmIChkaXJlY3Rpb24gPT0gRGlyZWN0aW9uLm4pIHtcbiAgICAgICAgbmV3X2ZhY2VzLnNldChcbiAgICAgICAgICAgIEZhY2UubiwgZnMuZ2V0KEZhY2UudCkucm90YXRlKDE4MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UudCwgZnMuZ2V0KEZhY2UucykpLnNldChcbiAgICAgICAgICAgIEZhY2UucywgZnMuZ2V0KEZhY2UuYikpLnNldChcbiAgICAgICAgICAgIEZhY2UuYiwgZnMuZ2V0KEZhY2Uubikucm90YXRlKDE4MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UuZSwgZnMuZ2V0KEZhY2UuZSkucm90YXRlKDkwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS53LCBmcy5nZXQoRmFjZS53KS5yb3RhdGUoMjcwKSk7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRGlyZWN0aW9uLnMpIHtcbiAgICAgICAgbmV3X2ZhY2VzLnNldChcbiAgICAgICAgICAgIEZhY2UucywgZnMuZ2V0KEZhY2UudCkpLnNldChcbiAgICAgICAgICAgIEZhY2UudCwgZnMuZ2V0KEZhY2Uubikucm90YXRlKDE4MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UubiwgZnMuZ2V0KEZhY2UuYikpLnNldChcbiAgICAgICAgICAgIEZhY2UuYiwgZnMuZ2V0KEZhY2Uucykucm90YXRlKDE4MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UuZSwgZnMuZ2V0KEZhY2UuZSkucm90YXRlKDI3MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UudywgZnMuZ2V0KEZhY2Uudykucm90YXRlKDkwKSk7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRGlyZWN0aW9uLmUpIHtcbiAgICAgICAgbmV3X2ZhY2VzLnNldChcbiAgICAgICAgICAgIEZhY2UuZSwgZnMuZ2V0KEZhY2UudCkucm90YXRlKDkwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS50LCBmcy5nZXQoRmFjZS53KS5yb3RhdGUoOTApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLncsIGZzLmdldChGYWNlLmIpLnJvdGF0ZSgyNzApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLmIsIGZzLmdldChGYWNlLmUpLnJvdGF0ZSgyNzApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLm4sIGZzLmdldChGYWNlLm4pLnJvdGF0ZSgyNzApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLnMsIGZzLmdldChGYWNlLnMpLnJvdGF0ZSg5MCkpO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERpcmVjdGlvbi53KSB7XG4gICAgICAgIG5ld19mYWNlcy5zZXQoXG4gICAgICAgICAgICBGYWNlLncsIGZzLmdldChGYWNlLnQpLnJvdGF0ZSgyNzApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLnQsIGZzLmdldChGYWNlLmUpLnJvdGF0ZSgyNzApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLmUsIGZzLmdldChGYWNlLmIpLnJvdGF0ZSg5MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UuYiwgZnMuZ2V0KEZhY2Uudykucm90YXRlKDkwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS5uLCBmcy5nZXQoRmFjZS5uKS5yb3RhdGUoOTApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLnMsIGZzLmdldChGYWNlLnMpLnJvdGF0ZSgyNzApKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3X2ZhY2VzLmFzSW1tdXRhYmxlKCk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHRlc3QoKXtcbiAgICBsZXQgYm0gPSBuZXcgQm94TWVzaCh7ZGltZW5zaW9uczogWzIsMyw0XX0pO1xuXG4gICAgbGV0IGJtMiA9IGJtLmN1dChGYWNlLnQsIFswLDBdLCBbMSwwXSkuY3V0KEZhY2UudCwgWzEsMF0sIFsxLDFdKS5jdXQoRmFjZS50LCBbMSwxXSwgWzAsMV0pLmN1dChGYWNlLnQsIFswLDFdLCBbMCwwXSk7XG4gICAgbGV0IGJtMyA9IGJtMi5jdXQoRmFjZS50LCBbMCwxXSwgWzAsMl0pLmN1dChGYWNlLnMsIFswLCAwXSwgWzAsIDFdKS5jdXQoRmFjZS5zLCBbMCwxXSwgWzEsMV0pLmN1dChGYWNlLnMsIFsxLDFdLCBbMSwwXSkuY3V0KEZhY2UudCwgWzEsIDJdLCBbMSwxXSlcblxuICAgIGxldCBibTQgPSBibS5jdXQoRmFjZS50LCBbMCwwXSwgWzEsMF0pLnJvbGwoRGlyZWN0aW9uLnMpLmN1dChGYWNlLnQsIFswLDJdLCBbMCwxXSkuY3V0KEZhY2UudCwgWzAsMV0sIFsxLDFdKS5jdXQoRmFjZS50LCBbMSwxXSwgWzEsMl0pO1xuXG4gICAgbGV0IGJtNSA9IGJtLmN1dChGYWNlLm4sIFswLDBdLCBbMSwwXSkuY3V0KEZhY2UubiwgWzEsMF0sIFsyLDBdKS5jdXQoRmFjZS5uLCBbMiwwXSwgWzIsMV0pLmN1dChGYWNlLm4sIFsyLDFdLCBbMSwxXSkuY3V0KEZhY2UubiwgWzEsMV0sIFswLDFdKS5jdXQoRmFjZS5uLCBbMSwxXSwgWzEsIDBdKS5jdXQoRmFjZS5uLCBbMCwxXSwgWzAsMF0pO1xuXG4gICAgbGV0IGJtNiA9IGJtLmN1dChGYWNlLnQsIFswLDBdLCBbMCwxXSkuY3V0KEZhY2UudCwgWzAsMV0sIFsxLDFdKS5jdXQoRmFjZS50LCBbMSwxXSwgWzEsMF0pO1xuICAgIGxldCBibTcgPSBibTIuY3V0KEZhY2UudCwgWzAsMV0sIFswLDJdKS5jdXQoRmFjZS50LCBbMSwxXSwgWzEsMl0pO1xuXG4gICAgbGV0IGJtOCA9IChibS5jdXQoRmFjZS50LCBbMCwwXSwgWzEsMF0pLmN1dChGYWNlLnQsIFsxLDBdLCBbMiwwXSkuY3V0KEZhY2UudCwgWzIsMF0sIFsyLDFdKS5jdXQoRmFjZS50LCBbMiwxXSwgWzIsMl0pXG4gICAgICAgICAgICAgLmN1dChGYWNlLnQsIFswLDJdLCBbMCwxXSkuY3V0KEZhY2UudCwgWzAsMV0sIFsxLDFdKS5jdXQoRmFjZS50LCBbMSwxXSwgWzEsMl0pXG4gICAgICAgICAgICAgLmN1dChGYWNlLnMsIFsxLDBdLCBbMSwxXSkuY3V0KEZhY2UucywgWzEsMV0sIFswLDFdKVxuICAgICAgICAgICAgIC5jdXQoRmFjZS53LCBbMCwwXSwgWzAsMV0pLmN1dChGYWNlLncsIFswLDFdLCBbMSwxXSkuY3V0KEZhY2UudywgWzEsMV0sIFsyLDFdKSk7XG5cbiAgICBsZXQgYm1zOiBCb3hNZXNoW10gPSBbYm0sIGJtMiwgYm0zLCBibTQsIGJtNSwgYm02LCBibTcsIGJtOF07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBibXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGIgPSBibXNbaV07XG5cbiAgICAgICAgY29uc29sZS5sb2coJ0JveCAjJywgaSsxKTtcbiAgICAgICAgY29uc29sZS5sb2coKTtcbiAgICAgICAgY29uc29sZS5sb2coYi5kZXNjcmlwdGlvbigpKTtcbiAgICAgICAgY29uc29sZS5sb2coKTtcbiAgICAgICAgY29uc29sZS5sb2coKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge01hcH0gZnJvbSAnaW1tdXRhYmxlJztcbmltcG9ydCB7RGlyZWN0aW9uLCBFZGdlT3BlcmF0aW9uLCBFZGdlRGlyZWN0aW9uLCBGYWNlLCBSZWxhdGl2ZVBvc2l0aW9uLCBSZW5kT3BlcmF0aW9ufSBmcm9tICcuL2RhdGF0eXBlcyc7XG5cbmV4cG9ydCB0eXBlIFRva2VuID0gc3RyaW5nO1xuXG5leHBvcnQgdHlwZSBIb3JpelBvc2l0aW9uV29yZCA9ICdsZWZ0JyB8ICdjZW50ZXInIHwgJ3JpZ2h0JztcbmV4cG9ydCB0eXBlIFZlcnRQb3NpdGlvbldvcmQgPSAndG9wJyB8ICdtaWRkbGUnIHwgJ2JvdHRvbSc7XG5cbmV4cG9ydCB0eXBlIFBvc2l0aW9uV29yZCA9IEhvcml6UG9zaXRpb25Xb3JkIHwgVmVydFBvc2l0aW9uV29yZDtcbmV4cG9ydCBsZXQgd29yZF8yX3JlbGF0aXZlX3Bvc2l0aW9uID0gTWFwPFBvc2l0aW9uV29yZCwgUmVsYXRpdmVQb3NpdGlvbj4oW1xuICAgIFsnbGVmdCcsIFJlbGF0aXZlUG9zaXRpb24ubGVmdF0sXG4gICAgWydjZW50ZXInLCBSZWxhdGl2ZVBvc2l0aW9uLmNlbnRlcl0sXG4gICAgWydyaWdodCcsIFJlbGF0aXZlUG9zaXRpb24ucmlnaHRdLFxuICAgIFsndG9wJywgUmVsYXRpdmVQb3NpdGlvbi50b3BdLFxuICAgIFsnbWlkZGxlJywgUmVsYXRpdmVQb3NpdGlvbi5taWRkbGVdLFxuICAgIFsnYm90dG9tJywgUmVsYXRpdmVQb3NpdGlvbi5ib3R0b21dXG5dKTtcblxuZXhwb3J0IHR5cGUgRmFjZVdvcmQgPSAnYmFjaycgfCAnZnJvbnQnIHwgJ3JpZ2h0JyB8ICdsZWZ0JyB8ICd0b3AnIHwgJ2JvdHRvbSc7XG5leHBvcnQgbGV0IHdvcmRfMl9mYWNlID0gTWFwPEZhY2VXb3JkLCBGYWNlPihbXG4gICAgWydiYWNrJywgRmFjZS5uXSxcbiAgICBbJ2Zyb250JywgRmFjZS5zXSxcbiAgICBbJ3JpZ2h0JywgRmFjZS5lXSxcbiAgICBbJ2xlZnQnLCBGYWNlLnddLFxuICAgIFsndG9wJywgRmFjZS50XSxcbiAgICBbJ2JvdHRvbScsIEZhY2UuYl1cbl0pO1xuXG5leHBvcnQgdHlwZSBSZW5kT3BXb3JkID0gJ29wZW4nIHwgJ2Nsb3NlJztcbmV4cG9ydCBsZXQgd29yZF8yX3JlbmRfb3AgPSBNYXA8UmVuZE9wV29yZCwgUmVuZE9wZXJhdGlvbj4oW1xuICAgIFsnb3BlbicsIFJlbmRPcGVyYXRpb24ub3Blbl0sXG4gICAgWydjbG9zZScsIFJlbmRPcGVyYXRpb24uY2xvc2VdXG5dKTtcblxuZXhwb3J0IHR5cGUgRWRnZU9wV29yZCA9ICdjdXQnIHwgJ3RhcGUnO1xuZXhwb3J0IGxldCB3b3JkXzJfZWRnZV9vcCA9IE1hcDxFZGdlT3BXb3JkLCBFZGdlT3BlcmF0aW9uPihbXG4gICAgWydjdXQnLCBFZGdlT3BlcmF0aW9uLmN1dF0sXG4gICAgWyd0YXBlJywgRWRnZU9wZXJhdGlvbi50YXBlXVxuXSk7XG5cbmV4cG9ydCB0eXBlIEVkZ2VEaXJXb3JkID0gJ2hvcml6b250YWxseScgfCAndmVydGljYWxseSc7XG5leHBvcnQgbGV0IHdvcmRfMl9lZGdlX2RpciA9IE1hcDxFZGdlRGlyV29yZCwgRWRnZURpcmVjdGlvbj4oW1xuICAgIFsnaG9yaXpvbnRhbGx5JywgRWRnZURpcmVjdGlvbi5ob3Jpem9udGFsXSxcbiAgICBbJ3ZlcnRpY2FsbHknLCBFZGdlRGlyZWN0aW9uLnZlcnRpY2FsXVxuXSk7XG5cbmV4cG9ydCB0eXBlIFJvdGF0ZVlEaXJXb3JkID0gXCJsZWZ0XCIgfCBcInJpZ2h0XCI7XG5leHBvcnQgbGV0IHdvcmRfMl9kZWdyZWVzID0gTWFwPFJvdGF0ZVlEaXJXb3JkLCBudW1iZXI+KFtcbiAgICBbJ2xlZnQnLCAyNzBdLFxuICAgIFsncmlnaHQnLCA5MF1cbl0pO1xuXG5leHBvcnQgdHlwZSBSb2xsRGlyV29yZCA9IFwiZm9yd2FyZFwiIHwgXCJiYWNrd2FyZFwiIHwgXCJsZWZ0XCIgfCBcInJpZ2h0XCI7XG5leHBvcnQgbGV0IHdvcmRfMl9kaXIgPSBNYXA8Um9sbERpcldvcmQsIERpcmVjdGlvbj4oW1xuICAgIFsnZm9yd2FyZCcsIERpcmVjdGlvbi5uXSxcbiAgICBbJ2JhY2t3YXJkJywgRGlyZWN0aW9uLnNdLFxuICAgIFsnbGVmdCcsIERpcmVjdGlvbi53XSxcbiAgICBbJ3JpZ2h0JywgRGlyZWN0aW9uLmVdXG5dKTsiLCJpbXBvcnQge1xuICAgIENvbGxlY3Rpb24sXG4gICAgaGFzaCxcbiAgICBpc0ltbXV0YWJsZSxcbiAgICBMaXN0LFxuICAgIE1hcCxcbiAgICBTZXRcbn0gZnJvbSAnaW1tdXRhYmxlJztcblxuZXhwb3J0IHR5cGUgUGFydGl0aW9uID0gU2V0PG51bWJlcj47XG5cbmV4cG9ydCBjbGFzcyBFZGdlIHtcbiAgICByZWFkb25seSBzdGFydDogbnVtYmVyO1xuICAgIHJlYWRvbmx5IGVuZDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3Ioc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpe1xuICAgICAgICBpZiAoZW5kIDwgc3RhcnQpe1xuICAgICAgICAgICAgdGhpcy5zdGFydCA9IGVuZDtcbiAgICAgICAgICAgIHRoaXMuZW5kID0gc3RhcnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICB0aGlzLmVuZCA9IGVuZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVxdWFscyhvdGhlcjpFZGdlKXtcbiAgICAgICAgcmV0dXJuICh0aGlzLnN0YXJ0ID09IG90aGVyLnN0YXJ0ICYmIHRoaXMuZW5kID09IG90aGVyLmVuZCk7XG4gICAgfVxuXG4gICAgaGFzaENvZGUoKSB7XG4gICAgICAgIHJldHVybiBoYXNoKGhhc2godGhpcy5zdGFydCkgKyBoYXNoKHRoaXMuZW5kKSk7XG4gICAgICAgIC8vIGZ1Y2tcbiAgICAgICAgLy8gcmV0dXJuICggdGhpcy5lbmQgPDwgMTYgKSBeIHRoaXMuc3RhcnQ7XG4gICAgfVxufVxuXG5leHBvcnQgZW51bSBGYWNlIHtcbiAgICBuID0gMCxcbiAgICBzID0gMSxcbiAgICBlID0gMixcbiAgICB3ID0gMyxcbiAgICB0ID0gNCxcbiAgICBiID0gNVxufVxuXG5leHBvcnQgbGV0IGZhY2VzID0gW0ZhY2UubiwgRmFjZS5zLCBGYWNlLmUsIEZhY2UudywgRmFjZS50LCBGYWNlLmJdO1xuXG5leHBvcnQgZW51bSBEaXJlY3Rpb24ge1xuICAgIG4gPSAwLFxuICAgIHMgPSAxLFxuICAgIGUgPSAyLFxuICAgIHcgPSAzXG59XG5cbmV4cG9ydCBsZXQgZGlyZWN0aW9ucyA9IFtEaXJlY3Rpb24ubiwgRGlyZWN0aW9uLnMsIERpcmVjdGlvbi5lLCBEaXJlY3Rpb24ud107XG5cbmV4cG9ydCBsZXQgZGlyZWN0aW9uXzJfZmFjZSA9IE1hcDxEaXJlY3Rpb24sIEZhY2U+KFtcbiAgICBbRGlyZWN0aW9uLm4sIEZhY2Uubl0sXG4gICAgW0RpcmVjdGlvbi5zLCBGYWNlLnNdLFxuICAgIFtEaXJlY3Rpb24uZSwgRmFjZS5lXSxcbiAgICBbRGlyZWN0aW9uLncsIEZhY2Uud11cbl0pO1xuXG5leHBvcnQgY2xhc3MgRGFuZ2xlIHtcbiAgICByZWFkb25seSBwYXJ0aXRpb246IFBhcnRpdGlvbjtcbiAgICByZWFkb25seSBlZGdlczogTGlzdDxFZGdlPjtcbiAgICByZWFkb25seSBmaXhlZF9mYWNlOiBGYWNlO1xuICAgIHJlYWRvbmx5IGZyZWVfZmFjZTogRmFjZTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcnRpdGlvbjogUGFydGl0aW9uLCBlZGdlczogTGlzdDxFZGdlPiwgZml4ZWRfZmFjZTogRmFjZSwgZnJlZV9mYWNlOiBGYWNlKSB7XG4gICAgICAgIHRoaXMucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgICAgICB0aGlzLmVkZ2VzID0gZWRnZXM7XG4gICAgICAgIHRoaXMuZml4ZWRfZmFjZSA9IGZpeGVkX2ZhY2U7XG4gICAgICAgIHRoaXMuZnJlZV9mYWNlID0gZnJlZV9mYWNlO1xuICAgIH1cblxuICAgIGVxdWFscyhvdGhlcjogRGFuZ2xlKXtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMucGFydGl0aW9uLmVxdWFscyhvdGhlci5wYXJ0aXRpb24pXG4gICAgICAgICAgICAmJiB0aGlzLmVkZ2VzLmVxdWFscyhvdGhlci5lZGdlcylcbiAgICAgICAgICAgICYmIHRoaXMuZml4ZWRfZmFjZSA9PT0gb3RoZXIuZml4ZWRfZmFjZVxuICAgICAgICAgICAgJiYgdGhpcy5mcmVlX2ZhY2UgPT09IG90aGVyLmZyZWVfZmFjZSk7XG4gICAgfVxuXG4gICAgaGFzaENvZGUoKSB7XG4gICAgICAgIHJldHVybiBoYXNoKGhhc2godGhpcy5wYXJ0aXRpb24pICsgaGFzaCh0aGlzLmVkZ2VzKSArIGhhc2godGhpcy5maXhlZF9mYWNlKSArIGhhc2godGhpcy5mcmVlX2ZhY2UpKTtcbiAgICAgICAgLy9sZXQgZmFjZXNfaGFzaCA9ICh0aGlzLmZpeGVkX2ZhY2UgPDwgMTYpIF4gdGhpcy5mcmVlX2ZhY2U7IC8vZnVjayFcbiAgICAgICAgLy9yZXR1cm4gdGhpcy5wYXJ0aXRpb24uaGFzaENvZGUoKSArIHRoaXMuZWRnZXMuaGFzaENvZGUoKSArIGZhY2VzX2hhc2g7XG4gICAgfVxufVxuXG5leHBvcnQgdHlwZSBQb2ludDIgPSBbbnVtYmVyLCBudW1iZXJdO1xuXG5leHBvcnQgZnVuY3Rpb24gbWFrZV9tYXRyaXgyKGRhdGFfb2JqOiBudW1iZXJbXVtdKSB7XG4gICAgbGV0IGRpbV95ID0gZGF0YV9vYmoubGVuZ3RoO1xuICAgIGxldCBkaW1feCA9IGRhdGFfb2JqWzBdLmxlbmd0aDtcblxuICAgIGxldCBkYXRhID0gbmV3IEludDE2QXJyYXkoZGF0YV9vYmoucmVkdWNlKCh4LCB5KSA9PiB4LmNvbmNhdCh5KSkpO1xuICAgIC8vIFRPRE8gY29tcGxhaW4gaWYgdGhlIHRvdGFsIGxlbmd0aCBpcyB3cm9uZ1xuICAgIHJldHVybiBuZXcgTWF0cml4MihkYXRhLCBkaW1feCwgZGltX3kpO1xufVxuXG5leHBvcnQgY2xhc3MgTWF0cml4MiB7XG4gICAgcmVhZG9ubHkgZGltX3g6IG51bWJlcjtcbiAgICByZWFkb25seSBkaW1feTogbnVtYmVyO1xuICAgIHJlYWRvbmx5IGRhdGE6IEludDE2QXJyYXk7XG4gICAgXG4gICAgY29uc3RydWN0b3IgKGRhdGE6IEludDE2QXJyYXksIGRpbV94OiBudW1iZXIsIGRpbV95OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5kaW1feCA9IGRpbV94O1xuICAgICAgICB0aGlzLmRpbV95ID0gZGltX3k7XG4gICAgfVxuXG4gICAgZ2V0KHg6IG51bWJlciwgeTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVt5ICogdGhpcy5kaW1feCArIHhdO1xuICAgIH1cblxuICAgIHNldCh4OiBudW1iZXIsIHk6IG51bWJlciwgdmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmRhdGFbeSAqIHRoaXMuZGltX3ggKyB4XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJvdGF0ZShkZWdyZWVzOiBudW1iZXIpOiBNYXRyaXgyIHtcbiAgICAgICAgLy92YWxpZGF0ZSBpbnB1dCBiZXR0ZXJcblxuICAgICAgICBpZiAoZGVncmVlcyA9PSAzNjAgfHwgZGVncmVlcyA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5fcm90YXRpb25zID0gZGVncmVlcyAvIDkwO1xuICAgICAgICBsZXQgbTogTWF0cml4MiA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGRpbV94ID0gdGhpcy5kaW1feDtcbiAgICAgICAgY29uc3QgZGltX3kgPSB0aGlzLmRpbV95O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5fcm90YXRpb25zOyBpKyspe1xuICAgICAgICAgICAgbGV0IG5ld19kYXRhID0gbmV3IEludDE2QXJyYXkoZGltX3ggKiBkaW1feSk7XG4gICAgICAgICAgICBsZXQgbmV3X21hdDIgPSBuZXcgTWF0cml4MihuZXdfZGF0YSwgZGltX3ksIGRpbV94KTtcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgZGltX3k7IHkrKyl7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBkaW1feDsgeCsrKXtcbiAgICAgICAgICAgICAgICAgICAgbmV3X21hdDIuc2V0KGRpbV95IC0gMSAtIHksIHgsIG0uZ2V0KHgsIHkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtID0gbmV3X21hdDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1cbiAgICB9XG5cbiAgICBjb250YWlucyh2YWx1ZTogbnVtYmVyKTogYm9vbGVhbntcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBlbnVtIENhcmRib2FyZEVkZ2Uge1xuICAgIGludGFjdCA9IDAsXG4gICAgY3V0ID0gMSxcbn1cblxuZXhwb3J0IGVudW0gVGFwZUVkZ2Uge1xuICAgIHVudGFwZWQgPSAwLFxuICAgIHRhcGVkID0gMSxcbiAgICBjdXQgPSAyXG59XG5cbmV4cG9ydCBjbGFzcyBFZGdlU3RhdGUge1xuICAgIHJlYWRvbmx5IGNhcmRib2FyZDogQ2FyZGJvYXJkRWRnZTtcbiAgICByZWFkb25seSB0YXBlOiBUYXBlRWRnZTtcblxuICAgIGNvbnN0cnVjdG9yIChjYXJkYm9hcmQ/OiBDYXJkYm9hcmRFZGdlLCB0YXBlPzogVGFwZUVkZ2Upe1xuICAgICAgICBpZiAoY2FyZGJvYXJkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhcmRib2FyZCA9IENhcmRib2FyZEVkZ2UuaW50YWN0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FyZGJvYXJkID0gY2FyZGJvYXJkO1xuXG4gICAgICAgIGlmICh0YXBlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRhcGUgPSBUYXBlRWRnZS51bnRhcGVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFwZSA9IHRhcGU7XG4gICAgfVxuXG4gICAgY3V0KCkge1xuICAgICAgICBsZXQgbmV3X3RhcGU6IFRhcGVFZGdlO1xuICAgICAgICBpZiAodGhpcy50YXBlID09IFRhcGVFZGdlLnRhcGVkKSB7XG4gICAgICAgICAgICBuZXdfdGFwZSA9IFRhcGVFZGdlLmN1dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld190YXBlID0gdGhpcy50YXBlXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEVkZ2VTdGF0ZShDYXJkYm9hcmRFZGdlLmN1dCwgbmV3X3RhcGUpO1xuICAgIH1cblxuXG4gICAgYXBwbHlfdGFwZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFZGdlU3RhdGUodGhpcy5jYXJkYm9hcmQsIFRhcGVFZGdlLnRhcGVkKTtcbiAgICB9XG59XG5cbmV4cG9ydCBlbnVtIEVkZ2VPcGVyYXRpb24ge1xuICAgIGN1dCA9IDAsXG4gICAgdGFwZSA9IDFcbn1cblxuZXhwb3J0IGVudW0gRWRnZURpcmVjdGlvbiB7XG4gICAgaG9yaXpvbnRhbCA9IDAsXG4gICAgdmVydGljYWwgPSAxXG59XG5cbmV4cG9ydCBlbnVtIFJlbmRTdGF0ZSB7XG4gICAgY2xvc2VkID0gMCxcbiAgICBvcGVuID0gMVxufVxuXG5leHBvcnQgZW51bSBSZW5kT3BlcmF0aW9uIHtcbiAgICBjbG9zZSA9IDAsXG4gICAgb3BlbiA9IDFcbn1cblxuZXhwb3J0IGVudW0gU3BpbGxhZ2VMZXZlbCB7XG4gICAgbm9uZSA9IDAsXG4gICAgbGlnaHQgPSAxLFxuICAgIGhlYXZ5ID0gMlxufVxuXG5leHBvcnQgZW51bSBXZWlnaHQge1xuICAgIGVtcHR5ID0gMCxcbiAgICB2ZXJ5X2xpZ2h0ID0gMSxcbiAgICBsaWdodCA9IDIsXG4gICAgbWVkaXVtID0gMyxcbiAgICBoZWF2eSA9IDQsXG4gICAgdmVyeV9oZWF2eSA9IDVcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEl0ZW0ge1xuICAgIGFic3RyYWN0IHdlaWdodCgpOiBXZWlnaHQ7XG4gICAgYWJzdHJhY3QgbmFtZSgpOiBzdHJpbmc7XG4gICAgYWJzdHJhY3QgcHJlX2dlc3RhbHQoKTogc3RyaW5nO1xuICAgIGFic3RyYWN0IHBvc3RfZ2VzdGFsdCgpOiBzdHJpbmc7XG4gICAgYXJ0aWNsZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ2EnO1xuICAgIH1cbn1cblxuXG5leHBvcnQgdHlwZSBDb3VudGVyPFQ+ID0gTWFwPFQsIG51bWJlcj47XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3VudGVyX2FkZDxUPihjb3VudGVyOiBDb3VudGVyPFQ+LCBrZXk6IFQsIGluYzogbnVtYmVyKXtcbiAgICBsZXQgY3VyX3ZhbCA9IDA7XG4gICAgaWYgKGNvdW50ZXIuaGFzKGtleSkpe1xuICAgICAgICBjdXJfdmFsID0gY291bnRlci5nZXQoa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvdW50ZXIuc2V0KGtleSwgY3VyX3ZhbCArIGluYyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3VudGVyX2dldDxUPihjb3VudGVyOiBDb3VudGVyPFQ+LCBrZXk6IFQpe1xuICAgIGxldCBjdXJfdmFsID0gMDtcbiAgICBpZiAoY291bnRlci5oYXMoa2V5KSl7XG4gICAgICAgIGN1cl92YWwgPSBjb3VudGVyLmdldChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gY3VyX3ZhbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50ZXJfdXBkYXRlPFQ+KGNvdW50ZXIxOiBDb3VudGVyPFQ+LCBjb3VudGVyMjogQ291bnRlcjxUPil7XG4gICAgbGV0IHN3aXRjaF90b19pbW11dGFibGUgPSBpc0ltbXV0YWJsZShjb3VudGVyMSk7XG4gICAgbGV0IHJlc3VsdCA9IGNvdW50ZXIxLmFzTXV0YWJsZSgpO1xuXG4gICAgY291bnRlcjIuZm9yRWFjaChmdW5jdGlvbiAodiwgayl7XG4gICAgICAgIGNvdW50ZXJfYWRkKHJlc3VsdCwgaywgdik7XG4gICAgfSk7XG5cbiAgICBpZiAoc3dpdGNoX3RvX2ltbXV0YWJsZSkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuYXNJbW11dGFibGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50ZXJfb3JkZXI8VD4oY291bnRlcjogQ291bnRlcjxUPiwgaW5jbHVkZV96ZXJvPWZhbHNlKXtcbiAgICBsZXQgcmVzdWx0ID0gY291bnRlci5zb3J0KCk7XG4gICAgaWYgKCFpbmNsdWRlX3plcm8pIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcigoY291bnQpID0+IGNvdW50ID4gMCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQua2V5U2VxKCkudG9MaXN0KCkucmV2ZXJzZSgpO1xufVxuXG5leHBvcnQgZW51bSBSZWxhdGl2ZVBvc2l0aW9uIHtcbiAgICBsZWZ0ID0gMCwgY2VudGVyID0gMSwgcmlnaHQgPSAyLFxuICAgIHRvcCA9IDMsIG1pZGRsZSA9IDQsIGJvdHRvbSA9IDVcbn1cblxuZXhwb3J0IGNsYXNzIFdyZWNrRXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuXG4vLyB1c2VkIHRvIHNpZ25hbCBlcnJvcnMgY2F1c2VkIGJ5IHRyeWluZyB0byB1cGRhdGUgd29ybGQgc3RhdGUgaW4gYSB3YXkgdGhhdCBicmVha3MgdGhlIHJlYWxpdHkgb2YgdGhlIHdvcmxkXG4vLyBzbyBhc3N1bWVzIHRoYXQgY29tbWFuZHMgYXJlIGFscmVhZHkgdmFsaWQsIHRoZSBhdHRlbXB0ZWQgdXBkYXRlICpjb3VsZCB3b3JrKiBpZiB0aGUgc3RhdGUgd2VyZSBkaWZmZXJlbnRcbmV4cG9ydCBjbGFzcyBXb3JsZFVwZGF0ZUVycm9yIGV4dGVuZHMgV3JlY2tFcnJvciB7fVxuXG4vLyB1c2VkIHRvIHNpZ25hbCB0aGF0IGEgY29tbWFuZC9wc2V1ZG8gY29tbWFuZCBpcyBub3Qgc3BlY2lmaWVkIGxlZ2FsbHlcbi8vIHRoZSBjb21tYW5kIGNhbm5vdCBiZSBleGVjdXRlZCBiZWNhdXNlIGl0ICpjYW5ub3QgYmUgaW50ZXJwcmV0ZWQqXG5leHBvcnQgY2xhc3MgQ29tbWFuZEVycm9yIGV4dGVuZHMgV3JlY2tFcnJvciB7fSIsImltcG9ydCB7SXRlbSwgV2VpZ2h0fSBmcm9tICcuL2RhdGF0eXBlcydcblxuZXhwb3J0IGNsYXNzIENvZGV4IGV4dGVuZHMgSXRlbSB7XG4gICAgd2VpZ2h0KCkge1xuICAgICAgICByZXR1cm4gV2VpZ2h0Lm1lZGl1bTtcbiAgICB9XG5cbiAgICBuYW1lKCkge1xuICAgICAgICByZXR1cm4gJ2NvZGV4JztcbiAgICB9XG5cbiAgICBwcmVfZ2VzdGFsdCgpIHtcbiAgICAgICAgcmV0dXJuICdzb21ldGhpbmcgdGhpY2sgYW5kIGFnZWQnO1xuICAgIH1cblxuICAgIHBvc3RfZ2VzdGFsdCgpIHtcbiAgICAgICAgcmV0dXJuICdhIHRoaWNrLCByb3R0ZW4gY29kZXggd2l0aCBzdHJhbmdlIG1hcmtpbmdzIG9uIHRoZSBmcm9udCc7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2l0eUtleSBleHRlbmRzIEl0ZW0ge1xuICAgIHdlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIFdlaWdodC5saWdodDtcbiAgICB9XG5cbiAgICBuYW1lKCkge1xuICAgICAgICByZXR1cm4gJ0tleSB0byB0aGUgQ2l0eSc7XG4gICAgfVxuXG4gICAgcHJlX2dlc3RhbHQoKSB7XG4gICAgICAgIHJldHVybiAnc29tZXRoaW5nIGdsaXN0ZW5pbmcgYW5kIGdvbGRlbic7XG4gICAgfVxuXG4gICAgcG9zdF9nZXN0YWx0KCkge1xuICAgICAgICByZXR1cm4gJ2EgbGFyZ2UsIGhlYXZ5IGdvbGRlbiBrZXknO1xuICAgIH1cblxuICAgIGFydGljbGUoKSB7XG4gICAgICAgIHJldHVybiAndGhlJztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQaW5lY29uZSBleHRlbmRzIEl0ZW0ge1xuICAgIHdlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIFdlaWdodC52ZXJ5X2xpZ2h0O1xuICAgIH1cblxuICAgIG5hbWUoKSB7XG4gICAgICAgIHJldHVybiAncGluZWNvbmUnO1xuICAgIH1cblxuICAgIHByZV9nZXN0YWx0KCkge1xuICAgICAgICByZXR1cm4gJ3NvbWV0aGluZyBzbWFsbCwgYnJvd24gYW5kIGZsYWt5JztcbiAgICB9XG5cbiAgICBwb3N0X2dlc3RhbHQoKSB7XG4gICAgICAgIHJldHVybiAnYSBzbWFsbCwgYnJvd24gcGluZWNvbmUgdGhhdCBzbWVsbHMgb2YgdGhlIG91dGRvb3JzJztcbiAgICB9XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklpSXNJbVpwYkdVaU9pSnFjWFZsY25rdWRHVnliV2x1WVd3dVpDNTBjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiWFgwPSIsImltcG9ydCB7TGlzdH0gZnJvbSAnaW1tdXRhYmxlJztcbmltcG9ydCB7Q2l0eUtleSwgQ29kZXgsIFBpbmVjb25lfSBmcm9tICcuL2l0ZW1zJztcbmltcG9ydCB7SXRlbX0gZnJvbSAnLi9kYXRhdHlwZXMnO1xuaW1wb3J0IHtCb3gsIFNpbmdsZUJveFdvcmxkLCBXb3JsZERyaXZlcn0gZnJvbSAnLi93b3JsZCc7XG5cbmRlY2xhcmUgdmFyIGpRdWVyeTogYW55O1xuXG5qUXVlcnkoZnVuY3Rpb24oJDogYW55KSB7XG4gICAgbGV0IGNvbnRlbnRzID0gTGlzdDxJdGVtPihbbmV3IENvZGV4KCksIG5ldyBQaW5lY29uZSgpLCBuZXcgQ2l0eUtleSgpXSk7XG4gICAgbGV0IHdvcmxkID0gbmV3IFNpbmdsZUJveFdvcmxkKHtib3g6IG5ldyBCb3goe2NvbnRlbnRzOiBjb250ZW50c30pfSk7XG4gICAgbGV0IHdvcmxkX2RyaXZlciA9IG5ldyBXb3JsZERyaXZlcih3b3JsZCk7XG5cbiAgICAkKCcjdGVybScpLnRlcm1pbmFsKGZ1bmN0aW9uKGNvbW1hbmQ6IHN0cmluZykge1xuICAgICAgICBpZiAoY29tbWFuZCAhPT0gJycpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHdvcmxkX2RyaXZlci5ydW4oY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWNobyhuZXcgU3RyaW5nKHJlc3VsdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IobmV3IFN0cmluZyhlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgIHRoaXMuZWNobygnJyk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGdyZWV0aW5nczogJ0RlbW8gUGFyc2VyIEludGVyZmFjZSBmb3IgVGhlIFdyZWNrJyxcbiAgICAgICAgbmFtZTogJ3dyZWNrX2RlbW8nLFxuICAgICAgICBoZWlnaHQ6IDUwMCxcbiAgICAgICAgcHJvbXB0OiAnPiAnXG4gICAgfSk7XG59KTsiLCJpbXBvcnQge0ZhY2V9IGZyb20gJy4vZGF0YXR5cGVzJztcblxuaW1wb3J0IHtMaXN0LCBNYXB9IGZyb20gJ2ltbXV0YWJsZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmNhcGl0YWxpemUobXNnOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbXNnWzBdLnRvTG93ZXJDYXNlKCkgKyBtc2cuc2xpY2UoMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYXBpdGFsaXplKG1zZzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIG1zZ1swXS50b1VwcGVyQ2FzZSgpICsgbXNnLnNsaWNlKDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmFjZV9tZXNzYWdlKGZhY2Vfb3JkZXI6IExpc3Q8RmFjZT4sIGZfY29kZV8yX25hbWU/OiBNYXA8RmFjZSwgc3RyaW5nPil7XG4gICAgaWYgKGZfY29kZV8yX25hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmX2NvZGVfMl9uYW1lID0gTWFwPEZhY2UsIHN0cmluZz4oW1xuICAgICAgICAgICAgW0ZhY2UubiwgJ2JhY2snXSxcbiAgICAgICAgICAgIFtGYWNlLnMsICdmcm9udCddLFxuICAgICAgICAgICAgW0ZhY2UuZSwgJ3JpZ2h0J10sXG4gICAgICAgICAgICBbRmFjZS53LCAnbGVmdCddLFxuICAgICAgICAgICAgW0ZhY2UudCwgJ3RvcCddLFxuICAgICAgICAgICAgW0ZhY2UuYiwgJ2JvdHRvbSddXG4gICAgICAgIF0pO1xuICAgIH1cblxuICAgIGlmIChmYWNlX29yZGVyLnNpemUgPT0gMSkge1xuICAgICAgICByZXR1cm4gZl9jb2RlXzJfbmFtZS5nZXQoZmFjZV9vcmRlci5maXJzdCgpKSArICcgZmFjZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhY2Vfb3JkZXIuYnV0TGFzdCgpLm1hcChmX2NvZGVfMl9uYW1lLmdldCkuam9pbignLCAnKSArICcgYW5kICcgKyBmX2NvZGVfMl9uYW1lLmdldChmYWNlX29yZGVyLmxhc3QoKSkgKyAnIGZhY2VzJztcbiAgICB9XG59IiwiaW1wb3J0IHtCb3hNZXNoLCBlZGdlXzJfcXVhZHJhbnRzLCBGYWNlTWVzaH0gZnJvbSAnLi9ib3hfZ2VvbWV0cnknO1xuXG5pbXBvcnQge1xuICAgIENhcmRib2FyZEVkZ2UsXG4gICAgQ29tbWFuZEVycm9yLFxuICAgIENvdW50ZXIsXG4gICAgY291bnRlcl9vcmRlcixcbiAgICBjb3VudGVyX3VwZGF0ZSxcbiAgICBEYW5nbGUsXG4gICAgRGlyZWN0aW9uLFxuICAgIGRpcmVjdGlvbnMsXG4gICAgZGlyZWN0aW9uXzJfZmFjZSxcbiAgICBFZGdlLFxuICAgIEVkZ2VEaXJlY3Rpb24sXG4gICAgRWRnZU9wZXJhdGlvbixcbiAgICBFZGdlU3RhdGUsXG4gICAgRmFjZSxcbiAgICBJdGVtLFxuICAgIFBhcnRpdGlvbixcbiAgICBQb2ludDIsXG4gICAgUmVsYXRpdmVQb3NpdGlvbixcbiAgICBSZW5kT3BlcmF0aW9uLFxuICAgIFJlbmRTdGF0ZSxcbiAgICBTcGlsbGFnZUxldmVsLFxuICAgIFRhcGVFZGdlLFxuICAgIFdlaWdodCxcbiAgICBXb3JsZFVwZGF0ZUVycm9yXG59IGZyb20gJy4vZGF0YXR5cGVzJztcblxuaW1wb3J0IHtcbiAgICBFZGdlRGlyV29yZCxcbiAgICBFZGdlT3BXb3JkLFxuICAgIEZhY2VXb3JkLFxuICAgIFBvc2l0aW9uV29yZCxcbiAgICBSZW5kT3BXb3JkLFxuICAgIFJvbGxEaXJXb3JkLFxuICAgIFJvdGF0ZVlEaXJXb3JkLFxuICAgIFRva2VuLFxuICAgIHdvcmRfMl9kZWdyZWVzLFxuICAgIHdvcmRfMl9kaXIsXG4gICAgd29yZF8yX2VkZ2VfZGlyLFxuICAgIHdvcmRfMl9lZGdlX29wLFxuICAgIHdvcmRfMl9mYWNlLFxuICAgIHdvcmRfMl9yZWxhdGl2ZV9wb3NpdGlvbixcbiAgICB3b3JkXzJfcmVuZF9vcFxufSBmcm9tICcuL2NvbW1hbmRzJ1xuXG5pbXBvcnQge1dvcmxkVXBkYXRlRWZmZWN0cywgd2l0aF93b3JsZF91cGRhdGUsIHdvcmxkX3VwZGF0ZX0gZnJvbSAnLi93b3JsZF91cGRhdGVfZWZmZWN0cyc7XG5cbmltcG9ydCB7Q2l0eUtleSwgQ29kZXgsIFBpbmVjb25lfSBmcm9tICcuL2l0ZW1zJztcblxuaW1wb3J0IHtjYXBpdGFsaXplLCBmYWNlX21lc3NhZ2UsIHVuY2FwaXRhbGl6ZX0gZnJvbSAnLi90ZXh0X3Rvb2xzJztcblxuaW1wb3J0IHtMaXN0LCBNYXAsIFNldH0gZnJvbSAnaW1tdXRhYmxlJztcblxuZXhwb3J0IGludGVyZmFjZSBCb3hQYXJhbXMge1xuICAgIGJveF9tZXNoPzogQm94TWVzaCxcbiAgICByZW5kX3N0YXRlPzogTWFwPFBhcnRpdGlvbiwgUmVuZFN0YXRlPixcbiAgICBkYW5nbGVfc3RhdGU/OiBNYXA8RGFuZ2xlLCBSZW5kU3RhdGU+LFxuICAgIGVkZ2Vfc3RhdGU/OiBNYXA8RWRnZSwgRWRnZVN0YXRlPixcbiAgICBjb250ZW50cz86IExpc3Q8SXRlbT5cbn1cblxuZXhwb3J0IGNsYXNzIEJveCB7XG4gICAgcmVhZG9ubHkgYm94X21lc2g6IEJveE1lc2g7XG4gICAgcmVhZG9ubHkgcmVuZF9zdGF0ZTogTWFwPFBhcnRpdGlvbiwgUmVuZFN0YXRlPjtcbiAgICByZWFkb25seSBkYW5nbGVfc3RhdGU6IE1hcDxEYW5nbGUsIFJlbmRTdGF0ZT47XG4gICAgcmVhZG9ubHkgZWRnZV9zdGF0ZTogTWFwPEVkZ2UsIEVkZ2VTdGF0ZT47XG4gICAgcmVhZG9ubHkgY29udGVudHM6IExpc3Q8SXRlbT47XG5cbiAgICBjb25zdHJ1Y3Rvcih7Ym94X21lc2gsIHJlbmRfc3RhdGUsIGRhbmdsZV9zdGF0ZSwgZWRnZV9zdGF0ZSwgY29udGVudHN9OiBCb3hQYXJhbXMpe1xuICAgICAgICBpZiAoYm94X21lc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYm94X21lc2ggPSBuZXcgQm94TWVzaCh7ZGltZW5zaW9uczogWzIsIDIsIDJdfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ib3hfbWVzaCA9IGJveF9tZXNoO1xuXG4gICAgICAgIGlmIChyZW5kX3N0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlbmRfc3RhdGUgPSB0aGlzLmRlZmF1bHRfcmVuZF9zdGF0ZSh0aGlzLmJveF9tZXNoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRfc3RhdGUgPSByZW5kX3N0YXRlO1xuXG4gICAgICAgIGlmIChkYW5nbGVfc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGFuZ2xlX3N0YXRlID0gdGhpcy5kZWZhdWx0X2RhbmdsZV9zdGF0ZSh0aGlzLmJveF9tZXNoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRhbmdsZV9zdGF0ZSA9IGRhbmdsZV9zdGF0ZTtcblxuICAgICAgICBpZiAoZWRnZV9zdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlZGdlX3N0YXRlID0gTWFwPEVkZ2UsIEVkZ2VTdGF0ZT4oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVkZ2Vfc3RhdGUgPSBlZGdlX3N0YXRlO1xuXG4gICAgICAgIGlmIChjb250ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb250ZW50cyA9IExpc3Q8SXRlbT4oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRlbnRzID0gY29udGVudHM7XG4gICAgfVxuXG4gICAgdXBkYXRlKHtib3hfbWVzaCwgcmVuZF9zdGF0ZSwgZGFuZ2xlX3N0YXRlLCBlZGdlX3N0YXRlLCBjb250ZW50c306IEJveFBhcmFtcyl7XG4gICAgICAgIGlmIChib3hfbWVzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBib3hfbWVzaCA9IHRoaXMuYm94X21lc2g7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZF9zdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZW5kX3N0YXRlID0gdGhpcy5yZW5kX3N0YXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhbmdsZV9zdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkYW5nbGVfc3RhdGUgPSB0aGlzLmRhbmdsZV9zdGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlZGdlX3N0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGVkZ2Vfc3RhdGUgPSB0aGlzLmVkZ2Vfc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChjb250ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb250ZW50cyA9IHRoaXMuY29udGVudHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEJveCh7Ym94X21lc2gsIHJlbmRfc3RhdGUsIGRhbmdsZV9zdGF0ZSwgZWRnZV9zdGF0ZSwgY29udGVudHN9KTtcbiAgICB9XG5cbiAgICBkZWZhdWx0X3JlbmRfc3RhdGUoYm94X21lc2g6IEJveE1lc2gpIHtcbiAgICAgICAgbGV0IHJlbmRzID0gYm94X21lc2guZ2V0X2ZyZWVfcmVuZHMoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IE1hcDxQYXJ0aXRpb24sIFJlbmRTdGF0ZT4oKS5hc011dGFibGUoKTtcbiAgICAgICAgcmVuZHMuZm9yRWFjaChmdW5jdGlvbiAocikge1xuICAgICAgICAgICAgcmVzdWx0LnNldChyLCBSZW5kU3RhdGUuY2xvc2VkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuYXNJbW11dGFibGUoKTtcbiAgICB9XG5cbiAgICBkZWZhdWx0X2RhbmdsZV9zdGF0ZShib3hfbWVzaDogQm94TWVzaCkge1xuICAgICAgICBsZXQgZGFuZ2xlcyA9IGJveF9tZXNoLmdldF9kYW5nbGVzKCk7XG4gICAgICAgIGxldCByZXN1bHQgPSBNYXA8RGFuZ2xlLCBSZW5kU3RhdGU+KCkuYXNNdXRhYmxlKCk7XG4gICAgICAgIGRhbmdsZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgcmVzdWx0LnNldChkLCBSZW5kU3RhdGUuY2xvc2VkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuYXNJbW11dGFibGUoKTtcbiAgICB9XG5cbiAgICBvcGVuX29yX2Nsb3NlX3JlbmQob3BlcmF0aW9uOiBSZW5kT3BlcmF0aW9uLCByZW5kOiBQYXJ0aXRpb24pIHtcbiAgICAgICAgbGV0IGJveF9yZW5kcyA9IHRoaXMuYm94X21lc2guZ2V0X3JlbmRzKCk7XG5cbiAgICAgICAgaWYgKCFib3hfcmVuZHMuY29udGFpbnMocmVuZCkpe1xuICAgICAgICAgICAgdGhyb3cgbmV3IENvbW1hbmRFcnJvcigncmVuZCBkb2VzIG5vdCBleGlzdCBvbiB0aGUgYm94Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ib3hfbWVzaC5pc19wYXJ0aXRpb25fZml4ZWQocmVuZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKCdjYW5ub3Qgb3BlbiBvciBjbG9zZSBhIGZpeGVkIHJlbmQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuZXdfcmVuZF9zdGF0ZSA9IHRoaXMucmVuZF9zdGF0ZTtcbiAgICAgICAgbGV0IGludGVuZGVkX25ld19zdGF0ZSA9IG9wZXJhdGlvbiA9PSBSZW5kT3BlcmF0aW9uLmNsb3NlID8gUmVuZFN0YXRlLmNsb3NlZCA6IFJlbmRTdGF0ZS5vcGVuO1xuICAgICAgICBpZiAoaW50ZW5kZWRfbmV3X3N0YXRlID09IG5ld19yZW5kX3N0YXRlLmdldChyZW5kKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFdvcmxkVXBkYXRlRXJyb3IoYGNhbm5vdCAke1JlbmRPcGVyYXRpb25bb3BlcmF0aW9uXX0gYSByZW5kIHRoYXQgaXMgYWxyZWFkeSAke1JlbmRTdGF0ZVtpbnRlbmRlZF9uZXdfc3RhdGVdfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3X3JlbmRfc3RhdGUgPSBuZXdfcmVuZF9zdGF0ZS5zZXQocmVuZCwgaW50ZW5kZWRfbmV3X3N0YXRlKTtcblxuICAgICAgICBsZXQgbmV3X2JveCA9IHRoaXMudXBkYXRlKHtyZW5kX3N0YXRlOiBuZXdfcmVuZF9zdGF0ZX0pO1xuXG4gICAgICAgIGlmIChuZXdfYm94LmlzX2NvbGxhcHNlZCgpKSB7XG4gICAgICAgICAgICBsZXQgZWZmZWN0cyA9IHdvcmxkX3VwZGF0ZS5lZmZlY3RzO1xuICAgICAgICAgICAgZWZmZWN0cy5ib3hfY29sbGFwc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGVmZmVjdHMuY29sbGFwc2Vfc3BpbGxlZF9pdGVtcyA9IGVmZmVjdHMuY29sbGFwc2Vfc3BpbGxlZF9pdGVtcy5wdXNoKC4uLm5ld19ib3guY29udGVudHMudG9BcnJheSgpKTtcbiAgICAgICAgICAgIGxldCBuZXdfY29udGVudHMgPSBMaXN0PEl0ZW0+KCk7XG4gICAgICAgICAgICBuZXdfYm94ID0gbmV3X2JveC51cGRhdGUoe2NvbnRlbnRzOiBuZXdfY29udGVudHN9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdfYm94O1xuICAgIH1cblxuICAgIG9wZW5fb3JfY2xvc2VfZGFuZ2xlKG9wZXJhdGlvbjogUmVuZE9wZXJhdGlvbiwgZGFuZ2xlOiBEYW5nbGUpIHtcbiAgICAgICAgaWYgKHRoaXMuYm94X21lc2guaXNfcGFydGl0aW9uX2ZpeGVkKGRhbmdsZS5wYXJ0aXRpb24pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV29ybGRVcGRhdGVFcnJvcignY2Fubm90IG9wZW4gb3IgY2xvc2UgYSBmaXhlZCBkYW5nbGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBib3hfZGFuZ2xlcyA9IHRoaXMuYm94X21lc2guZ2V0X2RhbmdsZXMoKTtcblxuICAgICAgICBpZiAoYm94X2RhbmdsZXMuc29tZSgoZCkgPT4gZGFuZ2xlID09IGQpKXtcbiAgICAgICAgICAgIHRocm93IG5ldyBDb21tYW5kRXJyb3IoJ2RhbmdsZSBkb2VzIG5vdCBleGlzdCBvbiB0aGUgYm94Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW50ZW5kZWRfbmV3X3N0YXRlID0gb3BlcmF0aW9uID09IFJlbmRPcGVyYXRpb24uY2xvc2UgPyBSZW5kU3RhdGUuY2xvc2VkIDogUmVuZFN0YXRlLm9wZW47XG4gICAgICAgIGlmICh0aGlzLmRhbmdsZV9zdGF0ZS5nZXQoZGFuZ2xlKSA9PSBpbnRlbmRlZF9uZXdfc3RhdGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKCdjYW5ub3QgJHtSZW5kT3BlcmF0aW9uW29wZXJhdGlvbl19IGEgZGFuZ2xlIHRoYXQgaXMgYWxyZWFkeSAke1JlbmRTdGF0ZVtpbnRlbmRlZF9uZXdfc3RhdGVdfScpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld19kYW5nbGVfc3RhdGUgPSB0aGlzLmRhbmdsZV9zdGF0ZS5zZXQoZGFuZ2xlLCBpbnRlbmRlZF9uZXdfc3RhdGUpO1xuXG4gICAgICAgIGxldCBuZXdfYm94ID0gdGhpcy51cGRhdGUoe2RhbmdsZV9zdGF0ZTogbmV3X2RhbmdsZV9zdGF0ZX0pO1xuICAgICAgICBpZiAobmV3X2JveC5pc19jb2xsYXBzZWQoKSkge1xuICAgICAgICAgICAgbGV0IGVmZmVjdHMgPSB3b3JsZF91cGRhdGUuZWZmZWN0cztcbiAgICAgICAgICAgIGVmZmVjdHMuYm94X2NvbGxhcHNlZCA9IHRydWU7XG4gICAgICAgICAgICBlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMucHVzaCguLi5uZXdfYm94LmNvbnRlbnRzLnRvQXJyYXkoKSk7XG4gICAgICAgICAgICBsZXQgbmV3X2NvbnRlbnRzID0gTGlzdDxJdGVtPigpO1xuICAgICAgICAgICAgbmV3X2JveCA9IG5ld19ib3gudXBkYXRlKHtjb250ZW50czogbmV3X2NvbnRlbnRzfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld19ib3g7XG4gICAgfVxuXG4gICAgcm90YXRlX3koZGVncmVlczogbnVtYmVyKSB7XG4gICAgICAgIGxldCBuZXdfYm94X21lc2ggPSB0aGlzLmJveF9tZXNoLnJvdGF0ZV95KGRlZ3JlZXMpO1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGUobmV3X2JveF9tZXNoKTtcbiAgICB9XG5cbiAgICByb2xsKGRpcmVjdGlvbjogRGlyZWN0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLmRhbmdsZV9zdGF0ZS5zb21lKChzdGF0ZSkgPT4gc3RhdGUgPT0gUmVuZFN0YXRlLm9wZW4pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV29ybGRVcGRhdGVFcnJvcignY2Fubm90IHJvbGwgYSBib3ggd2l0aCBvcGVuIGRhbmdsZXMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuZXdfYm94X21lc2ggPSB0aGlzLmJveF9tZXNoLnJvbGwoZGlyZWN0aW9uKTtcbiAgICAgICAgbGV0IGRpcl9mYWNlOiBGYWNlID0gZGlyZWN0aW9uXzJfZmFjZS5nZXQoZGlyZWN0aW9uKTtcblxuICAgICAgICBsZXQgbmV3X2NvbnRlbnRzID0gdGhpcy5jb250ZW50cztcbiAgICAgICAgbGV0IHJlbmRfc3RhdGVfdXBkYXRlcyA9IHRoaXMucmVuZF9zdGF0ZTtcbiAgICAgICAgbGV0IGRhbmdsZV9zdGF0ZV91cGRhdGVzID0gdGhpcy5kYW5nbGVfc3RhdGU7XG5cbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuICAgICAgICBsZXQgZWZmZWN0cyA9IHdvcmxkX3VwZGF0ZS5lZmZlY3RzO1xuXG4gICAgICAgIGlmIChuZXdfY29udGVudHMuc2l6ZSA+IDApe1xuICAgICAgICAgICAgbGV0IGRpcl8yX29wcG9zaXRlID0gTWFwPEZhY2UsIEZhY2U+KFtcbiAgICAgICAgICAgICAgICBbRmFjZS5uLCBGYWNlLnNdLFxuICAgICAgICAgICAgICAgIFtGYWNlLnMsIEZhY2Uubl0sXG4gICAgICAgICAgICAgICAgW0ZhY2UuZSwgRmFjZS53XSxcbiAgICAgICAgICAgICAgICBbRmFjZS53LCBGYWNlLmVdXSk7XG4gXG4gICAgICAgICAgICBsZXQgaGVhdnlfc3BpbGxfZmFjZXM6IFtGYWNlLCBGYWNlXVtdID0gW1xuICAgICAgICAgICAgICAgIFtkaXJfZmFjZSwgRmFjZS5iXSxcbiAgICAgICAgICAgICAgICBbRmFjZS50LCBkaXJfZmFjZV0sXG4gICAgICAgICAgICAgICAgW0ZhY2UuYiwgZGlyXzJfb3Bwb3NpdGUuZ2V0KGRpcl9mYWNlKV1dO1xuICAgICAgICAgICAgbGV0IGxpZ2h0X3NwaWxsX2ZhY2VzID0gKFtGYWNlLm4sIEZhY2UucywgRmFjZS5lLCBGYWNlLnddXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoZCkgPT4gZCAhPT0gZGlyX2ZhY2UgJiYgZCAhPT0gZGlyXzJfb3Bwb3NpdGUuZ2V0KGRpcl9mYWNlKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnJlbmRfc3RhdGUuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUsIHIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gaW5uZXJfdGhpcy5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAobGV0IFt0ZXN0X2ZhY2UsIHNwaWxsX2ZhY2VdIG9mIGhlYXZ5X3NwaWxsX2ZhY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWNlX21lbWJlcnNoaXAuZ2V0KHRlc3RfZmFjZSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsX2ZhY2VzID0gZWZmZWN0cy5zcGlsbF9mYWNlcy5wdXNoKHNwaWxsX2ZhY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCA9IFNwaWxsYWdlTGV2ZWwuaGVhdnk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLnNwaWxsZWRfaXRlbXMucHVzaCguLi5uZXdfY29udGVudHMudG9BcnJheSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld19jb250ZW50cyA9IExpc3Q8SXRlbT4oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IFJlbmRTdGF0ZS5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfcmVuZHMgPT0gZWZmZWN0cy5zcGlsbGVkX3JlbmRzLmFkZChyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kX3N0YXRlX3VwZGF0ZXMgPSByZW5kX3N0YXRlX3VwZGF0ZXMuc2V0KHIsIFJlbmRTdGF0ZS5vcGVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgc3BpbGxfZmFjZSBvZiBsaWdodF9zcGlsbF9mYWNlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmFjZV9tZW1iZXJzaGlwLmdldChzcGlsbF9mYWNlKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxfZmFjZXMgPSBlZmZlY3RzLnNwaWxsX2ZhY2VzLnB1c2goc3BpbGxfZmFjZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCA8IFNwaWxsYWdlTGV2ZWwubGlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsYWdlX2xldmVsID0gU3BpbGxhZ2VMZXZlbC5saWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdfY29udGVudHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLnNwaWxsZWRfaXRlbXMucHVzaChuZXdfY29udGVudHMuZmlyc3QoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3X2NvbnRlbnRzID0gbmV3X2NvbnRlbnRzLnJlc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmJveF9tZXNoLmdldF9kYW5nbGVzKCkuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIGxldCBzcGlsbGFnZV9sZXZlbCA9IFNwaWxsYWdlTGV2ZWwubm9uZTtcbiAgICAgICAgICAgICAgICBsZXQgc3BpbGxfZmFjZTogRmFjZTtcbiAgICAgICAgICAgICAgICBpZiAoZC5mcmVlX2ZhY2UgPT0gRmFjZS50KSB7XG4gICAgICAgICAgICAgICAgICAgIHNwaWxsYWdlX2xldmVsID0gU3BpbGxhZ2VMZXZlbC5oZWF2eTtcbiAgICAgICAgICAgICAgICAgICAgc3BpbGxfZmFjZSA9IGRpcl9mYWNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZC5mcmVlX2ZhY2UgPT0gZGlyX2ZhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BpbGxhZ2VfbGV2ZWwgPSBTcGlsbGFnZUxldmVsLmhlYXZ5O1xuICAgICAgICAgICAgICAgICAgICBzcGlsbF9mYWNlID0gRmFjZS5iO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGlnaHRfc3BpbGxfZmFjZXMuaW5kZXhPZihkLmZyZWVfZmFjZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwaWxsYWdlX2xldmVsID0gU3BpbGxhZ2VMZXZlbC5saWdodDtcbiAgICAgICAgICAgICAgICAgICAgc3BpbGxfZmFjZSA9IGQuZnJlZV9mYWNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzcGlsbGFnZV9sZXZlbCAhPT0gU3BpbGxhZ2VMZXZlbC5ub25lKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGlsbGFnZV9sZXZlbCA+IGVmZmVjdHMuc3BpbGxhZ2VfbGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxhZ2VfbGV2ZWwgPSBzcGlsbGFnZV9sZXZlbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsX2ZhY2VzID0gZWZmZWN0cy5zcGlsbF9mYWNlcy5wdXNoKHNwaWxsX2ZhY2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGlsbGFnZV9sZXZlbCA9PSBTcGlsbGFnZUxldmVsLmxpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3X2NvbnRlbnRzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX2l0ZW1zID0gZWZmZWN0cy5zcGlsbGVkX2l0ZW1zLnB1c2gobmV3X2NvbnRlbnRzLmZpcnN0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld19jb250ZW50cyA9IG5ld19jb250ZW50cy5yZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3BpbGxhZ2VfbGV2ZWwgPT0gU3BpbGxhZ2VMZXZlbC5oZWF2eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX2l0ZW1zID0gZWZmZWN0cy5zcGlsbGVkX2l0ZW1zLnB1c2goLi4ubmV3X2NvbnRlbnRzLnRvQXJyYXkoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdfY29udGVudHMgPSBMaXN0PEl0ZW0+KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfZGFuZ2xlcyA9IGVmZmVjdHMuc3BpbGxlZF9kYW5nbGVzLmFkZChkKTtcbiAgICAgICAgICAgICAgICAgICAgZGFuZ2xlX3N0YXRlX3VwZGF0ZXMgPSBkYW5nbGVfc3RhdGVfdXBkYXRlcy5zZXQoZCwgUmVuZFN0YXRlLm9wZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBuZXdfYm94X21lc2guZ2V0X2RhbmdsZXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGQuZnJlZV9mYWNlID09IGRpcl8yX29wcG9zaXRlLmdldChkaXJfZmFjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCA9IFNwaWxsYWdlTGV2ZWwuaGVhdnk7XG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxfZmFjZXMgPSBlZmZlY3RzLnNwaWxsX2ZhY2VzLnB1c2goZGlyXzJfb3Bwb3NpdGUuZ2V0KGRpcl9mYWNlKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX2l0ZW1zID0gZWZmZWN0cy5zcGlsbGVkX2l0ZW1zLnB1c2goLi4ubmV3X2NvbnRlbnRzLnRvQXJyYXkoKSk7XG4gICAgICAgICAgICAgICAgICAgIG5ld19jb250ZW50cyA9IExpc3Q8SXRlbT4oKTtcblxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfZGFuZ2xlcyA9IGVmZmVjdHMuc3BpbGxlZF9kYW5nbGVzLmFkZChkKTtcbiAgICAgICAgICAgICAgICAgICAgZGFuZ2xlX3N0YXRlX3VwZGF0ZXMgPSBkYW5nbGVfc3RhdGVfdXBkYXRlcy5zZXQoZCwgUmVuZFN0YXRlLm9wZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXdfYm94ID0gdGhpcy51cGRhdGUoe1xuICAgICAgICAgICAgYm94X21lc2g6IG5ld19ib3hfbWVzaCxcbiAgICAgICAgICAgIHJlbmRfc3RhdGU6IHJlbmRfc3RhdGVfdXBkYXRlcyxcbiAgICAgICAgICAgIGRhbmdsZV9zdGF0ZTogZGFuZ2xlX3N0YXRlX3VwZGF0ZXMsXG4gICAgICAgICAgICBjb250ZW50czogbmV3X2NvbnRlbnRzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChuZXdfYm94LmlzX2NvbGxhcHNlZCgpKSB7XG4gICAgICAgICAgICBlZmZlY3RzLmJveF9jb2xsYXBzZWQgPSB0cnVlO1xuICAgICAgICAgICAgZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zID0gZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zLnB1c2goLi4ubmV3X2NvbnRlbnRzLnRvQXJyYXkoKSk7XG4gICAgICAgICAgICBuZXdfY29udGVudHMgPSBMaXN0PEl0ZW0+KCk7XG4gICAgICAgICAgICBuZXdfYm94ID0gbmV3X2JveC51cGRhdGUoe2NvbnRlbnRzOiBuZXdfY29udGVudHN9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdfYm94O1xuICAgIH1cblxuICAgIGxpZnQoKSB7XG4gICAgICAgIGxldCBlZmZlY3RzID0gd29ybGRfdXBkYXRlLmVmZmVjdHM7XG4gICAgICAgIGxldCBpbm5lcl90aGlzID0gdGhpcztcblxuICAgICAgICBsZXQgbmV3X2NvbnRlbnRzID0gdGhpcy5jb250ZW50cztcbiAgICAgICAgbGV0IG5ld19yZW5kX3N0YXRlID0gdGhpcy5yZW5kX3N0YXRlO1xuICAgICAgICBsZXQgbmV3X2RhbmdsZV9zdGF0ZSA9IHRoaXMuZGFuZ2xlX3N0YXRlO1xuXG4gICAgICAgIGlmIChuZXdfY29udGVudHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGxldCB0ZXN0X2JveF9tZXNoID0gdGhpcy5ib3hfbWVzaC5yb2xsKERpcmVjdGlvbi5zKS5yb2xsKERpcmVjdGlvbi5zKTtcblxuICAgICAgICAgICAgdGVzdF9ib3hfbWVzaC5nZXRfZnJlZV9yZW5kcygpLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gdGVzdF9ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChyKTtcbiAgICAgICAgICAgICAgICBsZXQgdGVzdF9mYWNlcyA9IFtGYWNlLmIsIEZhY2UubiwgRmFjZS5zLCBGYWNlLmUsIEZhY2Uud107XG4gICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gdGVzdF9mYWNlcy5tYXAoZmFjZV9tZW1iZXJzaGlwLmdldCkucmVkdWNlKCh4LCB5KSA9PiB4ICsgeSk7XG4gICAgICAgICAgICAgICAgaWYgKGZhY2VfbWVtYmVyc2hpcC5nZXQoRmFjZS50KSA+IGNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxhZ2VfbGV2ZWwgPSBTcGlsbGFnZUxldmVsLmhlYXZ5O1xuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsX2ZhY2VzID0gZWZmZWN0cy5zcGlsbF9mYWNlcy5wdXNoKEZhY2UuYik7XG5cbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX2l0ZW1zID0gZWZmZWN0cy5zcGlsbGVkX2l0ZW1zLnB1c2goLi4ubmV3X2NvbnRlbnRzLnRvQXJyYXkoKSk7XG4gICAgICAgICAgICAgICAgICAgIG5ld19jb250ZW50cyA9IExpc3Q8SXRlbT4oKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3X3JlbmRfc3RhdGUuZ2V0KHIsIFJlbmRTdGF0ZS5jbG9zZWQpID09IFJlbmRTdGF0ZS5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9yZW5kcyA9IGVmZmVjdHMuc3BpbGxlZF9yZW5kcy5hZGQocik7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdfcmVuZF9zdGF0ZSA9IG5ld19yZW5kX3N0YXRlLnNldChyLCBSZW5kU3RhdGUub3Blbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGVzdF9ib3hfbWVzaC5nZXRfZGFuZ2xlcygpLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZC5mcmVlX2ZhY2UgPT0gRmFjZS50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxhZ2VfbGV2ZWwgPSBTcGlsbGFnZUxldmVsLmhlYXZ5O1xuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsX2ZhY2VzID0gZWZmZWN0cy5zcGlsbF9mYWNlcy5wdXNoKEZhY2UuYik7XG5cbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX2l0ZW1zID0gZWZmZWN0cy5zcGlsbGVkX2l0ZW1zLnB1c2goLi4ubmV3X2NvbnRlbnRzLnRvQXJyYXkoKSk7XG4gICAgICAgICAgICAgICAgICAgIG5ld19jb250ZW50cyA9IExpc3Q8SXRlbT4oKTtcblxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfZGFuZ2xlcyA9IGVmZmVjdHMuc3BpbGxlZF9kYW5nbGVzLmFkZChkKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3X2RhbmdsZV9zdGF0ZSA9IG5ld19kYW5nbGVfc3RhdGUuc2V0KGQsIFJlbmRTdGF0ZS5vcGVuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5yZW5kX3N0YXRlLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlLCByKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZhY2VfbWVtYmVyc2hpcCA9IGlubmVyX3RoaXMuYm94X21lc2guZ2V0X3BhcnRpdGlvbl9mYWNlX21lbWJlcnNoaXAocik7XG4gICAgICAgICAgICAgICAgbGV0IGxpZ2h0X3NwaWxsX2ZhY2VzID0gW0ZhY2UubiwgRmFjZS5zLCBGYWNlLmUsIEZhY2Uud10uZmlsdGVyKChmKSA9PiBmYWNlX21lbWJlcnNoaXAuZ2V0KGYpID4gMCk7XG4gICAgICAgICAgICAgICAgaWYgKGxpZ2h0X3NwaWxsX2ZhY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVmZmVjdHMuc3BpbGxhZ2VfbGV2ZWwgPCBTcGlsbGFnZUxldmVsLmxpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsYWdlX2xldmVsID0gU3BpbGxhZ2VMZXZlbC5saWdodDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsX2ZhY2VzLnB1c2goLi4ubGlnaHRfc3BpbGxfZmFjZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdfY29udGVudHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9pdGVtcyA9IGVmZmVjdHMuc3BpbGxlZF9pdGVtcy5wdXNoKG5ld19jb250ZW50cy5maXJzdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld19jb250ZW50cyA9IG5ld19jb250ZW50cy5yZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IFJlbmRTdGF0ZS5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9yZW5kcy5hZGQocik7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdfcmVuZF9zdGF0ZSA9IG5ld19yZW5kX3N0YXRlLnNldChyLCBSZW5kU3RhdGUub3Blbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5kYW5nbGVfc3RhdGUuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUsIGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoW0ZhY2UubiwgRmFjZS5zLCBGYWNlLmUsIEZhY2Uud10uaW5kZXhPZihkLmZyZWVfZmFjZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlZmZlY3RzLnNwaWxsYWdlX2xldmVsIDwgU3BpbGxhZ2VMZXZlbC5saWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCA9IFNwaWxsYWdlTGV2ZWwubGlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbF9mYWNlcy5wdXNoKGQuZnJlZV9mYWNlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3X2NvbnRlbnRzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLnNwaWxsZWRfaXRlbXMucHVzaChuZXdfY29udGVudHMuZmlyc3QoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdfY29udGVudHMgPSBuZXdfY29udGVudHMucmVzdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmV3X2JveCA9IHRoaXMudXBkYXRlKHtyZW5kX3N0YXRlOiBuZXdfcmVuZF9zdGF0ZSwgZGFuZ2xlX3N0YXRlOiBuZXdfZGFuZ2xlX3N0YXRlLCBjb250ZW50czogbmV3X2NvbnRlbnRzfSk7XG5cbiAgICAgICAgaWYgKG5ld19ib3guaXNfY29sbGFwc2VkKCkpIHtcbiAgICAgICAgICAgIGVmZmVjdHMuYm94X2NvbGxhcHNlZCA9IHRydWU7XG4gICAgICAgICAgICBlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMucHVzaCguLi5uZXdfY29udGVudHMudG9BcnJheSgpKTtcbiAgICAgICAgICAgIG5ld19jb250ZW50cyA9IExpc3Q8SXRlbT4oKTtcbiAgICAgICAgICAgIG5ld19ib3ggPSBuZXdfYm94LnVwZGF0ZSh7Y29udGVudHM6IG5ld19jb250ZW50c30pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld19ib3g7XG4gICAgfVxuXG4gICAgY3V0KGZhY2U6IEZhY2UsIHN0YXJ0OiBQb2ludDIsIGVuZDogUG9pbnQyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1dF9vcl90YXBlKEVkZ2VPcGVyYXRpb24uY3V0LCBmYWNlLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICB0YXBlKGZhY2U6IEZhY2UsIHN0YXJ0OiBQb2ludDIsIGVuZDogUG9pbnQyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1dF9vcl90YXBlKEVkZ2VPcGVyYXRpb24udGFwZSwgZmFjZSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgY3V0X29yX3RhcGUob3BlcmF0aW9uOiBFZGdlT3BlcmF0aW9uLCBmYWNlOiBGYWNlLCBzdGFydDogUG9pbnQyLCBlbmQ6IFBvaW50Mikge1xuICAgICAgICBsZXQgZWZmZWN0cyA9IHdvcmxkX3VwZGF0ZS5lZmZlY3RzO1xuICAgICAgICBsZXQgaW5uZXJfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGZhY2UgIT09IEZhY2UucyAmJiBmYWNlICE9PSBGYWNlLnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKCdjYW5ub3QgY3V0IG9yIHRhcGUgc2lkZXMgb3RoZXIgdGhhbiB0b3Agb3IgZnJvbnQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBbeDEsIHkxXSA9IHN0YXJ0O1xuICAgICAgICBsZXQgW3gyLCB5Ml0gPSBlbmQ7XG4gICAgICAgIGxldCB2MSA9IHRoaXMuYm94X21lc2guZmFjZV9tZXNoZXMuZ2V0KGZhY2UpLnZlcnRpY2VzLmdldCh4MSwgeTEpO1xuICAgICAgICBsZXQgdjIgPSB0aGlzLmJveF9tZXNoLmZhY2VfbWVzaGVzLmdldChmYWNlKS52ZXJ0aWNlcy5nZXQoeDIsIHkyKTtcblxuICAgICAgICBsZXQgZWRnZSA9IG5ldyBFZGdlKHYxLCB2Mik7XG5cbiAgICAgICAgbGV0IHF1YWRyYW50cyA9IGVkZ2VfMl9xdWFkcmFudHMuZ2V0KGVkZ2UpO1xuXG4gICAgICAgIHRoaXMucmVuZF9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgcikge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09IFJlbmRTdGF0ZS5vcGVuICYmIHF1YWRyYW50cy5ldmVyeShyLmNvbnRhaW5zKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKCdjYW5ub3QgY3V0IG9yIHRhcGUgb24gYW4gb3BlbiByZW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZGFuZ2xlX3N0YXRlLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlLCBkKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT0gUmVuZFN0YXRlLm9wZW4gJiYgcXVhZHJhbnRzLmV2ZXJ5KGQucGFydGl0aW9uLmNvbnRhaW5zKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKCdjYW5ub3QgY3V0IG9yIHRhcGUgb24gYW4gb3BlbiBkYW5nbGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IG5ld19ib3hfbWVzaDogQm94TWVzaDtcbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PSBFZGdlT3BlcmF0aW9uLmN1dCkge1xuICAgICAgICAgICAgbmV3X2JveF9tZXNoID0gdGhpcy5ib3hfbWVzaC5jdXQoZmFjZSwgc3RhcnQsIGVuZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdfYm94X21lc2ggPSB0aGlzLmJveF9tZXNoLnRhcGUoZmFjZSwgc3RhcnQsIGVuZCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmV3X3JlbmRfc3RhdGUgPSB0aGlzLmRlZmF1bHRfcmVuZF9zdGF0ZShuZXdfYm94X21lc2gpO1xuICAgICAgICB0aGlzLnJlbmRfc3RhdGUuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUsIHIpIHtcbiAgICAgICAgICAgIGlmIChuZXdfcmVuZF9zdGF0ZS5oYXMocikpIHtcbiAgICAgICAgICAgICAgICBuZXdfcmVuZF9zdGF0ZSA9IG5ld19yZW5kX3N0YXRlLnNldChyLCBzdGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVmZmVjdHMucmVwYWlyZWRfcmVuZHMgPSBlZmZlY3RzLnJlcGFpcmVkX3JlbmRzLnB1c2gocik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5ld19yZW5kX3N0YXRlLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlLCBuZXdfcikge1xuICAgICAgICAgICAgaWYgKCFpbm5lcl90aGlzLnJlbmRfc3RhdGUuaGFzKG5ld19yKSkge1xuICAgICAgICAgICAgICAgIGVmZmVjdHMubmV3X3JlbmRzID0gZWZmZWN0cy5uZXdfcmVuZHMucHVzaChuZXdfcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBuZXdfZGFuZ2xlX3N0YXRlID0gdGhpcy5kZWZhdWx0X2RhbmdsZV9zdGF0ZShuZXdfYm94X21lc2gpO1xuICAgICAgICB0aGlzLmRhbmdsZV9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgZCkge1xuICAgICAgICAgICAgaWYgKG5ld19kYW5nbGVfc3RhdGUuaGFzKGQpKSB7XG4gICAgICAgICAgICAgICAgbmV3X2RhbmdsZV9zdGF0ZSA9IG5ld19kYW5nbGVfc3RhdGUuc2V0KGQsIHN0YXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWZmZWN0cy5yZXBhaXJlZF9kYW5nbGVzID0gZWZmZWN0cy5yZXBhaXJlZF9kYW5nbGVzLnB1c2goZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5ld19kYW5nbGVfc3RhdGUuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUsIG5ld19kKSB7XG4gICAgICAgICAgICBpZiAoIWlubmVyX3RoaXMuZGFuZ2xlX3N0YXRlLmhhcyhuZXdfZCkpIHtcbiAgICAgICAgICAgICAgICBlZmZlY3RzLm5ld19kYW5nbGVzID0gZWZmZWN0cy5uZXdfZGFuZ2xlcy5wdXNoKG5ld19kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IG5ld19lZGdlX3N0YXRlID0gdGhpcy5lZGdlX3N0YXRlO1xuICAgICAgICBpZiAob3BlcmF0aW9uID09IEVkZ2VPcGVyYXRpb24uY3V0KSB7XG4gICAgICAgICAgICBuZXdfZWRnZV9zdGF0ZSA9IG5ld19lZGdlX3N0YXRlLnNldChlZGdlLCBuZXdfZWRnZV9zdGF0ZS5nZXQoZWRnZSwgbmV3IEVkZ2VTdGF0ZSgpKS5jdXQoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdfZWRnZV9zdGF0ZSA9IG5ld19lZGdlX3N0YXRlLnNldChlZGdlLCBuZXdfZWRnZV9zdGF0ZS5nZXQoZWRnZSwgbmV3IEVkZ2VTdGF0ZSgpKS5hcHBseV90YXBlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKHtib3hfbWVzaDogbmV3X2JveF9tZXNoLCByZW5kX3N0YXRlOiBuZXdfcmVuZF9zdGF0ZSwgZGFuZ2xlX3N0YXRlOiBuZXdfZGFuZ2xlX3N0YXRlfSk7XG4gICAgfVxuXG4gICAgdGFrZV9uZXh0X2l0ZW0oKSB7XG4gICAgICAgIGxldCBlZmZlY3RzID0gd29ybGRfdXBkYXRlLmVmZmVjdHM7XG5cbiAgICAgICAgaWYgKHRoaXMuY29udGVudHMuc2l6ZSA9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV29ybGRVcGRhdGVFcnJvcignY2Fubm90IHRha2UgYW4gaXRlbSBmcm9tIGFuIGVtcHR5IGJveCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmFwcGVhcnNfb3BlbigpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV29ybGRVcGRhdGVFcnJvcignY2Fubm90IHRha2UgYW4gaXRlbSBmcm9tIGEgYm94IHdpdGggbm8gdmlzaWJsZSBvcGVuaW5ncycpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld19jb250ZW50cyA9IHRoaXMuY29udGVudHM7XG4gICAgICAgIGVmZmVjdHMudGFrZW5faXRlbXMgPSBlZmZlY3RzLnRha2VuX2l0ZW1zLnB1c2gobmV3X2NvbnRlbnRzLmZpcnN0KCkpO1xuICAgICAgICBuZXdfY29udGVudHMgPSBuZXdfY29udGVudHMucmVzdCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZSh7Y29udGVudHM6IG5ld19jb250ZW50c30pO1xuICAgIH1cblxuICAgIG5leHRfaXRlbSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudHMuc2l6ZSA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50cy5maXJzdCgpO1xuICAgIH1cblxuICAgIGFwcGVhcnNfb3BlbigpIHtcbiAgICAgICAgaWYgKHRoaXMucmVuZF9zdGF0ZS5zb21lKChzdGF0ZSkgPT4gc3RhdGUgPT0gUmVuZFN0YXRlLm9wZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kYW5nbGVfc3RhdGUuc29tZSgoc3RhdGUpID0+IHN0YXRlID09IFJlbmRTdGF0ZS5vcGVuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGFwcGVhcnNfZW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGVhcnNfb3BlbigpICYmIHRoaXMuY29udGVudHMuc2l6ZSA9PSAwO1xuICAgIH1cblxuICAgIGlzX2NvbGxhcHNlZCgpe1xuICAgICAgICBsZXQgb3Blbl9mYWNlcyA9IE1hcDxGYWNlLCBudW1iZXI+KCkuYXNNdXRhYmxlKCk7XG4gICAgICAgIGxldCBpbm5lcl90aGlzID0gdGhpcztcbiAgICAgICAgXG4gICAgICAgIHRoaXMucmVuZF9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgcikge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09IFJlbmRTdGF0ZS5vcGVuKXtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gaW5uZXJfdGhpcy5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChyKTtcbiAgICAgICAgICAgICAgICBjb3VudGVyX3VwZGF0ZShvcGVuX2ZhY2VzLCBmYWNlX21lbWJlcnNoaXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRhbmdsZV9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgZCkge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09IFJlbmRTdGF0ZS5vcGVuKXtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gaW5uZXJfdGhpcy5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChkLnBhcnRpdGlvbik7XG4gICAgICAgICAgICAgICAgY291bnRlcl91cGRhdGUob3Blbl9mYWNlcywgZmFjZV9tZW1iZXJzaGlwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IHRvdGFsX29wZW5fc2lkZXMgPSAwO1xuICAgICAgICBvcGVuX2ZhY2VzLmZvckVhY2goZnVuY3Rpb24gKGNvdW50LCBmYWNlKSB7XG4gICAgICAgICAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdG90YWxfb3Blbl9zaWRlcyArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdG90YWxfb3Blbl9zaWRlcyA+PSAzO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaW5nbGVCb3hXb3JsZFBhcmFtcyB7XG4gICAgYm94PzogQm94LFxuICAgIHRha2VuX2l0ZW1zPzogTGlzdDxJdGVtPixcbiAgICBzcGlsbGVkX2l0ZW1zPzogTGlzdDxJdGVtPlxufVxuXG5leHBvcnQgdHlwZSBDb21tYW5kUmVzdWx0ID0gW1NpbmdsZUJveFdvcmxkLCBzdHJpbmddO1xuXG5leHBvcnQgY2xhc3MgU2luZ2xlQm94V29ybGQge1xuICAgIHJlYWRvbmx5IGJveDogQm94O1xuICAgIHJlYWRvbmx5IHRha2VuX2l0ZW1zOiBMaXN0PEl0ZW0+O1xuICAgIHJlYWRvbmx5IHNwaWxsZWRfaXRlbXM6IExpc3Q8SXRlbT47XG5cbiAgICBjb25zdHJ1Y3Rvcih7Ym94LCB0YWtlbl9pdGVtcywgc3BpbGxlZF9pdGVtc306IFNpbmdsZUJveFdvcmxkUGFyYW1zKSB7XG4gICAgICAgIGlmIChib3ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYm94ID0gbmV3IEJveCh7fSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ib3ggPSBib3g7XG5cbiAgICAgICAgaWYgKHRha2VuX2l0ZW1zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRha2VuX2l0ZW1zID0gTGlzdDxJdGVtPigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFrZW5faXRlbXMgPSB0YWtlbl9pdGVtcztcblxuICAgICAgICBpZiAoc3BpbGxlZF9pdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzcGlsbGVkX2l0ZW1zID0gTGlzdDxJdGVtPigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3BpbGxlZF9pdGVtcyA9IHNwaWxsZWRfaXRlbXM7XG4gICAgfVxuXG4gICAgdXBkYXRlKHtib3gsIHRha2VuX2l0ZW1zLCBzcGlsbGVkX2l0ZW1zfTogU2luZ2xlQm94V29ybGRQYXJhbXMpIHtcbiAgICAgICAgaWYgKGJveCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBib3ggPSB0aGlzLmJveDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YWtlbl9pdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0YWtlbl9pdGVtcyA9IHRoaXMudGFrZW5faXRlbXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3BpbGxlZF9pdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzcGlsbGVkX2l0ZW1zID0gdGhpcy5zcGlsbGVkX2l0ZW1zO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVCb3hXb3JsZCh7Ym94LCB0YWtlbl9pdGVtcywgc3BpbGxlZF9pdGVtc30pO1xuICAgIH1cblxuICAgIGNvbW1hbmRfcm90YXRlX3lfYm94KGRpcjogUm90YXRlWURpcldvcmQpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgbGV0IGRlZ3JlZXMgPSBkaXIgPT0gJ3JpZ2h0JyA/IDkwIDogMjcwO1xuICAgICAgICBsZXQgbmV3X2JveCA9IHRoaXMuYm94LnJvdGF0ZV95KGRlZ3JlZXMpO1xuICAgICAgICBsZXQgbmV3X3dvcmxkID0gdGhpcy51cGRhdGUoe2JveDogbmV3X2JveH0pO1xuXG4gICAgICAgIGxldCBtZXNzYWdlID0gYFlvdSB0dXJuIHRoZSBib3ggOTAgZGVncmVlcyB0byB0aGUgJHtkaXJ9YDtcblxuICAgICAgICByZXR1cm4gW25ld193b3JsZCwgbWVzc2FnZV07XG4gICAgfVxuXG4gICAgY29tbWFuZF9yb2xsX2JveChjbWQ6IFJvbGxEaXJXb3JkKTogQ29tbWFuZFJlc3VsdCB7XG4gICAgICAgIGxldCBpbm5lcl90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHdpdGhfd29ybGRfdXBkYXRlKGZ1bmN0aW9uIChlZmZlY3RzKSB7XG4gICAgICAgICAgICBsZXQgZGlyZWN0aW9uID0gd29yZF8yX2Rpci5nZXQoY21kKTtcbiAgICAgICAgICAgIGxldCBuZXdfYm94ID0gaW5uZXJfdGhpcy5ib3gucm9sbChkaXJlY3Rpb24pO1xuXG4gICAgICAgICAgICBsZXQgZGlyX21zZyA9IChjbWQgPT0gJ2xlZnQnIHx8IGNtZCA9PSAncmlnaHQnKSA/IGBvdmVyIHRvIHRoZSAke2NtZH1gIDogY21kO1xuXG4gICAgICAgICAgICBsZXQgbWVzc2FnZTogc3RyaW5nO1xuICAgICAgICAgICAgbGV0IG5ld193b3JsZDogU2luZ2xlQm94V29ybGQ7XG4gICAgICAgICAgICBpZiAoZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCA9PSBTcGlsbGFnZUxldmVsLm5vbmUpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFlvdSByb2xsIHRoZSBib3ggJHtkaXJfbXNnfS5gO1xuICAgICAgICAgICAgICAgIG5ld193b3JsZCA9IGlubmVyX3RoaXMudXBkYXRlKHtib3g6IG5ld19ib3h9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHNwaWxsX21zZyA9IHVuY2FwaXRhbGl6ZShpbm5lcl90aGlzLnNwaWxsX21lc3NhZ2UobmV3X2JveCkpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXMgeW91IHJvbGwgdGhlIGJveCAke2Rpcl9tc2d9LCAke3NwaWxsX21zZ31gO1xuXG4gICAgICAgICAgICAgICAgbmV3X3dvcmxkID0gaW5uZXJfdGhpcy51cGRhdGUoe2JveDogbmV3X2JveCwgc3BpbGxlZF9pdGVtczogZWZmZWN0cy5zcGlsbGVkX2l0ZW1zfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlZmZlY3RzLmJveF9jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlICs9ICdcXG5UaGUgYWRkZWQgc3RyZXNzIG9uIHRoZSBib3ggY2F1c2VzIGl0IHRvIGNvbGxhcHNlIGluIG9uIGl0c2VsZi4nO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnICc7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gaW5uZXJfdGhpcy5pdGVtX3NwaWxsX21lc3NhZ2UoZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbbmV3X3dvcmxkLCBtZXNzYWdlXTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29tbWFuZF9saWZ0X2JveCgpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gd2l0aF93b3JsZF91cGRhdGUoZnVuY3Rpb24gKGVmZmVjdHMpIHtcbiAgICAgICAgICAgIGxldCBuZXdfYm94ID0gaW5uZXJfdGhpcy5ib3gubGlmdCgpO1xuXG4gICAgICAgICAgICBsZXQgbXNnOiBzdHJpbmc7XG4gICAgICAgICAgICBsZXQgbmV3X3dvcmxkOiBTaW5nbGVCb3hXb3JsZDtcbiAgICAgICAgICAgIGlmIChlZmZlY3RzLnNwaWxsYWdlX2xldmVsID09IFNwaWxsYWdlTGV2ZWwubm9uZSkge1xuICAgICAgICAgICAgICAgIG1zZyA9ICdZb3UgbGlmdCB1cCB0aGUgYm94IGluIHBsYWNlLic7XG4gICAgICAgICAgICAgICAgbmV3X3dvcmxkID0gaW5uZXJfdGhpcy51cGRhdGUoe2JveDogbmV3X2JveH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgc3BpbGxfbXNnID0gdW5jYXBpdGFsaXplKGlubmVyX3RoaXMuc3BpbGxfbWVzc2FnZShuZXdfYm94KSk7XG4gICAgICAgICAgICAgICAgbXNnID0gJ0FzIHlvdSBzdGFydCB0byBsaWZ0IHVwIHRoZSBib3gsICcgKyBzcGlsbF9tc2c7XG4gICAgICAgICAgICAgICAgbmV3X3dvcmxkID0gaW5uZXJfdGhpcy51cGRhdGUoe2JveDogbmV3X2JveCwgc3BpbGxlZF9pdGVtczogZWZmZWN0cy5zcGlsbGVkX2l0ZW1zfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlZmZlY3RzLnNwaWxsYWdlX2xldmVsIDw9IFNwaWxsYWdlTGV2ZWwuaGVhdnkgJiYgIWVmZmVjdHMuYm94X2NvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIGxldCB0b3RhbF93ZWlnaHQgPSBuZXdfYm94LmNvbnRlbnRzLnJlZHVjZSgoeCwgaSkgPT4geCArIGkud2VpZ2h0KCksIDApO1xuICAgICAgICAgICAgICAgIHRvdGFsX3dlaWdodCA9IE1hdGguZmxvb3IodG90YWxfd2VpZ2h0IC8gMi45KTsgLy9ydWxlIG9mIHRodW1iIGZvciB0cmFuc2xhdGluZyBcIm5vcm1hbCBpdGVtIHdlaWdodHNcIiB0byBcIm5vcm1hbCBib3ggd2VpZ2h0c1wiXG5cbiAgICAgICAgICAgICAgICBpZiAodG90YWxfd2VpZ2h0ID4gV2VpZ2h0LnZlcnlfaGVhdnkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfd2VpZ2h0ID0gV2VpZ2h0LnZlcnlfaGVhdnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCB3ZWlnaHRfMl9tc2cgPSBNYXA8V2VpZ2h0LCBzdHJpbmc+KFtcbiAgICAgICAgICAgICAgICAgICAgW1dlaWdodC5lbXB0eSwgJ3NvIGxpZ2h0IGFzIHRvIGJlIGVtcHR5J10sXG4gICAgICAgICAgICAgICAgICAgIFtXZWlnaHQudmVyeV9saWdodCwgJ3F1aXRlIGxpZ2h0J10sXG4gICAgICAgICAgICAgICAgICAgIFtXZWlnaHQubGlnaHQsICdsaWdodCddLFxuICAgICAgICAgICAgICAgICAgICBbV2VpZ2h0Lm1lZGl1bSwgJ21lZGl1bSddLFxuICAgICAgICAgICAgICAgICAgICBbV2VpZ2h0LmhlYXZ5LCAnc29tZXdoYXQgaGVhdnknXSxcbiAgICAgICAgICAgICAgICAgICAgW1dlaWdodC52ZXJ5X2hlYXZ5LCAndmVyeSBoZWF2eSddXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgbGV0IHdlaWdodF9tc2cgPSB3ZWlnaHRfMl9tc2cuZ2V0KHRvdGFsX3dlaWdodCk7XG4gICAgICAgICAgICAgICAgbGV0IHN1YmplY3QgPSBlZmZlY3RzLnNwaWxsYWdlX2xldmVsID09IFNwaWxsYWdlTGV2ZWwubm9uZSA/ICdJdCcgOiAnVGhlIGJveCc7XG4gICAgICAgICAgICAgICAgbXNnICs9IGBcXG4ke3N1YmplY3R9IGZlZWxzICR7d2VpZ2h0X21zZ30uIFlvdSBzZXQgaXQgYmFjayBkb3duLmA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlZmZlY3RzLmJveF9jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICBtc2cgKz0gJ1xcblRoZSBhZGRlZCBzdHJlc3Mgb24gdGhlIGJveCBjYXVzZXMgaXQgdG8gY29sbGFwc2UgaW4gb24gaXRzZWxmLic7XG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdHMuY29sbGFwc2Vfc3BpbGxlZF9pdGVtcy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBtc2cgKz0gJyAnICsgaW5uZXJfdGhpcy5pdGVtX3NwaWxsX21lc3NhZ2UoZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbbmV3X3dvcmxkLCBtc2ddO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjdXRfb3JfdGFwZV9ib3gob3BlcmF0aW9uOiBFZGdlT3BXb3JkLCBmYWNlX3c6IEZhY2VXb3JkLCBkaXI6IEVkZ2VEaXJXb3JkLCBzdGFydF9wb3NfYTogUG9zaXRpb25Xb3JkLCBzdGFydF9wb3NfYjogUG9zaXRpb25Xb3JkLCBlbmRfcG9zX2I6IFBvc2l0aW9uV29yZCk6IENvbW1hbmRSZXN1bHQge1xuICAgICAgICBsZXQgaW5uZXJfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiB3aXRoX3dvcmxkX3VwZGF0ZShmdW5jdGlvbiAoZWZmZWN0cykge1xuICAgICAgICAgICAgbGV0IGZhY2UgPSB3b3JkXzJfZmFjZS5nZXQoZmFjZV93KTtcbiAgICAgICAgICAgIGlmIChmYWNlICE9PSBGYWNlLnQgJiYgZmFjZSAhPT0gRmFjZS5zKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENvbW1hbmRFcnJvcihgZmFjZSBtdXN0IGJlIGVpdGhlciB0b3Agb3IgZnJvbnQuIGdvdCAke2ZhY2Vfd31gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGRpbV8yX3BvcyA9IFtcbiAgICAgICAgICAgICAgICBbJ2xlZnQnLCAnY2VudGVyJywgJ3JpZ2h0J10sXG4gICAgICAgICAgICAgICAgWyd0b3AnLCdtaWRkbGUnLCAnYm90dG9tJ11cbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGxldCBkaW1fYTogbnVtYmVyO1xuICAgICAgICAgICAgbGV0IGRpbV9iOiBudW1iZXI7XG5cbiAgICAgICAgICAgIGlmIChkaXIgPT0gJ3ZlcnRpY2FsbHknKSB7XG4gICAgICAgICAgICAgICAgZGltX2EgPSAwO1xuICAgICAgICAgICAgICAgIGRpbV9iID0gMVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaW1fYSA9IDE7XG4gICAgICAgICAgICAgICAgZGltX2IgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGltXzJfcG9zW2RpbV9hXS5pbmRleE9mKHN0YXJ0X3Bvc19hKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb21tYW5kRXJyb3IoYGludmFsaWQgc3RhcnRfcG9zX2EgZm9yICR7ZGlyfSAke29wZXJhdGlvbn06ICR7c3RhcnRfcG9zX2F9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGltXzJfcG9zW2RpbV9iXS5pbmRleE9mKHN0YXJ0X3Bvc19iKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb21tYW5kRXJyb3IoYGludmFsaWQgc3RhcnRfcG9zX2IgZm9yICR7ZGlyfSAke29wZXJhdGlvbn06ICR7c3RhcnRfcG9zX2J9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGltXzJfcG9zW2RpbV9iXS5pbmRleE9mKGVuZF9wb3NfYikgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29tbWFuZEVycm9yKGBpbnZhbGlkIGVuZF9wb3NfYiBmb3IgJHtkaXJ9ICR7b3BlcmF0aW9ufTogJHtlbmRfcG9zX2J9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBwdDE6IFBvaW50MiA9IFtudWxsLCBudWxsXTtcbiAgICAgICAgICAgIGxldCBwdDI6IFBvaW50MiA9IFtudWxsLCBudWxsXTtcblxuICAgICAgICAgICAgcHQxW2RpbV9hXSA9IHB0MltkaW1fYV0gPSBkaW1fMl9wb3NbZGltX2FdLmluZGV4T2Yoc3RhcnRfcG9zX2EpO1xuXG4gICAgICAgICAgICBwdDFbZGltX2JdID0gZGltXzJfcG9zW2RpbV9iXS5pbmRleE9mKHN0YXJ0X3Bvc19iKTtcbiAgICAgICAgICAgIHB0MltkaW1fYl0gPSBkaW1fMl9wb3NbZGltX2JdLmluZGV4T2YoZW5kX3Bvc19iKTtcblxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHB0MVtkaW1fYl0gLSBwdDJbZGltX2JdKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENvbW1hbmRFcnJvcignbm8gY2hhbmdlIGJldHdlZW4gc3RhcnRfcG9zX2IgYW5kIGVuZF9wb3NfYi4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGN1dF9wb2ludHM6IFtQb2ludDIsIFBvaW50Ml1bXTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhwdDFbZGltX2JdIC0gcHQyW2RpbV9iXSkgPT0gMikge1xuICAgICAgICAgICAgICAgIGxldCBwdDM6IFBvaW50MiA9IFtudWxsLCBudWxsXTtcbiAgICAgICAgICAgICAgICBwdDNbZGltX2FdID0gZGltXzJfcG9zW2RpbV9hXS5pbmRleE9mKHN0YXJ0X3Bvc19hKTtcbiAgICAgICAgICAgICAgICBwdDNbZGltX2JdID0gMTtcblxuICAgICAgICAgICAgICAgIGN1dF9wb2ludHMgPSBbW3B0MSwgcHQzXSwgW3B0MywgcHQyXV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1dF9wb2ludHMgPSBbW3B0MSwgcHQyXV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjdXRfZWRnZV9zdGF0ZXMgPSBMaXN0PEVkZ2VTdGF0ZT4oKTtcblxuICAgICAgICAgICAgbGV0IG5ld19ib3ggPSBpbm5lcl90aGlzLmJveDtcblxuICAgICAgICAgICAgY3V0X3BvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChbcDEsIHAyXSkge1xuICAgICAgICAgICAgICAgIGxldCB2ZXJ0aWNlcyA9IG5ld19ib3guYm94X21lc2guZmFjZV9tZXNoZXMuZ2V0KGZhY2UpLnZlcnRpY2VzO1xuICAgICAgICAgICAgICAgIGxldCB2MSA9IHZlcnRpY2VzLmdldChwMVswXSwgcDFbMV0pO1xuICAgICAgICAgICAgICAgIGxldCB2MiA9IHZlcnRpY2VzLmdldChwMlswXSwgcDJbMV0pO1xuICAgICAgICAgICAgICAgIGxldCBlZGdlID0gbmV3IEVkZ2UodjEsIHYyKTtcblxuICAgICAgICAgICAgICAgIGN1dF9lZGdlX3N0YXRlcyA9IGN1dF9lZGdlX3N0YXRlcy5wdXNoKG5ld19ib3guZWRnZV9zdGF0ZS5nZXQoZWRnZSwgbmV3IEVkZ2VTdGF0ZSgpKSk7XG4gICAgICAgICAgICAgICAgbmV3X2JveCA9IG5ld19ib3guY3V0X29yX3RhcGUod29yZF8yX2VkZ2Vfb3AuZ2V0KG9wZXJhdGlvbiksIGZhY2UsIHAxLCBwMik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWZmZWN0cy5uZXdfZGFuZ2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChuZCkge1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3RzLm5ld19yZW5kcy5jb250YWlucyhuZC5wYXJ0aXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMubmV3X2RhbmdsZXMgPSBlZmZlY3RzLm5ld19kYW5nbGVzLnJlbW92ZShlZmZlY3RzLm5ld19kYW5nbGVzLmluZGV4T2YobmQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWZmZWN0cy5yZXBhaXJlZF9kYW5nbGVzLmZvckVhY2goZnVuY3Rpb24gKHJkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdHMubmV3X3JlbmRzLmNvbnRhaW5zKHJkLnBhcnRpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5yZXBhaXJlZF9kYW5nbGVzID0gZWZmZWN0cy5yZXBhaXJlZF9kYW5nbGVzLnJlbW92ZShlZmZlY3RzLnJlcGFpcmVkX2RhbmdsZXMuaW5kZXhPZihyZCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgbWVzc2FnZTogc3RyaW5nO1xuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PSAnY3V0Jykge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBpbm5lcl90aGlzLmN1dF9tZXNzYWdlKG5ld19ib3gsIGN1dF9lZGdlX3N0YXRlcywgZWZmZWN0cyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBpbm5lcl90aGlzLnRhcGVfbWVzc2FnZShuZXdfYm94LCBjdXRfZWRnZV9zdGF0ZXMsIGVmZmVjdHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gW2lubmVyX3RoaXMudXBkYXRlKHtib3g6IG5ld19ib3h9KSwgbWVzc2FnZV07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGN1dF9tZXNzYWdlKG5ld19ib3g6IEJveCwgY3V0X2VkZ2Vfc3RhdGVzOiBMaXN0PEVkZ2VTdGF0ZT4sIGVmZmVjdHM6IFdvcmxkVXBkYXRlRWZmZWN0cykge1xuICAgICAgICBsZXQgY3V0X21lc3NhZ2U6IHN0cmluZztcbiAgICAgICAgaWYgKGN1dF9lZGdlX3N0YXRlcy5nZXQoMCkuY2FyZGJvYXJkID09IENhcmRib2FyZEVkZ2UuaW50YWN0KSB7XG4gICAgICAgICAgICBjdXRfbWVzc2FnZSA9ICdZb3Ugc2xpZGUgeW91ciBibGFkZSBhbG9uZyB0aGUgY2FyZGJvYXJkJztcbiAgICAgICAgICAgIGlmIChjdXRfZWRnZV9zdGF0ZXMuZ2V0KDApLnRhcGUgPT0gVGFwZUVkZ2UudGFwZWQpIHtcbiAgICAgICAgICAgICAgICBjdXRfbWVzc2FnZSArPSAnIGFuZCB0YXBlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1dF9tZXNzYWdlICs9ICcuJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjdXRfZWRnZV9zdGF0ZXMuZ2V0KDApLnRhcGUgPT0gVGFwZUVkZ2UudGFwZWQpIHtcbiAgICAgICAgICAgICAgICBjdXRfbWVzc2FnZSA9ICdZb3UgZHJhdyB5b3VyIGJsYWRlIGVhc2lseSBhbG9uZyB0aGUgbGluZS4gSXQgc2xpdHMgb3BlbiB0aGUgdGhpbiBsYXllciBvZiB0YXBlIGNvdmVyaW5nIHRoZSBnYXAgaW4gdGhlIGNhcmRib2FyZC4nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXRfbWVzc2FnZSA9ICdZb3Ugc2xpZGUgeW91ciBibGFkZSBhbG9uZyB0aGUgbGluZSwgYnV0IG5vdGhpbmcgaXMgdGhlcmUgdG8gcmVzaXN0IGl0Lic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3V0X2VkZ2Vfc3RhdGVzLnNpemUgPiAxKSB7XG4gICAgICAgICAgICBpZiAoY3V0X2VkZ2Vfc3RhdGVzLmdldCgxKS5jYXJkYm9hcmQgIT0gY3V0X2VkZ2Vfc3RhdGVzLmdldCgwKS5jYXJkYm9hcmQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3V0X2VkZ2Vfc3RhdGVzLmdldCgxKS5jYXJkYm9hcmQgPT0gQ2FyZGJvYXJkRWRnZS5pbnRhY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY3V0X21lc3NhZ2UgKz0gJyBIYWxmd2F5IGFjcm9zcywgaXQgY2F0Y2hlcyBvbiBzb2xpZCBjYXJkYm9hcmQsIGFuZCB5b3UgcHVsbCBpdCBhbG9uZyB0aGUgcmVzdCBvZiB0aGUgd2F5Lic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1dF9lZGdlX3N0YXRlcy5nZXQoMSkudGFwZSA9PSBUYXBlRWRnZS50YXBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3V0X21lc3NhZ2UgKz0gJyBIYWxmd2F5IGFjcm9zcywgeW91IHJlYWNoIGEgZ2FwIGluIHRoZSBjYXJkYm9hcmQsIGFuZCB5b3VyIGJsYWRlIHNsaWRlcyBlYXNpbHkgYWxvbmcgdGhlIHRoaW4gbGF5ZXIgb2YgdGFwZS4nO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3V0X21lc3NhZ2UgKz0gJyBIYWxmd2F5IGFjcm9zcywgeW91IHJlYWNoIGEgZ2FwIGluIHRoZSBjYXJkYm9hcmQsIGFuZCB5b3VyIGJsYWRlIGlzIG1ldCB3aXRoIG5vIGZ1cnRoZXIgcmVzaXN0YW5jZS4nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBjdXRfbWVzc2FnZTtcbiAgICAgICAgaWYgKGVmZmVjdHMubmV3X3JlbmRzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICBsZXQgdG90YWxfZmFjZV9tZW1iZXJzaGlwID0gTWFwPEZhY2UsIG51bWJlcj4oKTtcbiAgICAgICAgICAgIGVmZmVjdHMubmV3X3JlbmRzLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gbmV3X2JveC5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChyKTtcbiAgICAgICAgICAgICAgICB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSBjb3VudGVyX3VwZGF0ZSh0b3RhbF9mYWNlX21lbWJlcnNoaXAsIGZhY2VfbWVtYmVyc2hpcCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgbGV0IGZhY2Vfb3JkZXIgPSBjb3VudGVyX29yZGVyKHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCk7XG4gICAgICAgICAgICBsZXQgZmFjZV9tc2cgPSBmYWNlX21lc3NhZ2UoZmFjZV9vcmRlcik7XG5cbiAgICAgICAgICAgIGxldCBuZXdfcmVuZHNfbWVzc2FnZTogc3RyaW5nO1xuICAgICAgICAgICAgaWYgKGVmZmVjdHMubmV3X3JlbmRzLnNpemUgPT0gMSkge1xuICAgICAgICAgICAgICAgIG5ld19yZW5kc19tZXNzYWdlID0gYEEgbmV3IHNlY3Rpb24gb2YgY2FyZGJvYXJkIGNvbWVzIGZyZWUgb24gdGhlICR7ZmFjZV9tc2d9LmA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld19yZW5kc19tZXNzYWdlID0gYCR7ZWZmZWN0cy5uZXdfcmVuZHMuc2l6ZX0gbmV3IHNlY3Rpb25zIG9mIGNhcmRib2FyZCBjb21lIGZyZWUgb24gdGhlICR7ZmFjZV9tc2d9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1xcbicgKyBuZXdfcmVuZHNfbWVzc2FnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlZmZlY3RzLm5ld19kYW5nbGVzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICBsZXQgdG90YWxfZmFjZV9tZW1iZXJzaGlwID0gTWFwPEZhY2UsIG51bWJlcj4oKTtcbiAgICAgICAgICAgIGVmZmVjdHMubmV3X2RhbmdsZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIGxldCBmYWNlX21lbWJlcnNoaXAgPSBuZXdfYm94LmJveF9tZXNoLmdldF9wYXJ0aXRpb25fZmFjZV9tZW1iZXJzaGlwKGQucGFydGl0aW9uKTtcbiAgICAgICAgICAgICAgICB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSBjb3VudGVyX3VwZGF0ZSh0b3RhbF9mYWNlX21lbWJlcnNoaXAsIGZhY2VfbWVtYmVyc2hpcCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgbGV0IGZhY2Vfb3JkZXIgPSBjb3VudGVyX29yZGVyKHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCk7XG4gICAgICAgICAgICBsZXQgZmFjZV9tc2cgPSBmYWNlX21lc3NhZ2UoZmFjZV9vcmRlcik7XG5cbiAgICAgICAgICAgIGxldCBuZXdfcmVuZHNfbWVzc2FnZTogc3RyaW5nO1xuICAgICAgICAgICAgaWYgKGVmZmVjdHMubmV3X2RhbmdsZXMuc2l6ZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgbmV3X3JlbmRzX21lc3NhZ2UgPSBgQSBuZXcgc2VjdGlvbiBvZiBjYXJkYm9hcmQgb24gdGhlICR7ZmFjZV9tc2d9IGNhbiBiZSBzd3VuZyBmcmVlbHkgb24gYSBoaW5nZS5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdfcmVuZHNfbWVzc2FnZSA9IGAke2VmZmVjdHMubmV3X2RhbmdsZXMuc2l6ZX0gbmV3IHNlY3Rpb25zIG9mIGNhcmRib2FyZCBvbiB0aGUgJHtmYWNlX21zZ30gY2FuIGJlIHN3dW5nIGZyZWVseSBvbiBhIGhpbmdlYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1xcbicgKyBuZXdfcmVuZHNfbWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG5cbiAgICB0YXBlX21lc3NhZ2UobmV3X2JveDogQm94LCBjdXRfZWRnZV9zdGF0ZXM6IExpc3Q8RWRnZVN0YXRlPiwgZWZmZWN0czogV29ybGRVcGRhdGVFZmZlY3RzKSB7XG4gICAgICAgIGxldCB0YXBlX21lc3NhZ2U6IHN0cmluZztcbiAgICAgICAgaWYgKGN1dF9lZGdlX3N0YXRlcy5zb21lKChjZXMpID0+IGNlcy5jYXJkYm9hcmQgPT0gQ2FyZGJvYXJkRWRnZS5pbnRhY3QpKSB7XG4gICAgICAgICAgICB0YXBlX21lc3NhZ2UgPSAnWW91IGRyYXcgb3V0IGEgbGVuZ3RoIG9mIHRhcGUgYW5kIGZhc3RlbiBpdCB0byB0aGUgY2FyZGJvYXJkLic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoY3V0X2VkZ2Vfc3RhdGVzLnNvbWUoKGNlcykgPT4gY2VzLnRhcGUgPT0gVGFwZUVkZ2UudGFwZWQpKSB7XG4gICAgICAgICAgICAgICAgdGFwZV9tZXNzYWdlID0gJ1lvdSBsYXkgYW5vdGhlciBsZW5ndGggb2YgdGFwZSBvdmVyIHRoZSBjdXQgZWRnZS4nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXBlX21lc3NhZ2UgPSAnWW91IHNlYWwgdGhlIGdhcCBpbiB0aGUgY2FyZGJvYXJkIHdpdGggYSBsZW5ndGggb2YgdGFwZS4nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB0YXBlX21lc3NhZ2U7XG4gICAgICAgIGlmIChlZmZlY3RzLnJlcGFpcmVkX2RhbmdsZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGxldCB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSBNYXA8RmFjZSwgbnVtYmVyPigpO1xuICAgICAgICAgICAgZWZmZWN0cy5yZXBhaXJlZF9kYW5nbGVzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gbmV3X2JveC5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChkLnBhcnRpdGlvbik7XG4gICAgICAgICAgICAgICAgdG90YWxfZmFjZV9tZW1iZXJzaGlwID0gY291bnRlcl91cGRhdGUodG90YWxfZmFjZV9tZW1iZXJzaGlwLCBmYWNlX21lbWJlcnNoaXApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGxldCBmYWNlX29yZGVyID0gY291bnRlcl9vcmRlcih0b3RhbF9mYWNlX21lbWJlcnNoaXApO1xuICAgICAgICAgICAgbGV0IGZhY2VfbXNnID0gZmFjZV9tZXNzYWdlKGZhY2Vfb3JkZXIpO1xuXG4gICAgICAgICAgICBsZXQgcmVwYWlyZWRfZGFuZ2xlc19tZXNzYWdlOiBzdHJpbmc7XG4gICAgICAgICAgICBpZiAoZWZmZWN0cy5uZXdfcmVuZHMuc2l6ZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVwYWlyZWRfZGFuZ2xlc19tZXNzYWdlID0gYEEgZm9ybWVybHkgZnJlZWx5LXN3aW5naW5nIHNlY3Rpb24gb2YgY2FyZGJvYXJkIG9uIHRoZSAke2ZhY2VfbXNnfSBjYW4gbm8gbG9uZ2VyIHN3aW5nIG9uIGl0cyBoaW5nZS5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXBhaXJlZF9kYW5nbGVzX21lc3NhZ2UgPSBgJHtmYWNlX29yZGVyLnNpemV9IGZvcm1lcmx5IGZyZWVseS1zd2luZ2luZyBzZWN0aW9ucyBvZiBjYXJkYm9hcmQgb24gdGhlICR7ZmFjZV9tc2d9IGNhbiBubyBsb25nZXIgc3dpbmcgb24gdGhlaXIgaGluZ2VzLmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXNzYWdlICs9ICdcXG4nICsgcmVwYWlyZWRfZGFuZ2xlc19tZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cblxuICAgIGNvbW1hbmRfY3V0X2JveChmYWNlX3c6IEZhY2VXb3JkLCBkaXI6IEVkZ2VEaXJXb3JkLCBzdGFydF9wb3NfYTogUG9zaXRpb25Xb3JkLCBzdGFydF9wb3NfYjogUG9zaXRpb25Xb3JkLCBlbmRfcG9zX2I6IFBvc2l0aW9uV29yZCk6IENvbW1hbmRSZXN1bHQge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXRfb3JfdGFwZV9ib3goJ2N1dCcsIGZhY2VfdywgZGlyLCBzdGFydF9wb3NfYSwgc3RhcnRfcG9zX2IsIGVuZF9wb3NfYik7XG4gICAgfVxuXG4gICAgY29tbWFuZF90YXBlX2JveChmYWNlX3c6IEZhY2VXb3JkLCBkaXI6IEVkZ2VEaXJXb3JkLCBzdGFydF9wb3NfYTogUG9zaXRpb25Xb3JkLCBzdGFydF9wb3NfYjogUG9zaXRpb25Xb3JkLCBlbmRfcG9zX2I6IFBvc2l0aW9uV29yZCk6IENvbW1hbmRSZXN1bHQge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXRfb3JfdGFwZV9ib3goJ3RhcGUnLCBmYWNlX3csIGRpciwgc3RhcnRfcG9zX2EsIHN0YXJ0X3Bvc19iLCBlbmRfcG9zX2IpO1xuICAgIH1cblxuICAgIGl0ZW1fc3BpbGxfbWVzc2FnZShzcGlsbGVkX2l0ZW1zOiBMaXN0PEl0ZW0+KXtcbiAgICAgICAgbGV0IHNpID0gc3BpbGxlZF9pdGVtcztcbiAgICAgICAgbGV0IGR1cmluZ19zcGlsbF9tc2c6IHN0cmluZztcbiAgICAgICAgbGV0IGFmdGVyX3NwaWxsX21zZzogc3RyaW5nO1xuXG4gICAgICAgIGlmIChzaS5zaXplID09IDEpIHtcbiAgICAgICAgICAgIGxldCBpdGVtX21zZyA9IHNpLmdldCgwKS5wcmVfZ2VzdGFsdCgpO1xuICAgICAgICAgICAgZHVyaW5nX3NwaWxsX21zZyA9IGAke2NhcGl0YWxpemUoaXRlbV9tc2cpfSBzcGlsbHMgb3V0IGJlZm9yZSB5b3UuYDtcbiAgICAgICAgICAgIGFmdGVyX3NwaWxsX21zZyA9IGBJdCdzICR7c2kuZ2V0KDApLmFydGljbGUoKX0gJHtzaS5nZXQoMCkubmFtZSgpfSAtICR7c2kuZ2V0KDApLnBvc3RfZ2VzdGFsdCgpfS5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGl0ZW1fbXNnID0gc2kuYnV0TGFzdCgpLm1hcCgoaSkgPT4gaS5wcmVfZ2VzdGFsdCgpKS5qb2luKCcsICcpICsgJyBhbmQgJyArIHNpLmxhc3QoKS5wcmVfZ2VzdGFsdCgpO1xuICAgICAgICAgICAgZHVyaW5nX3NwaWxsX21zZyA9IGNhcGl0YWxpemUoYCR7aXRlbV9tc2d9IHNwaWxsIG91dCBiZWZvcmUgeW91LmApO1xuXG4gICAgICAgICAgICBsZXQgYWZ0ZXJfbXNncyA9IHNpLm1hcCgoaSkgPT4gYCR7aS5hcnRpY2xlKCl9ICR7aS5uYW1lKCl9IC0gJHtpLnBvc3RfZ2VzdGFsdCgpfWApO1xuICAgICAgICAgICAgYWZ0ZXJfc3BpbGxfbXNnID0gXCJJdCdzIFwiICsgYWZ0ZXJfbXNncy5idXRMYXN0KCkuam9pbignLCAnKSArICcgYW5kICcgKyBhZnRlcl9tc2dzLmxhc3QoKSArICcuJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzcGlsbF9tc2cgPSBkdXJpbmdfc3BpbGxfbXNnICsgJyAnICsgYWZ0ZXJfc3BpbGxfbXNnO1xuICAgICAgICByZXR1cm4gc3BpbGxfbXNnO1xuICAgIH1cblxuICAgIHNwaWxsX21lc3NhZ2UobmV3X2JveDogQm94KSB7XG4gICAgICAgIGxldCBlZmZlY3RzID0gd29ybGRfdXBkYXRlLmVmZmVjdHM7XG5cbiAgICAgICAgbGV0IHN0cnVjdHVyYWxfZG1nX21zZ3MgPSBMaXN0PHN0cmluZz4oKTtcblxuICAgICAgICBpZiAoZWZmZWN0cy5zcGlsbGVkX3JlbmRzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICBsZXQgdG90YWxfZmFjZV9tZW1iZXJzaGlwID0gTWFwPEZhY2UsIG51bWJlcj4oKTtcbiAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9yZW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChzcikge1xuICAgICAgICAgICAgICAgIGxldCBzcl9tZW0gPSBuZXdfYm94LmJveF9tZXNoLmdldF9wYXJ0aXRpb25fZmFjZV9tZW1iZXJzaGlwKHNyKTtcbiAgICAgICAgICAgICAgICB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSBjb3VudGVyX3VwZGF0ZSh0b3RhbF9mYWNlX21lbWJlcnNoaXAsIHNyX21lbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCBzcl9mYWNlcyA9IGNvdW50ZXJfb3JkZXIodG90YWxfZmFjZV9tZW1iZXJzaGlwKTtcbiAgICAgICAgICAgIGxldCBmX21zZyA9IGZhY2VfbWVzc2FnZShzcl9mYWNlcyk7XG4gICAgICAgICAgICBsZXQgc3BpbGxlZF9yZW5kc19tc2cgPSBgZnJlZSBjYXJkYm9hcmQgb24gdGhlICR7Zl9tc2d9IGZhbGxzIGF3YXlgO1xuICAgICAgICAgICAgc3RydWN0dXJhbF9kbWdfbXNncyA9IHN0cnVjdHVyYWxfZG1nX21zZ3MucHVzaChzcGlsbGVkX3JlbmRzX21zZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWZmZWN0cy5zcGlsbGVkX2RhbmdsZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGxldCB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSBNYXA8RmFjZSwgbnVtYmVyPigpO1xuICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX2RhbmdsZXMuZm9yRWFjaChmdW5jdGlvbiAoc2QpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2RfbWVtID0gbmV3X2JveC5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChzZC5wYXJ0aXRpb24pO1xuICAgICAgICAgICAgICAgIHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCA9IGNvdW50ZXJfdXBkYXRlKHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCwgc2RfbWVtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGV0IHNkX2ZhY2VzID0gY291bnRlcl9vcmRlcih0b3RhbF9mYWNlX21lbWJlcnNoaXApO1xuICAgICAgICAgICAgbGV0IGZfbXNnID0gZmFjZV9tZXNzYWdlKHNkX2ZhY2VzKTtcbiAgICAgICAgICAgIGxldCBzcGlsbGVkX2RhbmdsZXNfbXNnID0gYGRhbmdsaW5nIGNhcmRib2FyZCBvbiB0aGUgJHtmX21zZ30gc3dpbmdzIG9wZW5gO1xuICAgICAgICAgICAgc3RydWN0dXJhbF9kbWdfbXNncyA9IHN0cnVjdHVyYWxfZG1nX21zZ3MucHVzaChzcGlsbGVkX2RhbmdsZXNfbXNnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzcGlsbF9tc2cgPSB0aGlzLml0ZW1fc3BpbGxfbWVzc2FnZShlZmZlY3RzLnNwaWxsZWRfaXRlbXMpO1xuICAgICAgICBsZXQgcmVzdWx0OiBzdHJpbmc7XG5cbiAgICAgICAgaWYgKHN0cnVjdHVyYWxfZG1nX21zZ3Muc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGxldCBzdHJ1Y3R1cmVfZG1nX21zZyA9IHN0cnVjdHVyYWxfZG1nX21zZ3Muam9pbignIGFuZCAnKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGAke3N0cnVjdHVyZV9kbWdfbXNnfS4gJHtzcGlsbF9tc2d9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHNwaWxsX21zZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGNvbW1hbmRfb3Blbl9kYW5nbGUoZmFjZTogRmFjZVdvcmQpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3Blbl9vcl9jbG9zZV9kYW5nbGUoJ29wZW4nLCBmYWNlKTtcbiAgICB9XG5cbiAgICBjb21tYW5kX2Nsb3NlX2RhbmdsZShmYWNlOiBGYWNlV29yZCk6IENvbW1hbmRSZXN1bHQge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuX29yX2Nsb3NlX2RhbmdsZSgnY2xvc2UnLCBmYWNlKTtcbiAgICB9XG5cbiAgICBvcGVuX29yX2Nsb3NlX2RhbmdsZShvcGVyYXRpb246IFJlbmRPcFdvcmQsIGZhY2VfdzogRmFjZVdvcmQpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gd2l0aF93b3JsZF91cGRhdGUoZnVuY3Rpb24gKGVmZmVjdHMpIHtcbiAgICAgICAgICAgIGxldCBmYWNlID0gd29yZF8yX2ZhY2UuZ2V0KGZhY2VfdylcbiAgICAgICAgICAgIGxldCBhcHBsaWNhYmxlX2RhbmdsZXMgPSBpbm5lcl90aGlzLmJveC5kYW5nbGVfc3RhdGUua2V5U2VxKCkuZmlsdGVyKChkKSA9PiBkLmZyZWVfZmFjZSA9PSBmYWNlKTtcbiAgICAgICAgICAgIGxldCBuZXdfYm94ID0gaW5uZXJfdGhpcy5ib3g7XG4gICAgICAgICAgICBsZXQgdXBkYXRlZCA9IExpc3Q8RGFuZ2xlPigpO1xuICAgICAgICAgICAgYXBwbGljYWJsZV9kYW5nbGVzLmZvckVhY2goZnVuY3Rpb24gKGQpe1xuICAgICAgICAgICAgICAgIGxldCBlcnIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXdfYm94ID0gbmV3X2JveC5vcGVuX29yX2Nsb3NlX2RhbmdsZSh3b3JkXzJfcmVuZF9vcC5nZXQob3BlcmF0aW9uKSwgZCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgV29ybGRVcGRhdGVFcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZCA9IHVwZGF0ZWQucHVzaChkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh1cGRhdGVkLnNpemUgPT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKGBObyBkYW5nbGVzIHRvICR7b3BlcmF0aW9ufSBvbiAke2ZhY2Vfd30gZmFjZWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgc3dpbmdfZGlyX21zZyA9IG9wZXJhdGlvbiA9PSAnY2xvc2UnID8gJ2luJyA6ICdvdXQnO1xuICAgICAgICAgICAgbGV0IG51bV9oaW5nZXMgPSB1cGRhdGVkLm1hcCgoZCkgPT4gZC5maXhlZF9mYWNlKS50b1NldCgpLnNpemU7XG4gICAgICAgICAgICBsZXQgaGluZ2VfbXNnOiBzdHJpbmc7XG4gICAgICAgICAgICBpZiAobnVtX2hpbmdlcyA9PSAxKSB7XG4gICAgICAgICAgICAgICAgaGluZ2VfbXNnID0gJ2hpbmdlJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGluZ2VfbXNnID0gJ2hpbmdlcyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBtZXNzYWdlID0gYFlvdSBzd2luZyB0aGUgY2FyZGJvYXJkIG9uIHRoZSAke2ZhY2Vfd30gb2YgdGhlIGJveCAke3N3aW5nX2Rpcl9tc2d9IG9uIGl0cyAke2hpbmdlX21zZ31gO1xuICAgICAgICAgICAgaWYgKCFpbm5lcl90aGlzLmJveC5hcHBlYXJzX29wZW4oKSAmJiBuZXdfYm94LmFwcGVhcnNfb3BlbigpKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnXFxuWW91IGdldCBhIGdsaW1wc2UgaW5zaWRlIHRoZSBib3ggdGhyb3VnaCB0aGUgb3BlbmluZy4nO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5ld19ib3guYXBwZWFyc19lbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gXCIgSXQncyBlbXB0eS5cIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IGAgWW91IGNhbiBzZWUgJHtuZXdfYm94Lm5leHRfaXRlbSgpLnByZV9nZXN0YWx0KCl9IGluc2lkZS5gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlZmZlY3RzLmJveF9jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlICs9ICdcXG5UaGUgYWRkZWQgc3RyZXNzIG9uIHRoZSBib3ggY2F1c2VzIGl0IHRvIGNvbGxhcHNlIGluIG9uIGl0c2VsZi4nO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnICcgKyBpbm5lcl90aGlzLml0ZW1fc3BpbGxfbWVzc2FnZShlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbaW5uZXJfdGhpcy51cGRhdGUoe2JveDogbmV3X2JveH0pLCBtZXNzYWdlXTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29tbWFuZF9vcGVuX3JlbmQoZmFjZV93OiBGYWNlV29yZCk6IENvbW1hbmRSZXN1bHQge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuX29yX2Nsb3NlX3JlbmQoJ29wZW4nLCBmYWNlX3cpO1xuICAgIH1cblxuICAgIGNvbW1hbmRfY2xvc2VfcmVuZChmYWNlX3c6IEZhY2VXb3JkKTogQ29tbWFuZFJlc3VsdCB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wZW5fb3JfY2xvc2VfcmVuZCgnY2xvc2UnLCBmYWNlX3cpO1xuICAgIH1cblxuICAgIG9wZW5fb3JfY2xvc2VfcmVuZChvcGVyYXRpb246IFJlbmRPcFdvcmQsIGZhY2VfdzogRmFjZVdvcmQpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gd2l0aF93b3JsZF91cGRhdGUoZnVuY3Rpb24gKGVmZmVjdHMpIHtcbiAgICAgICAgICAgIGxldCBmYWNlID0gd29yZF8yX2ZhY2UuZ2V0KGZhY2Vfdyk7XG4gICAgICAgICAgICBsZXQgYXBwbGljYWJsZV9yZW5kcyA9IExpc3Q8UGFydGl0aW9uPigpO1xuICAgICAgICAgICAgaW5uZXJfdGhpcy5ib3gucmVuZF9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzLCByKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZhY2VfbWVtYmVyc2hpcCA9IGlubmVyX3RoaXMuYm94LmJveF9tZXNoLmdldF9wYXJ0aXRpb25fZmFjZV9tZW1iZXJzaGlwKHIpO1xuICAgICAgICAgICAgICAgIGlmIChmYWNlX21lbWJlcnNoaXAuZ2V0KGZhY2UpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhcHBsaWNhYmxlX3JlbmRzID0gYXBwbGljYWJsZV9yZW5kcy5wdXNoKHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgbmV3X2JveCA9IGlubmVyX3RoaXMuYm94O1xuICAgICAgICAgICAgbGV0IHVwZGF0ZWQgPSBMaXN0PFBhcnRpdGlvbj4oKTtcbiAgICAgICAgICAgIGFwcGxpY2FibGVfcmVuZHMuZm9yRWFjaChmdW5jdGlvbiAocil7XG4gICAgICAgICAgICAgICAgbGV0IGVyciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld19ib3ggPSBuZXdfYm94Lm9wZW5fb3JfY2xvc2VfcmVuZCh3b3JkXzJfcmVuZF9vcC5nZXQob3BlcmF0aW9uKSwgcik7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgV29ybGRVcGRhdGVFcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZCA9IHVwZGF0ZWQucHVzaChyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh1cGRhdGVkLnNpemUgPT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKGBObyByZW5kcyB0byAke29wZXJhdGlvbn0gb24gJHtmYWNlX3d9IGZhY2VgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCA9IE1hcDxGYWNlLCBudW1iZXI+KCk7XG4gICAgICAgICAgICB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSB1cGRhdGVkLnJlZHVjZShcbiAgICAgICAgICAgICAgICAodG90YWwsIHIpID0+IGNvdW50ZXJfdXBkYXRlKFxuICAgICAgICAgICAgICAgICAgICB0b3RhbCxcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJfdGhpcy5ib3guYm94X21lc2guZ2V0X3BhcnRpdGlvbl9mYWNlX21lbWJlcnNoaXAocikpLFxuICAgICAgICAgICAgICAgIHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCk7XG5cbiAgICAgICAgICAgIGxldCBmYWNlX21zZyA9IGZhY2VfbWVzc2FnZShjb3VudGVyX29yZGVyKHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCkpO1xuXG4gICAgICAgICAgICBsZXQgbWVzc2FnZTogc3RyaW5nO1xuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PSAnb3BlbicpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFlvdSByZW1vdmUgdGhlIGZyZWUgY2FyZGJvYXJkIGZyb20gdGhlICR7ZmFjZV9tc2d9IGFuZCBwbGFjZSBpdCB0byB0aGUgc2lkZS5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBgWW91IHJlcGxhY2UgdGhlIG1pc3NpbmcgY2FyZGJvYXJkIGZyb20gdGhlICR7ZmFjZV9tc2d9LmA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaW5uZXJfdGhpcy5ib3guYXBwZWFyc19vcGVuKCkgJiYgbmV3X2JveC5hcHBlYXJzX29wZW4oKSkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1xcbllvdSBnZXQgYSBnbGltcHNlIGluc2lkZSB0aGUgYm94IHRocm91Z2ggdGhlIG9wZW5pbmcuJztcblxuICAgICAgICAgICAgICAgIGlmIChuZXdfYm94LmFwcGVhcnNfZW1wdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IFwiIEl0J3MgZW1wdHkuXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBgIFlvdSBjYW4gc2VlICR7bmV3X2JveC5uZXh0X2l0ZW0oKS5wcmVfZ2VzdGFsdCgpfSBpbnNpZGUuYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZWZmZWN0cy5ib3hfY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnXFxuVGhlIGFkZGVkIHN0cmVzcyBvbiB0aGUgYm94IGNhdXNlcyBpdCB0byBjb2xsYXBzZSBpbiBvbiBpdHNlbGYuJztcbiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gJyAnICsgaW5uZXJfdGhpcy5pdGVtX3NwaWxsX21lc3NhZ2UoZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW2lubmVyX3RoaXMudXBkYXRlKHtib3g6IG5ld19ib3h9KSwgbWVzc2FnZV07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbW1hbmRfdGFrZV9pdGVtX2JveCgpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gd2l0aF93b3JsZF91cGRhdGUoZnVuY3Rpb24gKGVmZmVjdHMpIHtcbiAgICAgICAgICAgIGxldCBuZXdfYm94ID0gaW5uZXJfdGhpcy5ib3gudGFrZV9uZXh0X2l0ZW0oKTtcblxuICAgICAgICAgICAgbGV0IG5ld190YWtlbl9pdGVtcyA9IGlubmVyX3RoaXMudGFrZW5faXRlbXM7XG4gICAgICAgICAgICBuZXdfdGFrZW5faXRlbXMucHVzaCguLi5lZmZlY3RzLnRha2VuX2l0ZW1zLnRvQXJyYXkoKSk7XG5cbiAgICAgICAgICAgIGxldCBpdGVtID0gZWZmZWN0cy50YWtlbl9pdGVtcy5nZXQoMCk7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZSA9IGBZb3UgcmVhY2ggaW4gYW5kIHRha2UgJHtpdGVtLnByZV9nZXN0YWx0KCl9LiBJdCdzICR7aXRlbS5wb3N0X2dlc3RhbHQoKX07ICR7aXRlbS5hcnRpY2xlKCl9ICR7aXRlbS5uYW1lKCl9LmA7XG4gICAgICAgIFxuICAgICAgICAgICAgaWYgKG5ld19ib3guYXBwZWFyc19lbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnXFxuVGhlIGJveCBpcyBlbXB0eSBub3cuJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPSBgXFxuWW91IGNhbiBub3cgc2VlICR7bmV3X2JveC5uZXh0X2l0ZW0oKS5wcmVfZ2VzdGFsdCgpfSBpbnNpZGUgdGhlIGJveC5gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gW2lubmVyX3RoaXMudXBkYXRlKHtib3g6IG5ld19ib3gsIHRha2VuX2l0ZW1zOiBuZXdfdGFrZW5faXRlbXN9KSwgbWVzc2FnZV07XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFdvcmxkRHJpdmVyIHtcbiAgICB3b3JsZDogU2luZ2xlQm94V29ybGQ7XG5cbiAgICBjb25zdHJ1Y3RvciAoaW5pdGlhbF93b3JsZDogU2luZ2xlQm94V29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IGluaXRpYWxfd29ybGQ7XG4gICAgfVxuXG4gICAgYXBwbHlfY29tbWFuZChjbWRfbmFtZTogVG9rZW4sIC4uLmNtZF9hcmdzOiBUb2tlbltdKSB7XG4gICAgICAgIGxldCBjbWRfbWV0aG9kOiAoLi4uY21kX2FyZ3M6IFRva2VuW10pID0+IENvbW1hbmRSZXN1bHQ7XG4gICAgICAgIHN3aXRjaCAoY21kX25hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JvdGF0ZV95X2JveCc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9yb3RhdGVfeV9ib3g7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyb2xsX2JveCc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9yb2xsX2JveDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xpZnRfYm94JzpcbiAgICAgICAgICAgICAgICBjbWRfbWV0aG9kID0gdGhpcy53b3JsZC5jb21tYW5kX2xpZnRfYm94O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY3V0X2JveCc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9jdXRfYm94O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndGFwZV9ib3gnOlxuICAgICAgICAgICAgICAgIGNtZF9tZXRob2QgPSB0aGlzLndvcmxkLmNvbW1hbmRfdGFwZV9ib3g7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdvcGVuX2RhbmdsZSc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9vcGVuX2RhbmdsZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Nsb3NlX2RhbmdsZSc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9jbG9zZV9kYW5nbGU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdvcGVuX3JlbmQnOlxuICAgICAgICAgICAgICAgIGNtZF9tZXRob2QgPSB0aGlzLndvcmxkLmNvbW1hbmRfb3Blbl9yZW5kO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY2xvc2VfcmVuZCc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9jbG9zZV9yZW5kO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndGFrZV9pdGVtX2JveCc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF90YWtlX2l0ZW1fYm94O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29tbWFuZEVycm9yKGBpbnZhbGlkIGNtZF9uYW1lIGdpdmVuOiAke2NtZF9uYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBbbmV3X3dvcmxkLCBtc2ddID0gY21kX21ldGhvZC5hcHBseSh0aGlzLndvcmxkLCBjbWRfYXJncyk7XG4gICAgICAgIGxldCB0b2tlbnM6IFRva2VuW10gPSBbY21kX25hbWVdO1xuICAgICAgICB0b2tlbnMucHVzaCguLi5jbWRfYXJncyk7XG4gICAgICAgIC8vY29uc29sZS5sb2coJz4gJyArIHRva2Vucy5qb2luKCcgJykgKyAnXFxuJyk7XG4gICAgICAgIC8vY29uc29sZS5sb2cobXNnICsgJ1xcbicpO1xuICAgICAgICB0aGlzLndvcmxkID0gbmV3X3dvcmxkO1xuICAgICAgICByZXR1cm4gbXNnXG4gICAgfVxuXG4gICAgcnVuKGNtZDogc3RyaW5nKSB7XG4gICAgICAgIGxldCBbY21kX25hbWUsIGNtZF9hcmdzXTogW1Rva2VuLCBUb2tlbltdXSA9IHBhcnNlX2NvbW1hbmQoY21kKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHlfY29tbWFuZChjbWRfbmFtZSwgLi4uY21kX2FyZ3MpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlX2NvbW1hbmQoY21kOiBzdHJpbmcpOiBbVG9rZW4sIFRva2VuW11dIHtcbiAgICBsZXQgdG9rZW5zID0gY21kLnNwbGl0KC9cXHMrLyk7XG4gICAgY29uc29sZS5sb2codG9rZW5zKTtcbiAgICByZXR1cm4gW3Rva2Vuc1swXSwgdG9rZW5zLnNsaWNlKDEpXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlc3QoKSB7XG4gICAgbGV0IGNvbnRlbnRzID0gTGlzdDxJdGVtPihbbmV3IENvZGV4KCksIG5ldyBQaW5lY29uZSgpLCBuZXcgQ2l0eUtleSgpXSk7XG4gICAgbGV0IHdvcmxkID0gbmV3IFNpbmdsZUJveFdvcmxkKHtib3g6IG5ldyBCb3goe2NvbnRlbnRzOiBjb250ZW50c30pfSk7XG5cbiAgICBjb25zb2xlLmxvZygnTkVXIFdPUkxEOiB0ZXN0IGhlYXZ5IHNwaWxsYWdlIHdoZW4gcm9sbGluZ1xcblxcblxcbicpO1xuXG4gICAgbGV0IGQgPSBuZXcgV29ybGREcml2ZXIod29ybGQpO1xuICAgIGQuYXBwbHlfY29tbWFuZCgnbGlmdF9ib3gnKTtcbiAgICBkLmFwcGx5X2NvbW1hbmQoJ3JvbGxfYm94JywgJ2ZvcndhcmQnKTtcbiAgICBkLmFwcGx5X2NvbW1hbmQoJ3JvdGF0ZV95X2JveCcsICdsZWZ0Jyk7XG5cbiAgICAvLyBjdXQgdGhlIHRvcCBmYWNlIHZlcnRpY2FsbHkgYWxvbmcgdGhlIGNlbnRlciBmcm9tIHRvcCB0byBib3R0b21cbiAgICBkLmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAndG9wJywgJ3ZlcnRpY2FsbHknLCAnY2VudGVyJywgJ3RvcCcsICdib3R0b20nKTtcblxuICAgIC8vIGN1dCB0aGUgdG9wIGZhY2UgdmVydGljYWxseSBhbG9uZyB0aGUgcmlnaHQgZWRnZSBmcm9tIHRvcCB0byBib3R0b21cbiAgICBkLmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAndG9wJywgJ3ZlcnRpY2FsbHknLCAncmlnaHQnLCAndG9wJywgJ2JvdHRvbScpO1xuXG4gICAgLy8gc2hvdWxkIHJlc3VsdCBpbiBhIGRhbmdsZVxuICAgIC8vIGN1dCB0aGUgdG9wIGZhY2UgaG9yaXpvbnRhbGx5IGFsb25nIHRoZSB0b3AgZWRnZSBmcm9tIGNlbnRlciB0byByaWdodFxuICAgIGQuYXBwbHlfY29tbWFuZCgnY3V0X2JveCcsICd0b3AnLCAnaG9yaXpvbnRhbGx5JywgJ3RvcCcsICdjZW50ZXInLCAncmlnaHQnKTtcblxuICAgIC8vIHNob3VsZCByZXN1bHQgaW4gYSByZW5kXG4gICAgLy8gY3V0IHRoZSB0b3AgZmFjZSBob3Jpem9udGFsbHkgYWxvbmcgdGhlIGJvdHRvbSBlZGdlIGZyb20gY2VudGVyIHRvIHJpZ2h0XG4gICAgZC5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ3RvcCcsICdob3Jpem9udGFsbHknLCAnYm90dG9tJywgJ2NlbnRlcicsICdyaWdodCcpO1xuXG4gICAgZC5hcHBseV9jb21tYW5kKCdyb2xsX2JveCcsICdmb3J3YXJkJyk7XG5cbiAgICAvLyBzaG91bGQgcmVzdWx0IGluIHRoZSByZW5kIGZhY2luZyBzdHJhaWdodCBkb3duLCBtYXliZSBzcGlsbGluZ1xuICAgIGQuYXBwbHlfY29tbWFuZCgncm9sbF9ib3gnLCAnZm9yd2FyZCcpO1xuXG4gICAgZC5hcHBseV9jb21tYW5kKCdsaWZ0X2JveCcpO1xuXG4gICAgY29uc29sZS5sb2coJ1xcblxcblxcbk5FVyBXT1JMRDogdGVzdCBoZWF2eSBzcGlsbGFnZSBhbmQgY29sbGFwc2UgZnJvbSBib3R0b20gd2hlbiBsaWZ0aW5nXFxuXFxuXFxuJyk7XG4gICAgbGV0IGQyID0gbmV3IFdvcmxkRHJpdmVyKHdvcmxkKTtcblxuICAgIGQyLmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAnZnJvbnQnLCAnaG9yaXpvbnRhbGx5JywgJ2JvdHRvbScsICdsZWZ0JywgJ3JpZ2h0Jyk7XG4gICAgZDIuYXBwbHlfY29tbWFuZCgncm90YXRlX3lfYm94JywgJ2xlZnQnKTtcbiAgICBkMi5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ2Zyb250JywgJ2hvcml6b250YWxseScsICdib3R0b20nLCAnbGVmdCcsICdyaWdodCcpO1xuICAgIGQyLmFwcGx5X2NvbW1hbmQoJ3JvdGF0ZV95X2JveCcsICdsZWZ0Jyk7XG4gICAgZDIuYXBwbHlfY29tbWFuZCgnY3V0X2JveCcsICdmcm9udCcsICdob3Jpem9udGFsbHknLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnKTtcbiAgICBkMi5hcHBseV9jb21tYW5kKCdyb3RhdGVfeV9ib3gnLCAnbGVmdCcpO1xuICAgIGQyLmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAnZnJvbnQnLCAnaG9yaXpvbnRhbGx5JywgJ2JvdHRvbScsICdsZWZ0JywgJ3JpZ2h0Jyk7XG4gICAgZDIuYXBwbHlfY29tbWFuZCgnbGlmdF9ib3gnKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnXFxuXFxuXFxuTkVXIFdPUkxEOiB0ZXN0IHRhcGluZ1xcblxcblxcbicpO1xuICAgIGxldCBkMyA9IG5ldyBXb3JsZERyaXZlcih3b3JsZCk7XG5cbiAgICBkMy5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ3RvcCcsICdob3Jpem9udGFsbHknLCAndG9wJywgJ2xlZnQnLCAncmlnaHQnKTtcbiAgICBkMy5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ3RvcCcsICdob3Jpem9udGFsbHknLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnKTtcbiAgICBkMy5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ3RvcCcsICd2ZXJ0aWNhbGx5JywgJ2xlZnQnLCAndG9wJywgJ2JvdHRvbScpO1xuXG4gICAgZDMuYXBwbHlfY29tbWFuZCgnb3Blbl9kYW5nbGUnLCAndG9wJyk7XG4gICAgZDMuYXBwbHlfY29tbWFuZCgndGFrZV9pdGVtX2JveCcpO1xuXG4gICAgZDMuYXBwbHlfY29tbWFuZCgnY2xvc2VfZGFuZ2xlJywgJ3RvcCcpO1xuXG4gICAgZDMuYXBwbHlfY29tbWFuZCgnY3V0X2JveCcsICd0b3AnLCAndmVydGljYWxseScsICdyaWdodCcsICd0b3AnLCAnYm90dG9tJyk7XG4gICAgZDMuYXBwbHlfY29tbWFuZCgnb3Blbl9yZW5kJywgJ3RvcCcpO1xuICAgIGQzLmFwcGx5X2NvbW1hbmQoJ3Rha2VfaXRlbV9ib3gnKTtcbiAgICBkMy5hcHBseV9jb21tYW5kKCd0YWtlX2l0ZW1fYm94Jyk7XG4gICAgZDMuYXBwbHlfY29tbWFuZCgnY2xvc2VfcmVuZCcsICd0b3AnKTtcblxuICAgIGQzLmFwcGx5X2NvbW1hbmQoJ3RhcGVfYm94JywgJ3RvcCcsICd2ZXJ0aWNhbGx5JywgJ3JpZ2h0JywgJ3RvcCcsICdib3R0b20nKTtcbiAgICBkMy5hcHBseV9jb21tYW5kKCd0YXBlX2JveCcsICd0b3AnLCAndmVydGljYWxseScsICdsZWZ0JywgJ3RvcCcsICdtaWRkbGUnKTtcblxuICAgIGNvbnNvbGUubG9nKCdcXG5cXG5cXG5ORVcgV09STEQ6IHRlc3QgbGlnaHQgc3BpbGxhZ2Ugd2hlbiByb2xsaW5nIGFuZCBsaWZ0aW5nXFxuXFxuXFxuJyk7XG4gICAgbGV0IGQ0ID0gbmV3IFdvcmxkRHJpdmVyKHdvcmxkKTtcblxuICAgIGQ0LmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAnZnJvbnQnLCAnaG9yaXpvbnRhbGx5JywgJ3RvcCcsICdsZWZ0JywgJ3JpZ2h0Jyk7XG4gICAgZDQuYXBwbHlfY29tbWFuZCgnY3V0X2JveCcsICdmcm9udCcsICdob3Jpem9udGFsbHknLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnKTtcbiAgICBkNC5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ2Zyb250JywgJ3ZlcnRpY2FsbHknLCAnbGVmdCcsICd0b3AnLCAnYm90dG9tJyk7XG5cbiAgICBkNC5hcHBseV9jb21tYW5kKCdsaWZ0X2JveCcpO1xuXG4gICAgZDQuYXBwbHlfY29tbWFuZCgnY3V0X2JveCcsICdmcm9udCcsICd2ZXJ0aWNhbGx5JywgJ3JpZ2h0JywgJ3RvcCcsICdib3R0b20nKTtcblxuICAgIGQ0LmFwcGx5X2NvbW1hbmQoJ3JvbGxfYm94JywgJ3JpZ2h0Jyk7XG59XG4iLCJpbXBvcnQge01hdHJpeDIsIG1ha2VfbWF0cml4MiwgRGFuZ2xlLCBGYWNlLCBFZGdlLCBQYXJ0aXRpb24sIGZhY2VzLCBFZGdlT3BlcmF0aW9uLCBQb2ludDIsIERpcmVjdGlvbiwgSXRlbSwgU3BpbGxhZ2VMZXZlbH0gZnJvbSAnLi9kYXRhdHlwZXMnO1xuXG5pbXBvcnQge01hcCwgTGlzdCwgU2V0LCBPcmRlcmVkU2V0LCBpc30gZnJvbSAnaW1tdXRhYmxlJztcblxuZXhwb3J0IGNsYXNzIFdvcmxkVXBkYXRlRWZmZWN0cyB7XG4gICAgc3BpbGxfZmFjZXMgPSBMaXN0PEZhY2U+KCk7XG4gICAgc3BpbGxlZF9pdGVtcyA9IExpc3Q8SXRlbT4oKTtcbiAgICBzcGlsbGVkX3JlbmRzID0gU2V0PFBhcnRpdGlvbj4oKTtcbiAgICBzcGlsbGVkX2RhbmdsZXMgPSBTZXQ8RGFuZ2xlPigpO1xuICAgIHNwaWxsYWdlX2xldmVsID0gU3BpbGxhZ2VMZXZlbC5ub25lO1xuICAgIHRha2VuX2l0ZW1zID0gTGlzdDxJdGVtPigpO1xuICAgIG5ld19yZW5kcyA9IExpc3Q8UGFydGl0aW9uPigpO1xuICAgIG5ld19kYW5nbGVzID0gTGlzdDxEYW5nbGU+KCk7XG4gICAgcmVwYWlyZWRfcmVuZHMgPSBMaXN0PFBhcnRpdGlvbj4oKTtcbiAgICByZXBhaXJlZF9kYW5nbGVzID0gTGlzdDxEYW5nbGU+KCk7XG4gICAgYm94X2NvbGxhcHNlZCA9IGZhbHNlO1xuICAgIGNvbGxhcHNlX3NwaWxsZWRfaXRlbXMgPSBMaXN0PEl0ZW0+KCk7XG59XG5cbmludGVyZmFjZSBXb3JsZFVwZGF0ZUVmZmVjdHNSZWYge1xuICAgIGVmZmVjdHM/OiBXb3JsZFVwZGF0ZUVmZmVjdHNcbn1cblxuZXhwb3J0IGxldCB3b3JsZF91cGRhdGU6IFdvcmxkVXBkYXRlRWZmZWN0c1JlZiA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gd2l0aF93b3JsZF91cGRhdGUoZjogKGVmZmVjdHM6IFdvcmxkVXBkYXRlRWZmZWN0cykgPT4gYW55KSB7XG4gICAgLy9UT0RPIHZhbGlkYXRlOiBlcnJvciBpZiB3b3JsZF91cGRhdGUuZWZmZWN0cyBpc24ndCBudWxsL3VuZGVmaW5lZFxuICAgIHdvcmxkX3VwZGF0ZS5lZmZlY3RzID0gbmV3IFdvcmxkVXBkYXRlRWZmZWN0cygpO1xuICAgIGxldCByZXN1bHQgPSBmKHdvcmxkX3VwZGF0ZS5lZmZlY3RzKTtcbiAgICB3b3JsZF91cGRhdGUuZWZmZWN0cyA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vL1RPRE8gZGVmaW5lIHdvcmxkIHVwZGF0ZSBleGNlcHRpb25zIl19"}